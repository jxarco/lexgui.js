{"version":3,"file":"lexgui.all.module.js","sources":["../src/core/Namespace.ts","../src/core/Branch.ts","../src/components/BaseComponent.ts","../src/core/Event.ts","../src/components/TextInput.ts","../src/components/Title.ts","../src/components/Button.ts","../src/components/ComboButtons.ts","../src/components/Card.ts","../src/components/Form.ts","../src/components/TextArea.ts","../src/components/Select.ts","../src/components/CanvasCurve.ts","../src/components/Curve.ts","../src/components/CanvasDial.ts","../src/components/Dial.ts","../src/components/Layers.ts","../src/components/NumberInput.ts","../src/components/ArrayInput.ts","../src/components/List.ts","../src/components/Tags.ts","../src/components/Checkbox.ts","../src/components/Toggle.ts","../src/components/RadioGroup.ts","../src/components/Color.ts","../src/components/ColorPicker.ts","../src/components/Popover.ts","../src/components/ColorInput.ts","../src/components/RangeInput.ts","../src/components/Vector.ts","../src/core/Vec2.ts","../src/components/CanvasMap2D.ts","../src/components/Map2D.ts","../src/components/Calendar.ts","../src/components/CalendarRange.ts","../src/components/Pagination.ts","../src/components/Table.ts","../src/components/FileInput.ts","../src/components/DatePicker.ts","../src/components/Rate.ts","../src/components/TabSections.ts","../src/components/NodeTree.ts","../src/components/Counter.ts","../src/components/Progress.ts","../src/components/OTPInput.ts","../src/components/Pad.ts","../src/components/SizeInput.ts","../src/core/Panel.ts","../src/components/Menubar.ts","../src/components/Tabs.ts","../src/core/Area.ts","../src/core/Utils.ts","../src/core/Icons.ts","../src/components/Spinner.ts","../src/components/Sidebar.ts","../src/components/ContextMenu.ts","../src/components/DropdownMenu.ts","../src/components/Skeleton.ts","../src/components/Tour.ts","../src/components/Sheet.ts","../src/components/Dialog.ts","../src/components/PocketDialog.ts","../src/components/Footer.ts","../src/core/Core.ts","../src/extensions/AssetView.ts","../src/extensions/Audio.ts","../src/extensions/CodeEditor.ts","../src/extensions/DocMaker.ts","../src/extensions/ImUi.ts","../src/extensions/GraphEditor.ts","../src/extensions/Timeline.ts","../src/extensions/VideoEditor.ts"],"sourcesContent":["// Namespace.ts @jxarco\r\n\r\n/**\r\n * Main namespace\r\n * @namespace LX\r\n*/\r\n\r\nconst g = ( globalThis as any );\r\n\r\n// Update global namespace if not present (Loading module)\r\n// Extension scripts rely on LX being globally available\r\nlet LX: any = g.LX;\r\n\r\nif( !LX )\r\n{\r\n    LX = {\r\n        version: \"0.8.0\",\r\n        ready: false,\r\n        extensions: [],                 // Store extensions used\r\n        extraCommandbarEntries: [],     // User specific entries for command bar\r\n        signals: {},                    // Events and triggers\r\n        activeDraggable: null,          // Watch for the current active draggable\r\n\r\n        spacingMode: \"default\",\r\n        layoutMode: \"app\",\r\n        \r\n        MOUSE_LEFT_CLICK: 0,\r\n        MOUSE_MIDDLE_CLICK: 1,\r\n        MOUSE_RIGHT_CLICK: 2,\r\n\r\n        MOUSE_DOUBLE_CLICK: 2,\r\n        MOUSE_TRIPLE_CLICK: 3,\r\n\r\n        CURVE_MOVEOUT_CLAMP: 0,\r\n        CURVE_MOVEOUT_DELETE: 1,\r\n        \r\n        DRAGGABLE_Z_INDEX: 101\r\n    };\r\n\r\n    g.LX = LX;\r\n}\r\n\r\nexport { LX };","// Branch.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Panel } from './Panel';\r\nimport { ContextMenu } from '../components/ContextMenu';\r\n\r\n/**\r\n * @class Branch\r\n */\r\n\r\nexport class Branch {\r\n\r\n    name: string;\r\n    components: any[];\r\n    closed: boolean;\r\n\r\n    root: any;\r\n    content: any;\r\n    grabber: any;\r\n    panel: Panel|null;\r\n\r\n    onclick: () => void;\r\n    oncontextmenu: ( e: any ) => void;\r\n\r\n    constructor( name: string, options: any = {} ) {\r\n\r\n        this.name = name;\r\n\r\n        var root = document.createElement( 'div' );\r\n        root.className = \"lexbranch\";\r\n        if( options.id )\r\n        {\r\n            root.id = options.id;\r\n        }\r\n        if( options.className )\r\n        {\r\n            root.className += \" \" + options.className;\r\n        }\r\n\r\n        root.style.margin = \"0 auto\";\r\n\r\n        var that = this;\r\n\r\n        this.closed = options.closed ?? false;\r\n        this.root = root;\r\n        this.components = [];\r\n        this.panel = null;\r\n\r\n        // Create element\r\n        const title: any = document.createElement( 'div' );\r\n        title.className = \"lexbranchtitle\";\r\n\r\n        if( options.icon )\r\n        {\r\n            const branchIcon = LX.makeIcon( options.icon, { iconClass: \"mr-2\" } );\r\n            title.appendChild( branchIcon );\r\n        }\r\n\r\n        title.innerHTML += ( name || \"Branch\" );\r\n\r\n        const collapseIcon = LX.makeIcon( \"Right\", { iconClass: \"switch-branch-button\", svgClass: \"sm\" } );\r\n        title.appendChild( collapseIcon );\r\n\r\n        root.appendChild( title );\r\n\r\n        var branchContent = document.createElement( 'div' );\r\n        branchContent.id = name.replace( /\\s/g, '' );\r\n        branchContent.className = \"lexbranchcontent\";\r\n        root.appendChild( branchContent );\r\n        this.content = branchContent;\r\n\r\n        this._addBranchSeparator();\r\n\r\n        if( this.closed )\r\n        {\r\n            title.classList.add( \"closed\" );\r\n            root.classList.add( \"closed\" );\r\n            this.grabber.setAttribute( \"hidden\", true );\r\n            LX.doAsync( () => {\r\n                this.content.setAttribute( \"hidden\", true );\r\n            }, 10 );\r\n        }\r\n\r\n        this.onclick = function() {\r\n            // e.stopPropagation();\r\n            title.classList.toggle( \"closed\" );\r\n            title.parentElement.classList.toggle( \"closed\" );\r\n\r\n            that.content.toggleAttribute( \"hidden\" );\r\n            that.grabber.toggleAttribute( \"hidden\" );\r\n\r\n            LX.emitSignal( \"@on_branch_closed\", title.classList.contains( \"closed\" ) );\r\n        };\r\n\r\n        this.oncontextmenu = function( e: any ) {\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if( title.parentElement.classList.contains(\"dialog\") )\r\n            {\r\n                return;\r\n            }\r\n\r\n            LX.addContextMenu(\"Dock\", e, ( m: ContextMenu ) => {\r\n                e.preventDefault();\r\n                m.add( 'Floating', that._onMakeFloating.bind( that ) );\r\n            }, { icon: \"WindowRestore\" });\r\n        };\r\n\r\n        title.addEventListener( 'click', this.onclick );\r\n        title.addEventListener( 'contextmenu', this.oncontextmenu );\r\n    }\r\n\r\n    _onMakeFloating() {\r\n\r\n        const dialog = new LX.Dialog( this.name, ( p: Panel ) => {\r\n            // Add components\r\n            for( let w of this.components )\r\n            {\r\n                p.root.appendChild( w.root );\r\n            }\r\n        }, { dockable: true });\r\n\r\n        const childIndex = Array.from( this.root.parentElement.childNodes ).indexOf( this.root );\r\n        console.assert( childIndex >= 0, \"Branch not found!\" );\r\n\r\n        dialog.branchData = {\r\n            name: this.name,\r\n            components: this.components,\r\n            closed: this.closed,\r\n            panel: this.panel,\r\n            childIndex\r\n        };\r\n\r\n        this.root.remove();\r\n    }\r\n\r\n    _addBranchSeparator() {\r\n\r\n        const element = document.createElement('div');\r\n        element.className = \"lexcomponentseparator\";\r\n        element.style.width = \"100%\";\r\n        element.style.background = \"none\";\r\n\r\n        const grabber = document.createElement('div');\r\n        grabber.innerHTML = \"&#9662;\";\r\n        element.appendChild(grabber);\r\n\r\n        LX.doAsync( () => {\r\n            grabber.style.marginLeft = ((parseFloat(LX.DEFAULT_NAME_WIDTH) / 100.0) * this.content.offsetWidth) + \"px\";\r\n        }, 10 )\r\n\r\n        const line = document.createElement('div');\r\n        line.style.width = \"1px\";\r\n        line.style.marginLeft = \"6px\";\r\n        line.style.marginTop = \"2px\";\r\n        line.style.height = \"0px\"; // get in time\r\n        grabber.appendChild( line );\r\n        grabber.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        this.grabber = grabber;\r\n\r\n        function getBranchHeight() {\r\n            return that.root.offsetHeight - that.root.children[ 0 ].offsetHeight;\r\n        }\r\n\r\n        let that = this;\r\n\r\n        function innerMouseDown( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener(\"mouseup\", innerMouseUp);\r\n            doc.addEventListener(\"mousemove\", innerMouseMove);\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            const h = getBranchHeight();\r\n            line.style.height = (h-3) + \"px\";\r\n            document.body.classList.add('nocursor');\r\n        }\r\n\r\n        function innerMouseMove( e: MouseEvent )\r\n        {\r\n            let dt = e.movementX;\r\n\r\n            if ( dt != 0 )\r\n            {\r\n                const margin = parseFloat( grabber.style.marginLeft );\r\n                grabber.style.marginLeft = LX.clamp( margin + dt, 32, that.content.offsetWidth - 32 ) + \"px\";\r\n            }\r\n        }\r\n\r\n        function innerMouseUp( e: MouseEvent )\r\n        {\r\n            that._updateComponents();\r\n\r\n            line.style.height = \"0px\";\r\n\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener(\"mouseup\", innerMouseUp);\r\n            doc.removeEventListener(\"mousemove\", innerMouseMove);\r\n            document.body.classList.remove('nocursor');\r\n        }\r\n\r\n        this.content.appendChild( element );\r\n    }\r\n\r\n    _updateComponents() {\r\n\r\n        var size = this.grabber.style.marginLeft;\r\n\r\n        // Update sizes of components inside\r\n        for( let i = 0; i < this.components.length; i++ )\r\n        {\r\n            let component = this.components[ i ];\r\n            const element = component.root;\r\n\r\n            if( element.children.length < 2 )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            let name = element.children[ 0 ];\r\n            let value = element.children[ 1 ];\r\n\r\n            name.style.width = size;\r\n            name.style.minWidth = size;\r\n\r\n            switch( component.type )\r\n            {\r\n                case LX.BaseComponent.CUSTOM:\r\n                case LX.BaseComponent.ARRAY:\r\n                    continue;\r\n            };\r\n\r\n            value.style.width = \"-moz-calc( 100% - \" + size + \" )\";\r\n            value.style.width = \"-webkit-calc( 100% - \" + size + \" )\";\r\n            value.style.width = \"calc( 100% - \" + size + \" )\";\r\n        }\r\n    }\r\n};\r\n\r\nLX.Branch = Branch;","// BaseComponent.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { ContextMenu } from './ContextMenu';\r\n\r\nexport enum ComponentType\r\n{\r\n    NONE         = 0,\r\n    TEXT         = 1,\r\n    TEXTAREA     = 2,\r\n    BUTTON       = 3,\r\n    SELECT       = 4,\r\n    CHECKBOX     = 5,\r\n    TOGGLE       = 6,\r\n    RADIO        = 7,\r\n    BUTTONS      = 8,\r\n    COLOR        = 9,\r\n    RANGE        = 10,\r\n    NUMBER       = 11,\r\n    TITLE        = 12,\r\n    VECTOR       = 13,\r\n    TREE         = 14,\r\n    PROGRESS     = 15,\r\n    FILE         = 16,\r\n    LAYERS       = 17,\r\n    ARRAY        = 18,\r\n    LIST         = 19,\r\n    TAGS         = 20,\r\n    CURVE        = 21,\r\n    CARD         = 22,\r\n    IMAGE        = 23,\r\n    CONTENT      = 24,\r\n    CUSTOM       = 25,\r\n    SEPARATOR    = 26,\r\n    KNOB         = 27,\r\n    SIZE         = 28,\r\n    OTP          = 29,\r\n    PAD          = 30,\r\n    FORM         = 31,\r\n    DIAL         = 32,\r\n    COUNTER      = 33,\r\n    TABLE        = 34,\r\n    TABS         = 35,\r\n    DATE         = 36,\r\n    MAP2D        = 37,\r\n    LABEL        = 39,\r\n    BLANK        = 40,\r\n    RATE         = 41,\r\n}\r\n\r\nLX.ComponentType = ComponentType;\r\n\r\n/**\r\n * @class BaseComponent\r\n */\r\n\r\nexport class BaseComponent {\r\n\r\n    type: ComponentType;\r\n    name: string | null | undefined;\r\n    customName?: string;\r\n    options: any;\r\n    root: any;\r\n    customIdx: number = -1;\r\n    disabled: boolean = false;\r\n\r\n    onSetValue?: ( v: any, b?: boolean, e?: any ) => void;\r\n    onGetValue?: () => any;\r\n    onAllowPaste?: ( b: boolean ) => boolean;\r\n    onResize: ( r?: any ) => void;\r\n\r\n    _initialValue: any;\r\n\r\n    static NO_CONTEXT_TYPES = [\r\n        ComponentType.BUTTON,\r\n        ComponentType.LIST,\r\n        ComponentType.FILE,\r\n        ComponentType.PROGRESS\r\n    ];\r\n\r\n    constructor( type: ComponentType, name?: string | null | undefined, value?: any, options: any = {} )\r\n    {\r\n        this.type = type;\r\n        this.name = name;\r\n        this.options = options;\r\n        this._initialValue = value;\r\n\r\n        const root: any = document.createElement( 'div' );\r\n        root.className = \"lexcomponent\";\r\n\r\n        this.onResize = () => {};\r\n\r\n        if( options.id )\r\n        {\r\n            root.id = options.id;\r\n        }\r\n\r\n        if( options.title )\r\n        {\r\n            root.title = options.title;\r\n        }\r\n\r\n        if( options.className )\r\n        {\r\n            root.className += \" \" + options.className;\r\n        }\r\n\r\n        if( type != ComponentType.TITLE )\r\n        {\r\n            if( options.width )\r\n            {\r\n                root.style.width = root.style.minWidth = options.width;\r\n            }\r\n            if( options.maxWidth )\r\n            {\r\n                root.style.maxWidth = options.maxWidth;\r\n            }\r\n            if( options.minWidth )\r\n            {\r\n                root.style.minWidth = options.minWidth;\r\n            }\r\n            if( options.height )\r\n            {\r\n                root.style.height = root.style.minHeight = options.height;\r\n            }\r\n\r\n            LX.componentResizeObserver.observe( root );\r\n        }\r\n\r\n        if( name != undefined )\r\n        {\r\n            if( !( options.hideName ?? false ) )\r\n            {\r\n                let domName = document.createElement( 'div' );\r\n                domName.className = \"lexcomponentname\";\r\n\r\n                if( options.justifyName )\r\n                {\r\n                    domName.classList.add( \"float-\" + options.justifyName );\r\n                }\r\n\r\n                domName.innerHTML = name;\r\n                domName.title = options.title ?? domName.innerHTML;\r\n                domName.style.width = options.nameWidth || LX.DEFAULT_NAME_WIDTH;\r\n                domName.style.minWidth = domName.style.width;\r\n\r\n                root.appendChild( domName );\r\n                root.domName = domName;\r\n\r\n                const that = this;\r\n\r\n                // Copy-paste info\r\n                domName.addEventListener('contextmenu', function( e ) {\r\n                    e.preventDefault();\r\n                    that.oncontextmenu( e );\r\n                });\r\n\r\n                if( !( options.skipReset ?? false )  && ( value != null ) )\r\n                {\r\n                    this._addResetProperty( domName, function( el: any, event: any ) {\r\n                        that.set( that._initialValue, false, event );\r\n                        el.style.display = \"none\"; // Og value, don't show it\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            options.hideName = true;\r\n        }\r\n\r\n        if( options.signal )\r\n        {\r\n            LX.addSignal( options.signal, this );\r\n        }\r\n\r\n        this.root = root;\r\n        this.root.jsInstance = this;\r\n        this.options = options;\r\n    }\r\n\r\n    static _dispatchEvent( element: any, type: any, data?: any, bubbles?: any, cancelable?: any )\r\n    {\r\n        let event = new CustomEvent( type, { 'detail': data, 'bubbles': bubbles, 'cancelable': cancelable } );\r\n        element.dispatchEvent( event );\r\n    }\r\n\r\n    _addResetProperty( container: any, callback: any )\r\n    {\r\n        const domEl = LX.makeIcon( \"Undo2\", { iconClass: \"ml-0 mr-1 px-1\", title: \"Reset\" } )\r\n        domEl.style.display = \"none\";\r\n        domEl.addEventListener( \"click\", callback.bind( domEl, domEl ) );\r\n        container.appendChild( domEl );\r\n        return domEl;\r\n    }\r\n\r\n    _canPaste()\r\n    {\r\n        const clipboard = ( navigator.clipboard as any );\r\n        let pasteAllowed: boolean = this.type === ComponentType.CUSTOM ?\r\n            ( clipboard.customIdx !== undefined && this.customIdx == clipboard.customIdx ) : clipboard.type === this.type;\r\n\r\n        pasteAllowed = pasteAllowed && ( this.disabled !== true );\r\n\r\n        if( this.onAllowPaste )\r\n        {\r\n            pasteAllowed = this.onAllowPaste( pasteAllowed );\r\n        }\r\n\r\n        return pasteAllowed;\r\n    }\r\n\r\n    _trigger( event: any, callback: any, scope: any = this )\r\n    {\r\n        if( !callback )\r\n        {\r\n            return;\r\n        }\r\n\r\n        callback.call( scope, event.value, event.domEvent, event.name );\r\n    }\r\n\r\n    value()\r\n    {\r\n        if( this.onGetValue )\r\n        {\r\n            return this.onGetValue();\r\n        }\r\n\r\n        console.warn( \"Can't get value of \" + this.typeName() );\r\n    }\r\n\r\n    set( value: any, skipCallback?: boolean, event?: any )\r\n    {\r\n        if( this.onSetValue )\r\n        {\r\n            let resetButton = this.root.querySelector( \".lexcomponentname .lexicon\" );\r\n            if( resetButton )\r\n            {\r\n                resetButton.style.display = ( value != this.value() ? \"block\" : \"none\" );\r\n\r\n                const equalInitial = value.constructor === Array ? (function arraysEqual( a, b ) {\r\n                    if( a === b ) return true;\r\n                    if( a == null || b == null ) return false;\r\n                    if( a.length !== b.length ) return false;\r\n                    for( var i = 0; i < a.length; ++i )\r\n                    {\r\n                        if( a[ i ] !== b[ i ] ) return false;\r\n                    }\r\n                    return true;\r\n                })( value, this._initialValue ) : ( value == this._initialValue );\r\n\r\n                resetButton.style.display = ( !equalInitial ? \"block\" : \"none\" );\r\n            }\r\n\r\n            return this.onSetValue( value, skipCallback ?? false, event );\r\n        }\r\n\r\n        console.warn( `Can't set value of ${ this.typeName() }`);\r\n    }\r\n\r\n    oncontextmenu( e: any )\r\n    {\r\n        if( BaseComponent.NO_CONTEXT_TYPES.includes( this.type ) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        LX.addContextMenu( this.typeName(), e, ( c: ContextMenu ) => {\r\n            c.add(\"Copy\", () => { this.copy() });\r\n            c.add(\"Paste\", { disabled: !this._canPaste(), callback: () => { this.paste() } } );\r\n        });\r\n    }\r\n\r\n    copy()\r\n    {\r\n        const clipboard = ( navigator.clipboard as any );\r\n        clipboard.type = this.type;\r\n        clipboard.customIdx = this.customIdx;\r\n        clipboard.data = this.value();\r\n        clipboard.writeText(clipboard.data );\r\n    }\r\n\r\n    paste()\r\n    {\r\n        if( !this._canPaste() )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const clipboard = ( navigator.clipboard as any );\r\n        this.set( clipboard.data );\r\n    }\r\n\r\n    typeName()\r\n    {\r\n        switch( this.type )\r\n        {\r\n            case ComponentType.TEXT: return \"Text\";\r\n            case ComponentType.TEXTAREA: return \"TextArea\";\r\n            case ComponentType.BUTTON: return \"Button\";\r\n            case ComponentType.SELECT: return \"Select\";\r\n            case ComponentType.CHECKBOX: return \"Checkbox\";\r\n            case ComponentType.TOGGLE: return \"Toggle\";\r\n            case ComponentType.RADIO: return \"Radio\";\r\n            case ComponentType.COLOR: return \"Color\";\r\n            case ComponentType.RANGE: return \"Range\";\r\n            case ComponentType.NUMBER: return \"Number\";\r\n            case ComponentType.VECTOR: return \"Vector\";\r\n            case ComponentType.TREE: return \"Tree\";\r\n            case ComponentType.PROGRESS: return \"Progress\";\r\n            case ComponentType.FILE: return \"File\";\r\n            case ComponentType.LAYERS: return \"Layers\";\r\n            case ComponentType.ARRAY: return \"Array\";\r\n            case ComponentType.LIST: return \"List\";\r\n            case ComponentType.TAGS: return \"Tags\";\r\n            case ComponentType.CURVE: return \"Curve\";\r\n            case ComponentType.KNOB: return \"Knob\";\r\n            case ComponentType.SIZE: return \"Size\";\r\n            case ComponentType.PAD: return \"Pad\";\r\n            case ComponentType.FORM: return \"Form\";\r\n            case ComponentType.DIAL: return \"Dial\";\r\n            case ComponentType.COUNTER: return \"Counter\";\r\n            case ComponentType.TABLE: return \"Table\";\r\n            case ComponentType.TABS: return \"Tabs\";\r\n            case ComponentType.DATE: return \"Date\";\r\n            case ComponentType.MAP2D: return \"Map2D\";\r\n            case ComponentType.RATE: return \"Rate\";\r\n            case ComponentType.LABEL: return \"Label\";\r\n            case ComponentType.BLANK: return \"Blank\";\r\n            case ComponentType.CUSTOM: return this.customName;\r\n        }\r\n\r\n        console.error( `Unknown Component type: ${ this.type }` );\r\n    }\r\n\r\n    refresh( value?: any )\r\n    {\r\n\r\n    }\r\n}\r\n\r\nLX.BaseComponent = BaseComponent;","// Event.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Panel } from './Panel';\r\n\r\n/*\r\n*   Events and Signals\r\n*/\r\n\r\nexport class IEvent {\r\n\r\n    name: any;\r\n    value: any;\r\n    domEvent: any;\r\n\r\n    constructor( name: string | null | undefined, value: any, domEvent?: any )\r\n    {\r\n        this.name = name;\r\n        this.value = value;\r\n        this.domEvent = domEvent;\r\n    }\r\n};\r\n\r\nLX.IEvent = IEvent;\r\n\r\nexport class TreeEvent\r\n{\r\n    static NONE                 = 0;\r\n    static NODE_SELECTED        = 1;\r\n    static NODE_DELETED         = 2;\r\n    static NODE_DBLCLICKED      = 3;\r\n    static NODE_CONTEXTMENU     = 4;\r\n    static NODE_DRAGGED         = 5;\r\n    static NODE_RENAMED         = 6;\r\n    static NODE_VISIBILITY      = 7;\r\n    static NODE_CARETCHANGED    = 8;\r\n\r\n    type: number = TreeEvent.NONE;\r\n    node: any;\r\n    value: any;\r\n    event: any;\r\n    multiple : boolean = false; // Multiple selection\r\n    panel: Panel|null = null;\r\n\r\n    constructor( type: number, node: any, value: any, event: any )\r\n    {\r\n        this.type = type || TreeEvent.NONE;\r\n        this.node = node;\r\n        this.value = value;\r\n        this.event = event;\r\n    }\r\n\r\n    string()\r\n    {\r\n        switch( this.type )\r\n        {\r\n            case TreeEvent.NONE: return \"tree_event_none\";\r\n            case TreeEvent.NODE_SELECTED: return \"tree_event_selected\";\r\n            case TreeEvent.NODE_DELETED: return \"tree_event_deleted\";\r\n            case TreeEvent.NODE_DBLCLICKED:  return \"tree_event_dblclick\";\r\n            case TreeEvent.NODE_CONTEXTMENU:  return \"tree_event_contextmenu\";\r\n            case TreeEvent.NODE_DRAGGED: return \"tree_event_dragged\";\r\n            case TreeEvent.NODE_RENAMED: return \"tree_event_renamed\";\r\n            case TreeEvent.NODE_VISIBILITY: return \"tree_event_visibility\";\r\n            case TreeEvent.NODE_CARETCHANGED: return \"tree_event_caretchanged\";\r\n        }\r\n    }\r\n};\r\n\r\nLX.TreeEvent = TreeEvent;","// TextInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class TextInput\r\n * @description TextInput Component\r\n */\r\n\r\nexport class TextInput extends BaseComponent\r\n{\r\n    valid: ( s: string, m?: string ) => boolean;\r\n\r\n    _triggerEvent: Event | undefined;\r\n    _lastValueTriggered?: any;\r\n\r\n    constructor( name: string | null, value?: string, callback?: any, options: any = {} )\r\n    {\r\n        super( ComponentType.TEXT, name, String( value ), options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            let skipTrigger = ( this._lastValueTriggered == newValue );\r\n\r\n            if( !options.ignoreValidation )\r\n            {\r\n                skipTrigger = skipTrigger || ( !this.valid( newValue ) );\r\n            }\r\n\r\n            if( skipTrigger )\r\n            {\r\n                return;\r\n            }\r\n\r\n            this._lastValueTriggered = value = newValue;\r\n\r\n            wValue.value = newValue;\r\n\r\n            delete this._triggerEvent;\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this.valid = ( v, matchField ) => {\r\n            v = v ?? this.value();\r\n            if( !options.pattern ) return true;\r\n            const errs = LX.validateValueAtPattern( v, options.pattern, matchField );\r\n            return ( errs.length == 0 );\r\n        };\r\n\r\n        let container = document.createElement( 'div' );\r\n        container.className = ( options.warning ? \" lexwarning\" : \"\" );\r\n        container.style.display = \"flex\";\r\n        container.style.position = \"relative\";\r\n        this.root.appendChild( container );\r\n\r\n        this.disabled = ( options.disabled || options.warning ) ?? ( options.url ? true : false );\r\n        let wValue: any = null;\r\n\r\n        if( !this.disabled )\r\n        {\r\n            wValue = document.createElement( 'input' );\r\n            wValue.className = \"lextext \" + ( options.inputClass ?? \"\" );\r\n            wValue.type = options.type || \"\";\r\n            wValue.value = value || \"\";\r\n            wValue.style.textAlign = ( options.float ?? \"\" );\r\n\r\n            wValue.setAttribute( \"placeholder\", options.placeholder ?? \"\" );\r\n\r\n            if( options.required )\r\n            {\r\n                wValue.setAttribute( \"required\", options.required );\r\n            }\r\n\r\n            if( options.pattern )\r\n            {\r\n                wValue.setAttribute( \"pattern\", LX.buildTextPattern( options.pattern ) );\r\n            }\r\n\r\n            const trigger = options.trigger ?? \"default\";\r\n\r\n            if( trigger == \"default\" )\r\n            {\r\n                wValue.addEventListener( \"keyup\", ( e: KeyboardEvent ) =>\r\n                {\r\n                    if( e.key == \"Enter\" )\r\n                    {\r\n                        this._triggerEvent = e;\r\n                        wValue.blur();\r\n                    }\r\n                });\r\n\r\n                wValue.addEventListener( \"focusout\", ( e: FocusEvent ) =>\r\n                {\r\n                    this._triggerEvent = this._triggerEvent ?? e;\r\n                    this.set( ( e.target as any ).value, false, this._triggerEvent );\r\n                });\r\n            }\r\n            else if( trigger == \"input\" )\r\n            {\r\n                wValue.addEventListener(\"input\", ( e: InputEvent ) =>\r\n                {\r\n                    this.set( ( e.target as any ).value, false, e );\r\n                });\r\n            }\r\n\r\n            wValue.addEventListener( \"mousedown\", function( e: MouseEvent )\r\n            {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n            });\r\n\r\n            if( options.icon )\r\n            {\r\n                wValue.style.paddingLeft = \"1.75rem\";\r\n                const icon = LX.makeIcon( options.icon, { iconClass: \"absolute z-1 ml-2\", svgClass: \"sm\" } );\r\n                container.appendChild( icon );\r\n            }\r\n\r\n        }\r\n        else if( options.url )\r\n        {\r\n            wValue = document.createElement( 'a' );\r\n            wValue.href = options.url;\r\n            wValue.target = \"_blank\";\r\n            wValue.innerHTML = value ?? \"\";\r\n            wValue.style.textAlign = options.float ?? \"\";\r\n            wValue.className = \"lextext ellipsis-overflow\";\r\n        }\r\n        else\r\n        {\r\n            wValue = document.createElement( 'input' );\r\n            wValue.disabled = true;\r\n            wValue.value = value;\r\n            wValue.style.textAlign = options.float ?? \"\";\r\n            wValue.className = \"lextext ellipsis-overflow \" + ( options.inputClass ?? \"\" );\r\n        }\r\n\r\n        if( options.fit )\r\n        {\r\n            wValue.classList.add( \"size-content\" );\r\n        }\r\n\r\n        Object.assign( wValue.style, options.style ?? {} );\r\n        container.appendChild( wValue );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.TextInput = TextInput;","// Title.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\n\r\n/**\r\n * @class Title\r\n * @description Title Component\r\n */\r\n\r\nexport class Title extends BaseComponent\r\n{\r\n    constructor( name: string, options: any = {} )\r\n    {\r\n        console.assert( name.length !== 0, \"Can't create Title Component without text!\" );\r\n\r\n        // Note: Titles are not registered in Panel.components by now\r\n        super( ComponentType.TITLE, null, null, options );\r\n\r\n        this.root.className = `lextitle ${ this.root.className }`;\r\n\r\n        if( options.icon )\r\n        {\r\n            let icon = LX.makeIcon( options.icon, { iconClass: \"mr-2\" } );\r\n            icon.querySelector( \"svg\" ).style.color = options.iconColor || \"\";\r\n            this.root.appendChild( icon );\r\n        }\r\n\r\n        let text = document.createElement( \"span\" );\r\n        text.innerText = name;\r\n        this.root.appendChild( text );\r\n\r\n        Object.assign( this.root.style, options.style ?? {} );\r\n\r\n        if( options.link != undefined )\r\n        {\r\n            let linkDom = document.createElement('a');\r\n            linkDom.innerText = name;\r\n            linkDom.href = options.link;\r\n            linkDom.target = options.target ?? \"\";\r\n            linkDom.className = \"lextitle link\";\r\n            Object.assign( linkDom.style, options.style ?? {} );\r\n            this.root.replaceWith( linkDom );\r\n        }\r\n    }\r\n}\r\n\r\nLX.Title = Title;","// Button.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Button\r\n * @description Button Component\r\n */\r\n\r\nexport class Button extends BaseComponent\r\n{\r\n    selectable: boolean = false;\r\n    callback?: any;\r\n\r\n    setState: ( v: any, b?: boolean ) => void;\r\n    swap?: ( b?: boolean ) => void;\r\n\r\n    constructor( name: string | null, value?: string, callback?: any, options: any = {} )\r\n    {\r\n        super( ComponentType.BUTTON, name, null, options );\r\n\r\n        this.callback = callback;\r\n        this.selectable = options.selectable ?? this.selectable;\r\n\r\n        this.onGetValue = () => {\r\n            const isSelected = LX.hasClass( wValue, \"selected\" );\r\n            const swapInput = wValue.querySelector( \"input\" );\r\n            return swapInput ? swapInput.checked : ( this.selectable ? isSelected : value );\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( ( options.swap ?? false ) )\r\n            {\r\n                this.setState( newValue, skipCallback );\r\n                return;\r\n            }\r\n\r\n            // No-swap buttons\r\n\r\n            wValue.innerHTML = \"\";\r\n\r\n            if( options.icon )\r\n            {\r\n                const icon = LX.makeIcon( options.icon );\r\n                wValue.prepend( icon );\r\n            }\r\n            else if( options.img )\r\n            {\r\n                let img = document.createElement( 'img' );\r\n                img.src = options.img;\r\n                wValue.prepend( img );\r\n            }\r\n            else\r\n            {\r\n                wValue.innerHTML = `<span>${ ( newValue ?? \"\" ) }</span>`;\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect: any ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            wValue.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        // In case of swap, set if a change has to be performed\r\n        this.setState = function( v, skipCallback ) {\r\n            const swapInput = wValue.querySelector( \"input\" );\r\n\r\n            if( swapInput )\r\n            {\r\n                swapInput.checked = v;\r\n            }\r\n            else if( this.selectable )\r\n            {\r\n                if( options.parent )\r\n                {\r\n                    options.parent.querySelectorAll(\".lexbutton.selected\").forEach( ( b: HTMLElement ) => { if( b == wValue ) return; b.classList.remove( \"selected\" ) } );\r\n                }\r\n\r\n                wValue.classList.toggle( \"selected\", v );\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, swapInput ? swapInput.checked : ( this.selectable ? v : value ), null ), callback );\r\n            }\r\n        };\r\n\r\n        var wValue: any = document.createElement( 'button' );\r\n        wValue.title = options.tooltip ? \"\" : ( options.title ?? \"\" );\r\n        wValue.className = \"lexbutton px-3 \" + ( options.buttonClass ?? \"\" );\r\n        this.root.appendChild( wValue );\r\n\r\n        if( options.selected )\r\n        {\r\n            wValue.classList.add( \"selected\" );\r\n        }\r\n\r\n        if( options.img )\r\n        {\r\n            let img = document.createElement( 'img' );\r\n            img.src = options.img;\r\n            wValue.prepend( img );\r\n        }\r\n        else if( options.icon )\r\n        {\r\n            const icon = LX.makeIcon( options.icon, { iconClass: options.iconClass, svgClass: options.svgClass } );\r\n            const iconPosition = options.iconPosition ?? \"cover\";\r\n\r\n            // Default\r\n            if( iconPosition == \"cover\" || ( options.swap !== undefined ) )\r\n            {\r\n                wValue.prepend( icon );\r\n            }\r\n            else\r\n            {\r\n                wValue.innerHTML = `<span>${ ( value || \"\" ) }</span>`;\r\n\r\n                if( iconPosition == \"start\" )\r\n                {\r\n                    wValue.querySelector( \"span\" ).prepend( icon );\r\n                }\r\n                else // \"end\"\r\n                {\r\n                    wValue.querySelector( \"span\" ).appendChild( icon );\r\n                }\r\n            }\r\n\r\n            wValue.classList.add( \"justify-center\" );\r\n        }\r\n        else\r\n        {\r\n            wValue.innerHTML = `<span>${ ( value || \"\" ) }</span>`;\r\n        }\r\n\r\n        if( options.fileInput )\r\n        {\r\n            const fileInput = document.createElement( \"input\" );\r\n            fileInput.type = \"file\";\r\n            fileInput.className = \"file-input\";\r\n            fileInput.style.display = \"none\";\r\n            wValue.appendChild( fileInput );\r\n\r\n            fileInput.addEventListener( 'change', function( e: any ) {\r\n                if( !e.target ) return;\r\n                const files = e.target.files;\r\n                if( !files.length ) return;\r\n\r\n                const reader = new FileReader();\r\n                if( options.fileInputType === 'text' ) reader.readAsText( files[ 0 ] );\r\n                else if( options.fileInputType === 'buffer' ) reader.readAsArrayBuffer( files[ 0 ] );\r\n                else if( options.fileInputType === 'bin' ) reader.readAsBinaryString( files[ 0 ] );\r\n                else if( options.fileInputType === 'url' ) reader.readAsDataURL( files[ 0 ] );\r\n                reader.onload = e => { callback.call( this, e.target?.result, files[ 0 ] ); } ;\r\n            });\r\n        }\r\n\r\n        if( options.disabled )\r\n        {\r\n            this.disabled = true;\r\n            wValue.setAttribute( \"disabled\", true );\r\n        }\r\n\r\n        let trigger = wValue;\r\n\r\n        if( options.swap )\r\n        {\r\n            wValue.classList.add( \"swap\" );\r\n            wValue.querySelector( \"a\" ).classList.add( \"swap-off\" );\r\n\r\n            const input = document.createElement( \"input\" );\r\n            input.className = \"p-0 border-0\";\r\n            input.type = \"checkbox\";\r\n            wValue.prepend( input );\r\n\r\n            const swapIcon = LX.makeIcon( options.swap, { iconClass: \"swap-on\" } );\r\n            wValue.appendChild( swapIcon );\r\n\r\n            this.swap = function( skipCallback?: boolean ) {\r\n                const swapInput = wValue.querySelector( \"input\" );\r\n                swapInput.checked = !swapInput.checked;\r\n                if( !skipCallback )\r\n                {\r\n                    trigger.click();\r\n                }\r\n            };\r\n        }\r\n\r\n        trigger.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n            let isSelected;\r\n            if( this.selectable )\r\n            {\r\n                if( options.parent )\r\n                {\r\n                    options.parent.querySelectorAll(\".lexbutton.selected\").forEach( ( b: HTMLElement ) => { if( b == wValue ) return; b.classList.remove( \"selected\" ) } );\r\n                }\r\n\r\n                isSelected = wValue.classList.toggle('selected');\r\n            }\r\n\r\n            if( options.fileInput )\r\n            {\r\n                wValue.querySelector( \".file-input\" ).click();\r\n            }\r\n            else if( options.mustConfirm )\r\n            {\r\n                const swapInput = wValue.querySelector( \"input\" );\r\n\r\n                new LX.PopConfirm( wValue, {\r\n                    onConfirm: () =>\r\n                    {\r\n                        if( options.swap )\r\n                        {\r\n                            swapInput.checked = true;\r\n                        }\r\n\r\n                        this._trigger( new IEvent( name, value, e ), callback );\r\n                    },\r\n                    side: options.confirmSide,\r\n                    align: options.confirmAlign,\r\n                    confirmText: options.confirmText,\r\n                    cancelText: options.confirmCancelText,\r\n                    title: options.confirmTitle,\r\n                    content: options.confirmContent\r\n                } );\r\n\r\n                if( options.swap )\r\n                {\r\n                    swapInput.checked = false;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                const swapInput = wValue.querySelector( \"input\" );\r\n                this._trigger( new IEvent( name, swapInput?.checked ?? ( this.selectable ? isSelected : value ), e ), callback );\r\n            }\r\n        });\r\n\r\n        if( options.tooltip )\r\n        {\r\n            LX.asTooltip( wValue, options.title ?? name );\r\n        }\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n\r\n    click()\r\n    {\r\n        const buttonDOM: HTMLButtonElement = this.root.querySelector( 'button' );\r\n        buttonDOM.click();\r\n    }\r\n\r\n    setSwapIcon( iconName: string )\r\n    {\r\n        const oldIcon = this.root.querySelector( \".swap-on\" );\r\n        if( !oldIcon )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const swapIcon = LX.makeIcon( iconName, { iconClass: \"swap-on\" } );\r\n        oldIcon.replaceWith( swapIcon );\r\n    }\r\n}\r\n\r\nLX.Button = Button;","// ComboButtons.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class ComboButtons\r\n * @description ComboButtons Component\r\n */\r\n\r\nexport class ComboButtons extends BaseComponent\r\n{\r\n    constructor( name: string, values: any[], options: any = {} )\r\n    {\r\n        const shouldSelect = !( options.noSelection ?? false );\r\n        let shouldToggle = shouldSelect && ( options.toggle ?? false );\r\n\r\n        let container = document.createElement('div');\r\n        container.className = \"lexcombobuttons \";\r\n\r\n        options.skipReset = true;\r\n\r\n        if( options.float )\r\n        {\r\n            container.className += options.float;\r\n        }\r\n\r\n        let currentValue: any = [];\r\n        let buttonsBox = document.createElement('div');\r\n        buttonsBox.className = \"lexcombobuttonsbox \";\r\n        container.appendChild( buttonsBox );\r\n\r\n        for( let b of values )\r\n        {\r\n            if( !b.value )\r\n            {\r\n                throw( \"Set 'value' for each button!\" );\r\n            }\r\n\r\n            let buttonEl = document.createElement('button');\r\n            buttonEl.className = \"lexbutton combo\";\r\n            buttonEl.title = b.icon ? b.value : \"\";\r\n            buttonEl.id = b.id ?? \"\";\r\n            buttonEl.dataset[\"value\"] = b.value;\r\n\r\n            if( options.buttonClass )\r\n            {\r\n                buttonEl.classList.add( options.buttonClass );\r\n            }\r\n\r\n            if( shouldSelect && ( b.selected || options.selected?.includes( b.value ) ) )\r\n            {\r\n                buttonEl.classList.add(\"selected\");\r\n                currentValue = ( currentValue ).concat( [ b.value ] );\r\n            }\r\n\r\n            if( b.icon )\r\n            {\r\n                const icon = LX.makeIcon( b.icon );\r\n                buttonEl.appendChild( icon );\r\n            }\r\n            else\r\n            {\r\n                buttonEl.innerHTML = `<span>${ b.value }</span>`;\r\n            }\r\n\r\n            if( b.disabled )\r\n            {\r\n                buttonEl.setAttribute( \"disabled\", \"true\" );\r\n            }\r\n\r\n            buttonEl.addEventListener(\"click\", e => {\r\n\r\n                currentValue = [];\r\n\r\n                if( shouldSelect )\r\n                {\r\n                    if( shouldToggle )\r\n                    {\r\n                        buttonEl.classList.toggle( \"selected\" );\r\n                    }\r\n                    else\r\n                    {\r\n                        container.querySelectorAll( \"button\" ).forEach( s => s.classList.remove( \"selected\" ));\r\n                        buttonEl.classList.add( \"selected\" );\r\n                    }\r\n                }\r\n\r\n                container.querySelectorAll( \"button\" ).forEach( s => {\r\n\r\n                    if( s.classList.contains( \"selected\" ) )\r\n                    {\r\n                        currentValue.push( s.dataset[ \"value\" ] );\r\n                    }\r\n\r\n                } );\r\n\r\n                if( !shouldToggle && currentValue.length > 1 )\r\n                {\r\n                    console.error( `Enable _options.toggle_ to allow selecting multiple options in ComboButtons.` );\r\n                    return;\r\n                }\r\n\r\n                currentValue = currentValue[ 0 ];\r\n\r\n                this.set( b.value, false, buttonEl.classList.contains( \"selected\" ) );\r\n            });\r\n\r\n            buttonsBox.appendChild( buttonEl );\r\n        }\r\n\r\n        if( currentValue.length > 1 )\r\n        {\r\n            if( !shouldToggle )\r\n            {\r\n                options.toggle = true;\r\n                shouldToggle = shouldSelect;\r\n                console.warn( `Multiple options selected in '${ name }' ComboButtons. Enabling _toggle_ mode.` );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            currentValue = currentValue[ 0 ];\r\n        }\r\n\r\n        super( ComponentType.BUTTONS, name, null, options );\r\n\r\n        this.onGetValue = () => {\r\n            return currentValue;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( shouldSelect && ( event == undefined ) )\r\n            {\r\n                container.querySelectorAll( \"button\" ).forEach( s => s.classList.remove( \"selected\" ));\r\n\r\n                container.querySelectorAll( \"button\" ).forEach( s => {\r\n                    if( currentValue && currentValue.indexOf( s.dataset[ \"value\" ] ) > -1 )\r\n                    {\r\n                        s.classList.add( \"selected\" );\r\n                    }\r\n                } );\r\n            }\r\n\r\n            if( !skipCallback && newValue.constructor != Array )\r\n            {\r\n                const enabled = event;\r\n                const fn = values.filter( v => v.value == newValue )[ 0 ]?.callback;\r\n                this._trigger( new IEvent( name, shouldToggle ? [ newValue, enabled ] : newValue, null ), fn );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this.root.appendChild( container );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.ComboButtons = ComboButtons;","// Card.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Card\r\n * @description Card Component\r\n */\r\n\r\nexport class Card extends BaseComponent\r\n{\r\n    constructor( name: string, options: any = {} )\r\n    {\r\n        options.hideName = true;\r\n\r\n        super( ComponentType.CARD, name, null, options );\r\n\r\n        this.root.classList.add( \"place-content-center\" );\r\n\r\n        const container = LX.makeContainer( [ \"100%\", \"auto\" ], \"lexcard max-w-sm flex flex-col gap-4 bg-primary border rounded-xl py-6\", \"\", this.root );\r\n\r\n        if( options.header )\r\n        {\r\n            const hasAction = ( options.header.action !== undefined );\r\n            let header = LX.makeContainer( [ \"100%\", \"auto\" ], `flex ${ hasAction ? \"flex-row gap-4\" : \"flex-col gap-1\" } px-6`, \"\", container );\r\n\r\n            if( hasAction )\r\n            {\r\n                const actionBtn = new Button( null, options.header.action.name, options.header.action.callback );\r\n                header.appendChild( actionBtn.root );\r\n\r\n                const titleDescBox = LX.makeContainer( [ \"75%\", \"auto\" ], `flex flex-col gap-1`, \"\" );\r\n                header.prepend( titleDescBox );\r\n                header = titleDescBox;\r\n            }\r\n\r\n            if( options.header.title )\r\n            {\r\n                LX.makeElement( \"div\", \"text-md leading-none font-semibold\", options.header.title, header );\r\n            }\r\n\r\n            if( options.header.description )\r\n            {\r\n                LX.makeElement( \"div\", \"text-sm fg-tertiary\", options.header.description, header );\r\n            }\r\n        }\r\n\r\n        if( options.content )\r\n        {\r\n            const content = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex flex-col gap-2 px-6\", \"\", container );\r\n            const elements = [].concat( options.content );\r\n            for( let e of ( elements as any[] ) )\r\n            {\r\n                content.appendChild( e.root ? e.root : e );\r\n            }\r\n        }\r\n\r\n        if( options.footer )\r\n        {\r\n            const footer = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex flex-col gap-1 px-6\", \"\", container );\r\n            const elements = [].concat( options.footer );\r\n\r\n            for( let e of ( elements as any[] ) )\r\n            {\r\n                footer.appendChild( e.root ? e.root : e );\r\n            }\r\n        }\r\n\r\n        if( options.callback )\r\n        {\r\n            container.classList.add( \"selectable\" );\r\n            container.style.cursor = \"pointer\";\r\n            container.addEventListener(\"click\", ( e: MouseEvent ) => {\r\n                this._trigger( new IEvent( name, null, e ), options.callback );\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nLX.Card = Card;","// Form.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { TextInput } from './TextInput';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class Form\r\n * @description Form Component\r\n */\r\n\r\nexport class Form extends BaseComponent\r\n{\r\n    constructor( name: string, data: any, callback: any, options: any = {} )\r\n    {\r\n        if( data.constructor != Object )\r\n        {\r\n            console.error( \"Form data must be an Object\" );\r\n            return;\r\n        }\r\n\r\n        // Always hide name for this one\r\n        options.hideName = true;\r\n\r\n        super( ComponentType.FORM, name, null, options );\r\n\r\n        this.onGetValue = () => {\r\n            return container.formData;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            container.formData = newValue;\r\n            const entries = container.querySelectorAll( \".lexcomponent\" );\r\n            for( let i = 0; i < entries.length; ++i )\r\n            {\r\n                const entry = entries[ i ];\r\n                if( entry.jsInstance.type != ComponentType.TEXT )\r\n                {\r\n                    continue;\r\n                }\r\n                let entryName = entries[ i ].querySelector( \".lexcomponentname\" ).innerText;\r\n                let entryInput = entries[ i ].querySelector( \".lextext input\" );\r\n                entryInput.value = newValue[ entryName ] ?? \"\";\r\n                BaseComponent._dispatchEvent( entryInput, \"focusout\", skipCallback );\r\n            }\r\n        };\r\n\r\n        let container: any = document.createElement( 'div' );\r\n        container.className = \"lexformdata\";\r\n        container.style.width = \"100%\";\r\n        container.formData = {};\r\n        this.root.appendChild( container );\r\n\r\n        for( let entry in data )\r\n        {\r\n            let entryData = data[ entry ];\r\n\r\n            if( entryData.constructor != Object )\r\n            {\r\n                const oldValue = LX.deepCopy( entryData );\r\n                entryData = { value: oldValue };\r\n                data[ entry ] = entryData;\r\n            }\r\n\r\n            entryData.width = \"100%\";\r\n            entryData.placeholder = entryData.placeholder ?? ( entryData.label ?? `Enter ${ entry }` );\r\n            entryData.ignoreValidation = true;\r\n\r\n            if( !( options.skipLabels ?? false ) )\r\n            {\r\n                const label = new TextInput( null, entryData.label ?? entry, null, { disabled: true, inputClass: \"formlabel bg-none\" } );\r\n                container.appendChild( label.root );\r\n            }\r\n\r\n            entryData.textComponent = new TextInput( null, entryData.constructor == Object ? entryData.value : entryData, ( value: string, event: any ) => {\r\n                container.formData[ entry ] = value;\r\n                if( entryData.submit && event.constructor === KeyboardEvent )\r\n                {\r\n                    primaryButton?.click();\r\n                }\r\n            }, entryData );\r\n            container.appendChild( entryData.textComponent.root );\r\n\r\n            container.formData[ entry ] = entryData.constructor == Object ? entryData.value : entryData;\r\n        }\r\n\r\n        const buttonContainer = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row mt-2\", \"\", container );\r\n\r\n        if( options.secondaryActionName || options.secondaryActionCallback )\r\n        {\r\n            const secondaryButton = new Button( null, options.secondaryActionName ?? \"Cancel\", ( value: any, event: MouseEvent ) => {\r\n                if( options.secondaryActionCallback )\r\n                {\r\n                    options.secondaryActionCallback( container.formData, event );\r\n                }\r\n            }, { width: \"100%\", minWidth: \"0\", buttonClass: options.secondaryButtonClass ?? \"primary\" } );\r\n\r\n            buttonContainer.appendChild( secondaryButton.root );\r\n        }\r\n\r\n        const primaryButton = new Button( null, options.primaryActionName ?? \"Submit\", ( value: any, event: MouseEvent ) => {\r\n\r\n            const errors = [];\r\n\r\n            for( let entry in data )\r\n            {\r\n                let entryData = data[ entry ];\r\n\r\n                const pattern = entryData.pattern;\r\n                const matchField = pattern?.fieldMatchName ? container.formData[ pattern.fieldMatchName ] : undefined;\r\n\r\n                if( !entryData.textComponent.valid( undefined, matchField ) )\r\n                {\r\n                    const err = { entry, type: \"input_not_valid\", messages: [] };\r\n                    if( pattern )\r\n                    {\r\n                        err.messages = LX.validateValueAtPattern(\r\n                            container.formData[ entry ],\r\n                            pattern,\r\n                            matchField\r\n                        );\r\n                    }\r\n\r\n                    errors.push( err );\r\n                }\r\n            }\r\n\r\n            if( callback )\r\n            {\r\n                callback( container.formData, errors, event );\r\n            }\r\n        }, { width: \"100%\", minWidth: \"0\", buttonClass: options.primaryButtonClass ?? \"contrast\" } );\r\n\r\n        buttonContainer.appendChild( primaryButton.root );\r\n    }\r\n}\r\n\r\nLX.Form = Form;","// TextArea.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class TextArea\r\n * @description TextArea Component\r\n */\r\n\r\nexport class TextArea extends BaseComponent\r\n{\r\n    constructor( name: string | null, value: string, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.TEXTAREA, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            wValue.value = value = newValue;\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        let container = document.createElement( \"div\" );\r\n        container.className = \"lextextarea\";\r\n        container.style.display = \"flex\";\r\n        this.root.appendChild( container );\r\n\r\n        let wValue = document.createElement( \"textarea\" );\r\n        wValue.value = value ?? \"\";\r\n        wValue.className = ( options.inputClass ?? \"\" );\r\n        wValue.style.textAlign = options.float ?? \"\";\r\n        Object.assign( wValue.style, options.style ?? {} );\r\n\r\n        if( options.fitHeight ?? false )\r\n        {\r\n            wValue.classList.add( \"size-content\" );\r\n        }\r\n\r\n        if( !( options.resize ?? true ) )\r\n        {\r\n            wValue.classList.add( \"resize-none\" );\r\n        }\r\n\r\n        container.appendChild( wValue );\r\n\r\n        if( options.disabled ?? false )\r\n        {\r\n            this.disabled = true;\r\n            wValue.setAttribute( \"disabled\", \"true\" );\r\n        }\r\n\r\n        if( options.placeholder )\r\n        {\r\n            wValue.setAttribute( \"placeholder\", options.placeholder );\r\n        }\r\n\r\n        const trigger = options.trigger ?? \"default\";\r\n\r\n        if( trigger == \"default\" )\r\n        {\r\n            wValue.addEventListener(\"keyup\", function(e) {\r\n                if( e.key == \"Enter\" )\r\n                {\r\n                    wValue.blur();\r\n                }\r\n            });\r\n\r\n            wValue.addEventListener(\"focusout\", ( e: any ) => {\r\n                this.set( e.target?.value, false, e );\r\n            });\r\n        }\r\n        else if( trigger == \"input\" )\r\n        {\r\n            wValue.addEventListener(\"input\", ( e: any ) => {\r\n                this.set( e.target?.value, false, e );\r\n            });\r\n        }\r\n\r\n        if( options.icon )\r\n        {\r\n            const icon = LX.makeIcon( options.icon, { iconClass: \"absolute z-1 ml-2\", svgClass: \"sm\" } );\r\n            container.appendChild( icon );\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n            container.style.height = options.height ?? \"\";\r\n            this.onResize();\r\n        }, 10 );\r\n    }\r\n}\r\n\r\nLX.TextArea = TextArea;","// Select.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\nimport { TextInput } from './TextInput';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Select\r\n * @description Select Component\r\n */\r\n\r\nexport class Select extends BaseComponent\r\n{\r\n    _lastPlacement: boolean[] = [ false, false ];\r\n\r\n    constructor( name: string | null, values: any[], value: any, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.SELECT, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            value = newValue;\r\n\r\n            let item: any = null;\r\n            const listOptionsNodes = listOptions.childNodes;\r\n            listOptionsNodes.forEach( ( e: any ) => {\r\n                e.classList.remove( \"selected\" );\r\n                if( e.getAttribute( \"value\" ) == newValue )\r\n                {\r\n                    item = e;\r\n                }\r\n            } );\r\n\r\n            console.assert( item, `Item ${ newValue } does not exist in the Select.` );\r\n            item.classList.add( \"selected\" );\r\n            selectedOption.refresh( value );\r\n\r\n            // Reset filter\r\n            if( filter )\r\n            {\r\n                filter.root.querySelector( \"input\" ).value = \"\";\r\n                const filteredOptions = this._filterOptions( values, \"\" );\r\n                list.refresh( filteredOptions );\r\n            }\r\n\r\n            // Update suboptions menu\r\n            const suboptions = this.root.querySelector( \".lexcustomcontainer\" );\r\n            const suboptionsFunc = options[ `on_${ value }` ];\r\n            suboptions.toggleAttribute( \"hidden\", !suboptionsFunc );\r\n\r\n            if( suboptionsFunc )\r\n            {\r\n                suboptions.innerHTML = \"\";\r\n                const suboptionsPanel = new LX.Panel();\r\n                suboptionsPanel.queue( suboptions );\r\n                suboptionsFunc.call(this, suboptionsPanel);\r\n                suboptionsPanel.clearQueue();\r\n            }\r\n\r\n            this.root.dataset[\"opened\"] = ( !!suboptionsFunc );\r\n            list.style.height = \"\"; // set auto height by default\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, value, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        let container = document.createElement( \"div\" );\r\n        container.className = \"lexselect\";\r\n        this.root.appendChild( container );\r\n\r\n        let wValue: any = document.createElement( 'div' );\r\n        wValue.className = \"lexselect lexoption\";\r\n        wValue.name = name;\r\n        wValue.iValue = value;\r\n\r\n        if( options.overflowContainer !== undefined )\r\n        {\r\n            options.overflowContainerX = options.overflowContainerY = options.overflowContainer;\r\n        }\r\n\r\n        const _placeOptions = ( parent: any, forceLastPlacement?: boolean ) => {\r\n\r\n            const selectRoot = selectedOption.root;\r\n            const rect = selectRoot.getBoundingClientRect();\r\n            const nestedDialog = parent.parentElement.closest( \"dialog\" ) ?? parent.parentElement.closest( \".lexcolorpicker\" );\r\n\r\n            // Manage vertical aspect\r\n            {\r\n                const overflowContainer = options.overflowContainerY !== undefined ? options.overflowContainerY : LX.getParentArea( parent );\r\n                const listHeight = parent.offsetHeight;\r\n                let topPosition = rect.y;\r\n\r\n                let maxY = window.innerHeight;\r\n\r\n                if( overflowContainer )\r\n                {\r\n                    const parentRect = overflowContainer.getBoundingClientRect();\r\n                    maxY = parentRect.y + parentRect.height;\r\n                }\r\n\r\n                if( nestedDialog )\r\n                {\r\n                    const rect = nestedDialog.getBoundingClientRect();\r\n                    topPosition -= rect.y;\r\n                    maxY -= rect.y;\r\n                }\r\n\r\n                parent.style.top = ( topPosition + selectRoot.offsetHeight ) + 'px';\r\n                list.style.height = \"\"; // set auto height by default\r\n\r\n                const failAbove = forceLastPlacement ? this._lastPlacement[ 0 ] : ( topPosition - listHeight ) < 0;\r\n                const failBelow = forceLastPlacement ? this._lastPlacement[ 1 ] : ( topPosition + listHeight ) > maxY;\r\n                if( failBelow && !failAbove )\r\n                {\r\n                    parent.style.top = ( topPosition - listHeight ) + 'px';\r\n                    parent.classList.add( \"place-above\" );\r\n                }\r\n                // If does not fit in any direction, put it below but limit height..\r\n                else if( failBelow && failAbove )\r\n                {\r\n                    list.style.height = `${ maxY - topPosition - 32 }px`; // 32px margin\r\n                }\r\n\r\n                this._lastPlacement = [ failAbove, failBelow ];\r\n            }\r\n\r\n            // Manage horizontal aspect\r\n            {\r\n                const overflowContainer = options.overflowContainerX !== undefined ? options.overflowContainerX : LX.getParentArea( parent );\r\n                const listWidth = parent.offsetWidth;\r\n                let leftPosition = rect.x;\r\n\r\n                parent.style.minWidth = ( rect.width ) + 'px';\r\n\r\n                if( nestedDialog )\r\n                {\r\n                    const rect = nestedDialog.getBoundingClientRect();\r\n                    leftPosition -= rect.x;\r\n                }\r\n\r\n                parent.style.left = ( leftPosition ) + 'px';\r\n\r\n                let maxX = window.innerWidth;\r\n\r\n                if( overflowContainer )\r\n                {\r\n                    const parentRect = overflowContainer.getBoundingClientRect();\r\n                    maxX = parentRect.x + parentRect.width;\r\n                }\r\n\r\n                const showLeft = ( leftPosition + listWidth ) > maxX;\r\n                if( showLeft )\r\n                {\r\n                    parent.style.left = ( leftPosition - ( listWidth - rect.width ) ) + 'px';\r\n                }\r\n            }\r\n        };\r\n\r\n        let selectedOption = new Button( null, value, ( value: any, event: any ) => {\r\n            if( list.unfocus_event )\r\n            {\r\n                delete list.unfocus_event;\r\n                return;\r\n            }\r\n\r\n            listDialog.classList.remove( \"place-above\" );\r\n            const opened = listDialog.hasAttribute( \"open\" );\r\n\r\n            if( !opened )\r\n            {\r\n                listDialog.show();\r\n                _placeOptions( listDialog );\r\n            }\r\n            else\r\n            {\r\n                listDialog.close();\r\n            }\r\n\r\n            if( filter )\r\n            {\r\n                filter.root.querySelector( \"input\" ).focus();\r\n            }\r\n\r\n        }, { buttonClass: \"array\", skipInlineCount: true, disabled: options.disabled } );\r\n\r\n        selectedOption.root.style.width = \"100%\";\r\n        selectedOption.root.querySelector( \"span\" ).appendChild( LX.makeIcon( \"Down\", { svgClass: \"sm\" } ) );\r\n\r\n        container.appendChild( selectedOption.root );\r\n\r\n        selectedOption.refresh = ( v?: string ) => {\r\n            const buttonSpan = selectedOption.root.querySelector(\"span\");\r\n            if( buttonSpan.innerText == \"\" )\r\n            {\r\n                buttonSpan.innerText = v;\r\n            }\r\n            else\r\n            {\r\n                buttonSpan.innerHTML = buttonSpan.innerHTML.replaceAll( buttonSpan.innerText, v );\r\n            }\r\n        }\r\n\r\n        // Add select options container\r\n\r\n        const listDialog = document.createElement( 'dialog' );\r\n        listDialog.className = \"lexselectoptions\";\r\n\r\n        let list: any = document.createElement( 'ul' );\r\n        list.tabIndex = -1;\r\n        list.className = \"lexoptions\";\r\n        listDialog.appendChild( list )\r\n\r\n        list.addEventListener( 'focusout', function( e: any ) {\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n            if( e.relatedTarget === selectedOption.root.querySelector( 'button' ) )\r\n            {\r\n                list.unfocus_event = true;\r\n                setTimeout( () => delete list.unfocus_event, 200 );\r\n            }\r\n            else if ( e.relatedTarget && listDialog.contains( e.relatedTarget ) )\r\n            {\r\n                return;\r\n            }\r\n            else if ( e.target.className == 'lexinput-filter' )\r\n            {\r\n                return;\r\n            }\r\n            listDialog.close();\r\n        });\r\n\r\n        // Add filter options\r\n        let filter: any = null;\r\n        if( options.filter ?? false )\r\n        {\r\n            const filterOptions = LX.deepCopy( options );\r\n            filterOptions.placeholder = filterOptions.placeholder ?? \"Search...\";\r\n            filterOptions.skipComponent = filterOptions.skipComponent ?? true;\r\n            filterOptions.trigger = \"input\";\r\n            filterOptions.icon = \"Search\";\r\n            filterOptions.className = \"lexfilter\";\r\n            filterOptions.inputClass = \"outline\";\r\n\r\n            filter = new TextInput(null, options.filterValue ?? \"\", ( v: string ) => {\r\n                const filteredOptions = this._filterOptions( values, v );\r\n                list.refresh( filteredOptions );\r\n                _placeOptions( listDialog, true );\r\n            }, filterOptions );\r\n            filter.root.querySelector( \".lextext\" ).style.border = \"1px solid transparent\";\r\n\r\n            const input = filter.root.querySelector( \"input\" );\r\n\r\n            input.addEventListener('focusout', function( e: any ) {\r\n                if (e.relatedTarget && e.relatedTarget.tagName == \"UL\" && e.relatedTarget.classList.contains(\"lexoptions\"))\r\n                {\r\n                    return;\r\n                }\r\n                listDialog.close();\r\n            });\r\n\r\n            list.appendChild( filter.root );\r\n        }\r\n\r\n        // Create option list to empty it easily..\r\n        const listOptions = document.createElement('span');\r\n        listOptions.className = \"lexselectinnerlist\";\r\n        list.appendChild( listOptions );\r\n\r\n        // Add select options list\r\n        list.refresh = ( currentOptions: any ) => {\r\n\r\n            // Empty list\r\n            listOptions.innerHTML = \"\";\r\n\r\n            if( !currentOptions.length )\r\n            {\r\n                let iValue = options.emptyMsg ?? \"No options found.\";\r\n\r\n                let option = document.createElement( \"div\" );\r\n                option.className = \"option\";\r\n                option.innerHTML = ( LX.makeIcon( \"Inbox\", { svgClass: \"mr-2\" } ).innerHTML + iValue );\r\n\r\n                let li = document.createElement( \"li\" );\r\n                li.className = \"lexselectitem empty\";\r\n                li.appendChild( option );\r\n\r\n                listOptions.appendChild( li );\r\n                return;\r\n            }\r\n\r\n            for( let i = 0; i < currentOptions.length; i++ )\r\n            {\r\n                let iValue = currentOptions[ i ];\r\n                let li = document.createElement( \"li\" );\r\n                let option: any = document.createElement( \"div\" );\r\n                option.className = \"option\";\r\n                li.appendChild( option );\r\n\r\n                const onSelect = ( e: any ) => {\r\n                    this.set( e.currentTarget?.getAttribute( \"value\" ), false, e );\r\n                    listDialog.close();\r\n                };\r\n\r\n                li.addEventListener( \"click\", onSelect );\r\n\r\n                // Add string option\r\n                if( iValue.constructor != Object )\r\n                {\r\n                    const asLabel = ( iValue[ 0 ] === '@' );\r\n\r\n                    if( !asLabel )\r\n                    {\r\n                        option.innerHTML = `<span>${ iValue }</span>`;\r\n                        option.appendChild( LX.makeIcon( \"Check\" ) )\r\n                        option.value = iValue;\r\n                        li.setAttribute( \"value\", iValue );\r\n\r\n                        if( iValue == value )\r\n                        {\r\n                            li.classList.add( \"selected\" );\r\n                            wValue.innerHTML = iValue;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        option.innerHTML = \"<span>\" + iValue.substr( 1 ) + \"</span>\";\r\n                        li.removeEventListener( \"click\", onSelect );\r\n                    }\r\n\r\n                    li.classList.add( asLabel ? \"lexselectlabel\" : \"lexselectitem\" );\r\n                }\r\n                else\r\n                {\r\n                    // Add image option\r\n                    let img = document.createElement( \"img\" );\r\n                    img.src = iValue.src;\r\n                    li.setAttribute( \"value\", iValue.value );\r\n                    li.className = \"lexlistitem\";\r\n                    option.innerText = iValue.value;\r\n                    option.className += \" media\";\r\n                    option.prepend( img );\r\n\r\n                    option.setAttribute( \"value\", iValue.value );\r\n                    option.setAttribute( \"data-index\", i );\r\n                    option.setAttribute( \"data-src\", iValue.src );\r\n                    option.setAttribute( \"title\", iValue.value );\r\n\r\n                    if( value == iValue.value )\r\n                    {\r\n                        li.classList.add( \"selected\" );\r\n                    }\r\n                }\r\n\r\n                listOptions.appendChild( li );\r\n            }\r\n        }\r\n\r\n        list.refresh( values );\r\n\r\n        container.appendChild( listDialog );\r\n\r\n        // Element suboptions\r\n        let suboptions = document.createElement( \"div\" );\r\n        suboptions.className = \"lexcustomcontainer w-full\";\r\n\r\n        const suboptionsFunc = options[ `on_${ value }` ];\r\n        suboptions.toggleAttribute( \"hidden\", !suboptionsFunc );\r\n\r\n        if( suboptionsFunc )\r\n        {\r\n            suboptions.innerHTML = \"\";\r\n            const suboptionsPanel = new LX.Panel();\r\n            suboptionsPanel.queue( suboptions );\r\n            suboptionsFunc.call( this, suboptionsPanel );\r\n            suboptionsPanel.clearQueue();\r\n        }\r\n\r\n        this.root.appendChild( suboptions );\r\n        this.root.dataset[\"opened\"] = ( !!suboptionsFunc );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n\r\n    _filterOptions( options: any, value: string ) {\r\n\r\n        // Push to right container\r\n        const emptyFilter = !value.length;\r\n        let filteredOptions = [];\r\n\r\n        // Add components\r\n        for( let i = 0; i < options.length; i++ )\r\n        {\r\n            let o = options[ i ];\r\n            if( !emptyFilter )\r\n            {\r\n                let toCompare = ( typeof o == 'string' ) ? o : o.value;\r\n                const filterWord = value.toLowerCase();\r\n                const name = toCompare.toLowerCase();\r\n                if( !name.includes( filterWord ) ) continue;\r\n            }\r\n\r\n            filteredOptions.push( o );\r\n        }\r\n\r\n        return filteredOptions;\r\n    }\r\n}\r\n\r\nLX.Select = Select;","// CanvasCurve.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class CanvasCurve\r\n * @description A canvas-based curve editor, used internally by the Curve component.\r\n */\r\n\r\nexport class CanvasCurve {\r\n\r\n    element: any;\r\n    canvas: HTMLCanvasElement;\r\n\r\n    constructor( value: any[], options: any = {} )\r\n    {\r\n        let element: any = document.createElement( \"div\" );\r\n        element.className = \"curve \" + ( options.className ? options.className : \"\" );\r\n        element.style.minHeight = \"50px\";\r\n        element.style.width = options.width || \"100%\";\r\n        element.style.minWidth = \"50px\";\r\n        element.style.minHeight = \"20px\";\r\n\r\n        element.bgcolor = options.bgColor || LX.getThemeColor( \"global-background\" );\r\n        element.pointscolor = options.pointsColor || LX.getThemeColor( \"global-color-accent\" );\r\n        element.activepointscolor = options.activePointsColor || LX.getThemeColor( \"global-color-accent-light\" );\r\n        element.linecolor = options.lineColor || \"#555\";\r\n        element.value = value || [];\r\n        element.xrange = options.xrange || [ 0, 1 ]; // min, max\r\n        element.yrange = options.yrange || [ 0, 1 ]; // min, max\r\n        element.defaulty = options.defaulty != null ? options.defaulty : 0.0;\r\n        element.no_overlap = options.noOverlap || false;\r\n        element.show_samples = options.showSamples || 0;\r\n        element.allow_add_values = options.allowAddValues ?? true;\r\n        element.draggable_x = options.draggableX ?? true;\r\n        element.draggable_y = options.draggableY ?? true;\r\n        element.smooth = (options.smooth && typeof( options.smooth ) == 'number' ? options.smooth : 0.3) || false;\r\n        element.move_out = options.moveOutAction ?? LX.CURVE_MOVEOUT_DELETE;\r\n\r\n        LX.addSignal( \"@on_new_color_scheme\", ( el: HTMLElement, value: string ) => {\r\n            element.bgcolor = options.bgColor || LX.getThemeColor( \"global-background\" );\r\n            element.pointscolor = options.pointsColor || LX.getThemeColor( \"global-color-accent\" );\r\n            element.activepointscolor = options.activePointsColor || LX.getThemeColor( \"global-color-accent-light\" );\r\n            this.redraw();\r\n        } );\r\n\r\n        this.element = element;\r\n\r\n        let canvas = document.createElement( \"canvas\" );\r\n        canvas.width = options.width || 200;\r\n        canvas.height = options.height || 50;\r\n        element.appendChild( canvas );\r\n        this.canvas = canvas;\r\n\r\n        element.addEventListener( \"mousedown\", onmousedown );\r\n\r\n        element.getValueAt = function( x: number )\r\n        {\r\n            if( x < element.xrange[ 0 ] || x > element.xrange[ 1 ] )\r\n            {\r\n                return element.defaulty;\r\n            }\r\n\r\n            let last = [ element.xrange[ 0 ], element.defaulty ];\r\n            let f = 0;\r\n            for( let i = 0; i < element.value.length; i += 1 )\r\n            {\r\n                let v = element.value[ i ];\r\n                if( x == v[ 0 ] ) return v[ 1 ];\r\n                if( x < v[ 0 ] )\r\n                {\r\n                    f = ( x - last[ 0 ] ) / (v[ 0 ] - last[ 0 ]);\r\n                    return last[ 1 ] * ( 1 - f ) + v[ 1 ] * f;\r\n                }\r\n\r\n                last = v;\r\n            }\r\n\r\n            let v = [ element.xrange[ 1 ], element.defaulty ];\r\n            f = (x - last[ 0 ]) / (v[ 0 ] - last[ 0 ]);\r\n            return last[ 1 ] * ( 1 - f ) + v[ 1 ] * f;\r\n        }\r\n\r\n        element.resample = function( samples: number )\r\n        {\r\n            let r = [];\r\n            let dx = (element.xrange[ 1 ] - element.xrange[ 0 ]) / samples;\r\n            for( let i = element.xrange[ 0 ]; i <= element.xrange[ 1 ]; i += dx )\r\n            {\r\n                r.push( element.getValueAt(i) );\r\n            }\r\n            return r;\r\n        }\r\n\r\n        element.addValue = function( v: number[] )\r\n        {\r\n            for( let i = 0; i < element.value; i++ )\r\n            {\r\n                let value = element.value[ i ];\r\n                if(value[ 0 ] < v[ 0 ]) continue;\r\n                element.value.splice(i,0,v);\r\n                this.redraw();\r\n                return;\r\n            }\r\n\r\n            element.value.push(v);\r\n            this.redraw();\r\n        }\r\n\r\n        // Value to canvas\r\n        function convert( v : number[] )\r\n        {\r\n            return [ canvas.width * ( v[ 0 ] - element.xrange[ 0 ])/ (element.xrange[ 1 ]),\r\n                canvas.height * (v[ 1 ] - element.yrange[ 0 ])/ (element.yrange[ 1 ])];\r\n        }\r\n\r\n        // Canvas to value\r\n        function unconvert( v: number[] )\r\n        {\r\n            return [ ( v[ 0 ] * element.xrange[ 1 ] / canvas.width + element.xrange[ 0 ]),\r\n                    ( v[ 1 ] * element.yrange[ 1 ] / canvas.height + element.yrange[ 0 ]) ];\r\n        }\r\n\r\n        let selected = -1;\r\n\r\n        element.redraw = function( o: any = {} )\r\n        {\r\n            if( o.value ) element.value = o.value;\r\n            if( o.xrange ) element.xrange = o.xrange;\r\n            if( o.yrange ) element.yrange = o.yrange;\r\n            if( o.smooth ) element.smooth = o.smooth;\r\n\r\n            var ctx: CanvasRenderingContext2D | null = canvas.getContext( \"2d\" );\r\n            if( !ctx ) return;\r\n\r\n            ctx.setTransform( 1, 0, 0, 1, 0, 0 );\r\n            ctx.translate( 0, canvas.height );\r\n            ctx.scale( 1, -1 );\r\n\r\n            ctx.fillStyle = element.bgcolor;\r\n            ctx.fillRect(0,0,canvas.width,canvas.height);\r\n\r\n            ctx.strokeStyle = element.linecolor;\r\n            ctx.beginPath();\r\n\r\n            //draw line\r\n            var pos = convert([ element.xrange[ 0 ],element.defaulty ]);\r\n            ctx.moveTo( pos[ 0 ], pos[ 1 ] );\r\n            let values = [pos[ 0 ], pos[ 1 ]];\r\n\r\n            for( var i in element.value )\r\n            {\r\n                var value: number[] = element.value[ i ];\r\n                pos = convert( value );\r\n                values.push( pos[ 0 ] );\r\n                values.push( pos[ 1 ] );\r\n                if( !element.smooth )\r\n                {\r\n                    ctx.lineTo( pos[ 0 ], pos[ 1 ] );\r\n                }\r\n            }\r\n\r\n            pos = convert([ element.xrange[ 1 ], element.defaulty ]);\r\n            values.push(pos[ 0 ]);\r\n            values.push(pos[ 1 ]);\r\n            if( !element.smooth )\r\n            {\r\n                ctx.lineTo( pos[ 0 ], pos[ 1 ] );\r\n                ctx.stroke();\r\n            }\r\n            else\r\n            {\r\n                LX.drawSpline( ctx, values, element.smooth );\r\n            }\r\n\r\n            // Draw points\r\n            for( var idx = 0; idx < element.value.length; idx += 1 )\r\n            {\r\n                var value: number[] = element.value[ idx ];\r\n                pos = convert( value );\r\n                const selectedIndex = ( idx == selected );\r\n                if( selectedIndex )\r\n                {\r\n                    ctx.fillStyle = element.activepointscolor;\r\n                }\r\n                else\r\n                {\r\n                    ctx.fillStyle = element.pointscolor;\r\n                }\r\n                ctx.beginPath();\r\n                ctx.arc( pos[ 0 ], pos[ 1 ], selectedIndex ? 4 : 3, 0, Math.PI * 2);\r\n                ctx.fill();\r\n            }\r\n\r\n            if( element.show_samples )\r\n            {\r\n                var samples = element.resample( element.show_samples );\r\n                ctx.fillStyle = \"#888\";\r\n                for( var idx = 0; idx < samples.length; idx += 1)\r\n                {\r\n                    var value: number[] = [ idx * ((element.xrange[ 1 ] - element.xrange[ 0 ]) / element.show_samples) + element.xrange[ 0 ], samples[ idx ] ];\r\n                    pos = convert( value );\r\n                    ctx.beginPath();\r\n                    ctx.arc( pos[ 0 ], pos[ 1 ], 2, 0, Math.PI * 2);\r\n                    ctx.fill();\r\n                }\r\n            }\r\n        }\r\n\r\n        var last_mouse = [ 0, 0 ];\r\n\r\n        function onmousedown( e: MouseEvent )\r\n        {\r\n            document.addEventListener( \"mousemove\", onmousemove );\r\n            document.addEventListener( \"mouseup\", onmouseup );\r\n\r\n            var rect = canvas.getBoundingClientRect();\r\n            var mousex = e.clientX - rect.left;\r\n            var mousey = e.clientY - rect.top;\r\n\r\n            selected = computeSelected( mousex, canvas.height - mousey );\r\n\r\n            if( e.button == LX.MOUSE_LEFT_CLICK && selected == -1 && element.allow_add_values )\r\n            {\r\n                var v = unconvert([ mousex, canvas.height - mousey ]);\r\n                element.value.push( v );\r\n                sortValues();\r\n                selected = element.value.indexOf( v );\r\n            }\r\n\r\n            last_mouse = [ mousex, mousey ];\r\n            element.redraw();\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onmousemove( e: MouseEvent )\r\n        {\r\n            var rect = canvas.getBoundingClientRect();\r\n            var mousex = e.clientX - rect.left;\r\n            var mousey = e.clientY - rect.top;\r\n\r\n            if( mousex < 0 ) mousex = 0;\r\n            else if( mousex > canvas.width ) mousex = canvas.width;\r\n            if( mousey < 0 ) mousey = 0;\r\n            else if( mousey > canvas.height ) mousey = canvas.height;\r\n\r\n            // Dragging to remove\r\n            const currentMouseDiff = [ e.clientX - rect.left, e.clientY - rect.top ];\r\n            if( selected != -1 && distance( currentMouseDiff, [ mousex, mousey ] ) > canvas.height * 0.5 )\r\n            {\r\n                if( element.move_out == LX.CURVE_MOVEOUT_DELETE)\r\n                {\r\n                    element.value.splice( selected, 1 );\r\n                }\r\n                else\r\n                {\r\n                    const d = [ currentMouseDiff[ 0 ] - mousex, currentMouseDiff[ 1 ] - mousey ];\r\n                    let value = element.value[ selected ];\r\n                    value[ 0 ] = ( d[ 0 ] == 0.0 ) ? value[ 0 ] : ( d[ 0 ] < 0.0 ? element.xrange[ 0 ] : element.xrange[ 1 ] );\r\n                    value[ 1 ] = ( d[ 1 ] == 0.0 ) ? value[ 1 ] : ( d[ 1 ] < 0.0 ? element.yrange[ 1 ] : element.yrange[ 0 ] );\r\n                }\r\n\r\n                onmouseup( e );\r\n                return;\r\n            }\r\n\r\n            var dx = element.draggable_x ? last_mouse[ 0 ] - mousex : 0;\r\n            var dy = element.draggable_y ? last_mouse[ 1 ] - mousey : 0;\r\n            var delta = unconvert( [ -dx, dy ] );\r\n\r\n            if( selected != -1 )\r\n            {\r\n                var minx = element.xrange[ 0 ];\r\n                var maxx = element.xrange[ 1 ];\r\n\r\n                if( element.no_overlap )\r\n                {\r\n                    if( selected > 0) minx = element.value[ selected - 1 ][ 0 ];\r\n                    if( selected < ( element.value.length - 1 ) ) maxx = element.value[ selected + 1 ][ 0 ];\r\n                }\r\n\r\n                var v = element.value[ selected ];\r\n                v[ 0 ] += delta[ 0 ];\r\n                v[ 1 ] += delta[ 1 ];\r\n                if(v[ 0 ] < minx) v[ 0 ] = minx;\r\n                else if( [ 0 ] > maxx ) v[ 0 ] = maxx;\r\n                if(v[ 1 ] < element.yrange[ 0 ]) v[ 1 ] = element.yrange[ 0 ];\r\n                else if(v[ 1 ] > element.yrange[ 1 ]) v[ 1 ] = element.yrange[ 1 ];\r\n            }\r\n\r\n            sortValues();\r\n            element.redraw();\r\n            last_mouse[ 0 ] = mousex;\r\n            last_mouse[ 1 ] = mousey;\r\n            onchange( e );\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onmouseup( e: MouseEvent )\r\n        {\r\n            selected = -1;\r\n            element.redraw();\r\n            document.removeEventListener( \"mousemove\", onmousemove );\r\n            document.removeEventListener( \"mouseup\", onmouseup );\r\n            onchange( e );\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onchange( e: MouseEvent )\r\n        {\r\n            if( options.callback )\r\n            {\r\n                options.callback.call( element, element.value, e );\r\n            }\r\n        }\r\n\r\n        function distance( a: number[], b: number[] ) { return Math.sqrt( Math.pow( b[ 0 ] - a[ 0 ], 2 ) + Math.pow( b[ 1 ] - a[ 1 ], 2 ) ); };\r\n\r\n        function computeSelected( x: number, y: number )\r\n        {\r\n            var minDistance = 100000;\r\n            var maxDistance = 8; //pixels\r\n            var selected = -1;\r\n            for( var i = 0; i < element.value.length; i++ )\r\n            {\r\n                var value = element.value[ i ];\r\n                var pos = convert( value );\r\n                var dist = distance( [ x, y ], pos );\r\n                if( dist < minDistance && dist < maxDistance )\r\n                {\r\n                    minDistance = dist;\r\n                    selected = i;\r\n                }\r\n            }\r\n            return selected;\r\n        }\r\n\r\n        function sortValues()\r\n        {\r\n            var v = null;\r\n            if( selected != -1 )\r\n            {\r\n                v = element.value[ selected ];\r\n            }\r\n            element.value.sort( function( a: number[], b: number[] ) { return a[ 0 ] - b[ 0 ]; });\r\n            if( v )\r\n            {\r\n                selected = element.value.indexOf( v );\r\n            }\r\n        }\r\n\r\n        element.redraw();\r\n        return this;\r\n    }\r\n\r\n    redraw( options: any = {} )\r\n    {\r\n        this.element.redraw( options );\r\n    }\r\n}","// Curve.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { CanvasCurve } from './CanvasCurve';\r\n\r\n/**\r\n * @class Curve\r\n * @description Curve Component\r\n */\r\n\r\nexport class Curve extends BaseComponent\r\n{\r\n    curveInstance: CanvasCurve;\r\n\r\n    constructor( name: string, values: any[], callback: any, options: any = {} )\r\n    {\r\n        let defaultValues = JSON.parse( JSON.stringify( values ) );\r\n\r\n        super( ComponentType.CURVE, name, defaultValues, options );\r\n\r\n        this.onGetValue = () => {\r\n            return JSON.parse(JSON.stringify( curveInstance.element.value ));\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            curveInstance.element.value = JSON.parse( JSON.stringify( newValue ) );\r\n            curveInstance.redraw();\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, curveInstance.element.value, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement( \"div\" );\r\n        container.className = \"lexcurve\";\r\n        this.root.appendChild( container );\r\n\r\n        options.callback = ( v: any[], e: MouseEvent ) => {\r\n            this._trigger( new IEvent( name, v, e ), callback );\r\n        };\r\n\r\n        options.name = name;\r\n\r\n        let curveInstance = new CanvasCurve( values, options );\r\n        container.appendChild( curveInstance.element );\r\n        this.curveInstance = curveInstance;\r\n\r\n        const observer = new ResizeObserver( entries => {\r\n            for ( const entry of entries )\r\n            {\r\n                curveInstance.canvas.width = entry.contentRect.width;\r\n                curveInstance.redraw();\r\n            }\r\n        });\r\n\r\n        observer.observe( container );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.CanvasCurve = CanvasCurve;\r\nLX.Curve = Curve;","// CanvasDial.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class CanvasDial\r\n * @description A canvas-based dial, used internally by the Dial component.\r\n */\r\n\r\nclass CanvasDial {\r\n\r\n    element: any;\r\n    canvas: HTMLCanvasElement;\r\n\r\n    constructor( value: any[], options: any = {} )\r\n    {\r\n        let element: any = document.createElement( \"div\" );\r\n        element.className = \"dial \" + ( options.className ? options.className : \"\" );\r\n        element.style.width = element.style.height = options.size || \"100%\";\r\n        element.style.minWidth = element.style.minHeight = \"50px\";\r\n\r\n        element.bgcolor = options.bgColor || LX.getThemeColor( \"global-background\" );\r\n        element.pointscolor = options.pointsColor || LX.getThemeColor( \"global-color-accent-light\" );\r\n        element.linecolor = options.lineColor || \"#555\";\r\n        element.value = value || [];\r\n        element.xrange = options.xrange || [ 0, 1 ]; // min, max\r\n        element.yrange = options.yrange || [ 0, 1 ]; // min, max\r\n        element.defaulty = options.defaulty != null ? options.defaulty : 0.0;\r\n        element.no_overlap = options.noOverlap || false;\r\n        element.show_samples = options.showSamples || 0;\r\n        element.allow_add_values = options.allowAddValues ?? true;\r\n        element.draggable_x = options.draggableX ?? true;\r\n        element.draggable_y = options.draggableY ?? true;\r\n        element.smooth = (options.smooth && typeof( options.smooth ) == 'number' ? options.smooth : 0.3) || false;\r\n        element.move_out = options.moveOutAction ?? LX.CURVE_MOVEOUT_DELETE;\r\n\r\n        LX.addSignal( \"@on_new_color_scheme\", ( el: HTMLElement, value: string ) => {\r\n            element.bgcolor = options.bgColor || LX.getThemeColor( \"global-background\" );\r\n            element.pointscolor = options.pointsColor || LX.getThemeColor( \"global-color-accent-light\" );\r\n            this.redraw();\r\n        } );\r\n\r\n        this.element = element;\r\n\r\n        let canvas = document.createElement( \"canvas\" );\r\n        canvas.width = canvas.height = options.size || 200;\r\n        element.appendChild( canvas );\r\n        this.canvas = canvas;\r\n\r\n        element.addEventListener( \"mousedown\", onmousedown );\r\n\r\n        element.getValueAt = function( x: number )\r\n        {\r\n            if( x < element.xrange[ 0 ] || x > element.xrange[ 1 ] )\r\n            {\r\n                return element.defaulty;\r\n            }\r\n\r\n            var last = [ element.xrange[ 0 ], element.defaulty ];\r\n            var f = 0;\r\n            for( var i = 0; i < element.value.length; i += 1 )\r\n            {\r\n                var v = element.value[ i ];\r\n                if( x == v[ 0 ] ) return v[ 1 ];\r\n                if( x < v[ 0 ] )\r\n                {\r\n                    f = ( x - last[ 0 ] ) / (v[ 0 ] - last[ 0 ]);\r\n                    return last[ 1 ] * ( 1 - f ) + v[ 1 ] * f;\r\n                }\r\n\r\n                last = v;\r\n            }\r\n\r\n            v = [ element.xrange[ 1 ], element.defaulty ];\r\n            f = (x - last[ 0 ]) / (v[ 0 ] - last[ 0 ]);\r\n            return last[ 1 ] * ( 1 - f ) + v[ 1 ] * f;\r\n        }\r\n\r\n        element.resample = function( samples: number )\r\n        {\r\n            var r = [];\r\n            var dx = (element.xrange[ 1 ] - element.xrange[ 0 ]) / samples;\r\n            for( var i = element.xrange[ 0 ]; i <= element.xrange[ 1 ]; i += dx)\r\n            {\r\n                r.push( element.getValueAt(i) );\r\n            }\r\n            return r;\r\n        }\r\n\r\n        element.addValue = function( v: number[] )\r\n        {\r\n            for( var i = 0; i < element.value; i++ )\r\n            {\r\n                var value = element.value[ i ];\r\n                if(value[ 0 ] < v[ 0 ]) continue;\r\n                element.value.splice( i, 0, v );\r\n                this.redraw();\r\n                return;\r\n            }\r\n\r\n            element.value.push( v );\r\n            this.redraw();\r\n        }\r\n\r\n        // Value to canvas\r\n        function convert( v : number[] )\r\n        {\r\n            return [ canvas.width * ( v[ 0 ] - element.xrange[ 0 ])/ (element.xrange[ 1 ]),\r\n                canvas.height * (v[ 1 ] - element.yrange[ 0 ])/ (element.yrange[ 1 ])];\r\n        }\r\n\r\n        // Canvas to value\r\n        function unconvert( v: number[] )\r\n        {\r\n            return [ ( v[ 0 ] * element.xrange[ 1 ] / canvas.width + element.xrange[ 0 ]),\r\n                    ( v[ 1 ] * element.yrange[ 1 ] / canvas.height + element.yrange[ 0 ]) ];\r\n        }\r\n\r\n        var selected = -1;\r\n\r\n        element.redraw = function( o: any = {} )\r\n        {\r\n            if( o.value ) element.value = o.value;\r\n            if( o.xrange ) element.xrange = o.xrange;\r\n            if( o.yrange ) element.yrange = o.yrange;\r\n            if( o.smooth ) element.smooth = o.smooth;\r\n\r\n            var ctx: CanvasRenderingContext2D | null = canvas.getContext( \"2d\" );\r\n            if( !ctx ) return;\r\n\r\n            ctx.setTransform( 1, 0, 0, 1, 0, 0 );\r\n            ctx.translate( 0, canvas.height );\r\n            ctx.scale( 1, -1 );\r\n\r\n            ctx.fillStyle = element.bgcolor;\r\n            ctx.fillRect(0,0,canvas.width,canvas.height);\r\n\r\n            ctx.strokeStyle = element.linecolor;\r\n            ctx.beginPath();\r\n\r\n            //draw line\r\n            var pos = convert([ element.xrange[ 0 ],element.defaulty ]);\r\n            ctx.moveTo( pos[ 0 ], pos[ 1 ] );\r\n            let values = [pos[ 0 ], pos[ 1 ]];\r\n\r\n            for( var i in element.value)\r\n            {\r\n                var value: number[] = element.value[ i ];\r\n                pos = convert( value );\r\n                values.push( pos[ 0 ] );\r\n                values.push( pos[ 1 ] );\r\n            }\r\n\r\n            pos = convert([ element.xrange[ 1 ], element.defaulty ]);\r\n            values.push( pos[ 0 ] );\r\n            values.push( pos[ 1 ] );\r\n\r\n            // Draw points\r\n            const center =  [0,0];\r\n            pos = convert(center)\r\n            ctx.fillStyle = \"gray\";\r\n            ctx.beginPath();\r\n            ctx.arc( pos[ 0 ], pos[ 1 ], 3, 0, Math.PI * 2);\r\n            ctx.fill();\r\n\r\n            for( var idx = 0; idx < element.value.length; idx += 1 )\r\n            {\r\n                var value: number[] = element.value[ idx ];\r\n                pos = convert( value );\r\n                const selectedIndex = ( idx == selected );\r\n                if( selectedIndex )\r\n                {\r\n                    ctx.fillStyle = \"white\";\r\n                }\r\n                else\r\n                {\r\n                    ctx.fillStyle = element.pointscolor;\r\n                }\r\n                ctx.beginPath();\r\n                ctx.arc( pos[ 0 ], pos[ 1 ], selectedIndex ? 4 : 3, 0, Math.PI * 2);\r\n                ctx.fill();\r\n            }\r\n\r\n            if( element.show_samples )\r\n            {\r\n                var samples = element.resample(element.show_samples);\r\n                ctx.fillStyle = \"#888\";\r\n                for( var idx = 0; idx < samples.length; idx += 1)\r\n                {\r\n                    var value: number[] = [ idx * ((element.xrange[ 1 ] - element.xrange[ 0 ]) / element.show_samples) + element.xrange[ 0 ], samples[ idx ] ];\r\n                    pos = convert(value);\r\n                    ctx.beginPath();\r\n                    ctx.arc( pos[ 0 ], pos[ 1 ], 2, 0, Math.PI * 2);\r\n                    ctx.fill();\r\n                }\r\n            }\r\n        }\r\n\r\n        var last_mouse = [ 0, 0 ];\r\n\r\n        function onmousedown( e: MouseEvent )\r\n        {\r\n            document.addEventListener( \"mousemove\", onmousemove );\r\n            document.addEventListener( \"mouseup\", onmouseup );\r\n\r\n            var rect = canvas.getBoundingClientRect();\r\n            var mousex = e.clientX - rect.left;\r\n            var mousey = e.clientY - rect.top;\r\n\r\n            selected = computeSelected( mousex, canvas.height - mousey );\r\n\r\n            if( e.button == LX.MOUSE_LEFT_CLICK && selected == -1 && element.allow_add_values )\r\n            {\r\n                var v = unconvert([ mousex, canvas.height - mousey ]);\r\n                element.value.push( v );\r\n                sortValues();\r\n                selected = element.value.indexOf( v );\r\n            }\r\n\r\n            last_mouse = [ mousex, mousey ];\r\n            element.redraw();\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onmousemove( e: MouseEvent )\r\n        {\r\n            var rect = canvas.getBoundingClientRect();\r\n            var mousex = e.clientX - rect.left;\r\n            var mousey = e.clientY - rect.top;\r\n\r\n            if( mousex < 0 ) mousex = 0;\r\n            else if( mousex > canvas.width ) mousex = canvas.width;\r\n            if( mousey < 0 ) mousey = 0;\r\n            else if( mousey > canvas.height ) mousey = canvas.height;\r\n\r\n            // Dragging to remove\r\n            const currentMouseDiff = [ e.clientX - rect.left, e.clientY - rect.top ];\r\n            if( selected != -1 && distance( currentMouseDiff, [ mousex, mousey ] ) > canvas.height * 0.5 )\r\n            {\r\n                if( element.move_out == LX.CURVE_MOVEOUT_DELETE)\r\n                {\r\n                    element.value.splice( selected, 1 );\r\n                }\r\n                else\r\n                {\r\n                    const d = [ currentMouseDiff[ 0 ] - mousex, currentMouseDiff[ 1 ] - mousey ];\r\n                    let value = element.value[ selected ];\r\n                    value[ 0 ] = ( d[ 0 ] == 0.0 ) ? value[ 0 ] : ( d[ 0 ] < 0.0 ? element.xrange[ 0 ] : element.xrange[ 1 ] );\r\n                    value[ 1 ] = ( d[ 1 ] == 0.0 ) ? value[ 1 ] : ( d[ 1 ] < 0.0 ? element.yrange[ 1 ] : element.yrange[ 0 ] );\r\n                }\r\n\r\n                onmouseup( e );\r\n                return;\r\n            }\r\n\r\n            var dx = element.draggable_x ? last_mouse[ 0 ] - mousex : 0;\r\n            var dy = element.draggable_y ? last_mouse[ 1 ] - mousey : 0;\r\n            var delta = unconvert( [ -dx, dy ] );\r\n\r\n            if( selected != -1 )\r\n            {\r\n                var minx = element.xrange[ 0 ];\r\n                var maxx = element.xrange[ 1 ];\r\n\r\n                if( element.no_overlap )\r\n                {\r\n                    if( selected > 0) minx = element.value[ selected - 1 ][ 0 ];\r\n                    if( selected < ( element.value.length - 1 ) ) maxx = element.value[ selected + 1 ][ 0 ];\r\n                }\r\n\r\n                var v = element.value[selected];\r\n                v[ 0 ] += delta[ 0 ];\r\n                v[ 1 ] += delta[ 1 ];\r\n                if(v[ 0 ] < minx) v[ 0 ] = minx;\r\n                else if(v[ 0 ] > maxx) v[ 0 ] = maxx;\r\n                if(v[ 1 ] < element.yrange[ 0 ]) v[ 1 ] = element.yrange[ 0 ];\r\n                else if(v[ 1 ] > element.yrange[ 1 ]) v[ 1 ] = element.yrange[ 1 ];\r\n            }\r\n\r\n            sortValues();\r\n            element.redraw();\r\n            last_mouse[ 0 ] = mousex;\r\n            last_mouse[ 1 ] = mousey;\r\n            onchange( e );\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onmouseup( e: MouseEvent )\r\n        {\r\n            selected = -1;\r\n            element.redraw();\r\n            document.removeEventListener(\"mousemove\", onmousemove);\r\n            document.removeEventListener(\"mouseup\", onmouseup);\r\n            onchange(e);\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function onchange( e: MouseEvent )\r\n        {\r\n            if( options.callback )\r\n            {\r\n                options.callback.call( element, element.value, e );\r\n            }\r\n        }\r\n\r\n        function distance( a: number[], b: number[] ) { return Math.sqrt( Math.pow( b[ 0 ] - a[ 0 ], 2 ) + Math.pow( b[ 1 ] - a[ 1 ], 2 ) ); };\r\n\r\n        function computeSelected( x: number, y: number )\r\n        {\r\n            var minDistance = 100000;\r\n            var maxDistance = 8; //pixels\r\n            var selected = -1;\r\n            for( var i = 0; i < element.value.length; i++ )\r\n            {\r\n                var value = element.value[ i ];\r\n                var pos = convert( value );\r\n                var dist = distance( [ x, y ], pos );\r\n                if( dist < minDistance && dist < maxDistance )\r\n                {\r\n                    minDistance = dist;\r\n                    selected = i;\r\n                }\r\n            }\r\n            return selected;\r\n        }\r\n\r\n        function sortValues()\r\n        {\r\n            var v = null;\r\n            if( selected != -1 )\r\n            {\r\n                v = element.value[ selected ];\r\n            }\r\n            element.value.sort( function( a: number[], b: number[] ) { return a[ 0 ] - b[ 0 ]; });\r\n            if( v )\r\n            {\r\n                selected = element.value.indexOf( v );\r\n            }\r\n        }\r\n\r\n        element.redraw();\r\n        return this;\r\n    }\r\n\r\n    redraw( options: any = {} )\r\n    {\r\n        this.element.redraw( options );\r\n    }\r\n}\r\n\r\nLX.CanvasDial = CanvasDial;\r\n\r\nexport { CanvasDial };","// Dial.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { CanvasDial } from './CanvasDial';\r\n\r\n/**\r\n * @class Dial\r\n * @description Dial Component\r\n */\r\n\r\nexport class Dial extends BaseComponent\r\n{\r\n    dialInstance: CanvasDial;\r\n\r\n    constructor( name: string, values: any[], callback: any, options: any = {} )\r\n    {\r\n        let defaultValues = JSON.parse( JSON.stringify( values ) );\r\n\r\n        super( ComponentType.DIAL, name, defaultValues, options );\r\n\r\n        this.onGetValue = () => {\r\n            return JSON.parse( JSON.stringify( dialInstance.element.value ) );\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            dialInstance.element.value = JSON.parse( JSON.stringify( newValue ) );\r\n            dialInstance.redraw();\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, dialInstance.element.value, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n            LX.flushCss( container );\r\n            dialInstance.element.style.height = dialInstance.element.offsetWidth + \"px\";\r\n            dialInstance.canvas.width = dialInstance.element.offsetWidth;\r\n            container.style.width = dialInstance.element.offsetWidth + \"px\";\r\n            dialInstance.canvas.height = dialInstance.canvas.width;\r\n            dialInstance.redraw();\r\n        };\r\n\r\n        var container = document.createElement( \"div\" );\r\n        container.className = \"lexcurve\";\r\n        this.root.appendChild( container );\r\n\r\n        options.callback = ( v: any, e: MouseEvent ) => {\r\n            this._trigger( new IEvent( name, v, e ), callback );\r\n        };\r\n\r\n        options.name = name;\r\n\r\n        let dialInstance = new CanvasDial( values, options );\r\n        container.appendChild( dialInstance.element );\r\n        this.dialInstance = dialInstance;\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.CanvasDial = CanvasDial;\r\nLX.Dial = Dial;","// Layers.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Layers\r\n * @description Layers Component\r\n */\r\n\r\nexport class Layers extends BaseComponent\r\n{\r\n    setLayers: ( val: number ) => void;\r\n\r\n    constructor( name: string, value: number, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.LAYERS, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            value = newValue;\r\n            this.setLayers( value );\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent(name, value, event), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const container = document.createElement( \"div\" );\r\n        container.className = \"lexlayers\";\r\n        this.root.appendChild( container );\r\n\r\n        const maxBits = options.maxBits ?? 16;\r\n\r\n        this.setLayers = ( val ) =>  {\r\n\r\n            container.innerHTML = \"\";\r\n\r\n            let binary = val.toString( 2 );\r\n            let nbits = binary.length;\r\n\r\n            // fill zeros\r\n            for( let i = 0; i < ( maxBits - nbits ); ++i )\r\n            {\r\n                binary = '0' + binary;\r\n            }\r\n\r\n            for( let bit = 0; bit < maxBits; ++bit )\r\n            {\r\n                let layer: any = document.createElement( \"div\" );\r\n                layer.className = \"lexlayer\";\r\n\r\n                if( val != undefined )\r\n                {\r\n                    const valueBit = binary[ maxBits - bit - 1 ];\r\n                    if( valueBit != undefined && valueBit == '1' )\r\n                    {\r\n                        layer.classList.add( \"selected\" );\r\n                    }\r\n                }\r\n\r\n                layer.innerText = bit + 1;\r\n                layer.title = \"Bit \" + bit + \", value \" + ( 1 << bit );\r\n                container.appendChild( layer );\r\n\r\n                layer.addEventListener( \"click\", ( e: any ) => {\r\n                    e.stopPropagation();\r\n                    e.stopImmediatePropagation();\r\n                    e.target.classList.toggle( \"selected\" );\r\n                    const newValue = val ^ ( 1 << bit );\r\n                    this.set( newValue, false, e );\r\n                } );\r\n            }\r\n        };\r\n\r\n        this.setLayers( value );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Layers = Layers;","// NumberInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class NumberInput\r\n * @description NumberInput Component\r\n */\r\n\r\nexport class NumberInput extends BaseComponent\r\n{\r\n    setLimits: ( newMin: number | null, newMax: number | null, newStep: number | null ) => void;\r\n\r\n    constructor( name: string | null, value: number, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.NUMBER, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) =>\r\n        {\r\n            if( isNaN( newValue ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            value = LX.clamp( +newValue, +vecinput.min, +vecinput.max );\r\n            vecinput.value = value = LX.round( value, options.precision );\r\n\r\n            // Update slider!\r\n            const slider: any = box.querySelector( \".lexinputslider\" );\r\n            if( slider )\r\n            {\r\n                slider.value = value;\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, value, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this.setLimits = ( newMin, newMax, newStep ) => {};\r\n\r\n        var container = document.createElement( 'div' );\r\n        container.className = \"lexnumber\";\r\n        this.root.appendChild( container );\r\n\r\n        let box = document.createElement( 'div' );\r\n        box.className = \"numberbox\";\r\n        container.appendChild( box );\r\n\r\n        let valueBox = LX.makeContainer( [ \"auto\", \"100%\" ], \"relative flex flex-row cursor-text\", \"\", box );\r\n\r\n        let vecinput: any = document.createElement( 'input' );\r\n        vecinput.id = \"number_\" + LX.guidGenerator();\r\n        vecinput.className = \"vecinput\";\r\n        vecinput.min = options.min ?? -1e24;\r\n        vecinput.max = options.max ?? 1e24;\r\n        vecinput.step = options.step ?? \"any\";\r\n        vecinput.type = \"number\";\r\n\r\n        if( value.constructor == Number )\r\n        {\r\n            value = LX.clamp( value, +vecinput.min, +vecinput.max );\r\n            value = LX.round( value, options.precision );\r\n        }\r\n\r\n        vecinput.value = vecinput.iValue = value;\r\n        valueBox.appendChild( vecinput );\r\n\r\n        const dragIcon = LX.makeIcon( \"MoveVertical\", { iconClass: \"drag-icon hidden-opacity\", svgClass: \"sm\" } );\r\n        valueBox.appendChild( dragIcon );\r\n\r\n        if( options.units )\r\n        {\r\n            let unitBox = LX.makeContainer( [ \"auto\", \"auto\" ], \"px-2 bg-secondary content-center\", options.units, valueBox, { \"word-break\": \"keep-all\" } );\r\n            vecinput.unitBox = unitBox;\r\n        }\r\n\r\n        if( options.disabled )\r\n        {\r\n            this.disabled = vecinput.disabled = true;\r\n        }\r\n\r\n        // Add slider below\r\n        if( !options.skipSlider && options.min !== undefined && options.max !== undefined )\r\n        {\r\n            let sliderBox = LX.makeContainer( [ \"100%\", \"auto\" ], \"z-1 input-box\", \"\", box );\r\n            let slider: any = document.createElement( 'input' );\r\n            slider.className = \"lexinputslider\";\r\n            slider.min = options.min;\r\n            slider.max = options.max;\r\n            slider.step = options.step ?? 1;\r\n            slider.type = \"range\";\r\n            slider.value = value;\r\n            slider.disabled = this.disabled;\r\n\r\n            slider.addEventListener( \"input\", ( e: InputEvent ) => {\r\n                this.set( slider.valueAsNumber, false, e );\r\n            }, false );\r\n\r\n            slider.addEventListener( \"mousedown\", function( e: MouseEvent ) {\r\n                if( options.onPress )\r\n                {\r\n                    options.onPress.bind( slider )( e, slider );\r\n                }\r\n            }, false );\r\n\r\n            slider.addEventListener( \"mouseup\", function( e: MouseEvent ) {\r\n                if( options.onRelease )\r\n                {\r\n                    options.onRelease.bind( slider )( e, slider );\r\n                }\r\n            }, false );\r\n\r\n            sliderBox.appendChild( slider );\r\n\r\n            // Method to change min, max, step parameters\r\n            this.setLimits = ( newMin, newMax, newStep ) => {\r\n                vecinput.min = slider.min = newMin ?? vecinput.min;\r\n                vecinput.max = slider.max = newMax ?? vecinput.max;\r\n                vecinput.step = newStep ?? vecinput.step;\r\n                slider.step = newStep ?? slider.step;\r\n                this.set( value, true );\r\n            };\r\n        }\r\n\r\n        vecinput.addEventListener( \"input\", function( e: InputEvent ) {\r\n            value = +vecinput.valueAsNumber;\r\n            value = LX.round( value, options.precision );\r\n        }, false );\r\n\r\n        vecinput.addEventListener( \"wheel\", ( e: WheelEvent ) => {\r\n            e.preventDefault();\r\n            if( vecinput !== document.activeElement )\r\n            {\r\n                return;\r\n            }\r\n            let mult = options.step ?? 1;\r\n            if( e.shiftKey ) mult *= 10;\r\n            else if( e.altKey ) mult *= 0.1;\r\n            value = ( +vecinput.valueAsNumber - mult * ( e.deltaY > 0 ? 1 : -1 ) );\r\n            this.set( value, false, e );\r\n        }, { passive: false });\r\n\r\n        vecinput.addEventListener( \"change\", ( e: InputEvent ) => {\r\n            this.set( vecinput.valueAsNumber, false, e );\r\n        }, { passive: false });\r\n\r\n        // Add drag input\r\n\r\n        var that = this;\r\n\r\n        let innerMouseDown = ( e: MouseEvent ) =>\r\n        {\r\n            if( ( document.activeElement == vecinput ) || ( e.button != LX.MOUSE_LEFT_CLICK ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', innerMouseMove );\r\n            doc.addEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.add( 'noevents' );\r\n            dragIcon.classList.remove( 'hidden-opacity' );\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n\r\n            if( !document.pointerLockElement )\r\n            {\r\n                valueBox.requestPointerLock();\r\n            }\r\n\r\n            if( options.onPress )\r\n            {\r\n                options.onPress.bind( vecinput )( e, vecinput );\r\n            }\r\n        }\r\n\r\n        let innerMouseMove = ( e: MouseEvent ) =>\r\n        {\r\n            let dt = -e.movementY;\r\n\r\n            if ( dt != 0 )\r\n            {\r\n                let mult = options.step ?? 1;\r\n                if( e.shiftKey ) mult *= 10;\r\n                else if( e.altKey ) mult *= 0.1;\r\n                value = ( +vecinput.valueAsNumber + mult * dt );\r\n                this.set( value, false, e );\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        let innerMouseUp = ( e: MouseEvent ) =>\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMove );\r\n            doc.removeEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.remove( 'noevents' );\r\n            dragIcon.classList.add( 'hidden-opacity' );\r\n\r\n            if( document.pointerLockElement )\r\n            {\r\n                document.exitPointerLock();\r\n            }\r\n\r\n            if( options.onRelease )\r\n            {\r\n                options.onRelease.bind( vecinput )( e, vecinput );\r\n            }\r\n        }\r\n\r\n        valueBox.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.NumberInput = NumberInput;","// ArrayInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { TextInput } from './TextInput';\r\nimport { NumberInput } from './NumberInput';\r\nimport { Select } from './Select';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class ArrayInput\r\n * @description ArrayInput Component\r\n */\r\n\r\nexport class ArrayInput extends BaseComponent\r\n{\r\n    _updateItems: () => void;\r\n\r\n    constructor( name: string, values: any[] = [], callback: any, options: any = {} )\r\n    {\r\n        options.nameWidth = \"100%\";\r\n\r\n        super( ComponentType.ARRAY, name, null, options );\r\n\r\n        this.onGetValue = () => {\r\n            return values;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            values = newValue;\r\n            this._updateItems();\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, values, event ), callback );\r\n            }\r\n        };\r\n\r\n        // Add open array button\r\n\r\n        let container = document.createElement( \"div\" );\r\n        container.className = \"lexarray\";\r\n        container.style.width = \"100%\";\r\n        this.root.appendChild( container );\r\n        this.root.dataset[\"opened\"] = false;\r\n\r\n        let buttonName = `Array (size ${ values.length })`;\r\n\r\n        const toggleButton = new Button(null, buttonName, () => {\r\n            this.root.dataset[\"opened\"] = this.root.dataset[\"opened\"] == \"true\" ? false : true;\r\n            this.root.querySelector(\".lexarrayitems\").toggleAttribute( \"hidden\" );\r\n        }, { buttonClass: \"array\" });\r\n        toggleButton.root.querySelector( \"span\" ).appendChild( LX.makeIcon( \"Down\", { svgClass: \"sm\" } ) );\r\n        container.appendChild( toggleButton.root );\r\n\r\n        // Show elements\r\n\r\n        let arrayItems = document.createElement( \"div\" );\r\n        arrayItems.className = \"lexarrayitems\";\r\n        arrayItems.toggleAttribute( \"hidden\",  true );\r\n        this.root.appendChild( arrayItems );\r\n\r\n        this._updateItems = () => {\r\n\r\n            // Update num items\r\n            let buttonSpan = this.root.querySelector(\".lexbutton.array span\");\r\n            for( let node of buttonSpan.childNodes )\r\n            {\r\n                if ( node.nodeType === Node.TEXT_NODE ) { node.textContent = `Array (size ${ values.length })`; break; }\r\n            }\r\n\r\n            // Update inputs\r\n            arrayItems.innerHTML = \"\";\r\n\r\n            for( let i = 0; i < values.length; ++i )\r\n            {\r\n                const value = values[ i ];\r\n                let baseclass = options.innerValues ? 'select' : value.constructor;\r\n                let component: any = null;\r\n\r\n                switch( baseclass  )\r\n                {\r\n                    case String:\r\n                        component = new TextInput(i + \"\", value, function( value: string ) {\r\n                            values[ i ] = value;\r\n                            callback( values );\r\n                        }, { nameWidth: \"12px\", className: \"p-0\", skipReset: true });\r\n                        break;\r\n                    case Number:\r\n                        component = new NumberInput(i + \"\", value, function( value: number ) {\r\n                            values[ i ] = value;\r\n                            callback( values );\r\n                        }, { nameWidth: \"12px\", className: \"p-0\", skipReset: true });\r\n                        break;\r\n                    case 'select':\r\n                        component = new Select(i + \"\", options.innerValues, value, function( value: any ) {\r\n                            values[ i ] = value;\r\n                            callback( values );\r\n                        }, { nameWidth: \"12px\", className: \"p-0\", skipReset: true });\r\n                        break;\r\n                }\r\n\r\n                console.assert( component, `Value of type ${ baseclass } cannot be modified in ArrayInput` );\r\n\r\n                arrayItems.appendChild( component.root );\r\n\r\n                const removeComponent = new Button( null, \"\", ( v: any, event: MouseEvent ) => {\r\n                    values.splice( values.indexOf( value ), 1 );\r\n                    this._updateItems();\r\n                    this._trigger( new IEvent(name, values, event), callback );\r\n                }, { title: \"Remove item\", icon: \"Trash3\"} );\r\n\r\n                component.root.appendChild( removeComponent.root );\r\n            }\r\n\r\n            const addButton = new Button(null, LX.makeIcon( \"Plus\", { svgClass: \"sm\" } ).innerHTML + \"Add item\", ( v: any, event: MouseEvent ) => {\r\n                values.push( options.innerValues ? options.innerValues[ 0 ] : \"\" );\r\n                this._updateItems();\r\n                this._trigger( new IEvent(name, values, event), callback );\r\n            }, { buttonClass: 'array' });\r\n\r\n            arrayItems.appendChild( addButton.root );\r\n        };\r\n\r\n        this._updateItems();\r\n    }\r\n}\r\n\r\nLX.ArrayInput = ArrayInput;","// List.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class List\r\n * @description List Component\r\n */\r\n\r\nexport class List extends BaseComponent\r\n{\r\n    _updateValues: ( newValues: any[] ) => void;\r\n\r\n    constructor( name: string, values: any[], value: any, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.LIST, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            listContainer.querySelectorAll( '.lexlistitem' ).forEach( e => e.classList.remove( 'selected' ) );\r\n\r\n            let idx = null;\r\n            for( let i = 0; i < values.length; ++i )\r\n            {\r\n                const v = values[ i ];\r\n                if( v == newValue || ( ( v.constructor == Array ) && ( v[ 0 ] == newValue ) ) )\r\n                {\r\n                    idx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if( !idx )\r\n            {\r\n                console.error( `Cannot find item ${ newValue } in List.` );\r\n                return;\r\n            }\r\n\r\n            listContainer.children[ idx ].classList.toggle( 'selected' );\r\n            value = newValue;\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            listContainer.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this._updateValues = ( newValues ) => {\r\n\r\n            values = newValues;\r\n            listContainer.innerHTML = \"\";\r\n\r\n            for( let i = 0; i < values.length; ++i )\r\n            {\r\n                let icon = null;\r\n                let itemValue = values[ i ];\r\n\r\n                if( itemValue.constructor === Array )\r\n                {\r\n                    icon = itemValue[ 1 ];\r\n                    itemValue = itemValue[ 0 ];\r\n                }\r\n\r\n                let listElement = document.createElement( 'div' );\r\n                listElement.className = \"lexlistitem\" + ( value == itemValue ? \" selected\" : \"\" );\r\n\r\n                if( icon )\r\n                {\r\n                    listElement.appendChild( LX.makeIcon( icon ) );\r\n                }\r\n\r\n                listElement.innerHTML += `<span>${ itemValue }</span>`;\r\n\r\n                listElement.addEventListener( 'click', e => {\r\n                    listContainer.querySelectorAll( '.lexlistitem' ).forEach( e => e.classList.remove( 'selected' ) );\r\n                    listElement.classList.toggle( 'selected' );\r\n                    value = itemValue;\r\n                    this._trigger( new IEvent( name, itemValue, e ), callback );\r\n                });\r\n\r\n                listContainer.appendChild( listElement );\r\n            }\r\n        };\r\n\r\n        // Show list\r\n\r\n        let listContainer = document.createElement( 'div' );\r\n        listContainer.className = \"lexlist\";\r\n        this.root.appendChild( listContainer );\r\n\r\n        this._updateValues( values );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.List = List;","// Tags.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Tags\r\n * @description Tags Component\r\n */\r\n\r\nexport class Tags extends BaseComponent\r\n{\r\n    generateTags: ( value: string[] ) => void;\r\n\r\n    constructor( name: string, value: string, callback: any, options: any = {} )\r\n    {\r\n        let arrayValue: string[] = value.replace( /\\s/g, '' ).split( ',' );\r\n\r\n        let defaultValue = LX.deepCopy( arrayValue );\r\n        super( ComponentType.TAGS, name, defaultValue, options );\r\n\r\n        this.options.skipDuplicates = options.skipDuplicates ?? true;\r\n\r\n        this.onGetValue = () => {\r\n            return LX.deepCopy( value );\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            arrayValue = [].concat( newValue );\r\n            this.generateTags( arrayValue );\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, arrayValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            tagsContainer.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        // Show tags\r\n\r\n        const tagsContainer = document.createElement('div');\r\n        tagsContainer.className = \"lextags\";\r\n        this.root.appendChild( tagsContainer );\r\n\r\n        this.generateTags = ( value ) => {\r\n\r\n            tagsContainer.innerHTML = \"\";\r\n\r\n            for( let i = 0; i < value.length; ++i )\r\n            {\r\n                const tagName = value[ i ];\r\n                const tag = document.createElement('span');\r\n                tag.className = \"lextag\";\r\n                tag.innerHTML = tagName;\r\n\r\n                const removeButton = LX.makeIcon( \"X\", { svgClass: \"sm\" } );\r\n                tag.appendChild( removeButton );\r\n\r\n                removeButton.addEventListener( 'click', ( e: MouseEvent ) => {\r\n                    tag.remove();\r\n                    value.splice( value.indexOf( tagName ), 1 );\r\n                    this.set( value, false, e );\r\n                } );\r\n\r\n                tagsContainer.appendChild( tag );\r\n            }\r\n\r\n            let tagInput = document.createElement( 'input' );\r\n            tagInput.value = \"\";\r\n            tagInput.placeholder = \"Add tag...\";\r\n            tagsContainer.appendChild( tagInput );\r\n\r\n            tagInput.onkeydown = e => {\r\n                if( e.key == ' ' || e.key == 'Enter' )\r\n                {\r\n                    const val = tagInput.value.replace( /\\s/g, '' );\r\n                    e.preventDefault();\r\n                    if (!val.length || (options.skipDuplicates && value.indexOf(val) > -1 ) )\r\n                        return;\r\n                    value.push( val );\r\n                    this.set( value, false, e );\r\n                    tagsContainer.querySelector(\"input\")?.focus(); // generateTags creates a new tagInput instance\r\n                }\r\n            };\r\n        }\r\n\r\n        this.generateTags( arrayValue );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Tags = Tags;","// Checkbox.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Checkbox\r\n * @description Checkbox Component\r\n */\r\n\r\nexport class Checkbox extends BaseComponent\r\n{\r\n    constructor( name: string | null, value: boolean, callback: any, options: any = {} )\r\n    {\r\n        if( !name && !options.label )\r\n        {\r\n            throw( \"Set Component Name or at least a label!\" );\r\n        }\r\n\r\n        super( ComponentType.CHECKBOX, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( newValue == value )\r\n            {\r\n                return;\r\n            }\r\n\r\n            checkbox.checked = value = newValue;\r\n\r\n            // Update suboptions menu\r\n            this.root.querySelector( \".lexcheckboxsubmenu\" )?.toggleAttribute( 'hidden', !newValue );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement( \"div\" );\r\n        container.className = \"lexcheckboxcont\";\r\n        this.root.appendChild( container );\r\n\r\n        let checkbox = document.createElement( \"input\" );\r\n        checkbox.type = \"checkbox\";\r\n        checkbox.className = \"lexcheckbox \" + ( options.className ?? \"primary\" );\r\n        checkbox.checked = value;\r\n        checkbox.disabled = options.disabled ?? false;\r\n        container.appendChild( checkbox );\r\n\r\n        let valueName = document.createElement( \"span\" );\r\n        valueName.className = \"checkboxtext\";\r\n        valueName.innerHTML = options.label ?? \"On\";\r\n        container.appendChild( valueName );\r\n\r\n        checkbox.addEventListener( \"change\" , e => {\r\n            this.set( checkbox.checked, false, e );\r\n        });\r\n\r\n        if( options.suboptions )\r\n        {\r\n            let suboptions = document.createElement( \"div\" );\r\n            suboptions.className = \"lexcheckboxsubmenu\";\r\n            suboptions.toggleAttribute( \"hidden\", !checkbox.checked );\r\n\r\n            const suboptionsPanel = new LX.Panel();\r\n            suboptionsPanel.queue( suboptions );\r\n            options.suboptions.call(this, suboptionsPanel);\r\n            suboptionsPanel.clearQueue();\r\n\r\n            this.root.appendChild( suboptions );\r\n        }\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Checkbox = Checkbox;","// Toggle.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Toggle\r\n * @description Toggle Component\r\n */\r\n\r\nexport class Toggle extends BaseComponent\r\n{\r\n    constructor( name: string, value: boolean, callback: any, options: any = {} )\r\n    {\r\n        if( !name && !options.label )\r\n        {\r\n            throw( \"Set Component Name or at least a label!\" );\r\n        }\r\n\r\n        super( ComponentType.TOGGLE, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return toggle.checked;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( newValue == value )\r\n            {\r\n                return;\r\n            }\r\n\r\n            toggle.checked = value = newValue;\r\n\r\n            // Update suboptions menu\r\n            this.root.querySelector( \".lextogglesubmenu\" )?.toggleAttribute( 'hidden', !newValue );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement('div');\r\n        container.className = \"lextogglecont\";\r\n        this.root.appendChild( container );\r\n\r\n        let toggle: any = document.createElement('input');\r\n        toggle.type = \"checkbox\";\r\n        toggle.className = \"lextoggle \" + ( options.className ?? \"\" );\r\n        toggle.checked = value;\r\n        toggle.iValue = value;\r\n        toggle.disabled = options.disabled ?? false;\r\n        container.appendChild( toggle );\r\n\r\n        let valueName = document.createElement( 'span' );\r\n        valueName.className = \"toggletext\";\r\n        valueName.innerHTML = options.label ?? \"On\";\r\n        container.appendChild( valueName );\r\n\r\n        toggle.addEventListener( \"change\" , ( e: InputEvent ) => {\r\n            this.set( toggle.checked, false, e );\r\n        });\r\n\r\n        if( options.suboptions )\r\n        {\r\n            let suboptions = document.createElement('div');\r\n            suboptions.className = \"lextogglesubmenu\";\r\n            suboptions.toggleAttribute( 'hidden', !toggle.checked );\r\n\r\n            const suboptionsPanel = new LX.Panel();\r\n            suboptionsPanel.queue( suboptions );\r\n            options.suboptions.call(this, suboptionsPanel);\r\n            suboptionsPanel.clearQueue();\r\n\r\n            this.root.appendChild( suboptions );\r\n        }\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Toggle = Toggle;","// RadioGroup.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class RadioGroup\r\n * @description RadioGroup Component\r\n */\r\n\r\nexport class RadioGroup extends BaseComponent\r\n{\r\n    constructor( name: string, label: string, values: any[], callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.RADIO, name, null, options );\r\n\r\n        let currentIndex: number | null = null;\r\n\r\n        this.onGetValue = () => {\r\n            const items = container.querySelectorAll( 'button' );\r\n            return currentIndex ? [ currentIndex, items[ currentIndex ] ] : undefined;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            newValue = newValue[ 0 ] ?? newValue; // Allow getting index of { index, value } tupple\r\n\r\n            console.assert( newValue.constructor == Number, \"RadioGroup _value_ must be an Array index!\" );\r\n\r\n            const items = container.querySelectorAll( 'button' );\r\n            items.forEach( ( b: any ) => { b.checked = false; b.classList.remove( \"checked\" ) } );\r\n\r\n            const optionItem: any = items[ newValue ];\r\n            optionItem.checked = !optionItem.checked;\r\n            optionItem.classList.toggle( \"checked\" );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( null, [ newValue, values[ newValue ] ], event ), callback );\r\n            }\r\n        };\r\n\r\n        var container = document.createElement( 'div' );\r\n        container.className = \"lexradiogroup \" + ( options.className ?? \"\" );\r\n        this.root.appendChild( container );\r\n\r\n        let labelSpan = document.createElement( 'span' );\r\n        labelSpan.innerHTML = label;\r\n        container.appendChild( labelSpan );\r\n\r\n        for( let i = 0; i < values.length; ++i )\r\n        {\r\n            const optionItem = document.createElement( 'div' );\r\n            optionItem.className = \"lexradiogroupitem\";\r\n            container.appendChild( optionItem );\r\n\r\n            const optionButton = document.createElement( 'button' );\r\n            optionButton.className = \"flex p-0 rounded-lg cursor-pointer\";\r\n            optionButton.disabled = options.disabled ?? false;\r\n            optionItem.appendChild( optionButton );\r\n\r\n            optionButton.addEventListener( \"click\", ( e ) => {\r\n                this.set( i, false, e );\r\n            } );\r\n\r\n            const checkedSpan = document.createElement( 'span' );\r\n            optionButton.appendChild( checkedSpan );\r\n\r\n            const optionLabel = document.createElement( 'span' );\r\n            optionLabel.innerHTML = values[ i ];\r\n            optionItem.appendChild( optionLabel );\r\n        }\r\n\r\n        if( options.selected )\r\n        {\r\n            console.assert( options.selected.constructor == Number, \"RadioGroup _selected_ must be an Array index!\" );\r\n            currentIndex = options.selected;\r\n            this.set( currentIndex, true );\r\n        }\r\n    }\r\n}\r\n\r\nLX.RadioGroup = RadioGroup;","// Color.js @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\nexport class Color {\r\n\r\n    private _rgb: any;\r\n    private _hex: string = \"#000000\";\r\n    private _hsv: any;\r\n    css: any;\r\n\r\n    get rgb(): any { return this._rgb; }\r\n    set rgb(v: any) { this._fromRGB( v ); }\r\n\r\n    get hex(): string { return this._hex; }\r\n    set hex(v: string) { this._fromHex( v ); }\r\n\r\n    get hsv(): any { return this._hsv; }\r\n    set hsv(v: any) { this._fromHSV( v ); }\r\n\r\n\tconstructor( value: any )\r\n    {\r\n\t\tthis.set( value );\r\n\t}\r\n\r\n\tset( value: any )\r\n    {\r\n\t\tif ( typeof value === 'string' && value.startsWith( '#' ) )\r\n        {\r\n\t\t\tthis._fromHex( value );\r\n\t\t}\r\n        else if( 'r' in value && 'g' in value && 'b' in value)\r\n        {\r\n            value.a = value.a ?? 1.0;\r\n\t\t\tthis._fromRGB( value );\r\n\t\t}\r\n        else if( 'h' in value && 's' in value && 'v' in value )\r\n        {\r\n            value.a = value.a ?? 1.0;\r\n\t\t\tthis._fromHSV( value );\r\n\t\t}\r\n        else\r\n        {\r\n            throw( \"Bad color model!\" );\r\n        }\r\n\t}\r\n\r\n    setHSV( hsv: any ) { this._fromHSV( hsv ); }\r\n    setRGB( rgb: any ) { this._fromRGB( rgb ); }\r\n    setHex( hex: string ) { this._fromHex( hex ); }\r\n\r\n\t_fromHex( hex: string ) {\r\n\t\tthis._fromRGB( LX.hexToRgb( hex ) );\r\n\t}\r\n\r\n\t_fromRGB( rgb: any ) {\r\n\t\tthis._rgb = rgb;\r\n\t\tthis._hsv = LX.rgbToHsv( rgb );\r\n\t\tthis._hex = LX.rgbToHex( rgb );\r\n        this.css = LX.rgbToCss( this._rgb );\r\n\t}\r\n\r\n\t_fromHSV( hsv: any ) {\r\n\t\tthis._hsv = hsv;\r\n\t\tthis._rgb = LX.hsvToRgb( hsv );\r\n\t\tthis._hex = LX.rgbToHex( this._rgb );\r\n        this.css = LX.rgbToCss( this._rgb );\r\n\t}\r\n}\r\n\r\nLX.Color = Color;","// ColorPicker.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Color } from './Color';\r\nimport { TextInput } from './TextInput';\r\nimport { Button } from './Button';\r\nimport { Select } from './Select';\r\n\r\n/**\r\n * @class ColorPicker\r\n */\r\n\r\nexport class ColorPicker {\r\n\r\n    static currentPicker = false;\r\n\r\n    root: any;\r\n\r\n    colorModel: string;\r\n    useAlpha: boolean;\r\n    callback: any;\r\n\r\n    markerHalfSize: number;\r\n    markerSize: number;\r\n    currentColor: Color;\r\n    labelComponent: TextInput;\r\n\r\n    colorPickerBackground: any;\r\n    intSatMarker: any;\r\n    colorPickerTracker: any;\r\n    alphaTracker: any;\r\n    hueMarker: any;\r\n    alphaMarker: any;\r\n\r\n    onPopover: any;\r\n\r\n    constructor( hexValue: string, options: any = {} ) {\r\n\r\n        this.colorModel = options.colorModel ?? \"Hex\";\r\n        this.useAlpha = options.useAlpha ?? false;\r\n        this.callback = options.onChange;\r\n\r\n        if( !this.callback )\r\n        {\r\n            console.warn( \"Define a callback in _options.onChange_ to allow getting new Color values!\" );\r\n        }\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.className = \"lexcolorpicker\";\r\n\r\n        this.markerHalfSize = 8;\r\n        this.markerSize = this.markerHalfSize * 2;\r\n        this.currentColor = new Color( hexValue );\r\n\r\n        const hueColor = new Color( { h: this.currentColor.hsv.h, s: 1, v: 1 } );\r\n\r\n        // Intensity, Sat\r\n        this.colorPickerBackground = document.createElement( 'div' );\r\n        this.colorPickerBackground.className = \"lexcolorpickerbg\";\r\n        this.colorPickerBackground.style.backgroundColor = `rgb(${ hueColor.css.r }, ${ hueColor.css.g }, ${ hueColor.css.b })`;\r\n        this.root.appendChild( this.colorPickerBackground );\r\n\r\n        this.intSatMarker = document.createElement( 'div' );\r\n        this.intSatMarker.className = \"lexcolormarker\";\r\n        this.intSatMarker.style.backgroundColor = this.currentColor.hex;\r\n        this.colorPickerBackground.appendChild( this.intSatMarker );\r\n\r\n        let pickerRect: any = null;\r\n\r\n        let innerMouseDown = ( e: MouseEvent ) => {\r\n            var doc = this.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', innerMouseMove );\r\n            doc.addEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.add( 'noevents' );\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n\r\n            const currentLeft = ( e.offsetX - this.markerHalfSize );\r\n            this.intSatMarker.style.left = currentLeft + \"px\";\r\n            const currentTop = ( e.offsetY - this.markerHalfSize );\r\n            this.intSatMarker.style.top = currentTop + \"px\";\r\n            this._positionToSv( currentLeft, currentTop );\r\n            this._updateColorValue();\r\n\r\n            pickerRect = this.colorPickerBackground.getBoundingClientRect();\r\n        }\r\n\r\n        let innerMouseMove = ( e: MouseEvent ) => {\r\n            const dX = e.movementX;\r\n            const dY = e.movementY;\r\n            const mouseX = e.x - pickerRect.x;\r\n            const mouseY = e.y - pickerRect.y;\r\n\r\n            if ( dX != 0 && ( mouseX >= 0 || dX < 0 ) && ( mouseX < this.colorPickerBackground.offsetWidth || dX > 0 ) )\r\n            {\r\n                this.intSatMarker.style.left = LX.clamp( parseInt( this.intSatMarker.style.left ) + dX, -this.markerHalfSize, this.colorPickerBackground.offsetWidth - this.markerHalfSize ) + \"px\";\r\n            }\r\n\r\n            if ( dY != 0 && ( mouseY >= 0 || dY < 0 ) && ( mouseY < this.colorPickerBackground.offsetHeight || dY > 0 ) )\r\n            {\r\n                this.intSatMarker.style.top = LX.clamp( parseInt( this.intSatMarker.style.top ) + dY, -this.markerHalfSize, this.colorPickerBackground.offsetHeight - this.markerHalfSize ) + \"px\";\r\n            }\r\n\r\n            this._positionToSv( parseInt( this.intSatMarker.style.left ), parseInt( this.intSatMarker.style.top ) );\r\n            this._updateColorValue();\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        let innerMouseUp = ( e: MouseEvent ) => {\r\n            var doc = this.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMove );\r\n            doc.removeEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.remove( 'noevents' );\r\n        }\r\n\r\n        this.colorPickerBackground.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        const hueAlphaContainer = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row gap-1 items-center\", \"\", this.root );\r\n\r\n        const EyeDropper = ( window as any ).EyeDropper;\r\n        if( EyeDropper )\r\n        {\r\n            hueAlphaContainer.appendChild( new Button(null, \"eyedrop\",  async () => {\r\n                const eyeDropper = new EyeDropper();\r\n                try {\r\n                    const result = await eyeDropper.open();\r\n                    this.fromHexColor( result.sRGBHex );\r\n                } catch ( err ) {\r\n                    // console.error(\"EyeDropper cancelled or failed: \", err)\r\n                }\r\n            }, { icon: \"Pipette\", buttonClass: \"bg-none\", title: \"Sample Color\" }).root );\r\n        }\r\n\r\n        const innerHueAlpha = LX.makeContainer( [\"100%\", \"100%\"], \"flex flex-col gap-2\", \"\", hueAlphaContainer );\r\n\r\n        // Hue\r\n        this.colorPickerTracker = document.createElement( 'div' );\r\n        this.colorPickerTracker.className = \"lexhuetracker\";\r\n        innerHueAlpha.appendChild( this.colorPickerTracker );\r\n\r\n        this.hueMarker = document.createElement( 'div' );\r\n        this.hueMarker.className = \"lexcolormarker\";\r\n        this.hueMarker.style.backgroundColor = `rgb(${ hueColor.css.r }, ${ hueColor.css.g }, ${ hueColor.css.b })`;\r\n        this.colorPickerTracker.appendChild( this.hueMarker );\r\n\r\n        const _fromHueX = ( hueX: number ) => {\r\n            this.hueMarker.style.left = hueX + \"px\";\r\n            this.currentColor.hsv.h = LX.remapRange( hueX, 0, this.colorPickerTracker.offsetWidth - this.markerSize, 0, 360 );\r\n\r\n            const hueColor = new Color( { h: this.currentColor.hsv.h, s: 1, v: 1 } );\r\n            this.hueMarker.style.backgroundColor = `rgb(${ hueColor.css.r }, ${ hueColor.css.g }, ${ hueColor.css.b })`;\r\n            this.colorPickerBackground.style.backgroundColor = `rgb(${ hueColor.css.r }, ${ hueColor.css.g }, ${ hueColor.css.b })`;\r\n            this._updateColorValue();\r\n        };\r\n\r\n        let hueTrackerRect: any = null;\r\n\r\n        let innerMouseDownHue = ( e: MouseEvent ) => {\r\n            const doc = this.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', innerMouseMoveHue );\r\n            doc.addEventListener( 'mouseup', innerMouseUpHue );\r\n            document.body.classList.add( 'noevents' );\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n\r\n            const hueX = LX.clamp( e.offsetX - this.markerHalfSize, 0, this.colorPickerTracker.offsetWidth - this.markerSize );\r\n            _fromHueX( hueX );\r\n\r\n            hueTrackerRect = this.colorPickerTracker.getBoundingClientRect();\r\n        }\r\n\r\n        let innerMouseMoveHue = ( e: MouseEvent ) => {\r\n            const dX = e.movementX;\r\n            const mouseX = e.x - hueTrackerRect.x;\r\n\r\n            if ( dX != 0 && ( mouseX >= this.markerHalfSize || dX < 0 ) && ( mouseX < ( this.colorPickerTracker.offsetWidth - this.markerHalfSize ) || dX > 0 ) )\r\n            {\r\n                const hueX = LX.clamp( parseInt( this.hueMarker.style.left ) + dX, 0, this.colorPickerTracker.offsetWidth - this.markerSize );\r\n                _fromHueX( hueX );\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        let innerMouseUpHue = ( e: MouseEvent ) => {\r\n            var doc = this.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMoveHue );\r\n            doc.removeEventListener( 'mouseup', innerMouseUpHue );\r\n            document.body.classList.remove( 'noevents' );\r\n        }\r\n\r\n        this.colorPickerTracker.addEventListener( \"mousedown\", innerMouseDownHue );\r\n\r\n        // Alpha\r\n        if( this.useAlpha )\r\n        {\r\n            this.alphaTracker = document.createElement( 'div' );\r\n            this.alphaTracker.className = \"lexalphatracker\";\r\n            this.alphaTracker.style.color = `rgb(${ this.currentColor.css.r }, ${ this.currentColor.css.g }, ${ this.currentColor.css.b })`;\r\n            innerHueAlpha.appendChild( this.alphaTracker );\r\n\r\n            this.alphaMarker = document.createElement( 'div' );\r\n            this.alphaMarker.className = \"lexcolormarker\";\r\n            this.alphaMarker.style.backgroundColor = `rgb(${ this.currentColor.css.r }, ${ this.currentColor.css.g }, ${ this.currentColor.css.b },${ this.currentColor.css.a })`;\r\n            this.alphaTracker.appendChild( this.alphaMarker );\r\n\r\n            const _fromAlphaX = ( alphaX: number ) => {\r\n                this.alphaMarker.style.left = alphaX + \"px\";\r\n                this.currentColor.hsv.a = LX.remapRange( alphaX, 0, this.alphaTracker.offsetWidth - this.markerSize, 0, 1 );\r\n                this._updateColorValue();\r\n                // Update alpha marker once the color is updated\r\n                this.alphaMarker.style.backgroundColor = `rgb(${ this.currentColor.css.r }, ${ this.currentColor.css.g }, ${ this.currentColor.css.b },${ this.currentColor.css.a })`;\r\n            };\r\n\r\n            let alphaTrackerRect: any = null;\r\n\r\n            let innerMouseDownAlpha = ( e: MouseEvent ) => {\r\n                const doc = this.root.ownerDocument;\r\n                doc.addEventListener( 'mousemove', innerMouseMoveAlpha );\r\n                doc.addEventListener( 'mouseup', innerMouseUpAlpha );\r\n                document.body.classList.add( 'noevents' );\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                const alphaX = LX.clamp( e.offsetX - this.markerHalfSize, 0, this.alphaTracker.offsetWidth - this.markerSize );\r\n                _fromAlphaX( alphaX );\r\n                alphaTrackerRect = this.alphaTracker.getBoundingClientRect();\r\n            }\r\n\r\n            let innerMouseMoveAlpha = ( e: MouseEvent ) => {\r\n                const dX = e.movementX;\r\n                const mouseX = e.x - alphaTrackerRect.x;\r\n\r\n                if ( dX != 0 && ( mouseX >= this.markerHalfSize || dX < 0 ) && ( mouseX < ( this.alphaTracker.offsetWidth - this.markerHalfSize ) || dX > 0 ) )\r\n                {\r\n                    const alphaX = LX.clamp( parseInt( this.alphaMarker.style.left ) + dX, 0, this.alphaTracker.offsetWidth - this.markerSize );\r\n                    _fromAlphaX( alphaX );\r\n                }\r\n\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n\r\n            let innerMouseUpAlpha = ( e: MouseEvent ) => {\r\n                var doc = this.root.ownerDocument;\r\n                doc.removeEventListener( 'mousemove', innerMouseMoveAlpha );\r\n                doc.removeEventListener( 'mouseup', innerMouseUpAlpha );\r\n                document.body.classList.remove( 'noevents' );\r\n            }\r\n\r\n            this.alphaTracker.addEventListener( \"mousedown\", innerMouseDownAlpha );\r\n        }\r\n\r\n        // Info display\r\n        const colorLabel = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row gap-1\", \"\", this.root );\r\n\r\n        colorLabel.appendChild( new Select( null, [ \"CSS\", \"Hex\", \"HSV\", \"RGB\" ], this.colorModel, ( v: any ) => {\r\n            this.colorModel = v;\r\n            this._updateColorValue( null, true );\r\n        } ).root );\r\n\r\n        this.labelComponent = new TextInput( null, \"\", null, { inputClass: \"bg-none\", fit: true, disabled: true } );\r\n        colorLabel.appendChild( this.labelComponent.root );\r\n\r\n        // Copy button\r\n        {\r\n            const copyButtonComponent = new Button( null, \"copy\",  async () => {\r\n                navigator.clipboard.writeText( this.labelComponent.value() );\r\n                copyButtonComponent.root.querySelector( \"input[type='checkbox']\" ).style.pointerEvents = \"none\";\r\n\r\n                LX.doAsync( () => {\r\n                    if( copyButtonComponent.swap ) copyButtonComponent.swap( true );\r\n                    copyButtonComponent.root.querySelector( \"input[type='checkbox']\" ).style.pointerEvents = \"auto\";\r\n                }, 3000 );\r\n\r\n            }, { swap: \"Check\", icon: \"Copy\", buttonClass: \"bg-none\", className: \"ml-auto\", title: \"Copy\" } );\r\n\r\n            copyButtonComponent.root.querySelector( \".swap-on svg\" ).classList.add( \"fg-success\" );\r\n\r\n            colorLabel.appendChild( copyButtonComponent.root );\r\n        }\r\n\r\n        this._updateColorValue( hexValue, true );\r\n\r\n        LX.doAsync( this._placeMarkers.bind( this ) );\r\n\r\n        this.onPopover = this._placeMarkers.bind( this );\r\n    }\r\n\r\n    _placeMarkers() {\r\n\r\n        this._svToPosition( this.currentColor.hsv.s, this.currentColor.hsv.v );\r\n\r\n        const hueLeft = LX.remapRange( this.currentColor.hsv.h, 0, 360, 0, this.colorPickerTracker.offsetWidth - this.markerSize );\r\n        this.hueMarker.style.left = hueLeft + \"px\";\r\n\r\n        if( this.useAlpha )\r\n        {\r\n            const alphaLeft = LX.remapRange( this.currentColor.hsv.a, 0, 1, 0, this.alphaTracker.offsetWidth - this.markerSize );\r\n            this.alphaMarker.style.left = alphaLeft + \"px\";\r\n        }\r\n    }\r\n\r\n    _svToPosition( s: number, v: number ) {\r\n        this.intSatMarker.style.left = `${ LX.remapRange( s, 0, 1, -this.markerHalfSize, this.colorPickerBackground.offsetWidth - this.markerHalfSize ) }px`;\r\n        this.intSatMarker.style.top = `${ LX.remapRange( 1 - v, 0, 1, -this.markerHalfSize, this.colorPickerBackground.offsetHeight - this.markerHalfSize ) }px`;\r\n    }\r\n\r\n    _positionToSv( left: number, top: number ) {\r\n        this.currentColor.hsv.s = LX.remapRange( left, -this.markerHalfSize, this.colorPickerBackground.offsetWidth - this.markerHalfSize, 0, 1 );\r\n        this.currentColor.hsv.v = 1 - LX.remapRange( top, -this.markerHalfSize, this.colorPickerBackground.offsetHeight - this.markerHalfSize, 0, 1 );\r\n    }\r\n\r\n    _updateColorValue( newHexValue?: string|null, skipCallback: boolean = false ) {\r\n\r\n        this.currentColor.set( newHexValue ?? this.currentColor.hsv );\r\n\r\n        if( this.callback && !skipCallback )\r\n        {\r\n            this.callback( this.currentColor );\r\n        }\r\n\r\n        this.intSatMarker.style.backgroundColor = this.currentColor.hex;\r\n\r\n        if( this.useAlpha )\r\n        {\r\n            this.alphaTracker.style.color = `rgb(${ this.currentColor.css.r }, ${ this.currentColor.css.g }, ${ this.currentColor.css.b })`;\r\n        }\r\n\r\n        const toFixed = ( s: number, n: number = 2) => { return s.toFixed( n ).replace( /([0-9]+(\\.[0-9]+[1-9])?)(\\.?0+$)/, '$1' ) };\r\n\r\n        if( this.colorModel == \"CSS\" )\r\n        {\r\n            const { r, g, b, a } = this.currentColor.css;\r\n            this.labelComponent.set( `rgb${ this.useAlpha ? 'a' : '' }(${ r },${ g },${ b }${ this.useAlpha ? ',' + toFixed( a ) : '' })` );\r\n        }\r\n        else if( this.colorModel == \"Hex\" )\r\n        {\r\n            this.labelComponent.set( ( this.useAlpha ? this.currentColor.hex : this.currentColor.hex.substr( 0, 7 ) ).toUpperCase() );\r\n        }\r\n        else if( this.colorModel == \"HSV\" )\r\n        {\r\n            const { h, s, v, a } = this.currentColor.hsv;\r\n            const components = [ Math.floor( h ) + '', Math.floor( s * 100 ) + '%', Math.floor( v * 100 ) + '%' ];\r\n            if( this.useAlpha ) components.push( toFixed( a ) );\r\n            this.labelComponent.set( components.join( ' ' ) );\r\n        }\r\n        else // RGB\r\n        {\r\n            const { r, g, b, a } = this.currentColor.rgb;\r\n            const components = [ toFixed( r ), toFixed( g ), toFixed( b ) ];\r\n            if( this.useAlpha ) components.push( toFixed( a ) );\r\n            this.labelComponent.set( components.join( ' ' ) );\r\n        }\r\n    }\r\n\r\n    fromHexColor( hexColor: string ) {\r\n\r\n        this.currentColor.setHex( hexColor );\r\n\r\n        // Decompose into HSV\r\n        const { h, s, v } = this.currentColor.hsv;\r\n        this._svToPosition( s, v );\r\n\r\n        const hueColor = new Color( { h, s: 1, v: 1 } );\r\n        this.hueMarker.style.backgroundColor = this.colorPickerBackground.style.backgroundColor = `rgb(${ hueColor.css.r }, ${ hueColor.css.g }, ${ hueColor.css.b })`;\r\n        this.hueMarker.style.left = LX.remapRange( h, 0, 360, -this.markerHalfSize, this.colorPickerTracker.offsetWidth - this.markerHalfSize ) + \"px\";\r\n\r\n        this._updateColorValue( hexColor );\r\n    }\r\n};\r\n\r\nLX.ColorPicker = ColorPicker;","// Popover.js @jxarco\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class Popover\r\n */\r\n\r\nexport class Popover {\r\n\r\n    static activeElement: any = null;\r\n\r\n    root: any;\r\n    side: string = \"bottom\";\r\n    align: string = \"center\";\r\n    sideOffset: number = 0;\r\n    alignOffset: number = 0;\r\n    avoidCollisions: boolean = true;\r\n    reference: any;\r\n    \r\n    _windowPadding: number = 4;\r\n    _trigger: any;\r\n    _parent: any;\r\n    _onClick: any;\r\n\r\n    constructor( trigger: any, content: any, options: any = {} ) {\r\n\r\n        if( Popover.activeElement )\r\n        {\r\n            Popover.activeElement.destroy();\r\n            return;\r\n        }\r\n\r\n        this._trigger = trigger;\r\n\r\n        if( trigger )\r\n        {\r\n            trigger.classList.add( \"triggered\" );\r\n            trigger.active = this;\r\n        }\r\n\r\n        this.side = options.side ?? this.side;\r\n        this.align = options.align ?? this.align;\r\n        this.sideOffset = options.sideOffset ?? this.sideOffset;\r\n        this.alignOffset = options.alignOffset ?? this.alignOffset;\r\n        this.avoidCollisions = options.avoidCollisions ?? true;\r\n        this.reference = options.reference;\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.dataset[\"side\"] = this.side;\r\n        this.root.tabIndex = \"1\";\r\n        this.root.className = \"lexpopover\";\r\n\r\n        const refElement = trigger ?? this.reference;\r\n        const nestedDialog = refElement.closest( \"dialog\" );\r\n        if( nestedDialog && nestedDialog.dataset[ \"modal\" ] == 'true' )\r\n        {\r\n            this._parent = nestedDialog;\r\n        }\r\n        else\r\n        {\r\n            this._parent = LX.root;\r\n        }\r\n\r\n        this._parent.appendChild( this.root );\r\n\r\n        this.root.addEventListener( \"keydown\", ( e: KeyboardEvent ) => {\r\n            if( e.key == \"Escape\" )\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.destroy();\r\n            }\r\n        } )\r\n\r\n        if( content )\r\n        {\r\n            content = [].concat( content );\r\n            content.forEach( ( e: any ) => {\r\n                const domNode = e.root ?? e;\r\n                this.root.appendChild( domNode );\r\n                if( e.onPopover )\r\n                {\r\n                    e.onPopover();\r\n                }\r\n            } );\r\n        }\r\n\r\n        Popover.activeElement = this;\r\n\r\n        LX.doAsync( () => {\r\n            this._adjustPosition();\r\n\r\n            if( this._trigger )\r\n            {\r\n                this.root.focus();\r\n\r\n                this._onClick = ( e: Event ) => {\r\n                    if( e.target && ( this.root.contains( e.target ) || e.target == this._trigger ) )\r\n                    {\r\n                        return;\r\n                    }\r\n                    this.destroy();\r\n                };\r\n\r\n                document.body.addEventListener( \"mousedown\", this._onClick, true );\r\n                document.body.addEventListener( \"focusin\", this._onClick, true );\r\n            }\r\n\r\n        }, 10 );\r\n    }\r\n\r\n    destroy() {\r\n\r\n        if( this._trigger )\r\n        {\r\n            this._trigger.classList.remove( \"triggered\" );\r\n            delete this._trigger.active;\r\n\r\n            document.body.removeEventListener( \"mousedown\", this._onClick, true );\r\n            document.body.removeEventListener( \"focusin\", this._onClick, true );\r\n        }\r\n\r\n        this.root.remove();\r\n\r\n        Popover.activeElement = null;\r\n    }\r\n\r\n    _adjustPosition() {\r\n\r\n        const position = [ 0, 0 ];\r\n\r\n        // Place menu using trigger position and user options\r\n        {\r\n            const el = this.reference ?? this._trigger;\r\n            console.assert( el, \"Popover needs a trigger or reference element!\" );\r\n            const rect = el.getBoundingClientRect();\r\n\r\n            let alignWidth = true;\r\n\r\n            switch( this.side )\r\n            {\r\n                case \"left\":\r\n                    position[ 0 ] += ( rect.x - this.root.offsetWidth - this.sideOffset );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"right\":\r\n                    position[ 0 ] += ( rect.x + rect.width + this.sideOffset );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"top\":\r\n                    position[ 1 ] += ( rect.y - this.root.offsetHeight - this.sideOffset );\r\n                    alignWidth = true;\r\n                    break;\r\n                case \"bottom\":\r\n                    position[ 1 ] += ( rect.y + rect.height + this.sideOffset );\r\n                    alignWidth = true;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            switch( this.align )\r\n            {\r\n                case \"start\":\r\n                    if( alignWidth ) { position[ 0 ] += rect.x; }\r\n                    else { position[ 1 ] += rect.y; }\r\n                    break;\r\n                case \"center\":\r\n                    if( alignWidth ) { position[ 0 ] += ( rect.x + rect.width * 0.5 ) - this.root.offsetWidth * 0.5; }\r\n                    else { position[ 1 ] += ( rect.y + rect.height * 0.5 ) - this.root.offsetHeight * 0.5; }\r\n                    break;\r\n                case \"end\":\r\n                    if( alignWidth ) { position[ 0 ] += rect.x - this.root.offsetWidth + rect.width; }\r\n                    else { position[ 1 ] += rect.y - this.root.offsetHeight + rect.height; }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            if( alignWidth ) { position[ 0 ] += this.alignOffset; }\r\n            else { position[ 1 ] += this.alignOffset; }\r\n        }\r\n\r\n        if( this.avoidCollisions )\r\n        {\r\n            position[ 0 ] = LX.clamp( position[ 0 ], 0, window.innerWidth - this.root.offsetWidth - this._windowPadding );\r\n            position[ 1 ] = LX.clamp( position[ 1 ], 0, window.innerHeight - this.root.offsetHeight - this._windowPadding );\r\n        }\r\n\r\n        if( this._parent instanceof HTMLDialogElement )\r\n        {\r\n            let parentRect = this._parent.getBoundingClientRect();\r\n            position[ 0 ] -= parentRect.x;\r\n            position[ 1 ] -= parentRect.y;\r\n        }\r\n\r\n        this.root.style.left = `${ position[ 0 ] }px`;\r\n        this.root.style.top = `${ position[ 1 ] }px`;\r\n    }\r\n};\r\n\r\nLX.Popover = Popover;\r\n\r\n/**\r\n * @class PopConfirm\r\n */\r\n\r\nclass PopConfirm\r\n{\r\n    _popover: Popover | null = null;\r\n\r\n    constructor( reference: any, options: any = {} )\r\n    {\r\n        const okText = options.confirmText ?? \"Yes\";\r\n        const cancelText = options.cancelText ?? \"No\";\r\n        const title = options.title ?? \"Confirm\";\r\n        const content = options.content ?? \"Are you sure you want to proceed?\";\r\n        const onConfirm = options.onConfirm;\r\n        const onCancel = options.onCancel;\r\n\r\n        const popoverContainer = LX.makeContainer( [\"auto\", \"auto\"], \"tour-step-container\" );\r\n\r\n        {\r\n            const headerDiv = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row\", \"\", popoverContainer );\r\n            const titleDiv = LX.makeContainer( [\"100%\", \"auto\"], \"p-1 font-medium text-md\", title, headerDiv );\r\n        }\r\n\r\n        LX.makeContainer( [\"100%\", \"auto\"], \"p-1 text-md\", content, popoverContainer, { maxWidth: \"400px\" } );\r\n        const footer = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row text-md\", \"\", popoverContainer );\r\n        const footerButtons = LX.makeContainer( [\"100%\", \"auto\"], \"text-md\", \"\", footer );\r\n        const footerPanel = new LX.Panel();\r\n        footerButtons.appendChild( footerPanel.root );\r\n\r\n        footerPanel.sameLine( 2, \"justify-end\" );\r\n        footerPanel.addButton( null, cancelText, () => {\r\n            if( onCancel ) onCancel();\r\n            this._popover?.destroy();\r\n        }, { xbuttonClass: \"contrast\" } );\r\n        footerPanel.addButton( null, okText, () => {\r\n            if( onConfirm ) onConfirm();\r\n            this._popover?.destroy();\r\n        }, { buttonClass: \"accent\" } );\r\n\r\n        this._popover?.destroy();\r\n        this._popover = new LX.Popover( null, [ popoverContainer ], {\r\n            reference,\r\n            side: options.side ?? \"top\",\r\n            align: options.align,\r\n            sideOffset: options.sideOffset,\r\n            alignOffset: options.alignOffset,\r\n        } );\r\n\r\n    }\r\n}\r\n\r\nLX.PopConfirm = PopConfirm;","// ColorInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { ColorPicker } from './ColorPicker';\r\nimport { TextInput } from './TextInput';\r\nimport { Color } from './Color';\r\nimport { Popover } from './Popover';\r\n\r\n/**\r\n * @class ColorInput\r\n * @description ColorInput Component\r\n */\r\n\r\nexport class ColorInput extends BaseComponent\r\n{\r\n    picker: ColorPicker;\r\n\r\n    _skipTextUpdate?: boolean = false;\r\n    _popover: Popover|undefined = undefined;\r\n\r\n    constructor( name: string, value: any, callback: any, options: any = {} )\r\n    {\r\n        value = value ?? \"#000000\";\r\n\r\n        const useAlpha = options.useAlpha ??\r\n            ( ( value.constructor === Object && 'a' in value ) || ( value.constructor === String && [ 5, 9 ].includes( value.length ) ) );\r\n\r\n        const componentColor = new Color( value );\r\n\r\n        // Force always hex internally\r\n        value = useAlpha ? componentColor.hex : componentColor.hex.substr( 0, 7 );\r\n\r\n        super( ComponentType.COLOR, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            const currentColor = new Color( value );\r\n            return options.useRGB ? currentColor.rgb : value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            const newColor = new Color( newValue );\r\n\r\n            colorSampleRGB.style.color = value = newColor.hex.substr( 0, 7 );\r\n\r\n            if( useAlpha )\r\n            {\r\n                colorSampleAlpha.style.color = value = newColor.hex;\r\n            }\r\n\r\n            if( !this._skipTextUpdate )\r\n            {\r\n                textComponent.set( value, true, event );\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                let retValue = value;\r\n\r\n                if( options.useRGB )\r\n                {\r\n                    retValue = newColor.rgb;\r\n\r\n                    if( !useAlpha )\r\n                    {\r\n                        delete retValue.a;\r\n                    }\r\n                }\r\n\r\n                this._trigger( new IEvent( name, retValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement( 'span' );\r\n        container.className = \"lexcolor\";\r\n        this.root.appendChild( container );\r\n\r\n        this.picker = new ColorPicker( value, {\r\n            colorModel: options.useRGB ? \"RGB\" : \"Hex\",\r\n            useAlpha,\r\n            onChange: ( color: Color ) => {\r\n                this.set( color.hex );\r\n            }\r\n        } );\r\n\r\n        let sampleContainer = LX.makeContainer( [\"18px\", \"18px\"], \"flex flex-row bg-contrast rounded overflow-hidden\", \"\", container );\r\n        sampleContainer.tabIndex = \"1\";\r\n        sampleContainer.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n            if( ( options.disabled ?? false ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            this._popover = new Popover( sampleContainer, [ this.picker ] );\r\n        } );\r\n\r\n        let colorSampleRGB = document.createElement( 'div' );\r\n        colorSampleRGB.className = \"lexcolorsample\";\r\n        colorSampleRGB.style.color = value;\r\n        sampleContainer.appendChild( colorSampleRGB );\r\n\r\n        let colorSampleAlpha: any = null;\r\n\r\n        if( useAlpha )\r\n        {\r\n            colorSampleAlpha = document.createElement( 'div' );\r\n            colorSampleAlpha.className = \"lexcolorsample\";\r\n            colorSampleAlpha.style.color = value;\r\n            sampleContainer.appendChild( colorSampleAlpha );\r\n        }\r\n        else\r\n        {\r\n            colorSampleRGB.style.width = \"18px\";\r\n        }\r\n\r\n        const textComponent = new TextInput( null, value, ( v: string ) => {\r\n            this._skipTextUpdate = true;\r\n            this.set( v );\r\n            delete this._skipTextUpdate;\r\n            this.picker.fromHexColor( v );\r\n        }, { width: \"calc( 100% - 24px )\", disabled: options.disabled });\r\n\r\n        textComponent.root.style.marginLeft = \"6px\";\r\n        container.appendChild( textComponent.root );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Color = Color;\r\nLX.ColorPicker = ColorPicker;\r\nLX.ColorInput = ColorInput;\r\n","// RangeInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class RangeInput\r\n * @description RangeInput Component\r\n */\r\n\r\nexport class RangeInput extends BaseComponent\r\n{\r\n    _maxSlider: HTMLInputElement | null = null;\r\n    _labelTooltip: HTMLElement | null = null;\r\n\r\n    setLimits: ( newMin: number | null, newMax: number | null, newStep: number | null ) => void;\r\n\r\n    constructor( name: string, value: any, callback: any, options: any = {} )\r\n    {\r\n        const ogValue = LX.deepCopy( value );\r\n\r\n        super( ComponentType.RANGE, name, LX.deepCopy( ogValue ), options );\r\n\r\n        const isRangeValue = ( value.constructor == Array && value.length == 2 );\r\n        if( isRangeValue )\r\n        {\r\n            value = ogValue[ 0 ];\r\n            options.fill = false; // Range inputs do not fill by default\r\n        }\r\n\r\n        this.onGetValue = () => {\r\n            let finalValue = value;\r\n            if( isRangeValue )\r\n            {\r\n                finalValue = [ value, ogValue[ 1 ] ];\r\n            }\r\n            else if( options.left )\r\n            {\r\n                finalValue = ( ( +slider.max ) - value + ( +slider.min ) );\r\n            }\r\n            return finalValue;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            let newTpContent = \"\";\r\n\r\n            const diff = ( options.max - options.min );\r\n\r\n            if( isRangeValue && this._maxSlider )\r\n            {\r\n                slider.value = value = LX.clamp( +newValue[ 0 ], +slider.min, +slider.max );\r\n                this._maxSlider.value = ogValue[ 1 ] = LX.clamp( +newValue[ 1 ], +slider.min, +slider.max );\r\n\r\n                // Update the range slider\r\n                const diffOffset = ( value / diff ) - 0.5;\r\n                const diffMaxOffset = ( ogValue[ 1 ] / diff ) - 0.5;\r\n                const remappedMin = LX.remapRange( value, options.min, options.max, 0, 1 );\r\n                const remappedMax = LX.remapRange( ogValue[ 1 ], options.min, options.max, 0, 1 );\r\n                slider.style.setProperty(\"--range-min-value\", `${ remappedMin * 100 }%`);\r\n                slider.style.setProperty(\"--range-max-value\", `${ remappedMax * 100 }%`);\r\n                slider.style.setProperty(\"--range-fix-min-offset\", `${ -diffOffset }rem`);\r\n                slider.style.setProperty(\"--range-fix-max-offset\", `${ diffMaxOffset }rem`);\r\n\r\n                container.dataset[ \"tooltipOffsetX\" ] = `${ container.offsetWidth * remappedMin + container.offsetWidth * ( remappedMax - remappedMin ) * 0.5 - ( container.offsetWidth * 0.5 ) }`;\r\n                newTpContent = `${ value } - ${ ogValue[ 1 ] }`;\r\n            }\r\n            else\r\n            {\r\n                if( isNaN( newValue ) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                slider.value = value = LX.clamp( +newValue, +slider.min, +slider.max );\r\n                const remapped = LX.remapRange( value, options.min, options.max, 0, 1 ) * 0.5;\r\n                container.dataset[ \"tooltipOffsetX\" ] = `${ container.offsetWidth * remapped - ( container.offsetWidth * 0.5 ) }`;\r\n                newTpContent = `${ value }`;\r\n            }\r\n\r\n            container.dataset[ \"tooltipContent\" ] = newTpContent;\r\n            if( this._labelTooltip )\r\n            {\r\n                this._labelTooltip.innerHTML = newTpContent;\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                let finalValue = value;\r\n                if( isRangeValue )\r\n                {\r\n                    finalValue = [ value, ogValue[ 1 ] ];\r\n                }\r\n                else if( options.left )\r\n                {\r\n                    finalValue = ( ( +slider.max ) - value + ( +slider.min ) );\r\n                }\r\n\r\n                this._trigger( new IEvent( name, finalValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = options.inputWidth ?? `calc( 100% - ${ realNameWidth })`;\r\n            if( isRangeValue )\r\n            {\r\n                const diff = ( options.max - options.min );\r\n                const diffOffset = ( value / diff ) - 0.5;\r\n                const diffMaxOffset = ( ogValue[ 1 ] / diff ) - 0.5;\r\n                slider.style.setProperty(\"--range-min-value\", `${ LX.remapRange( value, options.min, options.max, 0, 1 ) * 100 }%`);\r\n                slider.style.setProperty(\"--range-max-value\", `${ LX.remapRange( ogValue[ 1 ], options.min, options.max, 0, 1 ) * 100 }%`);\r\n                slider.style.setProperty(\"--range-fix-min-offset\", `${ -diffOffset }rem`);\r\n                slider.style.setProperty(\"--range-fix-max-offset\", `${ diffMaxOffset }rem`);\r\n            }\r\n        };\r\n\r\n        const container = document.createElement( 'div' );\r\n        container.className = \"lexrange relative\";\r\n        this.root.appendChild( container );\r\n\r\n        let slider: any = document.createElement( 'input' );\r\n        slider.className = \"lexrangeslider \" + ( isRangeValue ? \"pointer-events-none \" : \"\" ) + ( options.className ?? \"\" );\r\n        slider.min = options.min ?? 0;\r\n        slider.max = options.max ?? 100;\r\n        slider.step = options.step ?? 1;\r\n        slider.type = \"range\";\r\n        slider.disabled = options.disabled ?? false;\r\n\r\n        if( value.constructor == Number )\r\n        {\r\n            value = LX.clamp( value, +slider.min, +slider.max );\r\n        }\r\n\r\n        if( options.left ?? false )\r\n        {\r\n            value = ( ( +slider.max ) - value + ( +slider.min ) );\r\n            slider.classList.add( \"left\" );\r\n        }\r\n\r\n        if( !( options.fill ?? true ) )\r\n        {\r\n            slider.classList.add( \"no-fill\" );\r\n        }\r\n\r\n        slider.value = value;\r\n        container.appendChild( slider );\r\n\r\n        slider.addEventListener( \"input\", ( e: any ) => {\r\n            this.set( isRangeValue ? [ Math.min( e.target.valueAsNumber, ogValue[ 1 ] ), ogValue[ 1 ] ] : e.target.valueAsNumber, false, e );\r\n        }, { passive: false });\r\n\r\n        // If its a range value, we need to update the slider using the thumbs\r\n        if( !isRangeValue )\r\n        {\r\n            slider.addEventListener( \"mousedown\", function( e: MouseEvent ) {\r\n                if( options.onPress )\r\n                {\r\n                    options.onPress.bind( slider )( e, slider );\r\n                }\r\n            }, false );\r\n\r\n            slider.addEventListener( \"mouseup\", function( e: MouseEvent ) {\r\n                if( options.onRelease )\r\n                {\r\n                    options.onRelease.bind( slider )( e, slider );\r\n                }\r\n            }, false );\r\n        }\r\n\r\n        // Method to change min, max, step parameters\r\n        this.setLimits = ( newMin, newMax, newStep ) => {\r\n            slider.min = newMin ?? slider.min;\r\n            slider.max = newMax ?? slider.max;\r\n            slider.step = newStep ?? slider.step;\r\n            BaseComponent._dispatchEvent( slider, \"input\", true );\r\n        };\r\n\r\n        LX.doAsync( () => {\r\n\r\n            this.onResize();\r\n\r\n            let offsetX = 0;\r\n            if( isRangeValue )\r\n            {\r\n                const remappedMin = LX.remapRange( value, options.min, options.max, 0, 1 );\r\n                const remappedMax = LX.remapRange( ogValue[ 1 ], options.min, options.max, 0, 1 );\r\n                offsetX = container.offsetWidth * remappedMin + container.offsetWidth * ( remappedMax - remappedMin ) * 0.5 - ( container.offsetWidth * 0.5 );\r\n            }\r\n            else\r\n            {\r\n                const remapped = LX.remapRange( value, options.min, options.max, 0, 1 ) * 0.5;\r\n                offsetX = container.offsetWidth * remapped - ( container.offsetWidth * 0.5 );\r\n            }\r\n            LX.asTooltip( container, `${ value }${ isRangeValue ? `- ${ ogValue[ 1 ] }` : `` }`, { offsetX, callback: ( tpDom: HTMLElement ) => {\r\n                this._labelTooltip = tpDom;\r\n            } } );\r\n        } );\r\n\r\n        if( ogValue.constructor == Array ) // Its a range value\r\n        {\r\n            let maxSlider = document.createElement( 'input' );\r\n            maxSlider.className = \"lexrangeslider no-fill pointer-events-none overlap absolute top-0 left-0 \" + ( options.className ?? \"\" );\r\n            maxSlider.min = options.min ?? 0;\r\n            maxSlider.max = options.max ?? 100;\r\n            maxSlider.step = options.step ?? 1;\r\n            maxSlider.type = \"range\";\r\n            maxSlider.disabled = options.disabled ?? false;\r\n            this._maxSlider = maxSlider;\r\n\r\n            let maxRangeValue = ogValue[ 1 ];\r\n            maxSlider.value = maxRangeValue = LX.clamp( maxRangeValue, +maxSlider.min, +maxSlider.max );\r\n            container.appendChild( maxSlider );\r\n\r\n            maxSlider.addEventListener( \"input\", ( e: any ) => {\r\n                ogValue[ 1 ] = Math.max( value, +e.target.valueAsNumber );\r\n                this.set( [ value, ogValue[ 1 ] ], false, e );\r\n            }, { passive: false });\r\n        }\r\n    }\r\n}\r\n\r\nLX.RangeInput = RangeInput;","// Vector.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Vector\r\n * @description Vector Component\r\n */\r\n\r\nexport class Vector extends BaseComponent\r\n{\r\n    setLimits: ( newMin: number | null, newMax: number | null, newStep: number | null ) => void;\r\n\r\n    constructor( numComponents: number, name: string, value: number[], callback: any, options: any = {} )\r\n    {\r\n        numComponents = LX.clamp( numComponents, 2, 4 );\r\n        value = value ?? new Array( numComponents ).fill( 0 );\r\n\r\n        super( ComponentType.VECTOR, name, LX.deepCopy( value ), options );\r\n\r\n        this.onGetValue = () => {\r\n            let inputs = this.root.querySelectorAll( \"input[type='number']\" );\r\n            let value = [];\r\n            for( var v of inputs )\r\n            {\r\n                value.push( +v.value );\r\n            }\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( vectorInputs.length != newValue.length )\r\n            {\r\n                console.error( \"Input length does not match vector length.\" );\r\n                return;\r\n            }\r\n\r\n            for( let i = 0; i < vectorInputs.length; ++i )\r\n            {\r\n                let vecValue = newValue[ i ];\r\n                vecValue = LX.clamp( vecValue, +vectorInputs[ i ].min, +vectorInputs[ i ].max );\r\n                vecValue = LX.round( vecValue, options.precision ) ?? 0;\r\n                vectorInputs[ i ].value = value[ i ] = vecValue;\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, value, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this.setLimits = ( newMin, newMax, newStep ) => {};\r\n\r\n        const vectorInputs: any[] = [];\r\n\r\n        var container = document.createElement( 'div' );\r\n        container.className = \"lexvector\";\r\n        this.root.appendChild( container );\r\n\r\n        this.disabled = ( options.disabled ?? false );\r\n        const that = this;\r\n\r\n        for( let i = 0; i < numComponents; ++i )\r\n        {\r\n            let box = document.createElement( 'div' );\r\n            box.className = \"vecbox\";\r\n            box.innerHTML = \"<span class='\" + LX.Panel.VECTOR_COMPONENTS[ i ] + \"'></span>\";\r\n\r\n            let vecinput: any = document.createElement( 'input' );\r\n            vecinput.className = \"vecinput v\" + numComponents;\r\n            vecinput.min = options.min ?? -1e24;\r\n            vecinput.max = options.max ?? 1e24;\r\n            vecinput.step = options.step ?? \"any\";\r\n            vecinput.type = \"number\";\r\n            vecinput.id = \"vec\" + numComponents + \"_\" + LX.guidGenerator();\r\n            vecinput.idx = i;\r\n            vectorInputs[ i ] = vecinput;\r\n            box.appendChild( vecinput );\r\n\r\n            if( value[ i ].constructor == Number )\r\n            {\r\n                value[ i ] = LX.clamp( value[ i ], +vecinput.min, +vecinput.max );\r\n                value[ i ] = LX.round( value[ i ], options.precision );\r\n            }\r\n\r\n            vecinput.value = vecinput.iValue = value[ i ];\r\n\r\n            const dragIcon = LX.makeIcon( \"MoveVertical\", { iconClass: \"drag-icon hidden-opacity\", svgClass: \"sm\" } );\r\n            box.appendChild( dragIcon );\r\n\r\n            if( this.disabled )\r\n            {\r\n                vecinput.disabled = true;\r\n            }\r\n\r\n            // Add wheel input\r\n            vecinput.addEventListener( \"wheel\", function( e: WheelEvent ) {\r\n                e.preventDefault();\r\n                if( vecinput !== document.activeElement )\r\n                {\r\n                    return;\r\n                }\r\n                let mult = options.step ?? 1;\r\n                if( e.shiftKey ) mult = 10;\r\n                else if( e.altKey ) mult = 0.1;\r\n\r\n                if( lockerButton.locked )\r\n                {\r\n                    for( let v of vectorInputs )\r\n                    {\r\n                        v.value = LX.round( +v.valueAsNumber - mult * ( e.deltaY > 0 ? 1 : -1 ), options.precision );\r\n                        BaseComponent._dispatchEvent( v, \"change\" );\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    vecinput.value = LX.round( +vecinput.valueAsNumber - mult * ( e.deltaY > 0 ? 1 : -1 ), options.precision );\r\n                    BaseComponent._dispatchEvent( vecinput, \"change\" );\r\n                }\r\n            }, { passive: false } );\r\n\r\n            vecinput.addEventListener( \"change\", ( e: any ) => {\r\n\r\n                if( isNaN( e.target.value ) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                let val = LX.clamp( e.target.value, +vecinput.min, +vecinput.max );\r\n                val = LX.round( val, options.precision );\r\n\r\n                if( lockerButton.locked )\r\n                {\r\n                    for( let v of vectorInputs )\r\n                    {\r\n                        v.value = val;\r\n                        value[ v.idx ] = val;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    vecinput.value = val;\r\n                    value[ e.target.idx ] = val;\r\n                }\r\n\r\n                this.set( value, false, e );\r\n            }, false );\r\n\r\n            // Add drag input\r\n\r\n            function innerMouseDown( e: MouseEvent )\r\n            {\r\n                if( ( document.activeElement == vecinput ) || ( e.button != LX.MOUSE_LEFT_CLICK ) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                var doc = that.root.ownerDocument;\r\n                doc.addEventListener( 'mousemove', innerMouseMove );\r\n                doc.addEventListener( 'mouseup', innerMouseUp );\r\n                document.body.classList.add( 'noevents' );\r\n                dragIcon.classList.remove( 'hidden-opacity' );\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n\r\n                if( !document.pointerLockElement )\r\n                {\r\n                    box.requestPointerLock();\r\n                }\r\n\r\n                if( options.onPress )\r\n                {\r\n                    options.onPress.bind( vecinput )( e, vecinput );\r\n                }\r\n            }\r\n\r\n            function innerMouseMove( e: MouseEvent )\r\n            {\r\n                let dt = -e.movementY;\r\n\r\n                if ( dt != 0 )\r\n                {\r\n                    let mult = options.step ?? 1;\r\n                    if( e.shiftKey ) mult = 10;\r\n                    else if( e.altKey ) mult = 0.1;\r\n\r\n                    if( lockerButton.locked )\r\n                    {\r\n                        for( let v of vectorInputs )\r\n                        {\r\n                            v.value = LX.round( +v.valueAsNumber + mult * dt, options.precision );\r\n                            BaseComponent._dispatchEvent( v, \"change\" );\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        vecinput.value = LX.round( +vecinput.valueAsNumber + mult * dt, options.precision );\r\n                        BaseComponent._dispatchEvent( vecinput, \"change\" );\r\n                    }\r\n                }\r\n\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n\r\n            function innerMouseUp( e: MouseEvent )\r\n            {\r\n                var doc = that.root.ownerDocument;\r\n                doc.removeEventListener( 'mousemove', innerMouseMove );\r\n                doc.removeEventListener( 'mouseup', innerMouseUp );\r\n                document.body.classList.remove( 'noevents' );\r\n                dragIcon.classList.add('hidden-opacity');\r\n\r\n                if( document.pointerLockElement )\r\n                {\r\n                    document.exitPointerLock();\r\n                }\r\n\r\n                if( options.onRelease )\r\n                {\r\n                    options.onRelease.bind( vecinput )( e, vecinput );\r\n                }\r\n            }\r\n\r\n            box.addEventListener( \"mousedown\", innerMouseDown );\r\n            container.appendChild( box );\r\n        }\r\n\r\n        // Method to change min, max, step parameters\r\n        if( options.min !== undefined || options.max !== undefined )\r\n        {\r\n            this.setLimits = ( newMin, newMax, newStep ) => {\r\n                for( let v of vectorInputs )\r\n                {\r\n                    v.min = newMin ?? v.min;\r\n                    v.max = newMax ?? v.max;\r\n                    v.step = newStep ?? v.step;\r\n                }\r\n\r\n                this.set( value, true );\r\n            };\r\n        }\r\n\r\n        const lockerButton: any = new Button( null, \"\", ( swapValue: boolean ) => {\r\n            lockerButton.locked = swapValue;\r\n        }, { title: \"Lock\", icon: \"LockOpen\", swap: \"Lock\", buttonClass: \"no-h bg-none p-0\" } );\r\n        container.appendChild( lockerButton.root );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Vector = Vector;","// Vec2.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\nexport class vec2 {\r\n\r\n    x: number;\r\n    y: number;\r\n\r\n    constructor( x?: number, y?: number ) {\r\n        this.x = x ?? 0;\r\n        this.y = y ?? ( x ?? 0 );\r\n    }\r\n\r\n    get xy() { return [ this.x, this.y ]; }\r\n    get yx() { return [ this.y, this.x ]; }\r\n\r\n    set ( x: number, y: number ) { this.x = x; this.y = y; }\r\n    add ( v: vec2, v0 = new vec2() ) { v0.set( this.x + v.x, this.y + v.y ); return v0; }\r\n    sub ( v: vec2, v0 = new vec2() ) { v0.set( this.x - v.x, this.y - v.y ); return v0; }\r\n    mul ( v: number|vec2, v0 = new vec2() ) { if( v.constructor == Number ) { v = new vec2( v ) } v0.set( this.x * ( v as vec2 ).x, this.y * ( v as vec2 ).y ); return v0; }\r\n    div ( v: vec2, v0 = new vec2() ) { if( v.constructor == Number ) { v = new vec2( v ) } v0.set( this.x / v.x, this.y / v.y ); return v0; }\r\n    abs ( v0 = new vec2() ) { v0.set( Math.abs( this.x ), Math.abs( this.y ) ); return v0; }\r\n    dot ( v: vec2 ) { return this.x * v.x + this.y * v.y; }\r\n    len2 () { return this.dot( this ) }\r\n    len () { return Math.sqrt( this.len2() ); }\r\n    nrm ( v0 = new vec2() ) { v0.set( this.x, this.y ); return v0.mul( 1.0 / this.len(), v0 ); }\r\n    dst ( v: vec2 ) { return v.sub( this ).len(); }\r\n    clp ( min: number, max: number, v0 = new vec2() ) { v0.set( LX.clamp( this.x, min, max ), LX.clamp( this.y, min, max ) ); return v0; }\r\n\r\n    fromArray ( array: number[] ) { this.x = array[ 0 ]; this.y = array[ 1 ]; }\r\n    toArray () { return this.xy }\r\n};\r\n\r\nLX.vec2 = vec2;","// CanvasMap2D.js @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { vec2 } from './../core/Vec2';\r\n\r\n// Based on LGraphMap2D from @tamats (jagenjo)\r\n// https://github.com/jagenjo/litescene.js\r\nexport class CanvasMap2D\r\n{\r\n    static COLORS = [ [255, 0, 0], [0, 255, 0], [0, 0, 255], [0, 128, 128], [128, 0, 128], [128, 128, 0], [255, 128, 0], [255, 0, 128], [0, 128, 255], [128, 0, 255] ];\r\n    static GRID_SIZE = 64;\r\n\r\n    /**\r\n     * @constructor Map2D\r\n     * @param {Array} initialPoints\r\n     * @param {Function} callback\r\n     * @param {Object} options\r\n     * circular\r\n     * showNames\r\n     * size\r\n     */\r\n\r\n    canvas: HTMLCanvasElement;\r\n    imageCanvas: HTMLCanvasElement | null = null;\r\n    root: any;\r\n    circular: boolean;\r\n    showNames: boolean;\r\n    size: number[];\r\n    points: any[];\r\n    callback: any;\r\n    weights: number[] = [];\r\n    weightsObj: any = {};\r\n    currentPosition: vec2 = new vec2( 0.0, 0.0 );\r\n    circleCenter: number[] = [ 0, 0 ];\r\n    circleRadius: number = 1;\r\n    margin: number = 8;\r\n    dragging: boolean = false;\r\n\r\n    _valuesChanged: boolean = true;\r\n    _selectedPoint: any = null;\r\n    _precomputedWeightsGridSize: number = 0;\r\n    _precomputedWeights: Float32Array | null = null\r\n\r\n    constructor( initialPoints: any, callback: any, options: any = {} )\r\n    {\r\n        this.circular = options.circular ?? false;\r\n        this.showNames = options.showNames ?? true;\r\n        this.size = options.size ?? [ 200, 200 ];\r\n\r\n        this.points = initialPoints ?? [];\r\n        this.callback = callback;\r\n\r\n        this._valuesChanged = true;\r\n        this._selectedPoint = null;\r\n\r\n        this.root = LX.makeContainer( [\"auto\", \"auto\"] );\r\n        this.root.tabIndex = \"1\";\r\n\r\n        this.root.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        const that = this;\r\n\r\n        function innerMouseDown( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener(\"mouseup\", innerMouseUp);\r\n            doc.addEventListener(\"mousemove\", innerMouseMove);\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            that.dragging = true;\r\n            return true;\r\n        }\r\n\r\n        function innerMouseMove( e: MouseEvent )\r\n        {\r\n            if( !that.dragging )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const margin = that.margin;\r\n            const rect = that.root.getBoundingClientRect();\r\n\r\n            let pos = new vec2();\r\n            pos.set( e.x - rect.x - that.size[ 0 ] * 0.5, e.y - rect.y - that.size[ 1 ] * 0.5 );\r\n            var cpos = that.currentPosition;\r\n            cpos.set(\r\n                LX.clamp( pos.x / ( that.size[ 0 ] * 0.5 - margin ), -1, 1 ),\r\n                LX.clamp( pos.y / ( that.size[ 1 ] * 0.5 - margin ), -1, 1 )\r\n            );\r\n\r\n            if( that.circular )\r\n            {\r\n                const center = new vec2( 0, 0 );\r\n                const dist = cpos.dst( center );\r\n                if( dist > 1 )\r\n                {\r\n                    cpos = cpos.nrm();\r\n                }\r\n            }\r\n\r\n            that.renderToCanvas( that.canvas.getContext( \"2d\", { willReadFrequently: true } ) );\r\n\r\n            that.computeWeights( cpos );\r\n\r\n            if( that.callback )\r\n            {\r\n                that.callback( that.weightsObj, that.weights, cpos );\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        function innerMouseUp( e: MouseEvent )\r\n        {\r\n            that.dragging = false;\r\n\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener(\"mouseup\", innerMouseUp);\r\n            doc.removeEventListener(\"mousemove\", innerMouseMove);\r\n        }\r\n\r\n        this.canvas = document.createElement( \"canvas\" );\r\n        this.canvas.width = this.size[ 0 ];\r\n        this.canvas.height = this.size[ 1 ];\r\n        this.root.appendChild( this.canvas );\r\n\r\n        const ctx = this.canvas.getContext( \"2d\", { willReadFrequently: true } );\r\n        this.renderToCanvas( ctx );\r\n    }\r\n\r\n    /**\r\n     * @method computeWeights\r\n     * @param {vec2} p\r\n     * @description Iterate for every cell to see if our point is nearer to the cell than the nearest point of the cell,\r\n     * If that is the case we increase the weight of the nearest point. At the end we normalize the weights of the points by the number of near points\r\n     * and that give us the weight for every point\r\n     */\r\n\r\n    computeWeights( p: vec2 )\r\n    {\r\n        if( !this.points.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let values = this._precomputedWeights;\r\n        if( !values || this._valuesChanged )\r\n        {\r\n            values = this.precomputeWeights();\r\n        }\r\n\r\n        let weights = this.weights;\r\n        weights.length = this.points.length;\r\n        for(var i = 0; i < weights.length; ++i)\r\n        {\r\n            weights[ i ] = 0;\r\n        }\r\n\r\n        const gridSize = CanvasMap2D.GRID_SIZE;\r\n\r\n        let totalInside = 0;\r\n        let pos2 = new vec2();\r\n\r\n        for( var y = 0; y < gridSize; ++y )\r\n        {\r\n            for( var x = 0; x < gridSize; ++x )\r\n            {\r\n                pos2.set( ( x / gridSize) * 2 - 1, ( y / gridSize ) * 2 - 1 );\r\n\r\n                var dataPos = x * 2 + y * gridSize * 2;\r\n                var pointIdx = values[ dataPos ];\r\n\r\n                var isInside = p.dst( pos2 ) < ( values[ dataPos + 1] + 0.001 ); // epsilon\r\n                if( isInside )\r\n                {\r\n                    weights[ pointIdx ] += 1;\r\n                    totalInside++;\r\n                }\r\n            }\r\n        }\r\n\r\n        for( var i = 0; i < weights.length; ++i )\r\n        {\r\n            weights[ i ] /= totalInside;\r\n            this.weightsObj[ this.points[ i ].name ] = weights[ i ];\r\n        }\r\n\r\n        return weights;\r\n    }\r\n\r\n    /**\r\n     * @method precomputeWeights\r\n     * @description Precompute for every cell, which is the closest point of the points set and how far it is from the center of the cell\r\n     * We store point index and distance in this._precomputedWeights. This is done only when the points set change\r\n     */\r\n\r\n    precomputeWeights()\r\n    {\r\n        this._valuesChanged = false;\r\n\r\n        const numPoints = this.points.length;\r\n        const gridSize = CanvasMap2D.GRID_SIZE;\r\n        const totalNums = 2 * gridSize * gridSize;\r\n\r\n        let position = new vec2();\r\n\r\n        if( !this._precomputedWeights || this._precomputedWeights.length != totalNums )\r\n        {\r\n            this._precomputedWeights = new Float32Array( totalNums );\r\n        }\r\n\r\n        let values = this._precomputedWeights;\r\n        this._precomputedWeightsGridSize = gridSize;\r\n\r\n        for( let y = 0; y < gridSize; ++y )\r\n        {\r\n            for( let x = 0; x < gridSize; ++x )\r\n            {\r\n                let nearest = -1;\r\n                let minDistance = 100000;\r\n\r\n                for( let i = 0; i < numPoints; ++i )\r\n                {\r\n                    position.set( ( x / gridSize ) * 2 - 1, ( y / gridSize ) * 2 - 1 );\r\n\r\n                    let pointPosition = new vec2();\r\n                    pointPosition.fromArray( this.points[ i ].pos );\r\n                    let dist = position.dst( pointPosition );\r\n                    if( dist > minDistance )\r\n                    {\r\n                        continue;\r\n                    }\r\n\r\n                    nearest = i;\r\n                    minDistance = dist;\r\n                }\r\n\r\n                values[ x * 2 + y * 2 * gridSize ] = nearest;\r\n                values[ x * 2 + y * 2 * gridSize + 1 ] = minDistance;\r\n            }\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    /**\r\n     * @method precomputeWeightsToImage\r\n     * @param {vec2} p\r\n     */\r\n\r\n    precomputeWeightsToImage( p: vec2 )\r\n    {\r\n        if( !this.points.length )\r\n        {\r\n            return null;\r\n        }\r\n\r\n        const gridSize = CanvasMap2D.GRID_SIZE;\r\n        var values = this._precomputedWeights;\r\n        if( !values || this._valuesChanged || this._precomputedWeightsGridSize != gridSize )\r\n        {\r\n            values = this.precomputeWeights();\r\n        }\r\n\r\n        var canvas = this.imageCanvas;\r\n        if( !canvas )\r\n        {\r\n            canvas = this.imageCanvas = document.createElement( \"canvas\" );\r\n        }\r\n\r\n        canvas.width = canvas.height = gridSize;\r\n        var ctx = canvas.getContext( \"2d\", { willReadFrequently: true } );\r\n        if( !ctx )\r\n        {\r\n            return;\r\n        }\r\n\r\n        var weights = this.weights;\r\n        weights.length = this.points.length;\r\n        for (var i = 0; i < weights.length; ++i)\r\n        {\r\n            weights[ i ] = 0;\r\n        }\r\n\r\n        let totalInside = 0;\r\n        let pixels = ctx.getImageData( 0, 0, gridSize, gridSize );\r\n        let pos2 = new vec2();\r\n\r\n        for( var y = 0; y < gridSize; ++y )\r\n        {\r\n            for( var x = 0; x < gridSize; ++x )\r\n            {\r\n                pos2.set( ( x / gridSize ) * 2 - 1, ( y / gridSize ) * 2 - 1 );\r\n\r\n                const pixelPos = x * 4 + y * gridSize * 4;\r\n                const dataPos = x * 2 + y * gridSize * 2;\r\n                const pointIdx = values[ dataPos ];\r\n                const c = CanvasMap2D.COLORS[ pointIdx % CanvasMap2D.COLORS.length ];\r\n\r\n                var isInside = p.dst( pos2 ) < ( values[ dataPos + 1 ] + 0.001 );\r\n                if( isInside )\r\n                {\r\n                    weights[ pointIdx ] += 1;\r\n                    totalInside++;\r\n                }\r\n\r\n                pixels.data[ pixelPos ] = c[ 0 ] + ( isInside ? 128 : 0 );\r\n                pixels.data[ pixelPos + 1 ] = c[ 1 ] + ( isInside ? 128 : 0 );\r\n                pixels.data[ pixelPos + 2 ] = c[ 2 ] + ( isInside ? 128 : 0 );\r\n                pixels.data[ pixelPos + 3 ] = 255;\r\n            }\r\n        }\r\n\r\n        for( let i = 0; i < weights.length; ++i )\r\n        {\r\n            weights[ i ] /= totalInside;\r\n        }\r\n\r\n        ctx.putImageData( pixels, 0, 0 );\r\n        return canvas;\r\n    }\r\n\r\n    addPoint( name: string, pos: number[] | null = null )\r\n    {\r\n        if( this.findPoint( name ) )\r\n        {\r\n            console.warn(\"CanvasMap2D.addPoint: There is already a point with that name\" );\r\n            return;\r\n        }\r\n\r\n        if( !pos )\r\n        {\r\n            pos = [ this.currentPosition.x, this.currentPosition.y ];\r\n        }\r\n\r\n        pos[ 0 ] = LX.clamp( pos[ 0 ], -1, 1 );\r\n        pos[ 1 ] = LX.clamp( pos[ 1 ], -1, 1 );\r\n\r\n        const point = { name, pos };\r\n        this.points.push( point );\r\n        this._valuesChanged = true;\r\n        return point;\r\n    }\r\n\r\n    removePoint( name: string )\r\n    {\r\n        const removeIdx = this.points.findIndex( ( p ) => p.name == name );\r\n        if( removeIdx > -1 )\r\n        {\r\n            this.points.splice( removeIdx, 1 );\r\n            this._valuesChanged = true;\r\n        }\r\n    }\r\n\r\n    findPoint( name: string )\r\n    {\r\n        return this.points.find( p => p.name == name );\r\n    }\r\n\r\n    clear()\r\n    {\r\n        this.points.length = 0;\r\n        this._precomputedWeights = null;\r\n        this._selectedPoint = null;\r\n    }\r\n\r\n    renderToCanvas( ctx: CanvasRenderingContext2D | null )\r\n    {\r\n        if( !ctx )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const margin = this.margin;\r\n        const w = this.size[ 0 ];\r\n        const h = this.size[ 1 ];\r\n\r\n        ctx.fillStyle = \"black\";\r\n        ctx.strokeStyle = \"#BBB\";\r\n\r\n        ctx.clearRect( 0, 0, w, h );\r\n\r\n        if( this.circular )\r\n        {\r\n            this.circleCenter[ 0 ] = w * 0.5;\r\n            this.circleCenter[ 1 ] = h * 0.5;\r\n            this.circleRadius = h * 0.5 - margin;\r\n\r\n            ctx.lineWidth = 1;\r\n            ctx.beginPath();\r\n            ctx.arc( this.circleCenter[ 0 ], this.circleCenter[ 1 ], this.circleRadius, 0, Math.PI * 2 );\r\n            ctx.fill();\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n            ctx.moveTo( this.circleCenter[ 0 ] + 0.5, this.circleCenter[ 1 ] - this.circleRadius );\r\n            ctx.lineTo( this.circleCenter[ 0 ] + 0.5, this.circleCenter[ 1 ] + this.circleRadius );\r\n            ctx.moveTo( this.circleCenter[ 0 ] - this.circleRadius, this.circleCenter[ 1 ]);\r\n            ctx.lineTo( this.circleCenter[ 0 ] + this.circleRadius, this.circleCenter[ 1 ]);\r\n            ctx.stroke();\r\n        }\r\n        else\r\n        {\r\n            ctx.fillRect( margin, margin, w - margin * 2, h - margin * 2 );\r\n            ctx.strokeRect( margin, margin, w - margin * 2, h - margin * 2 );\r\n        }\r\n\r\n        var image = this.precomputeWeightsToImage( this.currentPosition );\r\n        if( image )\r\n        {\r\n            ctx.globalAlpha = 0.5;\r\n            ctx.imageSmoothingEnabled = false;\r\n            if( this.circular )\r\n            {\r\n                ctx.save();\r\n                ctx.beginPath();\r\n                ctx.arc( this.circleCenter[ 0 ], this.circleCenter[ 1 ], this.circleRadius, 0, Math.PI * 2 );\r\n                ctx.clip();\r\n                ctx.drawImage( image, this.circleCenter[ 0 ] - this.circleRadius, this.circleCenter[ 1 ] - this.circleRadius, this.circleRadius * 2, this.circleRadius * 2 );\r\n                ctx.restore();\r\n            }\r\n            else\r\n            {\r\n                ctx.drawImage( image, margin, margin, w - margin * 2, h - margin * 2 );\r\n            }\r\n            ctx.imageSmoothingEnabled = true;\r\n            ctx.globalAlpha = 1;\r\n        }\r\n\r\n        for( let i = 0; i < this.points.length; ++i )\r\n        {\r\n            const point = this.points[ i ];\r\n            let x = point.pos[ 0 ] * 0.5 + 0.5;\r\n            let y = point.pos[ 1 ] * 0.5 + 0.5;\r\n            x = x * ( w - margin * 2 ) + margin;\r\n            y = y * ( h - margin * 2 ) + margin;\r\n            x = LX.clamp( x, margin, w - margin );\r\n            y = LX.clamp( y, margin, h - margin );\r\n            ctx.fillStyle = ( point == this._selectedPoint ) ? \"#CDF\" : \"#BCD\";\r\n            ctx.beginPath();\r\n            ctx.arc( x, y, 3, 0, Math.PI * 2 );\r\n            ctx.fill();\r\n            if( this.showNames )\r\n            {\r\n                ctx.fillText( point.name, x + 5, y + 5 );\r\n            }\r\n        }\r\n\r\n        ctx.fillStyle = \"white\";\r\n        ctx.beginPath();\r\n        var x = this.currentPosition.x * 0.5 + 0.5;\r\n        var y = this.currentPosition.y * 0.5 + 0.5;\r\n        x = x * ( w - margin * 2 ) + margin;\r\n        y = y * ( h - margin * 2 ) + margin;\r\n        x = LX.clamp( x, margin, w - margin );\r\n        y = LX.clamp( y, margin, h - margin );\r\n        ctx.arc( x, y, 4, 0, Math.PI * 2 );\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\nLX.CanvasMap2D = CanvasMap2D;","// Map2D.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { CanvasMap2D } from './CanvasMap2D';\r\nimport { Button } from './Button';\r\nimport { Popover } from './Popover';\r\n\r\n/**\r\n * @class Map2D\r\n * @description Map2D Component\r\n */\r\n\r\nexport class Map2D extends BaseComponent\r\n{\r\n    map2d: CanvasMap2D;\r\n    _popover: Popover | null = null;\r\n\r\n    constructor( name: string, points: any[], callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.MAP2D, name, null, options );\r\n\r\n        this.onGetValue = () => {\r\n            return this.map2d.weightsObj;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            // if( !skipCallback )\r\n            // {\r\n            //     this._trigger( new IEvent( name, curveInstance.element.value, event ), callback );\r\n            // }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement( \"div\" );\r\n        container.className = \"lexmap2d\";\r\n        this.root.appendChild( container );\r\n\r\n        this.map2d = new CanvasMap2D( points, callback, options );\r\n\r\n        const calendarIcon = LX.makeIcon( \"SquareMousePointer\" );\r\n        const calendarButton = new Button( null, \"Open Map\", () => {\r\n            this._popover = new Popover( calendarButton.root, [ this.map2d ] );\r\n        }, { buttonClass: `flex flex-row px-3 fg-secondary justify-between` } );\r\n\r\n        calendarButton.root.querySelector( \"button\" ).appendChild( calendarIcon );\r\n        container.appendChild( calendarButton.root );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Map2D = Map2D;","// Calendar.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\nexport class Calendar {\r\n\r\n    /**\r\n     * @constructor Calendar\r\n     * @param {String} dateString D/M/Y\r\n     * @param {Object} options\r\n     */\r\n\r\n    root: HTMLElement;\r\n\r\n    day: number = -1;\r\n    month: number = -1;\r\n    year: number = -1;\r\n    monthName: string = \"\";\r\n    firstDay: number = -1;\r\n    daysInMonth: number = -1;\r\n    calendarDays: any[] = [];\r\n    currentDate: any;\r\n    range: string[];\r\n\r\n    untilToday: boolean;\r\n    fromToday: boolean;\r\n    skipPrevMonth: boolean;\r\n    skipNextMonth: boolean;\r\n    \r\n    onChange: any;\r\n    onPreviousMonth: any;\r\n    onNextMonth: any;\r\n\r\n    constructor( dateString?: string, options: any = {} )\r\n    {\r\n        this.root = LX.makeContainer( [\"256px\", \"auto\"], \"p-1 text-md\" );\r\n\r\n        this.onChange = options.onChange;\r\n        this.onPreviousMonth = options.onPreviousMonth;\r\n        this.onNextMonth = options.onNextMonth;\r\n\r\n        this.untilToday = options.untilToday;\r\n        this.fromToday = options.fromToday;\r\n        this.range = options.range;\r\n\r\n        this.skipPrevMonth = options.skipPrevMonth;\r\n        this.skipNextMonth = options.skipNextMonth;\r\n\r\n        if( dateString )\r\n        {\r\n            this.fromDateString( dateString );\r\n        }\r\n        else\r\n        {\r\n            const date = new Date();\r\n            this.month = date.getMonth() + 1;\r\n            this.year = date.getFullYear();\r\n            this.fromMonthYear( this.month, this.year );\r\n        }\r\n    }\r\n\r\n    _getCurrentDate()\r\n    {\r\n        return {\r\n            day: this.day,\r\n            month: this.month,\r\n            year: this.year,\r\n            fullDate: this.getFullDate()\r\n        }\r\n    }\r\n\r\n    _previousMonth( skipCallback?: boolean )\r\n    {\r\n        this.month = Math.max( 1, this.month - 1 );\r\n\r\n        if( this.month == 1 )\r\n        {\r\n            this.month = 12;\r\n            this.year--;\r\n        }\r\n\r\n        this.fromMonthYear( this.month, this.year );\r\n\r\n        if( !skipCallback && this.onPreviousMonth )\r\n        {\r\n            this.onPreviousMonth( this.currentDate );\r\n        }\r\n    }\r\n\r\n    _nextMonth( skipCallback?: boolean )\r\n    {\r\n        this.month = Math.min( this.month + 1, 13 );\r\n\r\n        if( this.month == 13 )\r\n        {\r\n            this.month = 1;\r\n            this.year++;\r\n        }\r\n\r\n        this.fromMonthYear( this.month, this.year );\r\n\r\n        if( !skipCallback && this.onNextMonth )\r\n        {\r\n            this.onNextMonth( this.currentDate );\r\n        }\r\n    }\r\n\r\n    refresh()\r\n    {\r\n        this.root.innerHTML = \"\";\r\n\r\n        // Header\r\n        {\r\n            const header = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row p-1\", \"\", this.root );\r\n\r\n            if( !this.skipPrevMonth )\r\n            {\r\n                const prevMonthIcon = LX.makeIcon( \"Left\", { title: \"Previous Month\", iconClass: \"border p-1 rounded hover:bg-secondary\", svgClass: \"sm\" } );\r\n                header.appendChild( prevMonthIcon );\r\n                prevMonthIcon.addEventListener( \"click\", () => {\r\n                    this._previousMonth();\r\n                } );\r\n            }\r\n\r\n            const monthYearLabel = LX.makeContainer( [\"100%\", \"auto\"], \"text-center font-medium select-none\", `${ this.monthName } ${ this.year }`, header );\r\n\r\n            if( !this.skipNextMonth )\r\n            {\r\n                const nextMonthIcon = LX.makeIcon( \"Right\", { title: \"Next Month\", iconClass: \"border p-1 rounded hover:bg-secondary\", svgClass: \"sm\" } );\r\n                header.appendChild( nextMonthIcon );\r\n                nextMonthIcon.addEventListener( \"click\", () => {\r\n                    this._nextMonth();\r\n                } );\r\n            }\r\n        }\r\n\r\n        // Body\r\n        {\r\n            const daysTable = document.createElement( \"table\" );\r\n            daysTable.className = \"w-full\";\r\n            this.root.appendChild( daysTable );\r\n\r\n            // Table Head\r\n            {\r\n                const head = document.createElement( 'thead' );\r\n                daysTable.appendChild( head );\r\n\r\n                const hrow = document.createElement( 'tr' );\r\n\r\n                for( const headData of [ \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\" ] )\r\n                {\r\n                    const th = document.createElement( 'th' );\r\n                    th.className = \"fg-tertiary text-sm font-normal select-none\";\r\n                    th.innerHTML = `<span>${ headData }</span>`;\r\n                    hrow.appendChild( th );\r\n                }\r\n\r\n                head.appendChild( hrow );\r\n            }\r\n\r\n            // Table Body\r\n            {\r\n                const body = document.createElement( 'tbody' );\r\n                daysTable.appendChild( body );\r\n\r\n                let fromRangeDate = this.range ? LX.dateFromDateString( this.range[ 0 ] ) : null;\r\n                let toRangeDate = this.range ? LX.dateFromDateString( this.range[ 1 ] ) : null;\r\n\r\n                for( let week = 0; week < 6; week++ )\r\n                {\r\n                    const hrow = document.createElement( 'tr' );\r\n                    const weekDays = this.calendarDays.slice( week * 7, week * 7 + 7 );\r\n\r\n                    for( const dayData of weekDays )\r\n                    {\r\n                        const th = document.createElement( 'th' );\r\n                        th.className = \"leading-loose font-normal rounded select-none cursor-pointer\";\r\n\r\n                        const dayDate = new Date( `${ this.month }/${ dayData.day }/${ this.year }` );\r\n                        const date = new Date();\r\n                        // today inclusives\r\n                        const beforeToday = this.untilToday ? ( dayDate.getTime() < date.getTime() ) : true;\r\n                        const afterToday = this.fromToday ? ( dayDate.getFullYear() > date.getFullYear() ||\r\n                            (dayDate.getFullYear() === date.getFullYear() && dayDate.getMonth() > date.getMonth()) ||\r\n                            (dayDate.getFullYear() === date.getFullYear() && dayDate.getMonth() === date.getMonth() && dayDate.getDate() >= date.getDate())\r\n                        ) : true;\r\n                        const selectable = dayData.currentMonth && beforeToday && afterToday;\r\n                        const currentDay = this.currentDate && ( dayData.day == this.currentDate.day ) && ( this.month == this.currentDate.month )\r\n                            && ( this.year == this.currentDate.year ) && dayData.currentMonth;\r\n                        const currentFromRange = selectable && fromRangeDate && ( dayData.day == fromRangeDate.getDate() ) && ( this.month == ( fromRangeDate.getMonth() + 1 ) )\r\n                            && ( this.year == fromRangeDate.getFullYear() );\r\n                        const currentToRange = selectable && toRangeDate && ( dayData.day == toRangeDate.getDate() ) && ( this.month == ( toRangeDate.getMonth() + 1 ) )\r\n                            && ( this.year == toRangeDate.getFullYear() );\r\n\r\n                        if( ( !this.range && currentDay ) || this.range && ( currentFromRange || currentToRange ) )\r\n                        {\r\n                            th.className += ` bg-contrast fg-contrast`;\r\n                        }\r\n                        else if( this.range && selectable && ( dayDate > fromRangeDate ) && ( dayDate < toRangeDate ) )\r\n                        {\r\n                            th.className += ` bg-accent fg-contrast`;\r\n                        }\r\n                        else\r\n                        {\r\n                            th.className += ` ${ selectable ? \"fg-primary\" : \"fg-tertiary\" } hover:bg-secondary`;\r\n                        }\r\n\r\n                        th.innerHTML = `<span>${ dayData.day }</span>`;\r\n                        hrow.appendChild( th );\r\n\r\n                        if( selectable )\r\n                        {\r\n                            th.addEventListener( \"click\", () => {\r\n                                this.day = dayData.day;\r\n                                this.currentDate = this._getCurrentDate();\r\n                                if( this.onChange )\r\n                                {\r\n                                    this.onChange( this.currentDate );\r\n                                }\r\n                            } );\r\n                        }\r\n                        // This event should only be applied in non current month days\r\n                        else if( this.range === undefined && !dayData.currentMonth )\r\n                        {\r\n                            th.addEventListener( \"click\", () => {\r\n                                if( dayData?.prevMonth )\r\n                                {\r\n                                    this._previousMonth();\r\n                                }\r\n                                else\r\n                                {\r\n                                    this._nextMonth();\r\n                                }\r\n                            } );\r\n                        }\r\n                    }\r\n\r\n                    body.appendChild( hrow );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fromDateString( dateString: string )\r\n    {\r\n        const tokens = dateString.split( '/' );\r\n\r\n        this.day = parseInt( tokens[ 0 ] );\r\n        this.month = parseInt( tokens[ 1 ] );\r\n        this.monthName = this.getMonthName( this.month - 1 );\r\n        this.year = parseInt( tokens[ 2 ] );\r\n\r\n        this.currentDate = this._getCurrentDate();\r\n\r\n        this.fromMonthYear( this.month, this.year );\r\n    }\r\n\r\n    fromMonthYear( month: number, year?: number )\r\n    {\r\n        // Month is 0-based (0 = January, ... 11 = December)\r\n        month = Math.max( month - 1, 0 );\r\n        year = year ?? new Date().getFullYear();\r\n\r\n        const weekDay = new Date( year, month, 1 ).getDay();\r\n        const firstDay = weekDay === 0 ? 6 : weekDay - 1; // 0 = Monday, 1 = Tuesday...\r\n        const daysInMonth = new Date( year, month + 1, 0 ).getDate();\r\n\r\n        // Previous month\r\n        const prevMonth = month === 0 ? 11 : month - 1;\r\n        const prevYear = month === 0 ? year - 1 : year;\r\n        const daysInPrevMonth = new Date( prevYear, prevMonth + 1, 0 ).getDate();\r\n\r\n        // Prepare full grid (up to 6 weeks = 42 days)\r\n        const calendarDays = [];\r\n\r\n        // Fill in days from previous month\r\n        for( let i = firstDay - 1; i >= 0; i--)\r\n        {\r\n            calendarDays.push( { day: daysInPrevMonth - i, currentMonth: false, prevMonth: true } );\r\n        }\r\n\r\n        // Fill in current month days\r\n        for ( let i = 1; i <= daysInMonth; i++ )\r\n        {\r\n            calendarDays.push( { day: i, currentMonth: true } );\r\n        }\r\n\r\n        // Fill in next month days to complete the grid (if needed)\r\n        const remaining = 42 - calendarDays.length;\r\n        for( let i = 1; i <= remaining; i++ )\r\n        {\r\n            calendarDays.push( { day: i, currentMonth: false, nextMonth: true } );\r\n        }\r\n\r\n        this.monthName = this.getMonthName( month );\r\n        this.firstDay = firstDay;\r\n        this.daysInMonth = daysInMonth;\r\n        this.calendarDays = calendarDays;\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    getMonthName( monthIndex: number, locale = \"en-US\" )\r\n    {\r\n        const formatter = new Intl.DateTimeFormat( locale, { month: \"long\" } );\r\n        return formatter.format( new Date( 2000, monthIndex, 1 ) );\r\n    }\r\n\r\n    getFullDate( monthName?: string, day?: number, year?: number )\r\n    {\r\n        return `${ monthName ?? this.monthName } ${ day ?? this.day }${ this._getOrdinalSuffix( day ?? this.day ) }, ${ year ?? this.year }`;\r\n    }\r\n\r\n    setRange( range: string[] )\r\n    {\r\n        console.assert( range.constructor === Array, \"Date Range must be in Array format\" );\r\n        this.range = range;\r\n        this.refresh();\r\n    }\r\n\r\n    setMonth( month: number )\r\n    {\r\n        this.month = month;\r\n        this.fromMonthYear( this.month, this.year );\r\n    }\r\n\r\n    _getOrdinalSuffix( day: number )\r\n    {\r\n        if ( day > 3 && day < 21 ) return \"th\";\r\n        switch ( day % 10 )\r\n        {\r\n            case 1: return \"st\";\r\n            case 2: return \"nd\";\r\n            case 3: return \"rd\";\r\n            default: return \"th\";\r\n        }\r\n    }\r\n}\r\n\r\nLX.Calendar = Calendar;","// CalendarRange.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Calendar } from './Calendar';\r\n\r\nexport class CalendarRange {\r\n\r\n    /**\r\n     * @constructor CalendarRange\r\n     * @param {Array} range [\"DD/MM/YYYY\", \"DD/MM/YYYY\"]\r\n     * @param {Object} options\r\n     */\r\n\r\n    root: HTMLElement;\r\n\r\n    fromCalendar: Calendar;\r\n    toCalendar: Calendar;\r\n\r\n    from: string;\r\n    to: string;\r\n\r\n    _selectingRange: boolean = false;\r\n\r\n    constructor( range: string[], options: any = {} )\r\n    {\r\n        this.root = LX.makeContainer( [\"auto\", \"auto\"], \"flex flex-row\" );\r\n\r\n        console.assert( range && range.constructor === Array, \"Range cannot be empty and has to be an Array!\" );\r\n\r\n        let mustSetMonth = null;\r\n        let dateReversed = false;\r\n\r\n        // Fix any issues with date range picking\r\n        {\r\n            const t0 = LX.dateFromDateString( range[ 0 ] );\r\n            const t1 = LX.dateFromDateString( range[ 1 ] );\r\n\r\n            if( t0 > t1 )\r\n            {\r\n                const tmp = range[ 0 ];\r\n                range[ 0 ] = range[ 1 ];\r\n                range[ 1 ] = tmp;\r\n                dateReversed = true;\r\n            }\r\n\r\n            mustSetMonth = (dateReversed ? t1.getMonth() : t0.getMonth() ) + 2; // +1 to convert range, +1 to use next month\r\n        }\r\n\r\n        this.from = range[ 0 ];\r\n        this.to = range[ 1 ];\r\n\r\n        const onChange = ( date: any ) => {\r\n\r\n            const newDateString = `${ date.day }/${ date.month }/${ date.year }`;\r\n\r\n            if( !this._selectingRange )\r\n            {\r\n                this.from = this.to = newDateString;\r\n                this._selectingRange = true;\r\n            }\r\n            else\r\n            {\r\n                this.to = newDateString;\r\n                this._selectingRange = false;\r\n            }\r\n\r\n            const newRange = [ this.from, this.to ];\r\n\r\n            this.fromCalendar.setRange( newRange );\r\n            this.toCalendar.setRange( newRange );\r\n\r\n            if( options.onChange )\r\n            {\r\n                options.onChange( newRange );\r\n            }\r\n\r\n        };\r\n\r\n        this.fromCalendar = new Calendar( this.from, {\r\n            skipNextMonth: true,\r\n            onChange,\r\n            onPreviousMonth: () => {\r\n                this.toCalendar._previousMonth();\r\n            },\r\n            range\r\n        });\r\n\r\n        this.toCalendar = new Calendar( this.to, {\r\n            skipPrevMonth: true,\r\n            onChange,\r\n            onNextMonth: () => {\r\n                this.fromCalendar._nextMonth();\r\n            },\r\n            range\r\n        });\r\n\r\n        console.assert( mustSetMonth && \"New Month must be valid\" );\r\n        this.toCalendar.setMonth( mustSetMonth );\r\n\r\n        this.root.appendChild( this.fromCalendar.root );\r\n        this.root.appendChild( this.toCalendar.root );\r\n    }\r\n\r\n    getFullDate()\r\n    {\r\n        const d0 = LX.dateFromDateString( this.from );\r\n        const d0Month = this.fromCalendar.getMonthName( d0.getMonth() );\r\n\r\n        const d1 = LX.dateFromDateString( this.to );\r\n        const d1Month = this.toCalendar.getMonthName( d1.getMonth() );\r\n\r\n        return `${ this.fromCalendar.getFullDate( d0Month, d0.getDate(), d0.getFullYear() ) } to ${ this.toCalendar.getFullDate( d1Month, d1.getDate(), d1.getFullYear() ) }`;\r\n    }\r\n}\r\n\r\nLX.CalendarRange = CalendarRange;","// Pagination.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Button } from './Button';\r\nimport { Select } from './Select';\r\n\r\n/**\r\n * @class Pagination\r\n */\r\n\r\nexport class Pagination\r\n{\r\n    static ITEMS_PER_PAGE_VALUES: number[] = [ 8, 12, 24, 48, 96 ];\r\n\r\n    root: HTMLElement;\r\n    pagesRoot: HTMLElement;\r\n\r\n    page: number = 1;\r\n    pages: number = 1;\r\n\r\n    _alwaysShowEdges: boolean = true;\r\n    _useEllipsis: boolean = true;\r\n    _maxButtons: number = 3;\r\n    _itemsPerPage: number = 12;\r\n    _itemsPerPageValues: number[] = Pagination.ITEMS_PER_PAGE_VALUES;\r\n\r\n    onChange: (page: number) => void = () => {};\r\n    onItemsPerPageChange: (n: number) => void = () => {};\r\n\r\n    constructor( options: any = {} )\r\n    {\r\n        this.pages = options.pages ?? 1;\r\n        this.page = LX.clamp( options.page ?? 1, 1, this.pages );\r\n\r\n        this._alwaysShowEdges = options.alwaysShowEdges ?? this._alwaysShowEdges;\r\n        this._useEllipsis = options.useEllipsis ?? this._useEllipsis;\r\n        this._maxButtons = options.maxButtons ?? this._maxButtons;\r\n        this._itemsPerPage = options.itemsPerPage ?? this._itemsPerPage;\r\n\r\n        if( this._itemsPerPageValues.indexOf( this._itemsPerPage ) === -1 )\r\n        {\r\n            this._itemsPerPageValues.push( this._itemsPerPage );\r\n            this._itemsPerPageValues = this._itemsPerPageValues.sort( ( a: number, b: number ) =>\r\n            {\r\n                if( a < b ) return -1;\r\n                if( a > b ) return 1;\r\n                return 0;\r\n            });\r\n        }\r\n\r\n        if( typeof options.onChange === 'function' )\r\n        {\r\n            this.onChange = options.onChange;\r\n        }\r\n\r\n        if( typeof options.onItemsPerPageChange === 'function' )\r\n        {\r\n            this.onItemsPerPageChange = options.onItemsPerPageChange;\r\n        }\r\n\r\n        this.root = LX.makeContainer( [ \"auto\", \"auto\" ], \"flex flex-row gap-2 \" + ( options.className ?? \"\" ) );\r\n\r\n        if( options.allowChangeItemsPerPage ?? false )\r\n        {\r\n            const itemsPerPageSelectContainer = LX.makeContainer( [ \"auto\", \"auto\" ], \"flex flex-row items-center\", \"\", this.root );\r\n            const itemsPerPageSelect = new Select( null, Pagination.ITEMS_PER_PAGE_VALUES, this._itemsPerPage, ( v: number ) => {\r\n                this._itemsPerPage = v;\r\n                this.onItemsPerPageChange?.( this._itemsPerPage );\r\n            }, { overflowContainer: null } );\r\n            itemsPerPageSelectContainer.appendChild( itemsPerPageSelect.root );\r\n        }\r\n\r\n        this.pagesRoot = LX.makeContainer( [ \"auto\", \"auto\" ], \"flex flex-row overflow-scroll\", \"\", this.root );\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    setPage( n: number )\r\n    {\r\n        const newPage = LX.clamp( n, 1, this.pages );\r\n\r\n        if( newPage === this.page )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.page = newPage;\r\n        this.refresh();\r\n        this._emitChange();\r\n    }\r\n\r\n    setPages( n: number )\r\n    {\r\n        this.pages = Math.max( 1, n );\r\n\r\n        if( this.page > this.pages )\r\n        {\r\n            this.page = this.pages;\r\n        }\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    next()\r\n    {\r\n        this.setPage( this.page + 1 );\r\n    }\r\n\r\n    prev()\r\n    {\r\n        this.setPage( this.page - 1 );\r\n    }\r\n\r\n    refresh()\r\n    {\r\n        this.pagesRoot.innerHTML = \"\";\r\n\r\n        // Previous page button\r\n        this._makeButton( LX.makeIcon( \"ChevronLeft\" ).innerHTML, this.page === 1, () => this.prev(), `bg-none ${ this.page === 1 ? \"\" : \"hover:bg-tertiary\" }` );\r\n\r\n        const pagesContainer = LX.makeContainer( [ \"auto\", \"auto\" ], \"flex flex-row items-center\", \"\", this.pagesRoot );\r\n        const maxButtons = this._maxButtons + 2; // + next and prev\r\n        \r\n        if( this.pages <= maxButtons )\r\n        {\r\n            for( let i = 1; i <= this.pages; i++ )\r\n            {\r\n                this._makePageButton( pagesContainer, i );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const page = this.page;\r\n            const total = this.pages;\r\n\r\n            // Always show first and last pages and the middle cluster depends on current page!\r\n\r\n            const showFirst = 1;\r\n            const showLast = total;\r\n            const edgesOffset = this._alwaysShowEdges ? 1 : 0;\r\n            const clusterSize = maxButtons - 2; // reserve spots for first and last\r\n            const half = Math.floor( clusterSize / 2 );\r\n\r\n            let start = Math.max( 1 + edgesOffset, page - half );\r\n            let end   = Math.min( total - edgesOffset, page + half );\r\n\r\n            // Adjust cluster if too close to edges\r\n            if( start <= 2 )\r\n            {\r\n                start = 1 + edgesOffset;\r\n                end = start + clusterSize - 1;\r\n            }\r\n\r\n            if( end >= total - 1 )\r\n            {\r\n                end = total - edgesOffset;\r\n                start = end - clusterSize + 1;\r\n            }\r\n\r\n            // First page\r\n            if( this._alwaysShowEdges )\r\n            {\r\n                this._makePageButton( pagesContainer, showFirst );\r\n            }\r\n\r\n            // Ellipsis after first if needed\r\n            if( this._useEllipsis && start > 2 )\r\n            {\r\n                LX.makeElement( 'span', \"h-6 px-2 text-lg font-semibold whitespace-nowrap\", \"...\", pagesContainer );\r\n            }\r\n\r\n            // Page button cluster\r\n            for( let i = start; i <= end; i++ )\r\n            {\r\n                this._makePageButton( pagesContainer, i );\r\n            }\r\n\r\n            // Ellipsis before last if needed\r\n            if( this._useEllipsis && end < total - 1 )\r\n            {\r\n                LX.makeElement( 'span', \"h-6 px-2 text-lg font-semibold whitespace-nowrap\", \"...\", pagesContainer );\r\n            }\r\n\r\n            // Last page\r\n            if( this._alwaysShowEdges )\r\n            {\r\n                this._makePageButton( pagesContainer, showLast );\r\n            }\r\n        }\r\n\r\n        // Next page button\r\n        this._makeButton( LX.makeIcon( \"ChevronRight\" ).innerHTML, this.page === this.pages, () => this.next(), `bg-none ${ this.page === this.pages ? \"\" : \"hover:bg-tertiary\" }` );\r\n    }\r\n\r\n    _emitChange()\r\n    {\r\n        // Event callback\r\n        this.onChange?.( this.page );\r\n\r\n        // DOM event for DOM workflows?\r\n        this.root.dispatchEvent( new CustomEvent( 'change', {\r\n            detail: { page: this.page }\r\n        }));\r\n    }\r\n\r\n    _makeButton( label: string, disabled: boolean, onclick: () => void, buttonClass?: string, parent?: HTMLElement )\r\n    {\r\n        const btn = new Button( null, label, onclick, { disabled, buttonClass } );\r\n        btn.root.querySelector( \"button\" ).style.paddingInline = \"0.5rem\";\r\n\r\n        parent = parent ?? this.pagesRoot;\r\n        parent.appendChild( btn.root );\r\n\r\n        return btn.root;\r\n    }\r\n\r\n    _makePageButton( container: HTMLElement, i: number )\r\n    {\r\n        const buttonClass = i === this.page ? \"bg-secondary border\" : \"bg-none\";\r\n        return this._makeButton( String( i ), false, () => this.setPage( i ), buttonClass, container );\r\n    }\r\n};\r\n\r\nLX.Pagination = Pagination;","// Rate.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\nimport { TextInput } from './TextInput';\r\nimport { Popover } from './Popover';\r\nimport { CalendarRange } from './CalendarRange';\r\nimport { Pagination } from './Pagination';\r\n\r\n/**\r\n * @class Table\r\n * @description Table Component\r\n */\r\n\r\nexport class Table extends BaseComponent\r\n{\r\n    data: any;\r\n    filter: string | false;\r\n    customFilters: any[] | null;\r\n    activeCustomFilters: any;\r\n    rowOffsetCount: number = 0;\r\n\r\n    _currentFilter: string | undefined;\r\n    _toggleColumns: boolean;\r\n    _sortColumns: boolean;\r\n    _resetCustomFiltersBtn: Button | null = null;\r\n    _hiddenColumns: any[] = [];\r\n    _paginator: Pagination | undefined;\r\n    _showSelectedNumber: boolean;\r\n\r\n    private _centered: any;\r\n    get centered(): any { return this._centered; }\r\n    set centered( v: any ) { this._setCentered( v ); }\r\n\r\n    private _rowsPerPage: number = -1;\r\n    get rowsPerPage(): any { return this._rowsPerPage; }\r\n    set rowsPerPage( v: any ) { this._setRowsPerPage( v ); }\r\n\r\n    constructor( name: string, data: any, options: any = {} )\r\n    {\r\n        if( !data )\r\n        {\r\n            throw( \"Data is needed to create a table!\" );\r\n        }\r\n\r\n        super( ComponentType.TABLE, name, null, options );\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const container = document.createElement('div');\r\n        container.className = \"lextable\";\r\n        this.root.appendChild( container );\r\n\r\n        this._centered = options.centered ?? false;\r\n        if( this._centered === true )\r\n        {\r\n            container.classList.add( \"centered\" );\r\n        }\r\n\r\n        this.data = data;\r\n        this.filter = options.filter ?? false;\r\n        this.customFilters = options.customFilters;\r\n        this.activeCustomFilters = {};\r\n        this._toggleColumns = options.toggleColumns ?? false;\r\n        this._sortColumns = options.sortColumns ?? true;\r\n        this._showSelectedNumber = options.showSelectedNumber ?? true;\r\n        this._currentFilter = options.filterValue;\r\n        this._hiddenColumns = options.hiddenColumns ?? [];\r\n\r\n        data.head = data.head ?? [];\r\n        data.body = data.body ?? [];\r\n        data.checkMap = { };\r\n        data.colVisibilityMap = { };\r\n        data.head.forEach( ( colName: any, index: number ) =>\r\n        {\r\n            const idx = this._hiddenColumns.indexOf( colName );\r\n            const visible = ( !this._toggleColumns ) || ( idx === -1 );\r\n            data.colVisibilityMap[ index ] = visible;\r\n        })\r\n\r\n        if( options.pagination ?? false )\r\n        {\r\n            this._rowsPerPage = options.rowsPerPage ?? 12;\r\n\r\n            this._paginator = new Pagination( {\r\n                pages: this._getNumPages(),\r\n                itemsPerPage: this._rowsPerPage,\r\n                allowChangeItemsPerPage: options.allowChangeItemsPerPage ?? true,\r\n                onChange: this._onChangePage.bind( this ),\r\n                onItemsPerPageChange: ( v: number ) =>\r\n                {\r\n                    this.rowsPerPage = v;\r\n                }\r\n            } );\r\n        }\r\n\r\n        const getDate = ( text: string ): Date | null =>\r\n        {\r\n            // Match DD/MM/YYYY or DD-MM-YYYY\r\n            const m = text.match(/^(\\d{1,2})[\\/-](\\d{1,2})[\\/-](\\d{2}|\\d{4})$/);\r\n            if( !m ) return null;\r\n\r\n            let day = Number( m[ 1 ] );\r\n            let month = Number( m[ 2 ] ) - 1; // JS months: 0-11\r\n            let year = Number( m[ 3 ] );\r\n\r\n            // Convert YY  20YY\r\n            if( year < 100 ) year += 2000;\r\n\r\n            const d = new Date( year, month, day );\r\n\r\n            // Validate (to avoid things like 32/13/2025 becoming valid)\r\n            if( d.getFullYear() !== year || d.getMonth() !== month || d.getDate() !== day )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return d;\r\n        };\r\n\r\n        const compareFn = ( idx: number, order: number, a: any, b: any ) =>\r\n        {\r\n            const va = a[ idx ];\r\n            const vb = b[ idx ];\r\n\r\n            // Date sort\r\n            const da = getDate( va );\r\n            const db = getDate( vb );\r\n            if( da && db )\r\n            {\r\n                if( da.getTime() < db.getTime() ) return -order;\r\n                if( da.getTime() > db.getTime() ) return order;\r\n                return 0;\r\n            }\r\n\r\n            // Number sort\r\n            const na = Number( va );\r\n            const nb = Number( vb );\r\n            if( !isNaN( na ) && !isNaN( nb ) )\r\n            {\r\n                if( na < nb ) return -order;\r\n                if( na > nb ) return order;\r\n                return 0;\r\n            }\r\n\r\n            // String sort\r\n            if( va < vb ) return -order;\r\n            else if( va > vb ) return order;\r\n            return 0;\r\n        }\r\n\r\n        const sortFn = ( idx: number, sign: number ) =>\r\n        {\r\n            data.body = data.body.sort( compareFn.bind( this, idx, sign ) );\r\n            this.refresh();\r\n        }\r\n\r\n        const that = this;\r\n\r\n        // Append header\r\n        if( this.filter || this.customFilters || this._toggleColumns )\r\n        {\r\n            const headerContainer = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex flex-row mb-2\" );\r\n\r\n            if( this.filter )\r\n            {\r\n                const filterOptions = LX.deepCopy( options );\r\n                filterOptions.placeholder = `Filter ${ this.filter }...`;\r\n                filterOptions.skipComponent = true;\r\n                filterOptions.trigger = \"input\";\r\n                filterOptions.inputClass = \"outline\";\r\n\r\n                let filter = new TextInput(null, this._currentFilter ?? \"\", ( v: string ) => {\r\n                    this._currentFilter = v;\r\n                    this.refresh();\r\n                }, filterOptions );\r\n\r\n                headerContainer.appendChild( filter.root );\r\n            }\r\n\r\n            if( this.customFilters !== null )\r\n            {\r\n                const icon = LX.makeIcon( \"CirclePlus\", { svgClass: \"sm\" } );\r\n                const separatorHtml = `<div class=\"lexcontainer border-right self-center mx-1\" style=\"width: 1px; height: 70%;\"></div>`;\r\n\r\n                for( let f of this.customFilters )\r\n                {\r\n                    f.component = new Button(null, icon.innerHTML + f.name, ( v: any ) => {\r\n\r\n                        const spanName = f.component.root.querySelector( \"span\" );\r\n\r\n                        if( f.options )\r\n                        {\r\n                            const menuOptions = f.options.map( ( colName: string, idx: number ) => {\r\n                                const item = {\r\n                                    name: colName,\r\n                                    checked:  !!this.activeCustomFilters[ colName ],\r\n                                    callback: ( key: string, v: boolean, dom: HTMLElement) => {\r\n                                        if( v ) { this.activeCustomFilters[ key ] = f.name; }\r\n                                        else {\r\n                                            delete this.activeCustomFilters[ key ];\r\n                                        }\r\n                                        const activeFilters = Object.keys( this.activeCustomFilters ).filter(  k => this.activeCustomFilters[ k ] == f.name );\r\n                                        const filterBadgesHtml = activeFilters.reduce( ( acc, key ) => acc += LX.badge( key, \"bg-tertiary fg-secondary text-sm border-0\" ), \"\" );\r\n                                        spanName.innerHTML = icon.innerHTML + f.name + ( activeFilters.length ? separatorHtml : \"\" ) + filterBadgesHtml;\r\n                                        this.refresh();\r\n                                    }\r\n                                }\r\n                                return item;\r\n                            } );\r\n                            LX.addDropdownMenu( f.component.root, menuOptions, { side: \"bottom\", align: \"start\" });\r\n                        }\r\n                        else if( f.type == \"range\" )\r\n                        {\r\n                            console.assert( f.min != undefined && f.max != undefined, \"Range filter needs min and max values!\" );\r\n                            const container = LX.makeContainer( [\"240px\", \"auto\"], \"text-md\" );\r\n                            const panel: any = new LX.Panel();\r\n                            LX.makeContainer( [\"100%\", \"auto\"], \"px-3 p-2 pb-0 text-md font-medium\", f.name, container );\r\n\r\n                            f.start = f.start ?? f.min;\r\n                            f.end = f.end ?? f.max;\r\n\r\n                            panel.refresh = () => {\r\n                                panel.clear();\r\n                                panel.sameLine( 2, \"justify-center\" );\r\n                                panel.addNumber( null, f.start, ( v: number ) => {\r\n                                    f.start = v;\r\n                                    const inUse = ( f.start != f.min || f.end != f.max );\r\n                                    spanName.innerHTML = icon.innerHTML + f.name + ( inUse ? separatorHtml + LX.badge( `${ f.start } - ${ f.end } ${ f.units ?? \"\" }`, \"bg-tertiary fg-secondary text-sm border-0\" ) : \"\" );\r\n                                    if( inUse ) this._resetCustomFiltersBtn?.root.classList.remove( \"hidden\" );\r\n                                    this.refresh();\r\n                                }, { skipSlider: true, min: f.min, max: f.max, step: f.step, units: f.units } );\r\n                                panel.addNumber( null, f.end, ( v: number ) => {\r\n                                    f.end = v;\r\n                                    const inUse = ( f.start != f.min || f.end != f.max );\r\n                                    spanName.innerHTML = icon.innerHTML + f.name + ( inUse ? separatorHtml + LX.badge( `${ f.start } - ${ f.end } ${ f.units ?? \"\" }`, \"bg-tertiary fg-secondary text-sm border-0\" ) : \"\" );\r\n                                    if( inUse ) this._resetCustomFiltersBtn?.root.classList.remove( \"hidden\" );\r\n                                    this.refresh();\r\n                                }, { skipSlider: true, min: f.min, max: f.max, step: f.step, units: f.units } );\r\n                                panel.addButton( null, \"Reset\", () => {\r\n                                    f.start = f.min;\r\n                                    f.end = f.max;\r\n                                    spanName.innerHTML = icon.innerHTML + f.name;\r\n                                    panel.refresh();\r\n                                    this.refresh();\r\n                                }, { buttonClass: \"contrast\" } );\r\n                            }\r\n                            panel.refresh();\r\n                            container.appendChild( panel.root );\r\n                            new Popover( f.component.root, [ container ], { side: \"bottom\" } );\r\n                        }\r\n                        else if( f.type == \"date\" )\r\n                        {\r\n                            const container = LX.makeContainer( [\"auto\", \"auto\"], \"text-md\" );\r\n                            const panel: any = new LX.Panel();\r\n                            LX.makeContainer( [\"100%\", \"auto\"], \"px-3 p-2 pb-0 text-md font-medium\", f.name, container );\r\n\r\n                            panel.refresh = () => {\r\n                                panel.clear();\r\n\r\n                                // Generate default value once the filter is used\r\n                                if( !f.default )\r\n                                {\r\n                                    const date = new Date();\r\n                                    const todayStringDate = `${ date.getDate() }/${ date.getMonth() + 1 }/${ date.getFullYear() }`;\r\n                                    f.default = [ todayStringDate, todayStringDate ];\r\n                                }\r\n\r\n                                const calendar = new CalendarRange( f.value ?? f.default, {\r\n                                    onChange: ( dateRange: any ) => {\r\n                                        f.value = dateRange;\r\n                                        spanName.innerHTML = icon.innerHTML + f.name + ( separatorHtml + LX.badge( `${ calendar.getFullDate() }`, \"bg-tertiary fg-secondary text-sm border-0\" ) );\r\n                                        this._resetCustomFiltersBtn?.root.classList.remove( \"hidden\" );\r\n                                        this.refresh();\r\n                                    }\r\n                                });\r\n\r\n                                panel.attach( calendar );\r\n                            }\r\n                            panel.refresh();\r\n                            container.appendChild( panel.root );\r\n                            new Popover( f.component.root, [ container ], { side: \"bottom\" } );\r\n                        }\r\n\r\n                    }, { buttonClass: \"px-2 primary dashed\" } );\r\n                    headerContainer.appendChild( f.component.root );\r\n                }\r\n\r\n                this._resetCustomFiltersBtn = new Button(null, \"resetButton\", () => {\r\n                    this.activeCustomFilters = {};\r\n                    this._resetCustomFiltersBtn?.root.classList.add( \"hidden\" );\r\n                    for( let f of this.customFilters ?? [] )\r\n                    {\r\n                        f.component.root.querySelector( \"span\" ).innerHTML = ( icon.innerHTML + f.name );\r\n                        if( f.type == \"range\" )\r\n                        {\r\n                            f.start = f.min;\r\n                            f.end = f.max;\r\n                        }\r\n                        else if( f.type == \"date\" )\r\n                        {\r\n                            delete f.value;\r\n                        }\r\n                    }\r\n                    this.refresh();\r\n                }, { title: \"Reset filters\", tooltip: true, icon: \"X\" } );\r\n                headerContainer.appendChild( this._resetCustomFiltersBtn?.root );\r\n                this._resetCustomFiltersBtn?.root.classList.add( \"hidden\" );\r\n            }\r\n\r\n            if( this._toggleColumns )\r\n            {\r\n                const icon = LX.makeIcon( \"Settings2\" );\r\n                const toggleColumnsBtn = new Button( \"toggleColumnsBtn\", icon.innerHTML + \"View\", ( value: any, e: any ) => {\r\n                    const menuOptions = data.head.map( ( colName: string, idx: number ) => {\r\n                        const item: any = {\r\n                            name: colName,\r\n                            icon: \"Check\",\r\n                            callback: () => {\r\n                                data.colVisibilityMap[ idx ] = !data.colVisibilityMap[ idx ];\r\n                                const cells = table.querySelectorAll( `tr > *:nth-child(${idx + this.rowOffsetCount + 1})` );\r\n                                cells.forEach( ( cell: any ) => {\r\n                                    cell.style.display = ( cell.style.display === \"none\" ) ? \"\" : \"none\";\r\n                                } );\r\n                            }\r\n                        }\r\n                        if( !data.colVisibilityMap[ idx ] ) delete item.icon;\r\n                        return item;\r\n                    } );\r\n                    LX.addDropdownMenu( e.target, menuOptions, { side: \"bottom\", align: \"end\" });\r\n                }, { hideName: true } );\r\n                headerContainer.appendChild( toggleColumnsBtn.root );\r\n                toggleColumnsBtn.root.style.marginLeft = \"auto\";\r\n            }\r\n\r\n            container.appendChild( headerContainer );\r\n        }\r\n\r\n        const table = document.createElement( 'table' );\r\n        LX.addClass( table, options.tableClass );\r\n        container.appendChild( table );\r\n\r\n        this.refresh = () => {\r\n\r\n            this._currentFilter = this._currentFilter ?? \"\";\r\n\r\n            table.innerHTML = \"\";\r\n\r\n            this.rowOffsetCount = 0;\r\n\r\n            // Head\r\n            {\r\n                const head = document.createElement( 'thead' );\r\n                head.className = \"lextablehead\";\r\n                table.appendChild( head );\r\n\r\n                const hrow = document.createElement( 'tr' );\r\n\r\n                if( options.sortable ?? false )\r\n                {\r\n                    const th = document.createElement( 'th' );\r\n                    th.style.width = \"0px\";\r\n                    hrow.appendChild( th );\r\n                    this.rowOffsetCount++;\r\n                }\r\n\r\n                if( options.selectable ?? false )\r\n                {\r\n                    const th = document.createElement( 'th' );\r\n                    th.style.width = \"0px\";\r\n                    const input = document.createElement( 'input' );\r\n                    input.type = \"checkbox\";\r\n                    input.className = \"lexcheckbox accent\";\r\n                    input.checked = data.checkMap[ \":root\" ] ?? false;\r\n                    th.appendChild( input );\r\n\r\n                    input.addEventListener( 'change', function() {\r\n\r\n                        data.checkMap[ \":root\" ] = this.checked;\r\n\r\n                        const body: any = table.querySelector( \"tbody\" );\r\n                        for( const el of body.childNodes )\r\n                        {\r\n                            const rowId = el.getAttribute( \"rowId\" );\r\n                            if( !rowId ) continue;\r\n                            data.checkMap[ rowId ] = this.checked;\r\n                            el.querySelector( \"input[type='checkbox']\" ).checked = this.checked;\r\n                        }\r\n\r\n                        const sRows = that.getSelectedRows();\r\n                        LX.emitSignal( \"@rows_selected_changed\", sRows.length );\r\n                    });\r\n\r\n                    this.rowOffsetCount++;\r\n                    hrow.appendChild( th );\r\n                }\r\n\r\n                for( const headData of data.head )\r\n                {\r\n                    const th: any = document.createElement( 'th' );\r\n                    th.innerHTML = `<span>${ headData }</span>`;\r\n                    th.querySelector( \"span\" ).appendChild( LX.makeIcon( \"MenuArrows\", { svgClass: \"sm\" } ) );\r\n\r\n                    const idx = data.head.indexOf( headData );\r\n                    if( this._centered?.indexOf && ( ( this._centered.indexOf( idx ) > -1 ) || ( this._centered.indexOf( headData ) > -1 ) ) )\r\n                    {\r\n                        th.classList.add( \"centered\" );\r\n                    }\r\n\r\n                    const menuOptions: any[] = [];\r\n\r\n                    if( options.columnActions )\r\n                    {\r\n                        for( let action of options.columnActions )\r\n                        {\r\n                            if( !action.name )\r\n                            {\r\n                                console.warn( \"Invalid column action (missing name):\", action );\r\n                                continue;\r\n                            }\r\n\r\n                            menuOptions.push( { name: action.name, icon: action.icon, className: action.className, callback: () => {\r\n                                const colRows = this.data.body.map( ( row: any[] ) => [ row[ idx ] ] );\r\n                                const mustRefresh = action.callback( colRows, table );\r\n                                if( mustRefresh )\r\n                                {\r\n                                    this.refresh();\r\n                                }\r\n                            } } );\r\n                        }\r\n                    }\r\n\r\n                    if( this._sortColumns )\r\n                    {\r\n                        if(  menuOptions.length > 0 )\r\n                        {\r\n                            menuOptions.push( null );\r\n                        }\r\n\r\n                        menuOptions.push(\r\n                            { name: \"Asc\", icon: \"ArrowUpZA\", callback: sortFn.bind( this, idx, 1 ) },\r\n                            { name: \"Desc\", icon: \"ArrowDownZA\", callback: sortFn.bind( this, idx, -1 ) }\r\n                        );\r\n                    }\r\n\r\n                    if( this._toggleColumns )\r\n                    {\r\n                        if(  menuOptions.length > 0 )\r\n                        {\r\n                            menuOptions.push( null );\r\n                        }\r\n\r\n                        menuOptions.push( {\r\n                            name: \"Hide\", icon: \"EyeOff\", callback: () => {\r\n                                data.colVisibilityMap[ idx ] = false;\r\n                                const cells = table.querySelectorAll( `tr > *:nth-child(${idx + this.rowOffsetCount + 1})` );\r\n                                cells.forEach( ( c: any ) => {\r\n                                    c.style.display = ( c.style.display === \"none\" ) ? \"\" : \"none\";\r\n                                } );\r\n                            }\r\n                        } );\r\n                    }\r\n\r\n                    th.addEventListener( 'click', ( e: MouseEvent ) => {\r\n                        if( menuOptions.length === 0 ) return;\r\n                        LX.addDropdownMenu( e.target, menuOptions, { side: \"bottom\", align: \"start\" });\r\n                    });\r\n\r\n                    hrow.appendChild( th );\r\n                }\r\n\r\n                // Add empty header column\r\n                if( options.rowActions )\r\n                {\r\n                    const th = document.createElement( 'th' );\r\n                    th.className = \"sm\";\r\n                    hrow.appendChild( th );\r\n                }\r\n\r\n                head.appendChild( hrow );\r\n            }\r\n\r\n            // Body\r\n            {\r\n                const body = document.createElement( 'tbody' );\r\n                body.className = \"lextablebody\";\r\n                table.appendChild( body );\r\n\r\n                let rIdx: any = null;\r\n                let eventCatched: any = false;\r\n                let movePending: any = null;\r\n\r\n                document.addEventListener( 'mouseup', (e) => {\r\n                    if( rIdx === null ) return;\r\n                    document.removeEventListener( \"mousemove\", onMove );\r\n                    const fromRow: any = table.rows[ rIdx ];\r\n                    fromRow.dY = 0;\r\n                    fromRow.classList.remove( \"dragging\" );\r\n                    Array.from( table.rows ).forEach( v => {\r\n                        v.style.transform = ``;\r\n                        v.style.transition = `none`;\r\n                    } );\r\n                    LX.flushCss( fromRow );\r\n\r\n                    if( movePending )\r\n                    {\r\n                        // Modify inner data first\r\n                        // Origin row should go to the target row, and the rest should be moved up/down\r\n                        const pageOffset = this._paginator ? ( this._paginator.page - 1 ) * this.rowsPerPage : 0;\r\n                        const fromIdx = rIdx - 1 + pageOffset;\r\n                        const targetIdx = movePending[ 1 ] - 1 + pageOffset;\r\n\r\n                        LX.emitSignal( \"@on_table_sort\", { instance: this, fromIdx, targetIdx } );\r\n\r\n                        const b = data.body[ fromIdx ];\r\n                        let targetOffset = 0;\r\n\r\n                        if( fromIdx == targetIdx ) return;\r\n                        if( fromIdx > targetIdx ) // Move up\r\n                        {\r\n                            for( let i = fromIdx; i > targetIdx; --i )\r\n                            {\r\n                                data.body[ i ] = data.body[ i - 1 ];\r\n                            }\r\n                        }\r\n                        else // Move down\r\n                        {\r\n                            targetOffset = 1;\r\n                            for( let i = fromIdx; i < targetIdx; ++i )\r\n                            {\r\n                                data.body[ i ] = data.body[ i + 1 ];\r\n                            }\r\n                        }\r\n\r\n                        data.body[ targetIdx ] = b;\r\n\r\n                        const parent = movePending[ 0 ].parentNode;\r\n                        LX.insertChildAtIndex( parent, movePending[ 0 ], targetIdx + targetOffset - pageOffset );\r\n                        movePending = null;\r\n                    }\r\n\r\n                    rIdx = null;\r\n\r\n                    LX.doAsync( () => {\r\n                        Array.from( table.rows ).forEach( v => {\r\n                            v.style.transition = `transform 0.2s ease-in`;\r\n                        } );\r\n                    } )\r\n                } );\r\n\r\n                let onMove = ( e: MouseEvent ) => {\r\n                    if( !rIdx ) return;\r\n                    const fromRow: any = table.rows[ rIdx ];\r\n                    fromRow.dY = fromRow.dY ?? 0;\r\n                    fromRow.dY += e.movementY;\r\n                    fromRow.style.transform = `translateY(${ fromRow.dY }px)`;\r\n                };\r\n\r\n                const filtered = [];\r\n\r\n                // Filter rows\r\n                for( let r = 0; r < data.body.length; ++r )\r\n                {\r\n                    const bodyData = data.body[ r ];\r\n\r\n                    if( this.filter )\r\n                    {\r\n                        const filterColIndex = data.head.indexOf( this.filter );\r\n                        if( filterColIndex > -1 )\r\n                        {\r\n                            const validRowValue = LX.stripHTML( bodyData[ filterColIndex ] ).toLowerCase();\r\n                            if( !validRowValue.includes( this._currentFilter.toLowerCase() ) )\r\n                            {\r\n                                continue;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if( Object.keys( this.activeCustomFilters ).length )\r\n                    {\r\n                        let acfMap: Record<string, boolean> = {};\r\n\r\n                        this._resetCustomFiltersBtn?.root.classList.remove( \"hidden\" );\r\n\r\n                        for( let acfValue in this.activeCustomFilters )\r\n                        {\r\n                            const acfName = this.activeCustomFilters[ acfValue ];\r\n                            acfMap[ acfName ] = acfMap[ acfName ] ?? false;\r\n\r\n                            const filterColIndex = data.head.indexOf( acfName );\r\n                            if( filterColIndex > -1 )\r\n                            {\r\n                                const cellValue = bodyData[ filterColIndex ];\r\n                                const strippedValue = LX.stripTags( cellValue ) ?? cellValue;\r\n                                acfMap[ acfName ] = acfMap[ acfName ] || ( strippedValue === acfValue );\r\n                            }\r\n                        }\r\n\r\n                        const show = Object.values( acfMap ).reduce<boolean>( ( acc, e ) => acc && e, true );\r\n                        if( !show )\r\n                        {\r\n                            continue;\r\n                        }\r\n                    }\r\n\r\n                    // Check range/date filters\r\n                    if( this.customFilters )\r\n                    {\r\n                        let acfMap: Record<string, boolean> = {};\r\n\r\n                        for( let f of this.customFilters )\r\n                        {\r\n                            const acfName = f.name;\r\n\r\n                            if( f.type == \"range\" )\r\n                            {\r\n                                acfMap[ acfName ] = acfMap[ acfName ] ?? false;\r\n\r\n                                const filterColIndex = data.head.indexOf( acfName );\r\n                                if( filterColIndex > -1 )\r\n                                {\r\n                                    const validRowValue = parseFloat( bodyData[ filterColIndex ] );\r\n                                    const min = f.start ?? f.min;\r\n                                    const max = f.end ?? f.max;\r\n                                    acfMap[ acfName ] = acfMap[ acfName ] || ( ( validRowValue >= min ) && ( validRowValue <= max ) );\r\n                                }\r\n                            }\r\n                            else if( f.type == \"date\" )\r\n                            {\r\n                                acfMap[ acfName ] = acfMap[ acfName ] ?? false;\r\n\r\n                                const filterColIndex = data.head.indexOf( acfName );\r\n                                if( filterColIndex > -1 )\r\n                                {\r\n                                    if( !f.value )\r\n                                    {\r\n                                        acfMap[ acfName ] = true;\r\n                                        continue;\r\n                                    }\r\n\r\n                                    f.value = f.value ?? f.default;\r\n\r\n                                    const dateString = bodyData[ filterColIndex ];\r\n                                    const date = LX.dateFromDateString( dateString );\r\n                                    const minDate = LX.dateFromDateString( f.value[ 0 ] );\r\n                                    const maxDate = LX.dateFromDateString( f.value[ 1 ] );\r\n                                    acfMap[ acfName ] = acfMap[ acfName ] || ( ( date >= minDate ) && ( date <= maxDate ) );\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        const show = Object.values( acfMap ).reduce<boolean>( ( acc, e ) => acc && e, true );\r\n                        if( !show )\r\n                        {\r\n                            continue;\r\n                        }\r\n                    }\r\n\r\n                    filtered.push( bodyData );\r\n                }\r\n\r\n                if( this._paginator )\r\n                {\r\n                    this._paginator.setPages( this._getNumPages( filtered.length ) );\r\n                }\r\n\r\n                const start = this._paginator ? ( this._paginator.page - 1 ) * this.rowsPerPage : 0;\r\n                const end = this._paginator ? Math.min( start + this.rowsPerPage, filtered.length ) : filtered.length;\r\n\r\n                // Render filtered rows\r\n                for( let r = start; r < end; ++r )\r\n                {\r\n                    const bodyData = filtered[ r ];\r\n\r\n                    const idx = this.data.body.indexOf( bodyData );\r\n                    const row = document.createElement( 'tr' );\r\n                    const rowId = this._makeRowId( bodyData );\r\n                    row.setAttribute( \"rowId\", rowId );\r\n\r\n                    if( options.sortable ?? false )\r\n                    {\r\n                        const td = document.createElement( 'td' );\r\n                        td.style.width = \"0px\";\r\n                        const icon = LX.makeIcon( \"GripVertical\" );\r\n                        td.appendChild( icon );\r\n\r\n                        icon.draggable = true;\r\n\r\n                        icon.addEventListener(\"dragstart\", ( e: DragEvent ) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            e.stopImmediatePropagation();\r\n\r\n                            rIdx = row.rowIndex;\r\n                            row.classList.add( \"dragging\" );\r\n\r\n                            document.addEventListener( \"mousemove\", onMove );\r\n                        }, false );\r\n\r\n                        row.addEventListener(\"mouseenter\", function( e: MouseEvent ) {\r\n                            e.preventDefault();\r\n\r\n                            if( rIdx != null && ( this.rowIndex != rIdx ) && ( eventCatched != this.rowIndex ) )\r\n                            {\r\n                                eventCatched = this.rowIndex;\r\n                                const fromRow = table.rows[ rIdx ];\r\n                                const undo = ( this.style.transform != `` );\r\n                                if (this.rowIndex > rIdx) {\r\n                                    movePending = [ fromRow, undo ? (this.rowIndex-1) : this.rowIndex ];\r\n                                    this.style.transform = undo ? `` : `translateY(-${this.offsetHeight}px)`;\r\n                                } else {\r\n                                    movePending = [ fromRow, undo ? (this.rowIndex+1) : (this.rowIndex) ];\r\n                                    this.style.transform = undo ? `` : `translateY(${this.offsetHeight}px)`;\r\n                                }\r\n                                LX.doAsync( () => {\r\n                                    eventCatched = false;\r\n                                } )\r\n                            }\r\n                        });\r\n\r\n                        row.appendChild( td );\r\n                    }\r\n\r\n                    if( options.selectable ?? false )\r\n                    {\r\n                        const td = document.createElement( 'td' );\r\n                        const input = document.createElement( 'input' );\r\n                        input.type = \"checkbox\";\r\n                        input.className = \"lexcheckbox accent\";\r\n                        input.checked = data.checkMap[ rowId ];\r\n                        td.appendChild( input );\r\n\r\n                        input.addEventListener( 'change', function() {\r\n                            data.checkMap[ rowId ] = this.checked;\r\n\r\n                            const headInput: any = table.querySelector( \"thead input[type='checkbox']\" );\r\n                            console.assert( headInput, \"Header checkbox not found!\" );\r\n\r\n                            if( !this.checked )\r\n                            {\r\n                                headInput.checked = data.checkMap[ \":root\" ] = false;\r\n                            }\r\n                            else\r\n                            {\r\n                                const rowInputs = Array.from( table.querySelectorAll( \"tbody input[type='checkbox']\" ) );\r\n                                const uncheckedRowInputs = rowInputs.filter( ( i: any ) => { return !i.checked; } );\r\n                                if( !uncheckedRowInputs.length )\r\n                                {\r\n                                    headInput.checked = data.checkMap[ \":root\" ] = true;\r\n                                }\r\n                            }\r\n\r\n                            const sRows = that.getSelectedRows();\r\n                            LX.emitSignal( \"@rows_selected_changed\", sRows.length );\r\n                        });\r\n\r\n                        row.appendChild( td );\r\n                    }\r\n\r\n                    for( let colIdx = 0; colIdx < bodyData.length; ++colIdx )\r\n                    {\r\n                        const rowData = bodyData[ colIdx ];\r\n                        const td = document.createElement( 'td' );\r\n                        td.innerHTML = `${ rowData }`;\r\n                        const headData = data.head[ colIdx ];\r\n                        if( this._centered?.indexOf && ( ( this._centered.indexOf( colIdx ) > -1 ) || ( this._centered.indexOf( headData ) > -1 ) ) )\r\n                        {\r\n                            td.classList.add( \"centered\" );\r\n                        }\r\n\r\n                        row.appendChild( td );\r\n                    }\r\n\r\n                    if( options.rowActions )\r\n                    {\r\n                        const td = document.createElement( 'td' );\r\n                        td.style.width = \"0px\";\r\n\r\n                        const buttons = document.createElement( 'div' );\r\n                        buttons.className = \"lextablebuttons\";\r\n                        td.appendChild( buttons );\r\n\r\n                        for( const action of options.rowActions )\r\n                        {\r\n                            let button = null;\r\n\r\n                            if( action == \"delete\" )\r\n                            {\r\n                                button = LX.makeIcon( \"Trash3\", { title: \"Delete Row\" } );\r\n                                button.addEventListener( 'click', () =>\r\n                                {\r\n                                    data.body.splice( idx, 1 );\r\n                                    this.refresh();\r\n                                });\r\n                            }\r\n                            else if( action == \"menu\" )\r\n                            {\r\n                                button = LX.makeIcon( \"EllipsisVertical\", { title: \"Menu\" } );\r\n                                button.addEventListener( 'click', function( e: MouseEvent ) {\r\n                                    if( !options.onMenuAction )\r\n                                    {\r\n                                        return;\r\n                                    }\r\n\r\n                                    const menuOptions = options.onMenuAction( idx, data );\r\n                                    console.assert( menuOptions.length, \"Add items to the Menu Action Dropdown!\" );\r\n\r\n                                    LX.addDropdownMenu( e.target, menuOptions, { side: \"bottom\", align: \"end\" });\r\n                                });\r\n                            }\r\n                            else // custom actions\r\n                            {\r\n                                console.assert( action.constructor == Object );\r\n                                button = LX.makeIcon( action.icon, { title: action.title } );\r\n\r\n                                if( action.callback )\r\n                                {\r\n                                    button.addEventListener( 'click', ( e: MouseEvent ) => {\r\n                                        const mustRefresh = action.callback( idx, bodyData, table, e );\r\n                                        if( mustRefresh )\r\n                                        {\r\n                                            this.refresh();\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n                            console.assert( button );\r\n                            buttons.appendChild( button );\r\n                        }\r\n\r\n                        row.appendChild( td );\r\n                    }\r\n\r\n                    body.appendChild( row );\r\n                }\r\n\r\n                if( options.selectable )\r\n                {\r\n                    const sRows = this.getSelectedRows();\r\n                    LX.emitSignal( \"@rows_selected_changed\", sRows.length );\r\n                }\r\n\r\n                if( body.childNodes.length == 0 )\r\n                {\r\n                    const row = document.createElement( 'tr' );\r\n                    const td = document.createElement( 'td' );\r\n                    td.setAttribute( \"colspan\", data.head.length + this.rowOffsetCount + 1 ); // +1 for rowActions\r\n                    td.className = \"empty-row\";\r\n                    td.innerHTML = \"No results.\";\r\n                    row.appendChild( td );\r\n                    body.appendChild( row );\r\n                }\r\n            }\r\n\r\n            for( const v in data.colVisibilityMap )\r\n            {\r\n                const idx = parseInt( v );\r\n                if( !data.colVisibilityMap[ idx ] )\r\n                {\r\n                    const cells = table.querySelectorAll( `tr > *:nth-child(${idx + this.rowOffsetCount + 1})` );\r\n                    cells.forEach( ( c: any ) => {\r\n                        c.style.display = ( c.style.display === \"none\" ) ? \"\" : \"none\";\r\n                    } );\r\n                }\r\n            }\r\n        }\r\n\r\n        const showSelected = this._showSelectedNumber && options.selectable;\r\n\r\n        // Make footer\r\n        if( showSelected || this._paginator )\r\n        {\r\n            const footerContainer = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex flex-row px-3 my-1 align-center\", \"\", container );\r\n\r\n            // Show num selected rows\r\n            if( showSelected )\r\n            {\r\n                const selectedRowsLabelContainer = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex justify-start items-center fg-secondary\", \"0 row(s) selected.\", footerContainer );\r\n                LX.addSignal( \"@rows_selected_changed\", ( target: HTMLElement, n: number ) =>\r\n                {\r\n                    if( !this._showSelectedNumber ) return;\r\n                    selectedRowsLabelContainer.innerHTML = n === 0 ? \"\" : `${ n ?? 0 } row(s) selected.`;\r\n                });\r\n            }\r\n\r\n            // Pagination\r\n            if( this._paginator )\r\n            {\r\n                const paginationContainer = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex justify-end\", \"\", footerContainer );\r\n                paginationContainer.appendChild( this._paginator.root );\r\n            }\r\n        }\r\n\r\n        this.refresh();\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n\r\n    getSelectedRows()\r\n    {\r\n        const selectedRows = [];\r\n\r\n        for( const row of this.data.body )\r\n        {\r\n            const rowId = this._makeRowId( row );\r\n            if( this.data.checkMap[ rowId ] === true )\r\n            {\r\n                selectedRows.push( row );\r\n            }\r\n        }\r\n\r\n        return selectedRows;\r\n    }\r\n\r\n    _makeRowId( row: any[] )\r\n    {\r\n        return LX.getSupportedDOMName( row.join( '-' ) ).substr( 0, 32 );\r\n    }\r\n\r\n    _onChangePage( page: number )\r\n    {\r\n        this.refresh();\r\n    }\r\n\r\n    _getNumPages( total?: number )\r\n    {\r\n        if( this.rowsPerPage === -1 ) return 1;\r\n        total = total ?? this.data.body?.length;\r\n        return Math.ceil( ( total ?? 0 ) / this.rowsPerPage );\r\n    }\r\n\r\n    _setRowsPerPage( n: number )\r\n    {\r\n        this._rowsPerPage = n;\r\n        this.refresh();\r\n    }\r\n\r\n    _setCentered( v: any )\r\n    {\r\n        if( v.constructor == Boolean )\r\n        {\r\n            const container = this.root.querySelector( \".lextable\" );\r\n            container.classList.toggle( \"centered\", v );\r\n        }\r\n        else\r\n        {\r\n            // Make sure this is an array containing which columns have\r\n            // to be centered\r\n            v = Array.isArray( v ) ? v : [ v ];\r\n        }\r\n\r\n        this._centered = v;\r\n\r\n        this.refresh();\r\n    }\r\n}\r\n\r\nLX.Table = Table;","// FileInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Panel } from '../core/Panel';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class FileInput\r\n * @description FileInput Component\r\n */\r\n\r\nexport class FileInput extends BaseComponent\r\n{\r\n    constructor( name: string, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.FILE, name, null, options );\r\n\r\n        let local = options.local ?? true;\r\n        let type = options.type ?? 'text';\r\n        let read = options.read ?? true;\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            input.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        // Create hidden input\r\n        let input = document.createElement( 'input' );\r\n        input.className = \"lexfileinput\";\r\n        input.type = 'file';\r\n        input.disabled = options.disabled ?? false;\r\n        this.root.appendChild( input );\r\n\r\n        if( options.placeholder )\r\n        {\r\n            input.placeholder = options.placeholder;\r\n        }\r\n\r\n        input.addEventListener( 'change', function( e: any ) {\r\n\r\n            const files = e.target.files;\r\n            if( !files.length ) return;\r\n            if( read )\r\n            {\r\n                if( options.onBeforeRead )\r\n                    options.onBeforeRead();\r\n\r\n                const reader = new FileReader();\r\n\r\n                if( type === 'text' ) reader.readAsText( files[ 0 ] );\r\n                else if( type === 'buffer' ) reader.readAsArrayBuffer( files[ 0 ] );\r\n                else if( type === 'bin' ) reader.readAsBinaryString( files[ 0 ] );\r\n                else if( type === 'url' ) reader.readAsDataURL( files[ 0 ] );\r\n\r\n                reader.onload = e => { callback.call( this, e.target?.result, files[ 0 ] ) } ;\r\n            }\r\n            else\r\n                callback( files[ 0 ] );\r\n        });\r\n\r\n        input.addEventListener( 'cancel', function( e ) {\r\n            callback( null );\r\n        });\r\n\r\n        if( local )\r\n        {\r\n            let settingsDialog: any = null;\r\n\r\n            const settingButton = new Button(null, \"\", () => {\r\n\r\n                if( settingsDialog )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                settingsDialog = new LX.Dialog( \"Load Settings\", ( p: Panel ) => {\r\n                    p.addSelect( \"Type\", [ 'text', 'buffer', 'bin', 'url' ], type, ( v: any ) => { type = v } );\r\n                    p.addButton( null, \"Reload\", () => { input.dispatchEvent( new Event( 'change' ) ) } );\r\n                }, { onclose: ( root: HTMLElement ) => { root.remove(); settingsDialog = null; } } );\r\n\r\n            }, { skipInlineCount: true, title: \"Settings\", disabled: options.disabled, icon: \"Settings\" });\r\n\r\n            this.root.appendChild( settingButton.root );\r\n        }\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.FileInput = FileInput;","// DatePicker.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { Button } from './Button';\r\nimport { Calendar } from './Calendar';\r\nimport { CalendarRange } from './CalendarRange';\r\nimport { Popover } from './Popover';\r\n\r\n/**\r\n * @class DatePicker\r\n * @description DatePicker Component\r\n */\r\n\r\nexport class DatePicker extends BaseComponent\r\n{\r\n    calendar: Calendar | CalendarRange;\r\n\r\n    _popover: Popover | undefined = undefined;\r\n\r\n    constructor( name: string, dateValue: string | string[], callback: any, options: any = { } )\r\n    {\r\n        super( ComponentType.DATE, name, null, options );\r\n\r\n        const dateAsRange = ( dateValue?.constructor === Array );\r\n\r\n        if( !dateAsRange && options.today )\r\n        {\r\n            const date = new Date();\r\n            dateValue = `${ date.getDate() }/${ date.getMonth() + 1 }/${ date.getFullYear() }`;\r\n        }\r\n\r\n        this.onGetValue = () => {\r\n            return dateValue;\r\n        }\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            if( !dateAsRange )\r\n            {\r\n                ( this.calendar as Calendar ).fromDateString( newValue );\r\n            }\r\n\r\n            dateValue = newValue;\r\n\r\n            refresh( this.calendar.getFullDate() );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        }\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const container = LX.makeContainer( [ \"auto\", \"auto\" ], \"lexdate flex flex-row\" );\r\n        this.root.appendChild( container );\r\n\r\n        if( !dateAsRange )\r\n        {\r\n            this.calendar = new Calendar( ( dateValue as string ), {\r\n                onChange: ( date: any ) => {\r\n                    const newDateString = `${ date.day }/${ date.month }/${ date.year }`;\r\n                    this.set( newDateString );\r\n                },\r\n                ...options\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.calendar = new CalendarRange( ( dateValue as string[] ), {\r\n                onChange: ( dateRange: any ) => {\r\n                    this.set( dateRange );\r\n                },\r\n                ...options\r\n            });\r\n        }\r\n\r\n        const refresh = ( currentDate?: any ) => {\r\n\r\n            const emptyDate = !!currentDate;\r\n\r\n            container.innerHTML = \"\";\r\n\r\n            currentDate = currentDate ?? \"Pick a date\";\r\n\r\n            const dts = currentDate.split( \" to \" );\r\n            const d0 = dateAsRange ? dts[ 0 ] : currentDate;\r\n\r\n            const calendarIcon = LX.makeIcon( \"Calendar\" );\r\n            const calendarButton = new Button( null, d0, () => {\r\n                this._popover = new Popover( calendarButton.root, [ this.calendar ] );\r\n            }, { buttonClass: `flex flex-row px-3 ${ emptyDate ? \"\" : \"fg-tertiary\" } justify-between` } );\r\n            calendarButton.root.querySelector( \"button\" ).appendChild( calendarIcon );\r\n            calendarButton.root.style.width = \"100%\";\r\n            container.appendChild( calendarButton.root );\r\n\r\n            if( dateAsRange )\r\n            {\r\n                const arrowRightIcon = LX.makeIcon( \"ArrowRight\" );\r\n                LX.makeContainer( [\"32px\", \"auto\"], \"content-center\", arrowRightIcon.innerHTML, container );\r\n\r\n                const d1 = dts[ 1 ];\r\n                const calendarIcon = LX.makeIcon( \"Calendar\" );\r\n                const calendarButton = new Button( null, d1, () => {\r\n                    this._popover = new Popover( calendarButton.root, [ this.calendar ] );\r\n                }, { buttonClass: `flex flex-row px-3 ${ emptyDate ? \"\" : \"fg-tertiary\" } justify-between` } );\r\n                calendarButton.root.querySelector( \"button\" ).appendChild( calendarIcon );\r\n                calendarButton.root.style.width = \"100%\";\r\n                container.appendChild( calendarButton.root );\r\n            }\r\n        };\r\n\r\n        if( dateValue )\r\n        {\r\n            refresh( this.calendar.getFullDate() );\r\n        }\r\n        else\r\n        {\r\n            refresh();\r\n        }\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Calendar = Calendar;\r\nLX.CalendarRange = CalendarRange;\r\nLX.DatePicker = DatePicker;","// Rate.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Rate\r\n * @description Rate Component\r\n */\r\n\r\nexport class Rate extends BaseComponent\r\n{\r\n    constructor( name: string, value: number, callback: any, options: any = {} )\r\n    {\r\n        const allowHalf = options.allowHalf ?? false;\r\n\r\n        if( !allowHalf )\r\n        {\r\n            value = Math.floor( value );\r\n        }\r\n\r\n        super( ComponentType.RATE, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            value = newValue;\r\n\r\n            _updateStars( value );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const container = document.createElement('div');\r\n        container.className = \"lexrate relative\";\r\n        this.root.appendChild( container );\r\n\r\n        const starsContainer = LX.makeContainer( [\"fit-content\", \"auto\"], \"flex flex-row gap-1\", \"\", container );\r\n        const filledStarsContainer = LX.makeContainer( [\"fit-content\", \"auto\"], \"absolute top-0 flex flex-row gap-1 pointer-events-none\", \"\", container );\r\n        const halfStarsContainer = LX.makeContainer( [\"fit-content\", \"auto\"], \"absolute top-0 flex flex-row gap-1 pointer-events-none\", \"\", container );\r\n\r\n        starsContainer.addEventListener( \"mousemove\", ( e: MouseEvent ) => {\r\n            const star: any = e.target;\r\n            const idx = star.dataset[\"idx\"];\r\n\r\n            if( idx !== undefined )\r\n            {\r\n                const rect = star.getBoundingClientRect();\r\n                const half = allowHalf && e.offsetX < ( rect.width * 0.5 );\r\n                _updateStars( idx - ( half ? 0.5 : 0.0 ) );\r\n            }\r\n        }, false );\r\n\r\n        starsContainer.addEventListener(\"mouseleave\", ( e: MouseEvent ) => {\r\n            _updateStars( value );\r\n        }, false );\r\n\r\n        // Create all layers of stars\r\n\r\n        for( let i = 0; i < 5; ++i )\r\n        {\r\n            const starIcon = LX.makeIcon( \"Star\", { svgClass: `lg fill-current fg-secondary` } );\r\n            starIcon.dataset[\"idx\"] = ( i + 1 );\r\n            starsContainer.appendChild( starIcon );\r\n\r\n            starIcon.addEventListener(\"click\", ( e: MouseEvent ) => {\r\n                const star: any = e.target;\r\n                const rect = star.getBoundingClientRect();\r\n                const half = allowHalf && e.offsetX < ( rect.width * 0.5 );\r\n                this.set( parseFloat( star.dataset[\"idx\"] ) - ( half ? 0.5 : 0.0 ) );\r\n            }, false );\r\n\r\n            const filledStarIcon = LX.makeIcon( \"Star\", { svgClass: `lg fill-current fg-yellow-500` } );\r\n            filledStarsContainer.appendChild( filledStarIcon );\r\n\r\n            const halfStarIcon = LX.makeIcon( \"StarHalf\", { svgClass: `lg fill-current fg-yellow-500` } );\r\n            halfStarsContainer.appendChild( halfStarIcon );\r\n        }\r\n\r\n        const _updateStars = ( v: number ) => {\r\n\r\n            for( let i = 0; i < 5; ++i )\r\n            {\r\n                const filled = ( v > ( i + 0.5 ) );\r\n                const starIcon = filledStarsContainer.childNodes[ i ];\r\n                const halfStarIcon = halfStarsContainer.childNodes[ i ];\r\n                if( filled )\r\n                {\r\n                    starIcon.style.opacity = 1;\r\n                }\r\n                else\r\n                {\r\n                    starIcon.style.opacity = 0;\r\n\r\n                    const halfFilled = allowHalf && ( v > i );\r\n                    if( halfFilled )\r\n                    {\r\n                        halfStarIcon.style.opacity = 1;\r\n                    }\r\n                    else\r\n                    {\r\n                        halfStarIcon.style.opacity = 0;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        _updateStars( value );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Rate = Rate;","// TabSections.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\n\r\n/**\r\n * @class TabSections\r\n * @description TabSections Component\r\n */\r\n\r\nexport class TabSections extends BaseComponent\r\n{\r\n    tabs: any[];\r\n    tabDOMs: Record<string, HTMLElement>;\r\n\r\n    constructor( name: string, tabs: any[], options: any = {} )\r\n    {\r\n        options.hideName = true;\r\n\r\n        super( ComponentType.TABS, name, null, options );\r\n\r\n        if( tabs.constructor != Array )\r\n        {\r\n            throw( \"Param @tabs must be an Array!\" );\r\n        }\r\n\r\n        if( !tabs.length )\r\n        {\r\n            throw( \"Tab list cannot be empty!\" );\r\n        }\r\n\r\n        const vertical = options.vertical ?? true;\r\n        const showNames = !vertical && ( options.showNames ?? false );\r\n\r\n        this.tabDOMs = {};\r\n\r\n        let container = document.createElement( 'div' );\r\n        container.className = \"lextabscontainer\";\r\n        if( !vertical )\r\n        {\r\n            container.className += \" horizontal\";\r\n        }\r\n\r\n        let tabContainer = document.createElement( \"div\" );\r\n        tabContainer.className = \"tabs\";\r\n        container.appendChild( tabContainer );\r\n        this.root.appendChild( container );\r\n\r\n        // Check at least 1 is selected\r\n        if( tabs.findIndex( e => e.selected === true ) < 0 )\r\n        {\r\n            tabs[ 0 ].selected = true;\r\n        }\r\n\r\n        for( let tab of tabs )\r\n        {\r\n            console.assert( tab.name );\r\n            let tabEl = document.createElement( \"div\" );\r\n            tabEl.className = \"lextab \" + ( ( tab.selected ?? false ) ? \"selected\" : \"\" );\r\n            tabEl.innerHTML = ( showNames ? tab.name : \"\" );\r\n            tabEl.appendChild( LX.makeIcon( tab.icon ?? \"Hash\", { title: tab.name, iconClass: tab.iconClass, svgClass: tab.svgClass } ) );\r\n            this.tabDOMs[ tab.name ] = tabEl;\r\n\r\n            let infoContainer = document.createElement( \"div\" );\r\n            infoContainer.id = tab.name.replace( /\\s/g, '' );\r\n            infoContainer.className = \"components\";\r\n            infoContainer.toggleAttribute( \"hidden\", !( tab.selected ?? false ) );\r\n            container.appendChild( infoContainer );\r\n\r\n            tabEl.addEventListener( \"click\", e => {\r\n                // Change selected tab\r\n                tabContainer.querySelectorAll( \".lextab\" ).forEach( e => { e.classList.remove( \"selected\" ); } );\r\n                tabEl.classList.add( \"selected\" );\r\n                // Hide all tabs content\r\n                container.querySelectorAll(\".components\").forEach( e => { e.toggleAttribute( \"hidden\", true ); } );\r\n                // Show tab content\r\n                const el = container.querySelector( '#' + infoContainer.id );\r\n                el?.toggleAttribute( \"hidden\" );\r\n\r\n                if( tab.onSelect )\r\n                {\r\n                    tab.onSelect( this, infoContainer );\r\n                }\r\n            });\r\n\r\n            tabContainer.appendChild( tabEl );\r\n\r\n            if( tab.onCreate )\r\n            {\r\n                // Push to tab space\r\n                const creationPanel = new LX.Panel();\r\n                creationPanel.queue( infoContainer );\r\n                tab.onCreate.call( this, creationPanel, infoContainer );\r\n                creationPanel.clearQueue();\r\n            }\r\n        }\r\n\r\n        this.tabs = tabs;\r\n    }\r\n\r\n    select( name: string )\r\n    {\r\n        const tabEl = this.tabDOMs[ name ];\r\n\r\n        if( !tabEl )\r\n        {\r\n            return;\r\n        }\r\n\r\n        tabEl.click();\r\n    }\r\n}\r\n\r\nLX.TabSections = TabSections;","// NodeTree.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { TreeEvent } from './../core/Event';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { ContextMenu } from './ContextMenu';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class NodeTree\r\n */\r\n\r\nexport class NodeTree\r\n{\r\n    domEl: any;\r\n    data: any;\r\n    onevent: any;\r\n    options: any;\r\n    selected: any[] = [];\r\n\r\n    _forceClose: boolean = false;\r\n\r\n    constructor( domEl: any, data: any, options: any = {} )\r\n    {\r\n        this.domEl = domEl;\r\n        this.data = data;\r\n        this.onevent = options.onevent;\r\n        this.options = options;\r\n\r\n        if( data.constructor === Object )\r\n        {\r\n            this._createItem( null, data );\r\n        }\r\n        else\r\n        {\r\n            for( let d of data )\r\n            {\r\n                this._createItem( null, d );\r\n            }\r\n        }\r\n    }\r\n\r\n    _createItem( parent: any, node: any, level: number = 0, selectedId?: string )\r\n    {\r\n        const that = this;\r\n        const nodeFilterInput = this.domEl.querySelector( \".lexnodetreefilter\" );\r\n\r\n        node.children = node.children ?? [];\r\n\r\n        if( nodeFilterInput && nodeFilterInput.value != \"\" && !node.id.includes( nodeFilterInput.value ) )\r\n        {\r\n            for( var i = 0; i < node.children.length; ++i )\r\n            {\r\n                this._createItem( node, node.children[ i ], level + 1, selectedId );\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        const list = this.domEl.querySelector( 'ul' );\r\n\r\n        node.visible = node.visible ?? true;\r\n        node.parent = parent;\r\n        let isParent = node.children.length > 0;\r\n        let isSelected = this.selected.indexOf( node ) > -1 || node.selected;\r\n\r\n        if( this.options.onlyFolders )\r\n        {\r\n            let hasFolders = false;\r\n            node.children.forEach( ( c: any ) => { hasFolders = hasFolders || ( c.type == 'folder' ) } );\r\n            isParent = !!hasFolders;\r\n        }\r\n\r\n        let item: any = document.createElement('li');\r\n        item.className = \"lextreeitem \" + \"datalevel\" + level + (isParent ? \" parent\" : \"\") + (isSelected ? \" selected\" : \"\");\r\n        item.id = LX.getSupportedDOMName( node.id );\r\n        item.tabIndex = \"0\";\r\n        item.treeData = node;\r\n\r\n        // Select hierarchy icon\r\n        let icon = (this.options.skipDefaultIcon ?? true) ? null : \"Dot\"; // Default: no childs\r\n        if( isParent )\r\n        {\r\n            icon = node.closed ? \"Right\" : \"Down\";\r\n        }\r\n\r\n        if( icon )\r\n        {\r\n            item.appendChild( LX.makeIcon( icon, { iconClass: \"hierarchy\", svgClass: \"xs\" } ) );\r\n        }\r\n\r\n        // Add display icon\r\n        icon = node.icon;\r\n\r\n        // Process icon\r\n        if( icon )\r\n        {\r\n            if( !node.icon.includes( '.' ) ) // Not a file\r\n            {\r\n                const classes = node.icon.split( ' ' );\r\n                const nodeIcon = LX.makeIcon( classes[ 0 ], { iconClass: \"tree-item-icon mr-2\", svgClass: \"md\" + ( classes.length > 1 ? ` ${ classes.slice( 0 ).join( ' ' ) }` : '' ) } );\r\n                item.appendChild( nodeIcon );\r\n            }\r\n            else // an image..\r\n            {\r\n                const rootPath = \"https://raw.githubusercontent.com/jxarco/lexgui.js/master/\";\r\n                item.innerHTML += \"<img src='\" + ( rootPath + node.icon ) + \"'>\";\r\n            }\r\n        }\r\n\r\n        item.innerHTML += (node.rename ? \"\" : node.id);\r\n\r\n        item.setAttribute( 'draggable', true );\r\n        item.style.paddingLeft = ((3 + (level+1) * 15)) + \"px\";\r\n        list.appendChild( item );\r\n\r\n        // Callbacks\r\n        item.addEventListener( \"click\", ( e: MouseEvent ) =>\r\n        {\r\n            if( handled )\r\n            {\r\n                handled = false;\r\n                return;\r\n            }\r\n\r\n            if( !e.shiftKey )\r\n            {\r\n                list.querySelectorAll( \"li\" ).forEach( ( e: HTMLElement ) => { e.classList.remove( 'selected' ); } );\r\n                this.selected.length = 0;\r\n            }\r\n\r\n            // Add or remove\r\n            const idx = this.selected.indexOf( node );\r\n            if( idx > -1 )\r\n            {\r\n                item.classList.remove( 'selected' );\r\n                this.selected.splice( idx, 1 );\r\n            }\r\n            else\r\n            {\r\n                item.classList.add( 'selected' );\r\n                this.selected.push( node );\r\n            }\r\n\r\n            // Only Show children...\r\n            if( isParent && node.id.length > 1 /* Strange case... */)\r\n            {\r\n                node.closed = false;\r\n                if( that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_CARETCHANGED, node, node.closed, e );\r\n                    that.onevent( event );\r\n                }\r\n                that.frefresh( node.id );\r\n            }\r\n\r\n            if( that.onevent )\r\n            {\r\n                const event = new TreeEvent( TreeEvent.NODE_SELECTED, node, this.selected, e );\r\n                event.multiple = e.shiftKey;\r\n                that.onevent( event );\r\n            }\r\n        });\r\n\r\n        item.addEventListener(\"dblclick\", function( e: MouseEvent ) {\r\n\r\n            if( that.options.rename ?? true )\r\n            {\r\n                // Trigger rename\r\n                node.rename = true;\r\n                that.refresh();\r\n            }\r\n\r\n            if( that.onevent )\r\n            {\r\n                const event = new TreeEvent( TreeEvent.NODE_DBLCLICKED, node, null, e );\r\n                that.onevent( event );\r\n            }\r\n        });\r\n\r\n        item.addEventListener( \"contextmenu\", ( e: any ) => {\r\n\r\n            e.preventDefault();\r\n\r\n            if( !that.onevent )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const event: any = new TreeEvent( TreeEvent.NODE_CONTEXTMENU, node, this.selected, e );\r\n            event.multiple = this.selected.length > 1;\r\n\r\n            LX.addContextMenu( event.multiple ? \"Selected Nodes\" : event.node.id, event.event, ( m: ContextMenu ) => {\r\n                event.panel = m;\r\n            });\r\n\r\n            that.onevent( event );\r\n\r\n            if( this.options.addDefault ?? false )\r\n            {\r\n                if( event.panel.items )\r\n                {\r\n                    event.panel.add( \"\" );\r\n                }\r\n\r\n                event.panel.add( \"Select Children\", () => {\r\n\r\n                    const selectChildren = ( n: any ) => {\r\n\r\n                        if( n.closed )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        for( let child of n.children ?? [] )\r\n                        {\r\n                            if( !child )\r\n                            {\r\n                                continue;\r\n                            }\r\n\r\n                            let nodeItem = this.domEl.querySelector( '#' + child.id );\r\n                            nodeItem.classList.add( \"selected\" );\r\n                            this.selected.push( child );\r\n                            selectChildren( child );\r\n                        }\r\n                    };\r\n\r\n                    this.domEl.querySelectorAll( \".selected\" ).forEach( ( i: HTMLElement ) => i.classList.remove( \"selected\" ) );\r\n                    this.selected.length = 0;\r\n\r\n                    // Add childs of the clicked node\r\n                    selectChildren( node );\r\n                } );\r\n\r\n                event.panel.add( \"Delete\", { callback: () => {\r\n\r\n                    const ok = that.deleteNode( node );\r\n\r\n                    if( ok && that.onevent )\r\n                    {\r\n                        const event = new TreeEvent( TreeEvent.NODE_DELETED, node, [ node ], null );\r\n                        that.onevent( event );\r\n                    }\r\n\r\n                    this.refresh();\r\n                } } );\r\n            }\r\n        });\r\n\r\n        item.addEventListener(\"keydown\", ( e: KeyboardEvent ) => {\r\n\r\n            if( node.rename )\r\n            {\r\n                return;\r\n            }\r\n\r\n            e.preventDefault();\r\n\r\n            if( e.key == \"Delete\" )\r\n            {\r\n                const nodesDeleted = [];\r\n\r\n                for( let _node of this.selected )\r\n                {\r\n                    if( that.deleteNode( _node ) )\r\n                    {\r\n                        nodesDeleted.push( _node );\r\n                    }\r\n                }\r\n\r\n                // Send event now so we have the info in selected array..\r\n                if( nodesDeleted.length && that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_DELETED, node, nodesDeleted, e );\r\n                    event.multiple = nodesDeleted.length > 1;\r\n                    that.onevent( event );\r\n                }\r\n\r\n                this.selected.length = 0;\r\n\r\n                this.refresh();\r\n            }\r\n            else if( e.key == \"ArrowUp\" || e.key == \"ArrowDown\" ) // Unique or zero selected\r\n            {\r\n                var selected = this.selected.length > 1 ? ( e.key == \"ArrowUp\" ? this.selected.shift() : this.selected.pop() ) : this.selected[ 0 ];\r\n                var el = this.domEl.querySelector( \"#\" + LX.getSupportedDOMName( selected.id ) );\r\n                var sibling = e.key == \"ArrowUp\" ? el.previousSibling : el.nextSibling;\r\n                if( sibling )\r\n                {\r\n                    sibling.click();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Node rename\r\n\r\n        const nameInput = document.createElement( \"input\" );\r\n        nameInput.toggleAttribute( \"hidden\", !node.rename );\r\n        nameInput.className = \"bg-none\";\r\n        nameInput.value = node.id;\r\n        item.appendChild( nameInput );\r\n\r\n        if( node.rename )\r\n        {\r\n            item.classList.add('selected');\r\n            nameInput.focus();\r\n        }\r\n\r\n        nameInput.addEventListener(\"keyup\", function( e ) {\r\n            if( e.key == \"Enter\" )\r\n            {\r\n                this.value = this.value.replace(/\\s/g, '_');\r\n\r\n                if( that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_RENAMED, node, this.value, e );\r\n                    that.onevent( event );\r\n                }\r\n\r\n                node.id = LX.getSupportedDOMName( this.value );\r\n                delete node.rename;\r\n                that.frefresh( node.id );\r\n                list.querySelector( \"#\" + node.id ).classList.add('selected');\r\n            }\r\n            else if(e.key == \"Escape\")\r\n            {\r\n                delete node.rename;\r\n                that.frefresh( node.id );\r\n            }\r\n        });\r\n\r\n        nameInput.addEventListener(\"blur\", function( e ) {\r\n            delete node.rename;\r\n            that.refresh();\r\n        });\r\n\r\n        if( this.options.draggable ?? true )\r\n        {\r\n            // Drag nodes\r\n            if( parent ) // Root doesn't move!\r\n            {\r\n                item.addEventListener(\"dragstart\", ( e: DragEvent ) => {\r\n                    ( window as any ).__tree_node_dragged = node;\r\n                });\r\n            }\r\n\r\n            /* Events fired on other node items */\r\n            item.addEventListener(\"dragover\", ( e: DragEvent ) => {\r\n                e.preventDefault(); // allow drop\r\n            }, false );\r\n            item.addEventListener(\"dragenter\", ( e: any ) => {\r\n                e.target.classList.add(\"draggingover\");\r\n            });\r\n            item.addEventListener(\"dragend\", ( e: any ) => {\r\n                e.target.classList.remove(\"draggingover\");\r\n            });\r\n            item.addEventListener(\"dragleave\", ( e: any ) => {\r\n                e.target.classList.remove(\"draggingover\");\r\n            });\r\n            item.addEventListener(\"drop\", ( e: DragEvent ) =>\r\n            {\r\n                e.preventDefault(); // Prevent default action (open as link for some elements)\r\n                let dragged = ( window as any ).__tree_node_dragged;\r\n                if( !dragged )\r\n                {\r\n                    // Test if we are moving from AssetView extension\r\n                    dragged = ( window as any ).__av_item_dragged;\r\n                    if( dragged )\r\n                    {\r\n                        dragged._nodeTarget = node;\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                let target = node;\r\n                // Can't drop to same node\r\n                if( dragged.id == target.id )\r\n                {\r\n                    console.warn(\"Cannot parent node to itself!\");\r\n                    return;\r\n                }\r\n\r\n                // Can't drop to child node\r\n                const isChild = function( newParent: any, node: any ): boolean {\r\n                    var result = false;\r\n                    for( var c of node.children )\r\n                    {\r\n                        if( c.id == newParent.id ) return true;\r\n                        result = result || isChild( newParent, c );\r\n                    }\r\n                    return result;\r\n                };\r\n\r\n                if( isChild( target, dragged ))\r\n                {\r\n                    console.warn(\"Cannot parent node to a current child!\");\r\n                    return;\r\n                }\r\n\r\n                // Trigger node dragger event\r\n                if( that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_DRAGGED, dragged, target, e );\r\n                    that.onevent( event );\r\n                }\r\n\r\n                const index = dragged.parent.children.findIndex( ( n: any ) => n.id == dragged.id );\r\n                const removed = dragged.parent.children.splice(index, 1);\r\n                target.children.push( removed[ 0 ] );\r\n                that.refresh();\r\n                delete ( window as any ).__tree_node_dragged;\r\n            });\r\n        }\r\n\r\n        let handled = false;\r\n\r\n        // Show/hide children\r\n        if( isParent )\r\n        {\r\n            item.querySelector('a.hierarchy').addEventListener(\"click\", function( e: MouseEvent ) {\r\n\r\n                handled = true;\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n\r\n                if( e.altKey )\r\n                {\r\n                    const _closeNode = function( node: any ) {\r\n                        node.closed = !node.closed;\r\n                        for( var c of node.children )\r\n                        {\r\n                            _closeNode( c );\r\n                        }\r\n                    };\r\n                    _closeNode( node );\r\n                }\r\n                else\r\n                {\r\n                    node.closed = !node.closed;\r\n                }\r\n\r\n                if( that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_CARETCHANGED, node, node.closed, e );\r\n                    that.onevent( event );\r\n                }\r\n                that.frefresh( node.id );\r\n            });\r\n        }\r\n\r\n        // Add button icons\r\n\r\n        const inputContainer = document.createElement( \"div\" );\r\n        item.appendChild( inputContainer );\r\n\r\n        if( node.actions )\r\n        {\r\n            for( let i = 0; i < node.actions.length; ++i )\r\n            {\r\n                const action = node.actions[ i ];\r\n                const actionBtn = new Button( null, \"\", ( swapValue: boolean, event: any ) => {\r\n                    event.stopPropagation();\r\n                    if( action.callback )\r\n                    {\r\n                        action.callback( node, swapValue, event );\r\n                    }\r\n                }, { icon: action.icon, swap: action.swap, title: action.name, hideName:true, className: \"p-0 m-0\", buttonClass: \"p-0 m-0 bg-none no-h\" } );\r\n                actionBtn.root.style.minWidth = \"fit-content\";\r\n                actionBtn.root.style.margin = \"0\"; // adding classes does not work\r\n                actionBtn.root.style.padding = \"0\"; // adding classes does not work\r\n                const _btn = actionBtn.root.querySelector(\"button\");\r\n                _btn.style.minWidth = \"fit-content\";\r\n                _btn.style.margin = \"0\"; // adding classes does not work\r\n                _btn.style.padding = \"0\"; // adding classes does not work\r\n\r\n                inputContainer.appendChild( actionBtn.root );\r\n            }\r\n        }\r\n\r\n        if( !( node.skipVisibility ?? false ) )\r\n        {\r\n            const visibilityBtn = new Button( null, \"\", ( swapValue: boolean, e: any ) => {\r\n                e.stopPropagation();\r\n                node.visible = node.visible === undefined ? false : !node.visible;\r\n                // Trigger visibility event\r\n                if( that.onevent )\r\n                {\r\n                    const event = new TreeEvent( TreeEvent.NODE_VISIBILITY, node, node.visible, e );\r\n                    that.onevent( event );\r\n                }\r\n            }, { icon: node.visible ? \"Eye\" : \"EyeOff\", swap: node.visible ? \"EyeOff\" : \"Eye\", title: \"Toggle visible\", className: \"p-0 m-0\", buttonClass: \"bg-none\" } );\r\n            inputContainer.appendChild( visibilityBtn.root );\r\n        }\r\n\r\n        const _hasChild = function( node: any, id: string | undefined ): boolean {\r\n            if( node.id == id ) return true;\r\n            let found = false;\r\n            for( var c of ( node?.children ?? [] ) )\r\n            {\r\n                found = found || _hasChild( c, id );\r\n            }\r\n            return found;\r\n        };\r\n\r\n        const exists = _hasChild( node, selectedId );\r\n\r\n        if( node.closed && !exists )\r\n        {\r\n            return;\r\n        }\r\n\r\n        for( var i = 0; i < node.children.length; ++i )\r\n        {\r\n            let child = node.children[ i ];\r\n\r\n            if( this.options.onlyFolders && child.type != 'folder' )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            this._createItem( node, child, level + 1, selectedId );\r\n        }\r\n    }\r\n\r\n    refresh( newData?: any, selectedId?: string )\r\n    {\r\n        this.data = newData ?? this.data;\r\n        this.domEl.querySelector( \"ul\" ).innerHTML = \"\";\r\n\r\n        if( this.data.constructor === Object )\r\n        {\r\n            this._createItem( null, this.data, 0, selectedId );\r\n        }\r\n        else\r\n        {\r\n            for( let d of this.data )\r\n            {\r\n                this._createItem( null, d, 0, selectedId );\r\n            }\r\n        }\r\n    }\r\n\r\n    /* Refreshes the tree and focuses current element */\r\n    frefresh( id: string )\r\n    {\r\n        this.refresh();\r\n        var el = this.domEl.querySelector( `#${ id }` );\r\n        if( el )\r\n        {\r\n            el.focus();\r\n        }\r\n    }\r\n\r\n    select( id: string )\r\n    {\r\n        const nodeFilter = this.domEl.querySelector( \".lexnodetreefilter\" );\r\n        if( nodeFilter )\r\n        {\r\n            nodeFilter.value = \"\";\r\n        }\r\n\r\n        this.refresh( null, id );\r\n\r\n        this.domEl.querySelectorAll( \".selected\" ).forEach( ( i: HTMLElement ) => i.classList.remove( \"selected\" ) );\r\n\r\n        // Unselect\r\n        if( !id )\r\n        {\r\n            this.selected.length = 0;\r\n            return;\r\n        }\r\n\r\n        // Element should exist, since tree was refreshed to show it\r\n        const el = this.domEl.querySelector( \"#\" + id );\r\n        console.assert(  el, \"NodeTree: Can't select node \" + id );\r\n\r\n        el.classList.add( \"selected\" );\r\n        this.selected = [ el.treeData ];\r\n        el.focus();\r\n    }\r\n\r\n    deleteNode( node: any ): boolean\r\n    {\r\n        const dataAsArray = ( this.data.constructor === Array );\r\n\r\n        // Can be either Array or Object type data\r\n        if( node.parent )\r\n        {\r\n            let childs = node.parent.children;\r\n            const index = childs.indexOf( node );\r\n            childs.splice( index, 1 );\r\n        }\r\n        else\r\n        {\r\n            if( dataAsArray )\r\n            {\r\n                const index = this.data.indexOf( node );\r\n                console.assert( index > -1, \"NodeTree: Can't delete root node \" + node.id + \" from data array!\" );\r\n                this.data.splice( index, 1 );\r\n            }\r\n            else\r\n            {\r\n                console.warn( \"NodeTree: Can't delete root node from object data!\" );\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nLX.NodeTree = NodeTree;\r\n\r\n/**\r\n * @class Tree\r\n * @description Tree Component\r\n */\r\n\r\nexport class Tree extends BaseComponent\r\n{\r\n    innerTree: NodeTree;\r\n\r\n    constructor( name: string, data: any, options: any = {} )\r\n    {\r\n        options.hideName = true;\r\n\r\n        super( ComponentType.TREE, name, null, options );\r\n\r\n        let container = document.createElement('div');\r\n        container.className = \"lextree\";\r\n        this.root.appendChild( container );\r\n\r\n        if( name )\r\n        {\r\n            let title = document.createElement('span');\r\n            title.innerHTML = name;\r\n            container.appendChild( title );\r\n        }\r\n\r\n        let toolsDiv = document.createElement('div');\r\n        toolsDiv.className = \"lextreetools\";\r\n        if( !name )\r\n        {\r\n            toolsDiv.className += \" notitle\";\r\n        }\r\n\r\n        // Tree icons\r\n        if( options.icons )\r\n        {\r\n            for( let data of options.icons )\r\n            {\r\n                const iconEl = LX.makeIcon( data.icon, { title: data.name } );\r\n                iconEl.addEventListener( \"click\", data.callback );\r\n                toolsDiv.appendChild( iconEl );\r\n            }\r\n        }\r\n\r\n        // Node filter\r\n\r\n        options.filter = options.filter ?? true;\r\n\r\n        let nodeFilterInput = null;\r\n        if( options.filter )\r\n        {\r\n            nodeFilterInput = document.createElement( \"input\" );\r\n            nodeFilterInput.className = \"lexnodetreefilter\";\r\n            nodeFilterInput.setAttribute(\"placeholder\", \"Filter..\");\r\n            nodeFilterInput.style.width =  \"100%\";\r\n            nodeFilterInput.addEventListener('input', () => {\r\n                this.innerTree.refresh();\r\n            });\r\n\r\n            let searchIcon = LX.makeIcon( \"Search\" );\r\n            toolsDiv.appendChild( nodeFilterInput );\r\n            toolsDiv.appendChild( searchIcon );\r\n        }\r\n\r\n        if( options.icons || options.filter )\r\n        {\r\n            container.appendChild( toolsDiv );\r\n        }\r\n\r\n        // Tree\r\n\r\n        let list = document.createElement('ul');\r\n        list.addEventListener(\"contextmenu\", function( e ) {\r\n            e.preventDefault();\r\n        });\r\n\r\n        container.appendChild( list );\r\n\r\n        this.innerTree = new NodeTree( container, data, options );\r\n    }\r\n}\r\n\r\nLX.Tree = Tree;","// Counter.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Counter\r\n * @description Counter Component\r\n */\r\n\r\nexport class Counter extends BaseComponent\r\n{\r\n    constructor( name: string, value: number, callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.COUNTER, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return counterText.count;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            newValue = LX.clamp( newValue, min, max );\r\n            counterText.count = newValue;\r\n            counterText.innerHTML = newValue;\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        const min = options.min ?? 0;\r\n        const max = options.max ?? 100;\r\n        const step = options.step ?? 1;\r\n\r\n        const container = document.createElement( 'div' );\r\n        container.className = \"lexcounter\";\r\n        this.root.appendChild( container );\r\n\r\n        const substrButton = new Button( null, \"\", ( value: any, e: MouseEvent ) => {\r\n            let mult = step ?? 1;\r\n            if( e.shiftKey ) mult *= 10;\r\n            this.set( counterText.count - mult, false, e );\r\n        }, { skipInlineCount: true, title: \"Minus\", icon: \"Minus\" });\r\n\r\n        container.appendChild( substrButton.root );\r\n\r\n        const containerBox = document.createElement( 'div' );\r\n        containerBox.className = \"lexcounterbox\";\r\n        container.appendChild( containerBox );\r\n\r\n        const counterText: any = document.createElement( 'span' );\r\n        counterText.className = \"lexcountervalue\";\r\n        counterText.innerHTML = value;\r\n        counterText.count = value;\r\n        containerBox.appendChild( counterText );\r\n\r\n        if( options.label )\r\n        {\r\n            const counterLabel = document.createElement( 'span' );\r\n            counterLabel.className = \"lexcounterlabel\";\r\n            counterLabel.innerHTML = options.label;\r\n            containerBox.appendChild( counterLabel );\r\n        }\r\n\r\n        const addButton = new Button(null, \"\", ( value: any, e: MouseEvent ) => {\r\n            let mult = step ?? 1;\r\n            if( e.shiftKey ) mult *= 10;\r\n            this.set( counterText.count + mult, false, e );\r\n        }, { skipInlineCount: true, title: \"Plus\", icon: \"Plus\" });\r\n        container.appendChild( addButton.root );\r\n    }\r\n}\r\n\r\nLX.Counter = Counter;","// Button.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class Progress\r\n * @description Progress Component\r\n */\r\n\r\nexport class Progress extends BaseComponent\r\n{\r\n    constructor( name: string, value: number, options: any = {} )\r\n    {\r\n        super( ComponentType.PROGRESS, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return progress.value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\t\t\tnewValue = LX.clamp( newValue, progress.min, progress.max );\r\n            this.root.querySelector(\"meter\").value = newValue;\r\n            _updateColor();\r\n            if( this.root.querySelector(\"span\") )\r\n            {\r\n                this.root.querySelector(\"span\").innerText = newValue;\r\n            }\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, newValue, event ), options.callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const container = document.createElement('div');\r\n        container.className = \"lexprogress\";\r\n        this.root.appendChild( container );\r\n\r\n        // add slider (0-1 if not specified different )\r\n\r\n        let progress: any = document.createElement('meter');\r\n        progress.id = \"lexprogressbar-\" + name;\r\n        progress.className = \"lexprogressbar\";\r\n        progress.step = \"any\";\r\n        progress.min = options.min ?? 0;\r\n        progress.max = options.max ?? 1;\r\n        progress.low = options.low ?? progress.low;\r\n        progress.high = options.high ?? progress.high;\r\n        progress.optimum = options.optimum ?? progress.optimum;\r\n        progress.value = value;\r\n        container.appendChild( progress );\r\n\r\n        const _updateColor = () => {\r\n\r\n            let backgroundColor = LX.getThemeColor( \"global-selected\" );\r\n\r\n            if( progress.low != undefined && progress.value < progress.low )\r\n            {\r\n                backgroundColor = LX.getThemeColor( \"global-color-error\" );\r\n            }\r\n            else if( progress.high != undefined && progress.value < progress.high )\r\n            {\r\n                backgroundColor = LX.getThemeColor( \"global-color-warning\" );\r\n            }\r\n\r\n            progress.style.background = `color-mix(in srgb, ${backgroundColor} 20%, transparent)`;\r\n        };\r\n\r\n        if( options.showValue )\r\n        {\r\n            const oldSpan: HTMLElement | null = document.getElementById( 'progressvalue-' + name );\r\n            if( oldSpan )\r\n            {\r\n                oldSpan.remove();\r\n            }\r\n\r\n            let span: any = document.createElement(\"span\");\r\n            span.id = \"progressvalue-\" + name;\r\n            span.style.padding = \"0px 5px\";\r\n            span.innerText = value;\r\n            container.appendChild( span );\r\n        }\r\n\r\n        if( options.editable ?? false )\r\n        {\r\n            progress.classList.add( \"editable\" );\r\n\r\n            let innerMouseDown = ( e: MouseEvent ) => {\r\n                var doc = this.root.ownerDocument;\r\n                doc.addEventListener( 'mousemove', innerMouseMove );\r\n                doc.addEventListener( 'mouseup', innerMouseUp );\r\n                document.body.classList.add( 'noevents' );\r\n                progress.classList.add( \"grabbing\" );\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n\r\n                const rect = progress.getBoundingClientRect();\r\n                const newValue = LX.round( LX.remapRange( e.offsetX, 0, rect.width, progress.min, progress.max ) );\r\n                this.set( newValue, false, e );\r\n            }\r\n\r\n            let innerMouseMove = ( e: MouseEvent ) => {\r\n\r\n                let dt = e.movementX;\r\n\r\n                if ( dt != 0 )\r\n                {\r\n                    const rect = progress.getBoundingClientRect();\r\n                    const newValue = LX.round( LX.remapRange( e.offsetX - rect.x, 0, rect.width, progress.min, progress.max ) );\r\n                    this.set( newValue, false, e );\r\n                }\r\n\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n\r\n            let innerMouseUp = ( e: MouseEvent ) => {\r\n\r\n                var doc = this.root.ownerDocument;\r\n                doc.removeEventListener( 'mousemove', innerMouseMove );\r\n                doc.removeEventListener( 'mouseup', innerMouseUp );\r\n                document.body.classList.remove( 'noevents' );\r\n                progress.classList.remove( \"grabbing\" );\r\n            }\r\n\r\n            progress.addEventListener( \"mousedown\", innerMouseDown );\r\n        }\r\n\r\n        _updateColor();\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Progress = Progress;","// OTPInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\n\r\n/**\r\n * @class OTPInput\r\n * @description OTPInput Component\r\n */\r\n\r\nexport class OTPInput extends BaseComponent\r\n{\r\n    constructor( name: string, value: string, callback: any, options: any = {} )\r\n    {\r\n        const pattern = options.pattern ?? \"xxx-xxx\";\r\n        const patternSize = ( pattern.match(/x/g) || [] ).length;\r\n\r\n        value = String( value );\r\n        if( !value.length )\r\n        {\r\n            value = \"x\".repeat( patternSize );\r\n        }\r\n\r\n        super( ComponentType.OTP, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return +value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n\r\n            value = newValue;\r\n\r\n            _refreshInput( value );\r\n\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, +newValue, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        this.disabled = options.disabled ?? false;\r\n\r\n        const container = document.createElement( 'div' );\r\n        container.className = \"lexotp flex flex-row items-center\";\r\n        this.root.appendChild( container );\r\n\r\n        const groups = pattern.split( '-' );\r\n\r\n        const _refreshInput = ( valueString: string ) => {\r\n\r\n            container.innerHTML = \"\";\r\n\r\n            let itemsCount = 0;\r\n            let activeSlot = 0;\r\n\r\n            for( let i = 0; i < groups.length; ++i )\r\n            {\r\n                const g = groups[ i ];\r\n\r\n                for( let j = 0; j < g.length; ++j )\r\n                {\r\n                    let number = valueString[ itemsCount++ ];\r\n                    number = ( number == 'x' ? '' : number );\r\n\r\n                    const slotDom = LX.makeContainer( [\"36px\", \"30px\"],\r\n                        \"lexotpslot border-top border-bottom border-left px-3 cursor-text select-none font-medium outline-none\", number, container );\r\n                    slotDom.tabIndex = \"1\";\r\n\r\n                    if( this.disabled )\r\n                    {\r\n                        slotDom.classList.add( \"disabled\" );\r\n                    }\r\n\r\n                    const otpIndex = itemsCount;\r\n\r\n                    if( j == 0 )\r\n                    {\r\n                        slotDom.className += \" rounded-l\";\r\n                    }\r\n                    else if( j == ( g.length - 1 ) )\r\n                    {\r\n                        slotDom.className += \" rounded-r border-right\";\r\n                    }\r\n\r\n                    slotDom.addEventListener( \"click\", () => {\r\n                        if( this.disabled ) { return; }\r\n                        container.querySelectorAll( \".lexotpslot\" ).forEach( s => s.classList.remove( \"active\" ) );\r\n                        const activeDom: any = container.querySelectorAll( \".lexotpslot\" )[ activeSlot ];\r\n                        activeDom.classList.add( \"active\" );\r\n                        activeDom.focus();\r\n                    } );\r\n\r\n                    slotDom.addEventListener( \"blur\", () => {\r\n                        if( this.disabled ) { return; }\r\n                        LX.doAsync( () => {\r\n                            if( container.contains( document.activeElement ) ) { return; }\r\n                            container.querySelectorAll( \".lexotpslot\" ).forEach( s => s.classList.remove( \"active\" ) );\r\n                        }, 10 );\r\n                    } );\r\n\r\n                    slotDom.addEventListener( \"keyup\", ( e: KeyboardEvent ) => {\r\n                        if( this.disabled ) { return; }\r\n                        if( !/[^0-9]+/g.test( e.key ) )\r\n                        {\r\n                            const number = e.key;\r\n                            console.assert( !Number.isNaN( parseInt( number ) ) );\r\n\r\n                            slotDom.innerHTML = number;\r\n                            valueString = valueString.substring( 0, otpIndex - 1 ) + number + valueString.substring( otpIndex );\r\n\r\n                            const nexActiveDom: any = container.querySelectorAll( \".lexotpslot\" )[ activeSlot + 1 ];\r\n                            if( nexActiveDom )\r\n                            {\r\n                                container.querySelectorAll( \".lexotpslot\" )[ activeSlot ].classList.remove( \"active\" );\r\n                                nexActiveDom.classList.add( \"active\" );\r\n                                nexActiveDom.focus();\r\n                                activeSlot++;\r\n                            }\r\n                            else\r\n                            {\r\n                                this.set( valueString );\r\n                            }\r\n                        }\r\n                        else if( e.key == \"ArrowLeft\" || e.key == \"ArrowRight\" )\r\n                        {\r\n                            const dt = ( e.key == \"ArrowLeft\" ) ? -1 : 1;\r\n                            const newActiveDom: any = container.querySelectorAll( \".lexotpslot\" )[ activeSlot + dt ];\r\n                            if( newActiveDom )\r\n                            {\r\n                                container.querySelectorAll( \".lexotpslot\" )[ activeSlot ].classList.remove( \"active\" );\r\n                                newActiveDom.classList.add( \"active\" );\r\n                                newActiveDom.focus();\r\n                                activeSlot += dt;\r\n                            }\r\n                        }\r\n                        else if( e.key == \"Enter\" && !valueString.includes( 'x' ) )\r\n                        {\r\n                            this.set( valueString );\r\n                        }\r\n                    } );\r\n                }\r\n\r\n                if( i < ( groups.length - 1 ) )\r\n                {\r\n                    LX.makeContainer( [\"auto\", \"auto\"], \"mx-2\", `-`, container );\r\n                }\r\n            }\r\n\r\n            console.assert( itemsCount == valueString.length, \"OTP Value/Pattern Mismatch!\" )\r\n        }\r\n\r\n        _refreshInput( value );\r\n    }\r\n}\r\n\r\nLX.OTPInput = OTPInput;","// Pad.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { IEvent } from './../core/Event';\r\nimport { vec2 } from './../core/Vec2';\r\n\r\n/**\r\n * @class Pad\r\n * @description Pad Component\r\n */\r\n\r\nexport class Pad extends BaseComponent\r\n{\r\n    constructor( name: string, value: number[], callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.PAD, name, null, options );\r\n\r\n        this.onGetValue = () => {\r\n            return thumb.value.xy;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            thumb.value.set( newValue[ 0 ], newValue[ 1 ] );\r\n            _updateValue( thumb.value );\r\n            if( !skipCallback )\r\n            {\r\n                this._trigger( new IEvent( name, thumb.value.xy, event ), callback );\r\n            }\r\n        };\r\n\r\n        this.onResize = ( rect ) => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        var container = document.createElement( 'div' );\r\n        container.className = \"lexpad\";\r\n        this.root.appendChild( container );\r\n\r\n        let pad: any = document.createElement('div');\r\n        pad.id = \"lexpad-\" + name;\r\n        pad.className = \"lexinnerpad\";\r\n        pad.style.width = options.padSize ?? '96px';\r\n        pad.style.height = options.padSize ?? '96px';\r\n        container.appendChild( pad );\r\n\r\n        let thumb: any = document.createElement('div');\r\n        thumb.className = \"lexpadthumb\";\r\n        thumb.value = new vec2( value[ 0 ], value[ 1 ] );\r\n        thumb.min = options.min ?? 0;\r\n        thumb.max = options.max ?? 1;\r\n        pad.appendChild( thumb );\r\n\r\n        let _updateValue = ( v: vec2 ) => {\r\n            const [ w, h ] = [ pad.offsetWidth, pad.offsetHeight ];\r\n            const value0to1 = new vec2( LX.remapRange( v.x, thumb.min, thumb.max, 0.0, 1.0 ), LX.remapRange( v.y, thumb.min, thumb.max, 0.0, 1.0 ) );\r\n            thumb.style.transform = `translate(calc( ${ w * value0to1.x }px - 50% ), calc( ${ h * value0to1.y }px - 50%)`;\r\n        }\r\n\r\n        pad.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        let that = this;\r\n\r\n        function innerMouseDown( e: MouseEvent )\r\n        {\r\n            if( document.activeElement == thumb )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', innerMouseMove );\r\n            doc.addEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.add( 'nocursor' );\r\n            document.body.classList.add( 'noevents' );\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n            thumb.classList.add( \"active\" );\r\n\r\n            if( options.onPress )\r\n            {\r\n                options.onPress.bind( thumb )( e, thumb );\r\n            }\r\n        }\r\n\r\n        function innerMouseMove( e: MouseEvent )\r\n        {\r\n            const rect = pad.getBoundingClientRect();\r\n            const relativePosition = new vec2( e.x - rect.x, e.y - rect.y );\r\n            relativePosition.clp( 0.0, pad.offsetWidth, relativePosition);\r\n            const [ w, h ] = [ pad.offsetWidth, pad.offsetHeight ];\r\n            const value0to1 = relativePosition.div( new vec2( pad.offsetWidth, pad.offsetHeight ) );\r\n\r\n            thumb.style.transform = `translate(calc( ${ w * value0to1.x }px - 50% ), calc( ${ h * value0to1.y }px - 50%)`;\r\n            thumb.value = new vec2( LX.remapRange( value0to1.x, 0.0, 1.0, thumb.min, thumb.max ), LX.remapRange( value0to1.y, 0.0, 1.0, thumb.min, thumb.max ) );\r\n\r\n            that._trigger( new IEvent( name, thumb.value.xy, e ), callback );\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function innerMouseUp( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMove );\r\n            doc.removeEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.remove( 'nocursor' );\r\n            document.body.classList.remove( 'noevents' );\r\n            thumb.classList.remove( \"active\" );\r\n\r\n            if( options.onRelease )\r\n            {\r\n                options.onRelease.bind( thumb )( e, thumb );\r\n            }\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n            this.onResize();\r\n            _updateValue( thumb.value )\r\n        } );\r\n    }\r\n}\r\n\r\nLX.Pad = Pad;","// SizeInput.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { BaseComponent, ComponentType } from './BaseComponent';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class SizeInput\r\n * @description SizeInput Component\r\n */\r\n\r\nexport class SizeInput extends BaseComponent\r\n{\r\n    constructor( name: string, value: number[], callback: any, options: any = {} )\r\n    {\r\n        super( ComponentType.SIZE, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            const value = [];\r\n            for( let i = 0; i < this.root.dimensions.length; ++i )\r\n            {\r\n                value.push( this.root.dimensions[ i ].value() );\r\n            }\r\n            return value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue, skipCallback, event ) => {\r\n            for( let i = 0; i < this.root.dimensions.length; ++i )\r\n            {\r\n                this.root.dimensions[ i ].set( newValue[ i ], skipCallback );\r\n            }\r\n        };\r\n\r\n        this.root.aspectRatio = ( value.length == 2 ? value[ 0 ] / value[ 1 ] : null );\r\n        this.root.dimensions = [];\r\n\r\n        for( let i = 0; i < value.length; ++i )\r\n        {\r\n            const p = new LX.Panel();\r\n            this.root.dimensions[ i ] = p.addNumber( null, value[ i ], ( v: number ) => {\r\n\r\n                const value = this.value();\r\n\r\n                if( this.root.locked )\r\n                {\r\n                    const ar = ( i == 0 ? 1.0 / this.root.aspectRatio : this.root.aspectRatio );\r\n                    const index = ( 1 + i ) % 2;\r\n                    value[ index ] = v * ar;\r\n                    this.root.dimensions[ index ].set( value[ index ], true );\r\n                }\r\n\r\n                if( callback )\r\n                {\r\n                    callback( value );\r\n                }\r\n\r\n            }, { min: 0, disabled: options.disabled, precision: options.precision, className: \"flex-fill\" } );\r\n\r\n            this.root.appendChild( this.root.dimensions[ i ].root );\r\n\r\n            if( ( i + 1 ) != value.length )\r\n            {\r\n                const xIcon = LX.makeIcon( \"X\", { svgClass: \"fg-accent font-bold\" } );\r\n                this.root.appendChild( xIcon );\r\n            }\r\n        }\r\n\r\n        if( options.units )\r\n        {\r\n            let unitSpan = document.createElement( 'span' );\r\n            unitSpan.className = \"select-none fg-tertiary font-medium\";\r\n            unitSpan.innerText = options.units;\r\n            this.root.appendChild( unitSpan );\r\n        }\r\n\r\n        // Lock aspect ratio\r\n        if( this.root.aspectRatio )\r\n        {\r\n            const lockerButton = new Button( null, \"\", ( swapValue: boolean ) => {\r\n                this.root.locked = swapValue;\r\n                if( swapValue )\r\n                {\r\n                    // Recompute ratio\r\n                    const value = this.value();\r\n                    this.root.aspectRatio = value[ 0 ] / value[ 1 ];\r\n                }\r\n            }, { title: \"Lock Aspect Ratio\", icon: \"LockOpen\", swap: \"Lock\", buttonClass: \"bg-none p-0\" } );\r\n            this.root.appendChild( lockerButton.root );\r\n        }\r\n    }\r\n}\r\n\r\nLX.SizeInput = SizeInput;","// Panel.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Branch } from './Branch';\r\nimport { BaseComponent, ComponentType } from '../components/BaseComponent';\r\nimport { TextInput } from '../components/TextInput';\r\nimport { Title } from '../components/Title';\r\nimport { Button } from '../components/Button';\r\nimport { ComboButtons } from '../components/ComboButtons';\r\nimport { Card } from '../components/Card';\r\nimport { Form } from '../components/Form';\r\nimport { TextArea } from '../components/TextArea';\r\nimport { Select } from '../components/Select';\r\nimport { Curve } from '../components/Curve';\r\nimport { Dial } from '../components/Dial';\r\nimport { Layers } from '../components/Layers';\r\nimport { ArrayInput } from '../components/ArrayInput';\r\nimport { List } from '../components/List';\r\nimport { Tags } from '../components/Tags';\r\nimport { Checkbox } from '../components/Checkbox';\r\nimport { Toggle } from '../components/Toggle';\r\nimport { RadioGroup } from '../components/RadioGroup';\r\nimport { ColorInput } from '../components/ColorInput';\r\nimport { RangeInput } from '../components/RangeInput';\r\nimport { NumberInput } from '../components/NumberInput';\r\nimport { Vector } from '../components/Vector';\r\nimport { Map2D } from '../components/Map2D';\r\nimport { Table } from '../components/Table';\r\nimport { FileInput } from '../components/FileInput';\r\nimport { DatePicker } from '../components/DatePicker';\r\nimport { Rate } from '../components/Rate';\r\nimport { TabSections } from '../components/TabSections';\r\nimport { Tree } from '../components/NodeTree';\r\nimport { Counter } from '../components/Counter';\r\nimport { Progress } from '../components/Progress';\r\nimport { OTPInput } from '../components/OTPInput';\r\nimport { Pad } from '../components/Pad';\r\nimport { SizeInput } from '../components/SizeInput';\r\n\r\n/**\r\n * @class Panel\r\n */\r\n\r\nexport class Panel {\r\n\r\n    root: any;\r\n    branches: Branch[];\r\n    components: Record<string, any>;\r\n    signals: any[];\r\n    queuedContainer: any;\r\n\r\n    _branchOpen: boolean;\r\n    _currentBranch: any;\r\n    _queue: any[]; // Append components in other locations\r\n    _inlineComponentsLeft: number;\r\n    _inlineQueuedContainer: any;\r\n    _inlineExtraClass: string|null;\r\n    _inlineContainer: any;\r\n    _inlineComponents: any[];\r\n\r\n    /**\r\n     * @param {Object} options\r\n     * id: Id of the element\r\n     * className: Add class to the element\r\n     * width: Width of the panel element [fit space]\r\n     * height: Height of the panel element [fit space]\r\n     * style: CSS Style object to be applied to the panel\r\n     */\r\n\r\n    constructor( options: any = {} ) {\r\n\r\n        var root = document.createElement('div');\r\n        root.className = \"lexpanel\";\r\n\r\n        if( options.id )\r\n        {\r\n            root.id = options.id;\r\n        }\r\n\r\n        if( options.className )\r\n        {\r\n            root.className += \" \" + options.className;\r\n        }\r\n\r\n        root.style.width = options.width || \"100%\";\r\n        root.style.height = options.height || \"100%\";\r\n        Object.assign( root.style, options.style ?? {} );\r\n\r\n        this.root = root;\r\n        this.branches = [];\r\n        this.signals = [];\r\n        this.components = {};\r\n\r\n        this._branchOpen = false;\r\n        this._currentBranch = null;\r\n        this._queue = []; // Append components in other locations\r\n        this._inlineComponentsLeft = -1;\r\n        this._inlineQueuedContainer = null;\r\n        this._inlineExtraClass = null;\r\n        this._inlineComponents = [];\r\n    }\r\n\r\n    get( name: string ) {\r\n\r\n        return this.components[ name ];\r\n    }\r\n\r\n    getValue( name: string ) {\r\n\r\n        let component = this.components[ name ];\r\n\r\n        if( !component )\r\n        {\r\n            throw( \"No component called \" + name );\r\n        }\r\n\r\n        return component.value();\r\n    }\r\n\r\n    setValue( name: string, value: any, skipCallback?: boolean )\r\n    {\r\n        let component = this.components[ name ];\r\n\r\n        if( !component )\r\n        {\r\n            throw( \"No component called \" + name );\r\n        }\r\n\r\n        return component.set( value, skipCallback );\r\n    }\r\n\r\n    /**\r\n     * @method attach\r\n     * @param {Element} content child element to append to panel\r\n     */\r\n\r\n    attach( content: any )\r\n    {\r\n        console.assert( content, \"No content to attach!\" );\r\n        content.parent = this;\r\n        this.root.appendChild( content.root ? content.root : content );\r\n    }\r\n\r\n    /**\r\n     * @method clear\r\n     */\r\n\r\n    clear()\r\n    {\r\n        this.branches = [];\r\n        this._branchOpen = false;\r\n        this._currentBranch = null;\r\n\r\n        for( let w in this.components )\r\n        {\r\n            if( this.components[ w ].options && this.components[ w ].options.signal )\r\n            {\r\n                const signal = this.components[ w ].options.signal;\r\n                for( let i = 0; i < LX.signals[signal].length; i++ )\r\n                {\r\n                    if( LX.signals[signal][ i ] == this.components[ w ] )\r\n                    {\r\n                        LX.signals[signal] = [...LX.signals[signal].slice(0, i), ...LX.signals[signal].slice(i+1)];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if( this.signals )\r\n        {\r\n            for( let w = 0; w < this.signals.length; w++ )\r\n            {\r\n                let c: any = Object.values(this.signals[ w ])[ 0 ];\r\n                let signal = c.options.signal;\r\n                for( let i = 0; i < LX.signals[signal].length; i++ )\r\n                {\r\n                    if( LX.signals[signal][ i ] == c )\r\n                    {\r\n                        LX.signals[signal] = [...LX.signals[signal].slice(0, i), ...LX.signals[signal].slice(i+1)];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.components = {};\r\n        this.root.innerHTML = \"\";\r\n    }\r\n\r\n    /**\r\n     * @method sameLine\r\n     * @param {Number} numberOfComponents Of components that will be placed in the same line\r\n     * @param {String} className Extra class to customize inline components parent container\r\n     * @description Next N components will be in the same line. If no number, it will inline all until calling nextLine()\r\n     */\r\n\r\n    sameLine( numberOfComponents: number, className?: string ) {\r\n\r\n        this._inlineQueuedContainer = this.queuedContainer;\r\n        this._inlineComponentsLeft = ( numberOfComponents ?? Infinity );\r\n        this._inlineExtraClass = className ?? null;\r\n    }\r\n\r\n    /**\r\n     * @method endLine\r\n     * @param {String} className Extra class to customize inline components parent container\r\n     * @description Stop inlining components. Use it only if the number of components to be inlined is NOT specified.\r\n     */\r\n\r\n    endLine( className?: string|null ) {\r\n\r\n        className = className ?? this._inlineExtraClass;\r\n\r\n        if( this._inlineComponentsLeft == -1 )\r\n        {\r\n            console.warn(\"No pending components to be inlined!\");\r\n            return;\r\n        }\r\n\r\n        this._inlineComponentsLeft = -1;\r\n\r\n        if( !this._inlineContainer )\r\n        {\r\n            this._inlineContainer = document.createElement('div');\r\n            this._inlineContainer.className = \"lexinlinecomponents\";\r\n\r\n            if( className )\r\n            {\r\n                this._inlineContainer.className += ` ${ className }`;\r\n            }\r\n        }\r\n\r\n        // Push all elements single element or Array[element, container]\r\n        for( let item of this._inlineComponents )\r\n        {\r\n            const isPair = ( item.constructor == Array );\r\n\r\n            if( isPair )\r\n            {\r\n                // eg. an array, inline items appended later to\r\n                if( this._inlineQueuedContainer )\r\n                {\r\n                    this._inlineContainer.appendChild( item[ 0 ] );\r\n                }\r\n                // eg. a select, item is appended to parent, not to inline cont.\r\n                else\r\n                {\r\n                    item[ 1 ].appendChild( item[ 0 ] );\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this._inlineContainer.appendChild( item );\r\n            }\r\n        }\r\n\r\n        if( !this._inlineQueuedContainer )\r\n        {\r\n            if( this._currentBranch )\r\n            {\r\n                this._currentBranch.content.appendChild( this._inlineContainer );\r\n            }\r\n            else\r\n            {\r\n                this.root.appendChild( this._inlineContainer );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this._inlineQueuedContainer.appendChild( this._inlineContainer );\r\n        }\r\n\r\n        this._inlineComponents = [];\r\n        this._inlineContainer = null;\r\n        this._inlineExtraClass = null;\r\n    }\r\n\r\n    /**\r\n     * @method branch\r\n     * @param {String} name Name of the branch/section\r\n     * @param {Object} options\r\n     * id: Id of the branch\r\n     * className: Add class to the branch\r\n     * closed: Set branch collapsed/opened [false]\r\n     * icon: Set branch icon (LX.ICONS)\r\n     * filter: Allow filter components in branch by name [false]\r\n     */\r\n\r\n    branch( name: string, options: any = {} ) {\r\n\r\n        if( this._branchOpen )\r\n        {\r\n            this.merge();\r\n        }\r\n\r\n        // Create new branch\r\n        var branch = new Branch( name, options );\r\n        branch.panel = this;\r\n\r\n        // Declare new open\r\n        this._branchOpen = true;\r\n        this._currentBranch = branch;\r\n\r\n        this.branches.push( branch );\r\n        this.root.appendChild( branch.root );\r\n\r\n        // Add component filter\r\n        if( options.filter )\r\n        {\r\n            this._addFilter( options.filter, { callback: this._searchComponents.bind( this, branch.name ) } );\r\n        }\r\n\r\n        return branch;\r\n    }\r\n\r\n    merge() {\r\n        this._branchOpen = false;\r\n        this._currentBranch = null;\r\n    }\r\n\r\n    _pick( arg: any, def: any ) {\r\n        return (typeof arg == 'undefined' ? def : arg);\r\n    }\r\n\r\n    /*\r\n        Panel Components\r\n    */\r\n\r\n    _attachComponent( component: any, options: any = {} ) {\r\n\r\n        if( component.name != undefined )\r\n        {\r\n            this.components[ component.name ] = component;\r\n        }\r\n\r\n        if( component.options.signal && !component.name )\r\n        {\r\n            if( !this.signals )\r\n            {\r\n                this.signals = [];\r\n            }\r\n\r\n            this.signals.push( { [ component.options.signal ]: component } )\r\n        }\r\n\r\n        const _insertComponent = ( el: HTMLElement ) => {\r\n            if( options.container )\r\n            {\r\n                options.container.appendChild( el );\r\n            }\r\n            else if( !this.queuedContainer )\r\n            {\r\n                if( this._currentBranch )\r\n                {\r\n                    if( !options.skipComponent )\r\n                    {\r\n                        this._currentBranch.components.push( component );\r\n                    }\r\n                    this._currentBranch.content.appendChild( el );\r\n                }\r\n                else\r\n                {\r\n                    el.className += \" nobranch w-full\";\r\n                    this.root.appendChild( el );\r\n                }\r\n            }\r\n            // Append content to queued tab container\r\n            else\r\n            {\r\n                this.queuedContainer.appendChild( el );\r\n            }\r\n        };\r\n\r\n        const _storeComponent = ( el: HTMLElement ) => {\r\n\r\n            if( !this.queuedContainer )\r\n            {\r\n                this._inlineComponents.push( el );\r\n            }\r\n            // Append content to queued tab container\r\n            else\r\n            {\r\n                this._inlineComponents.push( [ el, this.queuedContainer ] );\r\n            }\r\n        };\r\n\r\n        // Process inline components\r\n        if( this._inlineComponentsLeft > 0 && !options.skipInlineCount )\r\n        {\r\n            // Store component and its container\r\n            _storeComponent( component.root );\r\n\r\n            this._inlineComponentsLeft--;\r\n\r\n            // Last component\r\n            if( !this._inlineComponentsLeft )\r\n            {\r\n                this.endLine();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            _insertComponent( component.root );\r\n        }\r\n\r\n        return component;\r\n    }\r\n\r\n    _addFilter( placeholder: string, options: any = {} ) {\r\n\r\n        options.placeholder = placeholder.constructor == String ? placeholder : \"Filter properties..\";\r\n        options.skipComponent = options.skipComponent ?? true;\r\n        options.skipInlineCount = true;\r\n\r\n        let component = new TextInput( null, undefined, null, options )\r\n        const element = component.root;\r\n        element.className += \" lexfilter\";\r\n\r\n        let input = document.createElement('input');\r\n        input.className = 'lexinput-filter';\r\n        input.setAttribute( \"placeholder\", options.placeholder );\r\n        input.style.width =  \"100%\";\r\n        input.value = options.filterValue || \"\";\r\n\r\n        let searchIcon = LX.makeIcon( \"Search\" );\r\n        element.appendChild( searchIcon );\r\n        element.appendChild( input );\r\n\r\n        input.addEventListener(\"input\", e => {\r\n            if( options.callback )\r\n            {\r\n                options.callback( input.value, e );\r\n            }\r\n        });\r\n\r\n        return element;\r\n    }\r\n\r\n    _searchComponents( branchName: string, value: string ) {\r\n\r\n        for( let b of this.branches )\r\n        {\r\n            if( b.name !== branchName )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            // remove all components\r\n            for( let w of b.components )\r\n            {\r\n                if( w.domEl.classList.contains('lexfilter') )\r\n                {\r\n                    continue;\r\n                }\r\n                w.domEl.remove();\r\n            }\r\n\r\n            // push to right container\r\n            this.queue( b.content );\r\n\r\n            const emptyFilter = !value.length;\r\n\r\n            // add components\r\n            for( let w of b.components )\r\n            {\r\n                if( !emptyFilter )\r\n                {\r\n                    if(!w.name) continue;\r\n                    // const filterWord = value.toLowerCase();\r\n                    const name = w.name.toLowerCase();\r\n                    if(!name.includes(value)) continue;\r\n                }\r\n\r\n                // insert filtered component\r\n                this.queuedContainer.appendChild( w.domEl );\r\n            }\r\n\r\n            // push again to current branch\r\n            this.clearQueue();\r\n\r\n            // no more branches to check!\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method getBranch\r\n     * @param {String} name if null, return current branch\r\n     */\r\n\r\n    getBranch( name: string ) {\r\n\r\n        if( name )\r\n        {\r\n            return this.branches.find( b => b.name == name );\r\n        }\r\n\r\n        return this._currentBranch;\r\n    }\r\n\r\n    /**\r\n     * @method queue\r\n     * @param {HTMLElement} domEl container to append elements to\r\n     */\r\n\r\n    queue( domEl: any ) {\r\n\r\n        if( !domEl && this._currentBranch)\r\n        {\r\n            domEl = this._currentBranch.root;\r\n        }\r\n\r\n        if( this.queuedContainer )\r\n        {\r\n            this._queue.push( this.queuedContainer );\r\n        }\r\n\r\n        this.queuedContainer = domEl;\r\n    }\r\n\r\n    /**\r\n     * @method clearQueue\r\n     */\r\n\r\n    clearQueue() {\r\n\r\n        if( this._queue && this._queue.length)\r\n        {\r\n            this.queuedContainer = this._queue.pop();\r\n            return;\r\n        }\r\n\r\n        delete this.queuedContainer;\r\n    }\r\n\r\n    /**\r\n     * @method addSeparator\r\n     */\r\n\r\n    addSeparator() {\r\n\r\n        var element = document.createElement('div');\r\n        element.className = \"lexseparator\";\r\n\r\n        let component = new BaseComponent( ComponentType.SEPARATOR );\r\n        component.root = element;\r\n\r\n        if( this._currentBranch )\r\n        {\r\n            this._currentBranch.content.appendChild( element );\r\n            this._currentBranch.components.push( component );\r\n        }\r\n        else\r\n        {\r\n            this.root.appendChild( element );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method addTitle\r\n     * @param {String} name Title name\r\n     * @param {Object} options:\r\n     * link: Href in case title is an hyperlink\r\n     * target: Target name of the iframe (if any)\r\n     * icon: Name of the icon (if any)\r\n     * iconColor: Color of title icon (if any)\r\n     * style: CSS to override\r\n     */\r\n\r\n    addTitle( name: string, options: any = {} ) {\r\n        const component = new Title( name, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addText\r\n     * @param {String} name Component name\r\n     * @param {String} value Text value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * required: Make the input required\r\n     * placeholder: Add input placeholder\r\n     * icon: Icon (if any) to append at the input start\r\n     * pattern: Regular expression that value must match\r\n     * trigger: Choose onchange trigger (default, input) [default]\r\n     * inputWidth: Width of the text input\r\n     * fit: Input widts fits content [false]\r\n     * inputClass: Class to add to the native input element\r\n     * skipReset: Don't add the reset value button when value changes\r\n     * float: Justify input text content\r\n     * justifyName: Justify name content\r\n     */\r\n\r\n    addText( name: string|null, value: string, callback: any, options: any = {} ) {\r\n        const component = new TextInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addTextArea\r\n     * @param {String} name Component name\r\n     * @param {String} value Text Area value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * placeholder: Add input placeholder\r\n     * resize: Allow resize [true]\r\n     * trigger: Choose onchange trigger (default, input) [default]\r\n     * inputWidth: Width of the text input\r\n     * float: Justify input text content\r\n     * justifyName: Justify name content\r\n     * fitHeight: Height adapts to text\r\n     */\r\n\r\n    addTextArea( name: string|null, value: string, callback: any, options: any = {} ) {\r\n        const component = new TextArea( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addLabel\r\n     * @param {String} value Information string\r\n     * @param {Object} options Text options\r\n     */\r\n\r\n    addLabel( value: string, options: any = {} ) {\r\n        options.disabled = true;\r\n        options.inputClass = ( options.inputClass ?? \"\" ) + \" bg-none\";\r\n        const component = this.addText( null, value, null, options );\r\n        component.type = ComponentType.LABEL;\r\n        return component;\r\n    }\r\n\r\n    /**\r\n     * @method addButton\r\n     * @param {String} name Component name\r\n     * @param {String} value Button name\r\n     * @param {Function} callback Callback function on click\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * icon: Icon class to show as button value\r\n     * iconPosition: Icon position (cover|start|end)\r\n     * fileInput: Button click requests a file\r\n     * fileInputType: Type of the requested file\r\n     * img: Path to image to show as button value\r\n     * title: Text to show in native Element title\r\n     * buttonClass: Class to add to the native button element\r\n     * mustConfirm: User must confirm trigger in a popover\r\n     */\r\n\r\n    addButton( name: string|null, value: string, callback: any, options: any = {} ) {\r\n        const component = new Button( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addComboButtons\r\n     * @param {String} name Component name\r\n     * @param {Array} values Each of the {value, callback, selected, disabled} items\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * float: Justify content (left, center, right) [center]\r\n     * selected: Selected button by default (String|Array)\r\n     * noSelection: Buttons can be clicked, but they are not selectable\r\n     * toggle: Buttons can be toggled insted of selecting only one\r\n     */\r\n\r\n    addComboButtons( name: string, values: any[], options: any = {} ) {\r\n        const component = new ComboButtons( name, values, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addCard\r\n     * @param {String} name Card Name\r\n     * @param {Object} options:\r\n     * text: Card text\r\n     * link: Card link\r\n     * title: Card dom title\r\n     * src: url of the image\r\n     * callback (Function): function to call on click\r\n     */\r\n\r\n    addCard( name: string, options: any = {} ) {\r\n        const component = new Card( name, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addForm\r\n     * @param {String} name Component name\r\n     * @param {Object} data Form data\r\n     * @param {Function} callback Callback function on submit form\r\n     * @param {Object} options:\r\n     * primaryActionName: Text to be shown in the primary action button ['Submit']\r\n     * primaryButtonClass: Button class for primary action button ['contrast']\r\n     * secondaryActionName: Text to be shown in the secondary action button ['Cancel']\r\n     * secondaryActionCallback: Callback function on press secondary button\r\n     * secondaryButtonClass: Button class for secondary action button ['primary']\r\n     * skipLabels: Do not show input field labels [false]\r\n     */\r\n\r\n    addForm( name: string, data: any, callback: any, options: any = {} ) {\r\n        const component = new Form( name, data, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addContent\r\n     * @param {String} name Component name\r\n     * @param {HTMLElement/String} element\r\n     * @param {Object} options\r\n     */\r\n\r\n    addContent( name: string, element: any, options: any = {} ) {\r\n\r\n        console.assert( element, \"Empty content!\" );\r\n\r\n        if( element.constructor == String )\r\n        {\r\n            const tmp: any = document.createElement( \"div\" );\r\n            tmp.innerHTML = element;\r\n\r\n            if( tmp.childElementCount > 1 )\r\n            {\r\n                element = tmp;\r\n            }\r\n            else\r\n            {\r\n                element = tmp.firstElementChild;\r\n            }\r\n        }\r\n\r\n        options.hideName = true;\r\n\r\n        let component = new BaseComponent( ComponentType.CONTENT, name, null, options );\r\n        component.root.appendChild( element );\r\n\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addImage\r\n     * @param {String} name Component name\r\n     * @param {String} url Image Url\r\n     * @param {Object} options\r\n     * hideName: Don't use name as label [false]\r\n     */\r\n\r\n    async addImage( name: string, url: string, options: any = {} ) {\r\n\r\n        console.assert( url.length !== 0, \"Empty src/url for Image!\" );\r\n\r\n        let container = document.createElement( 'div' );\r\n        container.className = \"leximage\";\r\n        container.style.width = \"100%\";\r\n\r\n        let img = document.createElement( 'img' );\r\n        img.src = url;\r\n        Object.assign( img.style, options.style ?? {} );\r\n        container.appendChild( img );\r\n\r\n        let component = new BaseComponent( ComponentType.IMAGE, name, null, options );\r\n        component.root.appendChild( container );\r\n\r\n        // await img.decode();\r\n        img.decode();\r\n\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addSelect\r\n     * @param {String} name Component name\r\n     * @param {Array} values Posible options of the select component -> String (for default select) or Object = {value, url} (for images, gifs..)\r\n     * @param {String} value Select by default option\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * filter: Add a search bar to the component [false]\r\n     * disabled: Make the component disabled [false]\r\n     * skipReset: Don't add the reset value button when value changes\r\n     * placeholder: Placeholder for the filter input\r\n     * emptyMsg: Custom message to show when no filtered results\r\n     */\r\n\r\n    addSelect( name: string | null, values: any[], value: string, callback: any, options: any = {} ) {\r\n        const component = new Select( name, values, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addCurve\r\n     * @param {String} name Component name\r\n     * @param {Array of Array} values Array of 2N Arrays of each value of the curve\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * skipReset: Don't add the reset value button when value changes\r\n     * bgColor: Component background color\r\n     * pointsColor: Curve points color\r\n     * lineColor: Curve line color\r\n     * noOverlap: Points do not overlap, replacing themselves if necessary\r\n     * allowAddValues: Support adding values on click\r\n     * smooth: Curve smoothness\r\n     * moveOutAction: Clamp or delete points moved out of the curve (LX.CURVE_MOVEOUT_CLAMP, LX.CURVE_MOVEOUT_DELETE)\r\n    */\r\n\r\n    addCurve( name: string, values: any[], callback: any, options: any = {} ) {\r\n        const component = new Curve( name, values, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addDial\r\n     * @param {String} name Component name\r\n     * @param {Array of Array} values Array of 2N Arrays of each value of the dial\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * skipReset: Don't add the reset value button when value changes\r\n     * bgColor: Component background color\r\n     * pointsColor: Curve points color\r\n     * lineColor: Curve line color\r\n     * noOverlap: Points do not overlap, replacing themselves if necessary\r\n     * allowAddValues: Support adding values on click\r\n     * smooth: Curve smoothness\r\n     * moveOutAction: Clamp or delete points moved out of the curve (LX.CURVE_MOVEOUT_CLAMP, LX.CURVE_MOVEOUT_DELETE)\r\n    */\r\n\r\n    addDial( name: string, values: any[], callback: any, options: any = {} ) {\r\n        const component = new Dial( name, values, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addLayers\r\n     * @param {String} name Component name\r\n     * @param {Number} value Flag value by default option\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     */\r\n\r\n    addLayers( name: string, value: number, callback: any, options: any = {} ) {\r\n        const component = new Layers( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addArray\r\n     * @param {String} name Component name\r\n     * @param {Array} values By default values in the array\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * innerValues (Array): Use select mode and use values as options\r\n     */\r\n\r\n    addArray( name: string, values: any[] = [], callback: any, options: any = {} ) {\r\n        const component = new ArrayInput( name, values, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addList\r\n     * @param {String} name Component name\r\n     * @param {Array} values List values\r\n     * @param {String} value Selected list value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     */\r\n\r\n    addList( name: string, values: any[], value: any, callback: any, options: any = {} ) {\r\n        const component = new List( name, values, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addTags\r\n     * @param {String} name Component name\r\n     * @param {String} value Comma separated tags\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     */\r\n\r\n    addTags( name: string, value: string, callback: any, options: any = {} ) {\r\n        const component = new Tags( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addCheckbox\r\n     * @param {String} name Component name\r\n     * @param {Boolean} value Value of the checkbox\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * label: Checkbox label\r\n     * suboptions: Callback to add components in case of TRUE value\r\n     * className: Extra classes to customize style\r\n     */\r\n\r\n    addCheckbox( name: string | null, value: boolean, callback: any, options: any = {} ) {\r\n        const component = new Checkbox( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addToggle\r\n     * @param {String} name Component name\r\n     * @param {Boolean} value Value of the checkbox\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * label: Toggle label\r\n     * suboptions: Callback to add components in case of TRUE value\r\n     * className: Customize colors\r\n     */\r\n\r\n    addToggle( name: string, value: boolean, callback: any, options: any = {} ) {\r\n        const component = new Toggle( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addRadioGroup\r\n     * @param {String} name Component name\r\n     * @param {String} label Radio label\r\n     * @param {Array} values Radio options\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * className: Customize colors\r\n     * selected: Index of the default selected option\r\n     */\r\n\r\n    addRadioGroup( name: string, label: string, values: any[], callback: any, options: any = {} ) {\r\n        const component = new RadioGroup( name, label, values, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addColor\r\n     * @param {String} name Component name\r\n     * @param {String} value Default color (hex)\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * useRGB: The callback returns color as Array (r, g, b) and not hex [false]\r\n     */\r\n\r\n    addColor( name: string, value: any, callback: any, options: any = {} ) {\r\n        const component = new ColorInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addRange\r\n     * @param {String} name Component name\r\n     * @param {Number} value Default number value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * className: Extra classes to customize style\r\n     * disabled: Make the component disabled [false]\r\n     * left: The slider goes to the left instead of the right\r\n     * fill: Fill slider progress [true]\r\n     * step: Step of the input\r\n     * min, max: Min and Max values for the input\r\n     */\r\n\r\n    addRange( name: string, value: number, callback: any, options: any = {} ) {\r\n        const component = new RangeInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addNumber\r\n     * @param {String} name Component name\r\n     * @param {Number} value Default number value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * step: Step of the input\r\n     * precision: The number of digits to appear after the decimal point\r\n     * min, max: Min and Max values for the input\r\n     * skipSlider: If there are min and max values, skip the slider\r\n     * units: Unit as string added to the end of the value\r\n     * onPress: Callback function on mouse down\r\n     * onRelease: Callback function on mouse up\r\n     */\r\n\r\n    addNumber( name: string | null, value: number, callback: any, options: any = {} ) {\r\n        const component = new NumberInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    static VECTOR_COMPONENTS = { 0: 'x', 1: 'y', 2: 'z', 3: 'w' };\r\n\r\n    _addVector( numComponents: number, name: string, value: any[], callback: any, options: any = {} ) {\r\n        const component = new Vector( numComponents, name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addVector N (2, 3, 4)\r\n     * @param {String} name Component name\r\n     * @param {Array} value Array of N components\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * step: Step of the inputs\r\n     * min, max: Min and Max values for the inputs\r\n     * onPress: Callback function on mouse down\r\n     * onRelease: Callback function on mouse is released\r\n     */\r\n\r\n    addVector2( name: string, value: any[], callback: any, options: any ) {\r\n        return this._addVector( 2, name, value, callback, options );\r\n    }\r\n\r\n    addVector3( name: string, value: any[], callback: any, options: any ) {\r\n        return this._addVector( 3, name, value, callback, options );\r\n    }\r\n\r\n    addVector4( name: string, value: any[], callback: any, options: any ) {\r\n        return this._addVector( 4, name, value, callback, options );\r\n    }\r\n\r\n    /**\r\n     * @method addSize\r\n     * @param {String} name Component name\r\n     * @param {Number} value Default number value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * units: Unit as string added to the end of the value\r\n     */\r\n\r\n    addSize( name: string, value: any, callback: any, options: any = {} ) {\r\n        const component = new SizeInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addOTP\r\n     * @param {String} name Component name\r\n     * @param {String} value Default numeric value in string format\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * disabled: Make the component disabled [false]\r\n     * pattern: OTP numeric pattern\r\n     */\r\n\r\n    addOTP( name: string, value: string, callback: any, options: any = {} ) {\r\n        const component = new OTPInput( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addPad\r\n     * @param {String} name Component name\r\n     * @param {Array} value Pad value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * min, max: Min and Max values\r\n     * padSize: Size of the pad (css)\r\n     * onPress: Callback function on mouse down\r\n     * onRelease: Callback function on mouse up\r\n     */\r\n\r\n    addPad( name: string, value: any[], callback: any, options: any = {} ) {\r\n        const component = new Pad( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addProgress\r\n     * @param {String} name Component name\r\n     * @param {Number} value Progress value\r\n     * @param {Object} options:\r\n     * min, max: Min and Max values\r\n     * low, optimum, high: Low and High boundary values, Optimum point in the range\r\n     * showValue: Show current value\r\n     * editable: Allow edit value\r\n     * callback: Function called on change value\r\n     */\r\n\r\n    addProgress( name: string, value: number, options: any = {} ) {\r\n        const component = new Progress( name, value, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addFile\r\n     * @param {String} name Component name\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * local: Ask for local file\r\n     * disabled: Make the component disabled [false]\r\n     * read: Return the file itself (False) or the contents (True)\r\n     * type: type to read as [text (Default), buffer, bin, url]\r\n     */\r\n\r\n    addFile( name: string, callback: any, options: any = {} ) {\r\n        const component = new FileInput( name, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addTree\r\n     * @param {String} name Component name\r\n     * @param {Object} data Data of the tree\r\n     * @param {Object} options:\r\n     * icons: Array of objects with icon button information {name, icon, callback}\r\n     * filter: Add nodes filter [true]\r\n     * rename: Boolean to allow rename [true]\r\n     * onevent(tree_event): Called when node is selected, dbl clicked, contextmenu opened, changed visibility, parent or name\r\n     */\r\n\r\n    addTree( name: string, data: any, options: any = {} ) {\r\n        const component = new Tree( name, data, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addTabSections\r\n     * @param {String} name Component name\r\n     * @param {Array} tabs Contains objects with {\r\n     *      name: Name of the tab (if icon, use as title)\r\n     *      icon: Icon to be used as the tab icon (optional)\r\n     *      iconClass: Class to be added to the icon (optional)\r\n     *      svgClass: Class to be added to the inner SVG of the icon (optional)\r\n     *      onCreate: Func to be called at tab creation\r\n     *      onSelect: Func to be called on select tab (optional)\r\n     * }\r\n     * @param {Object} options\r\n     * vertical: Use vertical or horizontal tabs (vertical by default)\r\n     * showNames: Show tab name only in horizontal tabs\r\n     */\r\n\r\n    addTabSections( name: string, tabs: any[], options: any = {} ) {\r\n        const component = new TabSections( name, tabs, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addCounter\r\n     * @param {String} name Component name\r\n     * @param {Number} value Counter value\r\n     * @param {Function} callback Callback function on change\r\n     * @param {Object} options:\r\n     * disabled: Make the component disabled [false]\r\n     * min, max: Min and Max values\r\n     * step: Step for adding/substracting\r\n     * label: Text to show below the counter\r\n     */\r\n\r\n    addCounter( name: string, value: number, callback: any, options: any = {} ) {\r\n        const component = new Counter( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addTable\r\n     * @param {String} name Component name\r\n     * @param {Number} data Table data\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * head: Table headers (each of the headers per column)\r\n     * body: Table body (data per row for each column)\r\n     * rowActions: Allow to add actions per row\r\n     * onMenuAction: Function callback to fill the \"menu\" context\r\n     * selectable: Each row can be selected\r\n     * sortable: Rows can be sorted by the user manually\r\n     * centered: Center text within columns. true for all, Array for center selected cols\r\n     * toggleColumns: Columns visibility can be toggled\r\n     * filter: Name of the column to filter by text input (if any)\r\n     * filterValue: Initial filter value\r\n     * customFilters: Add selectors to filter by specific option values\r\n     */\r\n\r\n    addTable( name: string, data: any, options: any = {} ) {\r\n        const component = new Table( name, data, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addDate\r\n     * @param {String} name Component name\r\n     * @param {String} dateValue\r\n     * @param {Function} callback\r\n     * @param {Object} options:\r\n     * hideName: Don't use name as label [false]\r\n     * today: Set current day as selected by default\r\n     * untilToday: Allow dates only until current day\r\n     * fromToday: Allow dates only from current day\r\n     */\r\n\r\n    addDate( name: string, dateValue: string, callback: any, options: any = {} ) {\r\n        const component = new DatePicker( name, dateValue, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addMap2D\r\n     * @param {String} name Component name\r\n     * @param {Array} points\r\n     * @param {Function} callback\r\n     * @param {Object} options:\r\n     */\r\n\r\n    addMap2D( name: string, points: any[], callback: any, options: any = {} ) {\r\n        const component = new Map2D( name, points, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n\r\n    /**\r\n     * @method addRate\r\n     * @param {String} name Component name\r\n     * @param {Number} value\r\n     * @param {Function} callback\r\n     * @param {Object} options:\r\n     */\r\n\r\n    addRate( name: string, value: number, callback: any, options: any = {} ) {\r\n        const component = new Rate( name, value, callback, options );\r\n        return this._attachComponent( component );\r\n    }\r\n}\r\n\r\nLX.Panel = Panel;","// Menubar.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Button } from './Button';\r\n\r\n/**\r\n * @class Menubar\r\n */\r\n\r\nexport class Menubar {\r\n\r\n    root: any;\r\n    siblingArea: any;\r\n    buttonContainer?: any;\r\n\r\n    items: any[] = [];\r\n    buttons: Record<string, any> = {};\r\n    icons: any = {};\r\n    shorts: any = {};\r\n\r\n    focused: boolean = false;\r\n\r\n    _currentDropdown?: any;\r\n\r\n    constructor( items: any[], options: any = {} )\r\n    {\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.className = \"lexmenubar\";\r\n\r\n        if( options.float )\r\n        {\r\n            this.root.style.justifyContent = options.float;\r\n        }\r\n\r\n        this.items = items ?? [];\r\n\r\n        this.createEntries();\r\n    }\r\n\r\n    _resetMenubar( focus?: boolean )\r\n    {\r\n        this.root.querySelectorAll(\".lexmenuentry\").forEach( ( e: HTMLElement ) => {\r\n            e.classList.remove( 'selected' );\r\n            delete e.dataset[ \"built\" ];\r\n        } );\r\n\r\n        if( this._currentDropdown )\r\n        {\r\n            this._currentDropdown.destroy();\r\n            this._currentDropdown = null;\r\n        }\r\n\r\n        // Next time we need to click again\r\n        this.focused = focus ?? false;\r\n    }\r\n\r\n    /**\r\n     * @method createEntries\r\n     */\r\n\r\n    createEntries()\r\n    {\r\n        for( let item of this.items )\r\n        {\r\n            let key = item.name;\r\n            let pKey = LX.getSupportedDOMName( key );\r\n\r\n            // Item already created\r\n            if( this.root.querySelector( \"#\" + pKey ) )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            let entry = document.createElement('div');\r\n            entry.className = \"lexmenuentry\";\r\n            entry.id = pKey;\r\n            entry.innerHTML = \"<span>\" + key + \"</span>\";\r\n            entry.tabIndex = 1;\r\n\r\n            this.root.appendChild( entry );\r\n\r\n            const _showEntry = () => {\r\n                this._resetMenubar(true);\r\n                entry.classList.add( \"selected\" );\r\n                entry.dataset[\"built\"] = \"true\";\r\n                this._currentDropdown = LX.addDropdownMenu( entry, item.submenu ?? [], { side: \"bottom\", align: \"start\", onBlur: () => {\r\n                    this._resetMenubar();\r\n                } });\r\n            };\r\n\r\n            entry.addEventListener(\"mousedown\", (e) => {\r\n                e.preventDefault();\r\n            });\r\n\r\n            entry.addEventListener(\"mouseup\", (e) => {\r\n\r\n                e.preventDefault();\r\n\r\n                const f = item[ 'callback' ];\r\n                if( f )\r\n                {\r\n                    f.call( this, key, entry, e );\r\n                    return;\r\n                }\r\n\r\n                _showEntry();\r\n\r\n                this.focused = true;\r\n\r\n                return false;\r\n            });\r\n\r\n            entry.addEventListener( \"mouseover\", (e) => {\r\n\r\n                if( this.focused && !( entry.dataset[ \"built\" ] ?? false ) )\r\n                {\r\n                    _showEntry();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method getButton\r\n     * @param {String} name\r\n     */\r\n\r\n    getButton( name: string )\r\n    {\r\n        return this.buttons[ name ];\r\n    }\r\n\r\n    /**\r\n     * @method getSubitems\r\n     * @param {Object} item: parent item\r\n     * @param {Array} tokens: split path strings\r\n    */\r\n    getSubitem( item: any, tokens: any[] ): any\r\n    {\r\n        for( const s of item )\r\n        {\r\n            if ( s?.name != tokens[ 0 ] )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            if( tokens.length == 1 )\r\n            {\r\n                return s;\r\n            }\r\n            else if ( s.submenu )\r\n            {\r\n                tokens.shift();\r\n                return this.getSubitem( s.submenu, tokens );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method getItem\r\n     * @param {String} path\r\n    */\r\n    getItem( path: string )\r\n    {\r\n        // Process path\r\n        const tokens = path.split( '/' );\r\n        return this.getSubitem( this.items, tokens );\r\n    }\r\n\r\n    /**\r\n     * @method setButtonIcon\r\n     * @param {String} name\r\n     * @param {String} icon\r\n     * @param {Function} callback\r\n     * @param {Object} options\r\n     */\r\n\r\n    setButtonIcon( name: string, icon: string, callback: any, options: any = {} )\r\n    {\r\n        if( !name )\r\n        {\r\n            throw( \"Set Button Name!\" );\r\n        }\r\n\r\n        let button = this.buttons[ name ];\r\n        // If the button already exists, delete it\r\n        // since only one button of this type can exist\r\n        if( button )\r\n        {\r\n            delete this.buttons[ name ];\r\n            LX.deleteElement( button.root );\r\n        }\r\n\r\n        // Otherwise, create it\r\n        button = new Button( name, undefined, callback, {\r\n            title: name,\r\n            buttonClass: \"lexmenubutton main bg-none\",\r\n            disabled: options.disabled,\r\n            icon,\r\n            svgClass: \"xl\",\r\n            hideName: true,\r\n            swap: options.swap\r\n        } );\r\n\r\n        if( options.float == \"right\" )\r\n        {\r\n            button.root.right = true;\r\n        }\r\n\r\n        if( this.root.lastChild && this.root.lastChild.right )\r\n        {\r\n            this.root.lastChild.before( button.root );\r\n        }\r\n        else if( options.float == \"left\" )\r\n        {\r\n            this.root.prepend( button.root );\r\n        }\r\n        else\r\n        {\r\n            this.root.appendChild( button.root );\r\n        }\r\n\r\n        this.buttons[ name ] = button;\r\n    }\r\n\r\n    /**\r\n     * @method setButtonImage\r\n     * @param {String} name\r\n     * @param {String} src\r\n     * @param {Function} callback\r\n     * @param {Object} options\r\n     */\r\n\r\n    setButtonImage( name: string, src: string, callback: any, options: any = {} )\r\n    {\r\n        if( !name )\r\n        {\r\n            throw( \"Set Button Name!\" );\r\n        }\r\n\r\n        let button = this.buttons[ name ];\r\n        if( button )\r\n        {\r\n            button.querySelector( 'img' ).src = src;\r\n            return;\r\n        }\r\n\r\n        // Otherwise, create it\r\n        button = document.createElement( 'div' );\r\n        const disabled = options.disabled ?? false;\r\n        button.className = \"lexmenubutton main\" + ( disabled ? \" disabled\" : \"\" );\r\n        button.title = name;\r\n        button.innerHTML = \"<a><image src='\" + src + \"' class='lexicon' style='height:32px;'></a>\";\r\n\r\n        if( options.float == \"right\" )\r\n        {\r\n            button.right = true;\r\n        }\r\n\r\n        if( this.root.lastChild && this.root.lastChild.right )\r\n        {\r\n            this.root.lastChild.before( button );\r\n        }\r\n        else if( options.float == \"left\" )\r\n        {\r\n            this.root.prepend( button );\r\n        }\r\n        else\r\n        {\r\n            this.root.appendChild( button );\r\n        }\r\n\r\n        const _b = button.querySelector('a');\r\n\r\n        _b.addEventListener( \"mousedown\", ( e: MouseEvent ) => {\r\n            e.preventDefault();\r\n        });\r\n\r\n        _b.addEventListener( \"mouseup\", ( e: MouseEvent ) => {\r\n            if( callback && !disabled )\r\n            {\r\n                callback.call( this, _b, e );\r\n            }\r\n        });\r\n\r\n        this.buttons[ name ] = button;\r\n    }\r\n\r\n    /**\r\n     * @method addButton\r\n     * @param {Array} buttons\r\n     * @param {Object} options\r\n     * float: center (Default), right\r\n     */\r\n\r\n    addButtons( buttons: any[], options: any = {} )\r\n    {\r\n        if( !buttons )\r\n        {\r\n            throw( \"No buttons to add!\" );\r\n        }\r\n\r\n        if( !this.buttonContainer )\r\n        {\r\n            this.buttonContainer = document.createElement( \"div\" );\r\n            this.buttonContainer.className = \"lexmenubuttons\";\r\n            this.buttonContainer.classList.add( options.float ?? \"center\" );\r\n\r\n            if( options.float == \"right\" )\r\n            {\r\n                this.buttonContainer.right = true;\r\n            }\r\n\r\n            if( this.root.lastChild && this.root.lastChild.right )\r\n            {\r\n                this.root.lastChild.before( this.buttonContainer );\r\n            }\r\n            else\r\n            {\r\n                this.root.appendChild( this.buttonContainer );\r\n            }\r\n        }\r\n\r\n        for( const data of buttons )\r\n        {\r\n            const title = data.title;\r\n            const button = new Button( title, data.label, data.callback, {\r\n                title,\r\n                buttonClass: \"bg-none\",\r\n                disabled: data.disabled,\r\n                icon: data.icon,\r\n                hideName: true,\r\n                swap: data.swap,\r\n                iconPosition: \"start\"\r\n            } );\r\n            this.buttonContainer.appendChild( button.root );\r\n\r\n            if( title )\r\n            {\r\n                this.buttons[ title ] = button;\r\n            }\r\n        }\r\n    }\r\n};","// Tabs.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Area } from './../core/Area';\r\n\r\n/**\r\n * @class Tabs\r\n */\r\n\r\nexport class Tabs {\r\n\r\n    static TAB_ID   = 0;\r\n\r\n    root: any;\r\n    area: Area;\r\n    tabs: any = {};\r\n    tabDOMs: any = {};\r\n    thumb?: any;\r\n\r\n    selected: any = null;\r\n    folding: boolean = false;\r\n    folded: boolean = false;\r\n\r\n    onclose: ( s: string ) => void;\r\n\r\n    constructor( area: Area, options: any = {} ) {\r\n\r\n        this.onclose = options.onclose;\r\n\r\n        let container = document.createElement('div');\r\n        container.className = \"lexareatabs \" + ( options.fit ? \"fit\" : \"row\" );\r\n\r\n        const folding = options.folding ?? false;\r\n        if( folding ) container.classList.add(\"folding\");\r\n\r\n        let that: any = this;\r\n\r\n        container.addEventListener(\"dragenter\", function( e: any ) {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            this.classList.add(\"dockingtab\");\r\n        });\r\n\r\n        container.addEventListener(\"dragleave\", function( e: any ) {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            if ( this.contains( e.relatedTarget ) ) return; // Still inside\r\n            this.classList.remove(\"dockingtab\");\r\n        });\r\n\r\n        container.addEventListener(\"drop\", function( e: any ) {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n\r\n            const tabId = e.dataTransfer.getData( \"source\" );\r\n            const tabDom: any = document.getElementById( tabId );\r\n            if( !tabDom ) return;\r\n\r\n            const sourceContainer: any = tabDom.parentElement;\r\n            const target = e.target;\r\n            const rect = target.getBoundingClientRect();\r\n\r\n            if( e.offsetX < ( rect.width * 0.5 ) )\r\n            {\r\n                this.insertBefore( tabDom, target );\r\n            }\r\n            else if( target.nextElementSibling )\r\n            {\r\n                this.insertBefore( tabDom, target.nextElementSibling );\r\n            }\r\n            else\r\n            {\r\n                this.appendChild( tabDom );\r\n            }\r\n\r\n            {\r\n                // Update childIndex for fit mode tabs in source container\r\n                sourceContainer.childNodes.forEach( (c: any, idx: number) => c.childIndex = ( idx - 1 ) );\r\n\r\n                // If needed, set last tab of source container active\r\n                const sourceAsFit = (/true/).test( e.dataTransfer.getData( \"fit\" ) );\r\n                let newSelected: any = null;\r\n                if( sourceContainer.childElementCount == ( sourceAsFit ? 2 : 1 ) )\r\n                {\r\n                    newSelected = sourceContainer.lastChild; // single tab or thumb first (fit mode)\r\n                }\r\n                else\r\n                {\r\n                    const sourceSelected = sourceContainer.querySelector( \".selected\" );\r\n                    newSelected = ( sourceSelected ?? sourceContainer.childNodes[ sourceAsFit ? 1 : 0 ] );\r\n                }\r\n\r\n                newSelected._forceSelect = true;\r\n                newSelected.click();\r\n            }\r\n\r\n            // Update childIndex for fit mode tabs in target container\r\n            this.childNodes.forEach( ( c: any, idx: number ) => c.childIndex = ( idx - 1 ) );\r\n\r\n            const content = document.getElementById( tabId + \"_content\" );\r\n            that.area.attach( content );\r\n            this.classList.remove(\"dockingtab\");\r\n\r\n            // Change tabs instance and select on drop\r\n            tabDom.instance = that;\r\n            tabDom._forceSelect = true;\r\n            tabDom.click();\r\n\r\n            // Store info\r\n            that.tabs[ tabDom.dataset[\"name\"] ] = content;\r\n        });\r\n\r\n        area.root.classList.add( \"lexareatabscontainer\" );\r\n\r\n        const [ tabButtons, content ] = area.split({ type: 'vertical', sizes: options.sizes ?? \"auto\", resize: false, top: 2 });\r\n        tabButtons.attach( container );\r\n\r\n        if( options.parentClass && container.parentElement )\r\n        {\r\n            container.parentElement.className += ` ${ options.parentClass }`;\r\n        }\r\n\r\n        this.area = content;\r\n        this.area.root.className += \" lexareatabscontent\";\r\n\r\n        if( options.contentClass )\r\n        {\r\n            this.area.root.className += ` ${ options.contentClass }`;\r\n        }\r\n\r\n        this.selected = null;\r\n        this.root = container;\r\n\r\n        if( options.fit )\r\n        {\r\n            // Create movable element\r\n            let mEl = document.createElement('span');\r\n            mEl.className = \"lexareatab thumb\";\r\n            this.thumb = mEl;\r\n            this.root.appendChild( mEl );\r\n\r\n            const resizeObserver = new ResizeObserver( ( entries ) => {\r\n                const tabEl = this.thumb.item;\r\n                if( !tabEl ) return;\r\n                var transition = this.thumb.style.transition;\r\n                this.thumb.style.transition = \"none\";\r\n                this.thumb.style.transform = \"translate( \" + ( tabEl.childIndex * tabEl.offsetWidth ) + \"px )\";\r\n                this.thumb.style.width = ( tabEl.offsetWidth ) + \"px\";\r\n                LX.flushCss( this.thumb );\r\n                this.thumb.style.transition = transition;\r\n            });\r\n\r\n            resizeObserver.observe( this.area.root );\r\n        }\r\n\r\n        // debug\r\n        if( folding )\r\n        {\r\n            this.folded = true;\r\n            this.folding = folding;\r\n\r\n            if( folding == \"up\" )\r\n            {\r\n                LX.insertChildAtIndex( area.root, area.sections[ 1 ].root, 0 );\r\n            }\r\n\r\n            // Listen resize event on parent area\r\n            const resizeObserver = new ResizeObserver( ( entries ) => {\r\n                for (const entry of entries)\r\n                {\r\n                    const bb = entry.contentRect;\r\n                    const sibling = area.parentArea?.sections[ 0 ].root;\r\n                    const addOffset = true; // hardcoded...\r\n                    sibling.style.height = \"calc(100% - \" + ( ( addOffset ? 42 : 0 ) + bb.height ) + \"px )\";\r\n                }\r\n            });\r\n\r\n            resizeObserver.observe( this.area.root );\r\n            this.area.root.classList.add('folded');\r\n        }\r\n    }\r\n\r\n    add( name: string, content: any, options: any = {} ) {\r\n\r\n        let isSelected = options.selected ?? false;\r\n\r\n        if( isSelected )\r\n        {\r\n            this.root.querySelectorAll( 'span' ).forEach( ( s: HTMLElement ) => s.classList.remove( 'selected' ) );\r\n            const pseudoParent = this.area.root.querySelector( \":scope > .pseudoparent-tabs\" );\r\n            const contentRoot = pseudoParent ?? this.area.root;\r\n            contentRoot.querySelectorAll( ':scope > .lextabcontent' ).forEach( ( s: HTMLElement ) => s.style.display = 'none' );\r\n        }\r\n\r\n        isSelected = !Object.keys( this.tabs ).length && !this.folding ? true : isSelected;\r\n\r\n        let contentEl = content.root ? content.root : content;\r\n        contentEl.originalDisplay = contentEl.style.display;\r\n        contentEl.style.display = isSelected ? contentEl.originalDisplay : \"none\";\r\n        contentEl.classList.add( 'lextabcontent' );\r\n\r\n        // Process icon\r\n        if( options.icon )\r\n        {\r\n            if( !options.icon.includes( '.' ) ) // Not a file\r\n            {\r\n                const classes = options.icon.split( ' ' );\r\n                options.icon = LX.makeIcon( classes[ 0 ], { svgClass: \"sm \" + classes.slice( 0 ).join( ' ' ) } ).innerHTML;\r\n            }\r\n            else // an image..\r\n            {\r\n                const rootPath = \"https://raw.githubusercontent.com/jxarco/lexgui.js/master/\";\r\n                options.icon = \"<img src='\" + ( rootPath + options.icon ) + \"'>\";\r\n            }\r\n        }\r\n\r\n        // Create tab\r\n        let tabEl: any = document.createElement( 'span' );\r\n        tabEl.dataset[ \"name\" ] = name;\r\n        tabEl.className = \"lexareatab flex flex-row gap-1\" + ( isSelected ? \" selected\" : \"\" );\r\n        tabEl.innerHTML = ( options.icon ?? \"\" ) + name;\r\n        tabEl.id = name.replace( /\\s/g, '' ) + Tabs.TAB_ID++;\r\n        tabEl.title = options.title ?? \"\";\r\n        tabEl.selected = isSelected ?? false;\r\n        tabEl.fixed = options.fixed;\r\n        tabEl.instance = this;\r\n        contentEl.id = tabEl.id + \"_content\";\r\n\r\n        if( options.badge )\r\n        {\r\n            const asChild = options.badge.asChild ?? false;\r\n            const badgeOptions: any = {};\r\n\r\n            if( asChild )\r\n            {\r\n                badgeOptions.parent = tabEl;\r\n            }\r\n\r\n            tabEl.innerHTML += LX.badge( options.badge.content ?? \"\", options.badge.className, badgeOptions );\r\n        }\r\n\r\n        if( tabEl.selected )\r\n        {\r\n            this.selected = name;\r\n        }\r\n\r\n        tabEl.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            const scope = tabEl.instance;\r\n\r\n            if( !tabEl.fixed )\r\n            {\r\n                // For folding tabs\r\n                const lastValue = tabEl.selected;\r\n                tabEl.parentElement.querySelectorAll( 'span' ).forEach( ( s: any ) => s.selected = false );\r\n                tabEl.selected = !lastValue || ( tabEl._forceSelect ? true : false );\r\n                // Manage selected\r\n                tabEl.parentElement.querySelectorAll( 'span' ).forEach( ( s: any ) => s.classList.remove( 'selected' ));\r\n                tabEl.classList.toggle('selected', ( tabEl.selected ));\r\n                // Manage visibility\r\n                const pseudoParent = scope.area.root.querySelector( \":scope > .pseudoparent-tabs\" );\r\n                const contentRoot = pseudoParent ?? scope.area.root;\r\n                contentRoot.querySelectorAll( ':scope > .lextabcontent' ).forEach( ( s: any ) => s.style.display = 'none' );\r\n                contentEl.style.display = contentEl.originalDisplay;\r\n                scope.selected = tabEl.dataset.name;\r\n            }\r\n\r\n            if( scope.folding )\r\n            {\r\n                scope.folded = tabEl.selected;\r\n                scope.area.root.classList.toggle( 'folded', !scope.folded );\r\n            }\r\n\r\n            if( options.onSelect )\r\n            {\r\n                options.onSelect( e, tabEl.dataset.name );\r\n            }\r\n\r\n            if( scope.thumb )\r\n            {\r\n                scope.thumb.style.transform = \"translate( \" + ( tabEl.childIndex * tabEl.offsetWidth ) + \"px )\";\r\n                scope.thumb.style.width = ( tabEl.offsetWidth ) + \"px\";\r\n                scope.thumb.item = tabEl;\r\n            }\r\n\r\n            delete tabEl._forceSelect;\r\n        });\r\n\r\n        tabEl.addEventListener(\"contextmenu\", ( e: any ) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if( options.onContextMenu )\r\n            {\r\n                options.onContextMenu( e, tabEl.dataset.name );\r\n            }\r\n        });\r\n\r\n        if( options.allowDelete ?? false )\r\n        {\r\n            tabEl.addEventListener(\"mousedown\", ( e: MouseEvent ) => {\r\n                if( e.button == LX.MOUSE_MIDDLE_CLICK )\r\n                {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            tabEl.addEventListener(\"mouseup\", ( e: MouseEvent ) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if( e.button == LX.MOUSE_MIDDLE_CLICK )\r\n                {\r\n                    this.delete( tabEl.dataset[ \"name\" ] );\r\n                }\r\n            });\r\n        }\r\n\r\n        tabEl.setAttribute( 'draggable', true );\r\n        tabEl.addEventListener( 'dragstart', ( e: any ) => {\r\n            const sourceAsFit = !!this.thumb;\r\n            if( tabEl.parentElement.childNodes.length == ( sourceAsFit ? 2 : 1 ) ){\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n            e.dataTransfer.setData( 'source', e.target.id );\r\n            e.dataTransfer.setData( 'fit', sourceAsFit );\r\n        });\r\n\r\n        // Attach content\r\n        const indexOffset = options.indexOffset ?? -1;\r\n        tabEl.childIndex = ( this.root.childElementCount + indexOffset );\r\n        LX.insertChildAtIndex( this.root, tabEl, tabEl.childIndex + 1 );\r\n        this.area.attach( contentEl );\r\n        this.tabDOMs[ name ] = tabEl;\r\n        this.tabs[ name ] = content;\r\n\r\n        setTimeout( () => {\r\n\r\n            if( options.onCreate )\r\n            {\r\n                options.onCreate.call(this, this.area.root.getBoundingClientRect());\r\n            }\r\n\r\n            if( isSelected && this.thumb )\r\n            {\r\n                this.thumb.classList.add( \"no-transition\" );\r\n                this.thumb.style.transform = \"translate( \" + ( tabEl.childIndex * tabEl.offsetWidth ) + \"px )\";\r\n                this.thumb.style.width = ( tabEl.offsetWidth ) + \"px\";\r\n                this.thumb.item = tabEl;\r\n                this.thumb.classList.remove( \"no-transition\" );\r\n            }\r\n\r\n        }, 10 );\r\n    }\r\n\r\n    select( name: string ) {\r\n\r\n        if(!this.tabDOMs[ name ] )\r\n        return;\r\n\r\n        this.tabDOMs[ name ].click();\r\n    }\r\n\r\n    delete( name: string ) {\r\n\r\n        if( this.selected == name )\r\n        {\r\n            this.selected = null;\r\n        }\r\n\r\n        const tabEl = this.tabDOMs[ name ];\r\n\r\n        if( !tabEl || tabEl.fixed )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( this.onclose )\r\n        {\r\n            this.onclose( name );\r\n        }\r\n\r\n        // Delete tab element\r\n        this.tabDOMs[ name ].remove();\r\n        delete this.tabDOMs[ name ];\r\n\r\n        // Delete content\r\n        this.tabs[ name ].remove();\r\n        delete this.tabs[ name ];\r\n\r\n        // Select last tab\r\n        const lastTab = this.root.lastChild;\r\n        if( lastTab && !lastTab.fixed )\r\n        {\r\n            this.root.lastChild.click();\r\n        }\r\n    }\r\n}\r\n\r\nLX.Tabs = Tabs;","// Area.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Panel } from './Panel';\r\nimport { ContextMenu } from '../components/ContextMenu';\r\nimport { Menubar } from '../components/Menubar';\r\nimport { Tabs } from '../components/Tabs';\r\n\r\nexport class AreaOverlayButtons {\r\n\r\n    area: Area;\r\n    options: any;\r\n    buttons: any;\r\n\r\n    constructor( area: Area, buttonsArray: any[], options = {} )\r\n    {\r\n        this.area = area;\r\n        this.options = options;\r\n        this.buttons = {};\r\n\r\n        this._buildButtons( buttonsArray, options );\r\n    }\r\n\r\n    _buildButtons( buttonsArray: any[], options: any = {} )\r\n    {\r\n        options.className = \"lexoverlaybuttons\";\r\n\r\n        let overlayPanel = this.area.addPanel( options );\r\n        let overlayGroup: any = null;\r\n\r\n        const container = document.createElement( \"div\" );\r\n        container.className = \"lexoverlaybuttonscontainer\";\r\n        container.appendChild( overlayPanel.root );\r\n        this.area.attach( container );\r\n\r\n        const float = options.float;\r\n        let floatClass = \"\";\r\n\r\n        if( float )\r\n        {\r\n            for( let i = 0; i < float.length; i++ )\r\n            {\r\n                const t = float[ i ];\r\n                switch( t )\r\n                {\r\n                case 'h': break;\r\n                case 'v': floatClass += \" vertical\"; break;\r\n                case 't': break;\r\n                case 'm': floatClass += \" middle\"; break;\r\n                case 'b': floatClass += \" bottom\"; break;\r\n                case 'l': break;\r\n                case 'c': floatClass += \" center\"; break;\r\n                case 'r': floatClass += \" right\"; break;\r\n                }\r\n            }\r\n\r\n            container.className += ` ${ floatClass }`;\r\n        }\r\n\r\n        const _addButton = ( b: any, group?: any, last?: boolean ) => {\r\n\r\n            const _options : any = {\r\n                width: \"auto\",\r\n                selectable: b.selectable,\r\n                selected: b.selected,\r\n                icon: b.icon,\r\n                img: b.img,\r\n                className: b.class ?? \"\",\r\n                title: b.name,\r\n                overflowContainerX: overlayPanel.root,\r\n                swap: b.swap\r\n            };\r\n\r\n            if( group )\r\n            {\r\n                if( !overlayGroup )\r\n                {\r\n                    overlayGroup = document.createElement('div');\r\n                    overlayGroup.className = \"lexoverlaygroup\";\r\n                    overlayPanel.queuedContainer = overlayGroup;\r\n                }\r\n\r\n                _options.parent = overlayGroup;\r\n            }\r\n\r\n            let callback = b.callback;\r\n            let component: any = null;\r\n\r\n            if( b.options )\r\n            {\r\n                component = overlayPanel.addSelect( null, b.options, b.value ?? b.name, callback, _options );\r\n            }\r\n            else\r\n            {\r\n                component = overlayPanel.addButton( null, b.name, function( value: any, event: any ) {\r\n                    if( b.selectable )\r\n                    {\r\n                        if( b.group )\r\n                        {\r\n                            let _prev = b.selected;\r\n                            b.group.forEach( ( sub: any ) => sub.selected = false );\r\n                            b.selected = !_prev;\r\n                        }\r\n                        else\r\n                        {\r\n                            b.selected = !b.selected;\r\n                        }\r\n                    }\r\n\r\n                    if( callback )\r\n                    {\r\n                        callback( value, event, component.root );\r\n                    }\r\n\r\n                }, _options );\r\n            }\r\n\r\n            this.buttons[ b.name ] = component;\r\n\r\n            // ends the group\r\n            if( overlayGroup && last )\r\n            {\r\n                overlayPanel.root.appendChild( overlayGroup );\r\n                overlayGroup = null;\r\n                overlayPanel.clearQueue();\r\n            }\r\n        }\r\n\r\n        const _refreshPanel = function() {\r\n\r\n            overlayPanel.clear();\r\n\r\n            for( let b of buttonsArray )\r\n            {\r\n                if( b === null )\r\n                {\r\n                    // Add a separator\r\n                    const separator = document.createElement(\"div\");\r\n                    separator.className = \"lexoverlayseparator\" + floatClass;\r\n                    overlayPanel.root.appendChild( separator );\r\n                    continue;\r\n                }\r\n\r\n                if( b.constructor === Array )\r\n                {\r\n                    for( let i = 0; i < b.length; ++i )\r\n                    {\r\n                        let sub = b[ i ];\r\n                        sub.group = b;\r\n                        _addButton( sub, true, i == ( b.length - 1 ) );\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    _addButton( b );\r\n                }\r\n            }\r\n\r\n            // Add floating info\r\n            if( float )\r\n            {\r\n                var height = 0;\r\n                overlayPanel.root.childNodes.forEach( ( c: HTMLElement ) => { height += c.offsetHeight; } );\r\n\r\n                if( container.className.includes( \"middle\" ) )\r\n                {\r\n                    container.style.top = \"-moz-calc( 50% - \" + (height * 0.5) + \"px )\";\r\n                    container.style.top = \"-webkit-calc( 50% - \" + (height * 0.5) + \"px )\";\r\n                    container.style.top = \"calc( 50% - \" + (height * 0.5) + \"px )\";\r\n                }\r\n            }\r\n        }\r\n\r\n        _refreshPanel();\r\n    }\r\n}\r\n\r\nLX.AreaOverlayButtons = AreaOverlayButtons;\r\n\r\nexport class Area {\r\n\r\n    /**\r\n     * @constructor Area\r\n     * @param {Object} options\r\n     * id: Id of the element\r\n     * className: Add class to the element\r\n     * width: Width of the area element [fit space]\r\n     * height: Height of the area element [fit space]\r\n     * skipAppend: Create but not append to GUI root [false]\r\n     * minWidth: Minimum width to be applied when resizing\r\n     * minHeight: Minimum height to be applied when resizing\r\n     * maxWidth: Maximum width to be applied when resizing\r\n     * maxHeight: Maximum height to be applied when resizing\r\n     * layout: Layout to automatically split the area\r\n     */\r\n\r\n    offset: number = 0;\r\n    root: any;\r\n    size: any[];\r\n    resize: boolean = false;\r\n    sections: any[] = [];\r\n    panels: any[] = [];\r\n\r\n    minWidth: number = 0;\r\n    minHeight: number = 0;\r\n    maxWidth: number = Infinity;\r\n    maxHeight: Number = Infinity;\r\n    \r\n    layout: any;\r\n    type?: string;\r\n    parentArea?: Area;\r\n    splitBar?: any;\r\n    splitExtended?: boolean;\r\n    overlayButtons?: AreaOverlayButtons;\r\n    onresize?: any;\r\n    \r\n    _autoVerticalResizeObserver?: ResizeObserver;\r\n    _root: any;\r\n\r\n    constructor( options: any = {} ) {\r\n\r\n        var root = document.createElement( 'div' );\r\n        root.className = \"lexarea\";\r\n        if( options.id )\r\n        {\r\n            root.id = options.id;\r\n        }\r\n        if( options.className )\r\n        {\r\n            root.className += \" \" + options.className;\r\n        }\r\n\r\n        var width: any = options.width || \"100%\";\r\n        var height: any = options.height || \"100%\";\r\n\r\n        // This has default options..\r\n        this.setLimitBox( options.minWidth, options.minHeight, options.maxWidth, options.maxHeight );\r\n\r\n        if( width.constructor == Number )\r\n        {\r\n            width = `${ width }px`;\r\n        }\r\n        if( height.constructor == Number )\r\n        {\r\n            height = `${ height }px`;\r\n        }\r\n\r\n        root.style.width = width;\r\n        root.style.height = height;\r\n\r\n        this.root = root;\r\n        this.size = [ this.root.offsetWidth, this.root.offsetHeight ];\r\n\r\n        let lexroot = document.getElementById(\"lexroot\");\r\n        if( lexroot && !options.skipAppend )\r\n        {\r\n            lexroot.appendChild( this.root );\r\n        }\r\n\r\n        if( options.layout )\r\n        {\r\n            this.setLayout( options.layout );\r\n        }\r\n\r\n        let overlay = options.overlay;\r\n\r\n        if( overlay )\r\n        {\r\n            this.root.classList.add(\"overlay-\" + overlay);\r\n\r\n            if( options.left )\r\n            {\r\n                this.root.style.left = options.left;\r\n            }\r\n            else if( options.right )\r\n            {\r\n                this.root.style.right = options.right;\r\n            }\r\n            else if( options.top )\r\n            {\r\n                this.root.style.top = options.top;\r\n            }\r\n            else if( options.bottom )\r\n            {\r\n                this.root.style.bottom = options.bottom;\r\n            }\r\n\r\n            const draggable = options.draggable ?? true;\r\n            if( draggable )\r\n            {\r\n                LX.makeDraggable( root, options );\r\n            }\r\n\r\n            if( options.resizeable )\r\n            {\r\n                root.classList.add(\"resizeable\");\r\n            }\r\n\r\n            if( options.resize )\r\n            {\r\n                this.splitBar = document.createElement(\"div\");\r\n                let type = (overlay == \"left\") || (overlay == \"right\") ? \"horizontal\" : \"vertical\";\r\n                this.type = overlay;\r\n                this.splitBar.className = \"lexsplitbar \" + type;\r\n\r\n                if( overlay == \"right\" )\r\n                {\r\n                    this.splitBar.style.width = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n                    this.splitBar.style.left = -(LX.DEFAULT_SPLITBAR_SIZE / 2.0) + \"px\";\r\n                }\r\n                else if( overlay == \"left\" )\r\n                {\r\n                    let size = Math.min(document.body.clientWidth - LX.DEFAULT_SPLITBAR_SIZE, this.root.clientWidth);\r\n                    this.splitBar.style.width = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n                    this.splitBar.style.left = size + (LX.DEFAULT_SPLITBAR_SIZE / 2.0) + \"px\";\r\n                }\r\n                else if( overlay == \"top\" )\r\n                {\r\n                    let size = Math.min(document.body.clientHeight - LX.DEFAULT_SPLITBAR_SIZE, this.root.clientHeight);\r\n                    this.splitBar.style.height = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n                    this.splitBar.style.top = size + (LX.DEFAULT_SPLITBAR_SIZE / 2.0) + \"px\";\r\n                }\r\n                else if( overlay == \"bottom\" )\r\n                {\r\n                    this.splitBar.style.height = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n                    this.splitBar.style.top = -(LX.DEFAULT_SPLITBAR_SIZE / 2.0) + \"px\";\r\n                }\r\n\r\n                this.splitBar.addEventListener(\"mousedown\", innerMouseDown);\r\n                this.root.appendChild( this.splitBar );\r\n\r\n                const that = this;\r\n                let lastMousePosition = [ 0, 0 ];\r\n\r\n                function innerMouseDown( e: MouseEvent )\r\n                {\r\n                    const doc = that.root.ownerDocument;\r\n                    doc.addEventListener( 'mousemove', innerMouseMove );\r\n                    doc.addEventListener( 'mouseup', innerMouseUp );\r\n                    lastMousePosition[ 0 ] = e.x;\r\n                    lastMousePosition[ 1 ] = e.y;\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    document.body.classList.add( 'nocursor' );\r\n                    that.splitBar.classList.add( 'nocursor' );\r\n                }\r\n\r\n                function innerMouseMove( e: MouseEvent )\r\n                {\r\n                    switch( that.type )\r\n                    {\r\n                        case \"right\":\r\n                            var dt = ( lastMousePosition[ 0 ] - e.x );\r\n                            var size: number = ( that.root.offsetWidth + dt );\r\n                            that.root.style.width = size + \"px\";\r\n                            break;\r\n                        case \"left\":\r\n                            var dt = ( lastMousePosition[ 0 ] - e.x );\r\n                            var size: number = Math.min(document.body.clientWidth - LX.DEFAULT_SPLITBAR_SIZE, (that.root.offsetWidth - dt));\r\n                            that.root.style.width = size + \"px\";\r\n                            that.splitBar.style.left = size + LX.DEFAULT_SPLITBAR_SIZE/2 + \"px\";\r\n                            break;\r\n                        case \"top\":\r\n                            var dt = ( lastMousePosition[ 1 ] - e.y );\r\n                            var size: number = Math.min(document.body.clientHeight - LX.DEFAULT_SPLITBAR_SIZE, (that.root.offsetHeight - dt));\r\n                            that.root.style.height = size + \"px\";\r\n                            that.splitBar.style.top = size + LX.DEFAULT_SPLITBAR_SIZE/2 + \"px\";\r\n                            break;\r\n                        case \"bottom\":\r\n                            var dt = ( lastMousePosition[ 1 ] - e.y );\r\n                            var size: number = ( that.root.offsetHeight + dt );\r\n                            that.root.style.height = size + \"px\";\r\n                            break;\r\n                    }\r\n\r\n                    lastMousePosition[ 0 ] = e.x;\r\n                    lastMousePosition[ 1 ] = e.y;\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n\r\n                    // Resize events\r\n                    if( that.onresize )\r\n                    {\r\n                        that.onresize( that.root.getBoundingClientRect() );\r\n                    }\r\n                }\r\n\r\n                function innerMouseUp( e: MouseEvent )\r\n                {\r\n                    const doc = that.root.ownerDocument;\r\n                    doc.removeEventListener( 'mousemove', innerMouseMove );\r\n                    doc.removeEventListener( 'mouseup', innerMouseUp );\r\n                    document.body.classList.remove( 'nocursor' );\r\n                    that.splitBar.classList.remove( 'nocursor' );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method attach\r\n     * @param {Element} content child to append to area (e.g. a Panel)\r\n     */\r\n\r\n    attach( content: any ) {\r\n\r\n        // Append to last split section if area has been split\r\n        if( this.sections.length )\r\n        {\r\n            this.sections[ 1 ].attach( content );\r\n            return;\r\n        }\r\n\r\n        if( !content )\r\n        {\r\n            throw(\"no content to attach\");\r\n        }\r\n\r\n        content.parent = this;\r\n\r\n        let element = content.root ? content.root : content;\r\n        this.root.appendChild( element );\r\n    }\r\n\r\n    /**\r\n     * @method setLayout\r\n     * @description Automatically split the area to generate the desired layout\r\n     * @param {Array} layout\r\n     */\r\n\r\n    setLayout( layout: any ) {\r\n\r\n        this.layout = LX.deepCopy( layout );\r\n\r\n        if( !layout.splits )\r\n        {\r\n            console.warn( \"Area layout has no splits!\" );\r\n            return;\r\n        }\r\n\r\n        const _splitArea = ( area: Area, layout: any ) => {\r\n\r\n            if( layout.className )\r\n            {\r\n                area.root.className += ` ${ layout.className }`;\r\n            }\r\n\r\n            if( !layout.splits )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const type = layout.type ?? \"horizontal\";\r\n            const resize = layout.resize ?? true;\r\n            const minimizable = layout.minimizable ?? false;\r\n            const [ splitA, splitB ] = area.split( { type, resize, minimizable, sizes: [ layout.splits[ 0 ].size, layout.splits[ 1 ].size ] } );\r\n\r\n            _splitArea( splitA, layout.splits[ 0 ] );\r\n            _splitArea( splitB, layout.splits[ 1 ] );\r\n\r\n        };\r\n\r\n        _splitArea( this, layout );\r\n    }\r\n\r\n    /**\r\n     * @method split\r\n     * @param {Object} options\r\n     * type: Split mode (horizontal, vertical) [\"horizontal\"]\r\n     * sizes: CSS Size of each new area (Array) [\"50%\", \"50%\"]\r\n     * resize: Allow area manual resizing [true]\r\n     * sizes: \"Allow the area to be minimized [false]\r\n     */\r\n\r\n    split( options: any = {} ) {\r\n\r\n        if( this.sections.length )\r\n        {\r\n            // In case Area has been split before, get 2nd section as root\r\n            this.offset = this.root.childNodes[ 0 ].offsetHeight; // store offset to take into account when resizing\r\n            this._root = this.sections[ 0 ].root;\r\n            this.root = this.sections[ 1 ].root;\r\n        }\r\n\r\n        const type = options.type ?? \"horizontal\";\r\n        const sizes = options.sizes || [ \"50%\", \"50%\" ];\r\n        const auto = (options.sizes === 'auto') || ( options.sizes && options.sizes[ 0 ] == \"auto\" && options.sizes[ 1 ] == \"auto\" );\r\n        const rect = this.root.getBoundingClientRect();\r\n\r\n        // Secondary area fills space\r\n        if( !sizes[ 1 ] || ( sizes[ 0 ] != \"auto\" && sizes[ 1 ] == \"auto\" ) )\r\n        {\r\n            let size = sizes[ 0 ];\r\n            let margin = options.top ? options.top : 0;\r\n            if( size.constructor == Number )\r\n            {\r\n                size += margin;\r\n                size = `${ size }px`;\r\n            }\r\n\r\n            sizes[ 1 ] = \"calc( 100% - \" + size + \" )\";\r\n        }\r\n\r\n        let minimizable = options.minimizable ?? false;\r\n        let resize = ( options.resize ?? true ) || minimizable;\r\n        let fixedSize = options.fixedSize ?? !resize;\r\n        let splitbarOffset = 0;\r\n        let primarySize = [];\r\n        let secondarySize = [];\r\n\r\n        this.offset = 0;\r\n\r\n        if( resize )\r\n        {\r\n            this.resize = resize;\r\n            this.splitBar = document.createElement( \"div\" );\r\n            this.splitBar.className = \"lexsplitbar \" + type;\r\n\r\n            if( type == \"horizontal\" )\r\n            {\r\n                this.splitBar.style.width = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n            }\r\n            else\r\n            {\r\n                this.splitBar.style.height = LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n            }\r\n\r\n            this.splitBar.addEventListener( 'mousedown', innerMouseDown );\r\n\r\n            splitbarOffset = ( LX.DEFAULT_SPLITBAR_SIZE / 2 ); // updates\r\n        }\r\n\r\n        if( type == \"horizontal\" )\r\n        {\r\n            this.root.style.display = \"flex\";\r\n\r\n            if( !fixedSize )\r\n            {\r\n                const parentWidth = rect.width;\r\n                const leftPx = LX.parsePixelSize( sizes[ 0 ], parentWidth );\r\n                const rightPx = LX.parsePixelSize(  sizes[ 1 ], parentWidth );\r\n                const leftPercent = ( leftPx / parentWidth ) * 100;\r\n                const rightPercent = ( rightPx / parentWidth ) * 100;\r\n\r\n                // Style using percentages\r\n                primarySize[ 0 ] = `calc(${ leftPercent }% - ${ splitbarOffset }px)`;\r\n                secondarySize[ 0 ] = `calc(${ rightPercent }% - ${ splitbarOffset }px)`;\r\n            }\r\n            else\r\n            {\r\n                primarySize[ 0 ] = `calc(${ sizes[ 0 ] } - ${ splitbarOffset }px)`;\r\n                secondarySize[ 0 ] = `calc(${ sizes[ 1 ] } - ${ splitbarOffset }px)`;\r\n            }\r\n\r\n            primarySize[ 1 ] = \"100%\";\r\n            secondarySize[ 1 ] = \"100%\";\r\n        }\r\n        else // vertical\r\n        {\r\n            if( auto )\r\n            {\r\n                primarySize[ 1 ] = \"auto\";\r\n                secondarySize[ 1 ] = \"auto\";\r\n            }\r\n            else if( !fixedSize )\r\n            {\r\n                const parentHeight = rect.height;\r\n                const topPx = LX.parsePixelSize( sizes[ 0 ], parentHeight );\r\n                const bottomPx = LX.parsePixelSize( sizes[ 1 ], parentHeight );\r\n                const topPercent = ( topPx / parentHeight ) * 100;\r\n                const bottomPercent = ( bottomPx / parentHeight ) * 100;\r\n\r\n                primarySize[ 1 ] = ( sizes[ 0 ] == \"auto\" ? \"auto\" : `calc(${ topPercent }% - ${ splitbarOffset }px)`);\r\n                secondarySize[ 1 ] = ( sizes[ 1 ] == \"auto\" ? \"auto\" : `calc(${ bottomPercent }% - ${ splitbarOffset }px)`);\r\n            }\r\n            else\r\n            {\r\n                primarySize[ 1 ] = ( sizes[ 0 ] == \"auto\" ? \"auto\" : `calc(${ sizes[ 0 ] } - ${ splitbarOffset }px)`);\r\n                secondarySize[ 1 ] = ( sizes[ 1 ] == \"auto\" ? \"auto\" : `calc(${ sizes[ 1 ] } - ${ splitbarOffset }px)`);\r\n            }\r\n\r\n            primarySize[ 0 ] = \"100%\";\r\n            secondarySize[ 0 ] = \"100%\";\r\n        }\r\n\r\n        // Create areas\r\n        let area1 = new Area( { width: primarySize[ 0 ], height: primarySize[ 1 ], skipAppend: true, className: \"split\" + ( options.menubar || options.sidebar ? \"\" : \" origin\" ) } );\r\n        let area2 = new Area( { width: secondarySize[ 0 ], height: secondarySize[ 1 ], skipAppend: true, className: \"split\" } );\r\n\r\n        /*\r\n            If the parent area is not in the DOM, we need to wait for the resize event to get the its correct size\r\n            and set the sizes of the split areas accordingly.\r\n        */\r\n        if( !fixedSize && ( !rect.width || !rect.height ) )\r\n        {\r\n            const observer = new ResizeObserver( entries => {\r\n\r\n                console.assert( entries.length == 1, \"AreaResizeObserver: more than one entry\" );\r\n\r\n                const rect = entries[ 0 ].contentRect;\r\n                if( !rect.width || !rect.height )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                this._update( [ rect.width, rect.height ], false );\r\n\r\n                // On auto splits, we only need to set the size of the parent area\r\n                if( !auto )\r\n                {\r\n                    if( type == \"horizontal\" )\r\n                    {\r\n                        const parentWidth = rect.width;\r\n                        const leftPx = LX.parsePixelSize( sizes[ 0 ], parentWidth );\r\n                        const rightPx = LX.parsePixelSize(  sizes[ 1 ], parentWidth );\r\n                        const leftPercent = ( leftPx / parentWidth ) * 100;\r\n                        const rightPercent = ( rightPx / parentWidth ) * 100;\r\n\r\n                        // Style using percentages\r\n                        primarySize[ 0 ] = `calc(${ leftPercent }% - ${ splitbarOffset }px)`;\r\n                        secondarySize[ 0 ] = `calc(${ rightPercent }% - ${ splitbarOffset }px)`;\r\n                    }\r\n                    else // vertical\r\n                    {\r\n                        const parentHeight = rect.height;\r\n                        const topPx = LX.parsePixelSize( sizes[ 0 ], parentHeight );\r\n                        const bottomPx = LX.parsePixelSize( sizes[ 1 ], parentHeight );\r\n                        const topPercent = ( topPx / parentHeight ) * 100;\r\n                        const bottomPercent = ( bottomPx / parentHeight ) * 100;\r\n\r\n                        primarySize[ 1 ] = ( sizes[ 0 ] == \"auto\" ? \"auto\" : `calc(${ topPercent }% - ${ splitbarOffset }px)`);\r\n                        secondarySize[ 1 ] = ( sizes[ 1 ] == \"auto\" ? \"auto\" : `calc(${ bottomPercent }% - ${ splitbarOffset }px)`);\r\n                    }\r\n\r\n                    area1.root.style.width = primarySize[ 0 ];\r\n                    area1.root.style.height = primarySize[ 1 ];\r\n\r\n                    area2.root.style.width = secondarySize[ 0 ];\r\n                    area2.root.style.height = secondarySize[ 1 ];\r\n                }\r\n\r\n                area1._update();\r\n                area2._update();\r\n\r\n                // Stop observing\r\n                observer.disconnect();\r\n            });\r\n\r\n            // Observe the parent area until the DOM is ready\r\n            // and the size is set correctly.\r\n            LX.doAsync( () => {\r\n                observer.observe( this.root );\r\n            }, 100 );\r\n        }\r\n\r\n        if( auto && type == \"vertical\" )\r\n        {\r\n            // Listen resize event on first area\r\n            this._autoVerticalResizeObserver = new ResizeObserver( entries => {\r\n                for ( const entry of entries )\r\n                {\r\n                    const size = LX.getComputedSize( entry.target );\r\n                    area2.root.style.height = \"calc(100% - \" + ( size.height ) + \"px )\";\r\n                }\r\n            });\r\n\r\n            this._autoVerticalResizeObserver.observe( area1.root );\r\n        }\r\n\r\n        // Being minimizable means it's also resizeable!\r\n        if( resize && minimizable )\r\n        {\r\n            this.splitExtended = false;\r\n\r\n            // Keep state of the animation when ends...\r\n            area2.root.addEventListener('animationend', ( e: any ) => {\r\n                const opacity = getComputedStyle( area2.root ).opacity;\r\n                area2.root.classList.remove( e.animationName + \"-\" + type );\r\n                area2.root.style.opacity = opacity;\r\n                LX.flushCss( area2.root );\r\n            });\r\n\r\n            this.splitBar.addEventListener(\"contextmenu\", ( e: any ) => {\r\n                e.preventDefault();\r\n                LX.addContextMenu(null, e, ( c: ContextMenu ) => {\r\n                    c.add(\"Extend\", { disabled: this.splitExtended, callback: () => { this.extend() } });\r\n                    c.add(\"Reduce\", { disabled: !this.splitExtended, callback: () => { this.reduce() } });\r\n                });\r\n            });\r\n        }\r\n\r\n        area1.parentArea = this;\r\n        area2.parentArea = this;\r\n\r\n        this.root.appendChild( area1.root );\r\n\r\n        if( resize )\r\n        {\r\n            this.root.appendChild( this.splitBar );\r\n        }\r\n\r\n        this.root.appendChild( area2.root );\r\n\r\n        this.sections = [ area1, area2 ];\r\n        this.type = type;\r\n\r\n        // Update sizes\r\n        this._update( rect.width || rect.height ? [ rect.width, rect.height ] : undefined );\r\n\r\n        if( !resize )\r\n        {\r\n            return this.sections;\r\n        }\r\n\r\n        const that = this;\r\n\r\n        function innerMouseDown( e: MouseEvent )\r\n        {\r\n            const doc = that.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', innerMouseMove );\r\n            doc.addEventListener( 'mouseup', innerMouseUp );\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function innerMouseMove( e: MouseEvent )\r\n        {\r\n            const rect = that.root.getBoundingClientRect();\r\n            if( ( ( e.x ) < rect.x || ( e.x ) > ( rect.x + rect.width ) ) ||\r\n                ( ( e.y ) < rect.y || ( e.y ) > ( rect.y + rect.height ) ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if( that.type == \"horizontal\" )\r\n            {\r\n                that._moveSplit( -e.movementX );\r\n            }\r\n            else\r\n            {\r\n                that._moveSplit( -e.movementY );\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function innerMouseUp( e: MouseEvent )\r\n        {\r\n            const doc = that.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMove );\r\n            doc.removeEventListener( 'mouseup', innerMouseUp );\r\n        }\r\n\r\n        return this.sections;\r\n    }\r\n\r\n    /**\r\n    * @method setLimitBox\r\n    * Set min max for width and height\r\n    */\r\n    setLimitBox( minw = 0, minh = 0, maxw = Infinity, maxh = Infinity ) {\r\n\r\n        this.minWidth   = minw;\r\n        this.minHeight  = minh;\r\n        this.maxWidth   = maxw;\r\n        this.maxHeight  = maxh;\r\n\r\n        if( minw != 0 ) this.root.style.minWidth = `${ minw }px`;\r\n        if( minh != 0 ) this.root.style.minHeight = `${ minh }px`;\r\n        if( maxw != Infinity ) this.root.style.maxWidth = `${ maxw }px`;\r\n        if( maxh != Infinity ) this.root.style.maxHeight = `${ maxh }px`;\r\n    }\r\n\r\n    /**\r\n    * @method resize\r\n    * Resize element\r\n    */\r\n    setSize( size: any[] ) {\r\n\r\n        let [ width, height ] = size;\r\n\r\n        if( width != undefined && width.constructor == Number )\r\n        {\r\n            \r\n           width = `${ width }px`;\r\n        }\r\n\r\n        if( height != undefined && height.constructor == Number )\r\n        {\r\n            height = `${ height }px`;\r\n        }\r\n\r\n        if( width )\r\n        {\r\n            this.root.style.width = width;\r\n        }\r\n\r\n        if( height )\r\n        {\r\n            this.root.style.height = height;\r\n        }\r\n\r\n        if( this.onresize )\r\n        {\r\n            this.onresize( this.root.getBoundingClientRect() );\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n            this.size = [ this.root.clientWidth, this.root.clientHeight ];\r\n            this.propagateEvent( \"onresize\" );\r\n        }, 150 );\r\n    }\r\n\r\n    /**\r\n    * @method extend\r\n    * Hide 2nd area split\r\n    */\r\n    extend() {\r\n\r\n        if( this.splitExtended )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let [ area1, area2 ] = this.sections;\r\n        this.splitExtended = true;\r\n\r\n        area1.root.classList.add( `maximize-${ this.type }` );\r\n        area2.root.classList.add( `minimize-${ this.type }` );\r\n        area2.root.classList.add( `fadeout-${ this.type }` );\r\n        area2.root.classList.remove( `fadein-${ this.type }` );\r\n\r\n        if( this.type == \"vertical\" )\r\n        {\r\n            this.offset = area2.root.offsetHeight;\r\n            this._moveSplit( -Infinity, true );\r\n        }\r\n        else\r\n        {\r\n            this.offset = area2.root.offsetWidth - 8; // Force some height here...\r\n            this._moveSplit( -Infinity, true, 8 );\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n            this.propagateEvent( 'onresize' );\r\n        }, 100 );\r\n    }\r\n\r\n    /**\r\n    * @method reduce\r\n    * Show 2nd area split\r\n    */\r\n    reduce() {\r\n\r\n        if( !this.splitExtended )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.splitExtended = false;\r\n\r\n        let [ area1, area2 ] = this.sections;\r\n\r\n        area1.root.classList.add( `minimize-${ this.type }` );\r\n        area2.root.classList.add( `maximize-${ this.type }` );\r\n        area2.root.classList.add( `fadein-${ this.type }` );\r\n        area2.root.classList.remove( `fadeout-${ this.type }` );\r\n\r\n        this._moveSplit( this.offset );\r\n\r\n        LX.doAsync( () => {\r\n            this.propagateEvent( 'onresize' );\r\n        }, 100 );\r\n    }\r\n\r\n    /**\r\n    * @method hide\r\n    * Hide element\r\n    */\r\n    hide() {\r\n        this.root.classList.add(\"hidden\");\r\n    }\r\n\r\n    /**\r\n    * @method show\r\n    * Show element if it is hidden\r\n    */\r\n    show() {\r\n        this.root.classList.remove(\"hidden\");\r\n    }\r\n\r\n    /**\r\n    * @method toggle\r\n    * Toggle element if it is hidden\r\n    */\r\n    toggle( force: boolean ) {\r\n        this.root.classList.toggle(\"hidden\", force);\r\n    }\r\n\r\n    /**\r\n     * @method propagateEvent\r\n     */\r\n\r\n    propagateEvent( eventName: string ) {\r\n\r\n        for( let i = 0; i < this.sections.length; i++ )\r\n        {\r\n            const area = this.sections[ i ];\r\n\r\n            if( area[ eventName ] )\r\n            {\r\n                area[ eventName ].call( this, area.root.getBoundingClientRect() );\r\n            }\r\n\r\n            area.propagateEvent( eventName );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method addPanel\r\n     * @param {Object} options\r\n     * Options to create a Panel\r\n     */\r\n\r\n    addPanel( options: any ) {\r\n        let panel = new Panel( options );\r\n        this.attach( panel );\r\n        this.panels.push( panel );\r\n        return panel;\r\n    }\r\n\r\n    /**\r\n     * @method addMenubar\r\n     * @param {Array} items Items to fill the menubar\r\n     * @param {Object} options:\r\n     * float: Justify content (left, center, right) [left]\r\n     * sticky: Fix menubar at the top [true]\r\n     */\r\n\r\n    addMenubar( items: any[], options: any = {} ) {\r\n\r\n        let menubar = new Menubar( items, options );\r\n\r\n        LX.menubars.push( menubar );\r\n\r\n        const [ bar, content ] = this.split({ type: 'vertical', sizes: [\"48px\", null], resize: false, menubar: true });\r\n        menubar.siblingArea = content;\r\n\r\n        bar.attach( menubar );\r\n        bar.isMenubar = true;\r\n\r\n        if( options.sticky ?? true )\r\n        {\r\n            bar.root.className += \" sticky top-0 z-1000\";\r\n        }\r\n\r\n        if( options.parentClass )\r\n        {\r\n            bar.root.className += ` ${ options.parentClass }`;\r\n        }\r\n\r\n        return menubar;\r\n    }\r\n\r\n    /**\r\n     * @method addSidebar\r\n     * @param {Function} callback Function to fill the sidebar\r\n     * @param {Object} options: Sidebar options\r\n     * width: Width of the sidebar [16rem]\r\n     * side: Side to attach the sidebar (left|right) [left]\r\n     */\r\n\r\n    addSidebar( callback: any, options: any = {} ) {\r\n\r\n        let sidebar = new LX.Sidebar( { callback, ...options } );\r\n\r\n        if( callback )\r\n        {\r\n            callback( sidebar );\r\n        }\r\n\r\n        // Generate DOM elements after adding all entries\r\n        sidebar.update();\r\n\r\n        LX.sidebars.push( sidebar );\r\n\r\n        const side = options.side ?? \"left\";\r\n        console.assert( side == \"left\" || side == \"right\", \"Invalid sidebar side: \" + side );\r\n        const leftSidebar = ( side == \"left\" );\r\n\r\n        const width = options.width ?? \"16rem\";\r\n        const sizes = leftSidebar ? [ width, null ] : [ null, width ];\r\n        const [ left, right ] = this.split( { type: 'horizontal', sizes, resize: false, sidebar: true } );\r\n        sidebar.siblingArea = leftSidebar ? right : left;\r\n\r\n        let bar = leftSidebar ? left : right;\r\n        bar.attach( sidebar );\r\n        bar.isSidebar = true;\r\n\r\n        if( options.parentClass )\r\n        {\r\n            bar.root.className += ` ${ options.parentClass }`;\r\n        }\r\n\r\n        return sidebar;\r\n    }\r\n\r\n    /**\r\n     * @method addOverlayButtons\r\n     * @param {Array} buttons Buttons info\r\n     * @param {Object} options:\r\n     * float: Where to put the buttons (h: horizontal, v: vertical, t: top, m: middle, b: bottom, l: left, c: center, r: right) [htc]\r\n     */\r\n\r\n    addOverlayButtons( buttons: any[], options: any = {} ) {\r\n\r\n        // Add to last split section if area has been split\r\n        if( this.sections.length )\r\n        {\r\n            return this.sections[ 1 ].addOverlayButtons(  buttons, options );\r\n        }\r\n\r\n        console.assert( buttons.constructor == Array && buttons.length !== 0 );\r\n\r\n        // Set area to relative to use local position\r\n        this.root.style.position = \"relative\";\r\n\r\n        // Reset if already exists\r\n        this.overlayButtons = new AreaOverlayButtons( this, buttons, options );\r\n\r\n        return this.overlayButtons;\r\n    }\r\n\r\n    /**\r\n     * @method addTabs\r\n     * @param {Object} options:\r\n     * parentClass: Add extra class to tab buttons container\r\n     */\r\n\r\n    addTabs( options: any = {} ) {\r\n\r\n        const tabs = new Tabs( this, options );\r\n\r\n        if( options.folding )\r\n        {\r\n            this.parentArea?._disableSplitResize();\r\n            // Compensate split bar...\r\n            this.root.style.paddingTop = \"4px\";\r\n        }\r\n\r\n        return tabs;\r\n    }\r\n\r\n    _moveSplit( dt: number, forceAnimation: boolean = false, forceWidth: number = 0 ) {\r\n\r\n        if( !this.type )\r\n        {\r\n            throw( \"No split area\" );\r\n        }\r\n\r\n        if( dt === undefined ) // Splitbar didn't move!\r\n        {\r\n            return;\r\n        }\r\n\r\n        // When manual resizing, we don't need the observer anymore\r\n        if( this._autoVerticalResizeObserver )\r\n        {\r\n            this._autoVerticalResizeObserver.disconnect();\r\n        }\r\n\r\n        const a1 = this.sections[ 0 ];\r\n        var a1Root = a1.root;\r\n\r\n        if( !a1Root.classList.contains( \"origin\" ) )\r\n        {\r\n            a1Root = a1Root.parentElement;\r\n        }\r\n\r\n        const a2 = this.sections[ 1 ];\r\n        const a2Root = a2.root;\r\n        const splitData = \"- \"+ LX.DEFAULT_SPLITBAR_SIZE + \"px\";\r\n\r\n        let transition = null;\r\n        if( !forceAnimation )\r\n        {\r\n            // Remove transitions for this change..\r\n            transition = a1Root.style.transition;\r\n            a1Root.style.transition = a2Root.style.transition = \"none\";\r\n            // LX.flushCss( a1Root );\r\n        }\r\n\r\n        if( this.type == \"horizontal\" )\r\n        {\r\n            var size = Math.max( a2Root.offsetWidth + dt, parseInt( a2.minWidth ) );\r\n            if( forceWidth ) size = forceWidth;\r\n\r\n            const parentWidth = this.size[ 0 ];\r\n            const rightPercent = ( size / parentWidth ) * 100;\r\n            const leftPercent = Math.max( 0, 100 - rightPercent );\r\n\r\n            a1Root.style.width = `-moz-calc(${ leftPercent }% ${ splitData })`;\r\n            a1Root.style.width = `-webkit-calc( ${ leftPercent }% ${ splitData })`;\r\n            a1Root.style.width = `calc( ${ leftPercent }% ${ splitData })`;\r\n            a2Root.style.width = `${ rightPercent }%`;\r\n            a2Root.style.width = `${ rightPercent }%`;\r\n            a2Root.style.width = `${ rightPercent }%`;\r\n\r\n            if( a1.maxWidth != Infinity )\r\n            {\r\n                a2Root.style.minWidth = `calc( 100% - ${ parseInt( a1.maxWidth ) }px )`;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const parentHeight = this.size[ 1 ];\r\n            var size = Math.max( ( a2Root.offsetHeight + dt ) + a2.offset, parseInt( a2.minHeight ) );\r\n            size = Math.min( parentHeight - LX.DEFAULT_SPLITBAR_SIZE, size );\r\n            if( forceWidth ) size = forceWidth;\r\n\r\n            const bottomPercent = ( size / parentHeight ) * 100;\r\n            const topPercent = Math.max( 0, 100 - bottomPercent );\r\n\r\n            a1Root.style.height = `-moz-calc(${ topPercent }% ${ splitData })`;\r\n            a1Root.style.height = `-webkit-calc( ${ topPercent }% ${ splitData })`;\r\n            a1Root.style.height = `calc( ${ topPercent }% ${ splitData })`;\r\n            a2Root.style.height = `${ bottomPercent }%`;\r\n            a2Root.style.height = `${ bottomPercent }%`;\r\n            a2Root.style.height = `${ bottomPercent }%`;\r\n\r\n            if( a1.maxHeight != Infinity )\r\n            {\r\n                a2Root.style.minHeight = `calc( 100% - ${ parseInt( a1.maxHeight ) }px )`;\r\n            }\r\n        }\r\n\r\n        if( !forceAnimation )\r\n        {\r\n            // Reapply transitions\r\n            a1Root.style.transition = a2Root.style.transition = transition;\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n            this._update();\r\n            this.propagateEvent( 'onresize' );\r\n        }, 10 );\r\n    }\r\n\r\n    _disableSplitResize() {\r\n\r\n        this.resize = false;\r\n        this.splitBar.remove();\r\n        delete this.splitBar;\r\n    }\r\n\r\n    _update( newSize?: any[], propagate: boolean = true ) {\r\n\r\n        if( !newSize )\r\n        {\r\n            const rect = this.root.getBoundingClientRect();\r\n            this.size = [ rect.width, rect.height ];\r\n        }\r\n        else\r\n        {\r\n            this.size = newSize;\r\n        }\r\n\r\n        if( propagate )\r\n        {\r\n            for( var i = 0; i < this.sections.length; i++ )\r\n            {\r\n                this.sections[ i ]._update();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nLX.Area = Area;","// Utils.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Area } from \"./Area\";\r\nimport { Panel } from \"./Panel\";\r\nimport { vec2 } from './Vec2';\r\n\r\nfunction clamp( num: number, min: number, max: number ) { return Math.min( Math.max( num, min ), max ); }\r\nfunction round( number: number, precision?: number ) { return precision == 0 ? Math.floor( number ) : +(( number ).toFixed( precision ?? 2 ).replace( /([0-9]+(\\.[0-9]+[1-9])?)(\\.?0+$)/, '$1' )); }\r\nfunction remapRange( oldValue: number,\r\n    oldMin: number,\r\n    oldMax: number,\r\n    newMin: number,\r\n    newMax: number ) { return ((( oldValue - oldMin ) * ( newMax - newMin )) / ( oldMax - oldMin )) + newMin; }\r\n\r\nLX.clamp = clamp;\r\nLX.round = round;\r\nLX.remapRange = remapRange;\r\n\r\n// Timer that works everywhere (from litegraph.js)\r\nif ( typeof performance != \"undefined\" )\r\n{\r\n    LX.getTime = performance.now.bind( performance );\r\n}\r\nelse if( typeof Date != \"undefined\" && Date.now )\r\n{\r\n    LX.getTime = Date.now.bind( Date );\r\n}\r\nelse\r\n{\r\n    LX.getTime = function() {\r\n        return new Date().getTime();\r\n    };\r\n}\r\n\r\nlet ASYNC_ENABLED = true;\r\n\r\n/**\r\n * @method doAsync\r\n * @description Call a function asynchronously\r\n * @param {Function} fn Function to call\r\n * @param {Number} ms Time to wait until calling the function (in milliseconds)\r\n */\r\nfunction doAsync( fn: () => void, ms: number ) {\r\n    if( ASYNC_ENABLED )\r\n    {\r\n        setTimeout( fn, ms ?? 0 );\r\n    }\r\n    else\r\n    {\r\n        fn();\r\n    }\r\n}\r\n\r\nLX.doAsync = doAsync;\r\n\r\n/**\r\n * @method flushCss\r\n * @description By reading the offsetHeight property, we are forcing the browser to flush\r\n * the pending CSS changes (which it does to ensure the value obtained is accurate).\r\n * @param {HTMLElement} element\r\n */\r\nfunction flushCss( element: HTMLElement )\r\n{\r\n    element.offsetHeight;\r\n}\r\n\r\nLX.flushCss = flushCss;\r\n\r\n/**\r\n * @method deleteElement\r\n * @param {HTMLElement} element\r\n */\r\nfunction deleteElement( element: HTMLElement )\r\n{\r\n    if( element ) element.remove();\r\n}\r\n\r\nLX.deleteElement = deleteElement;\r\n\r\n/**\r\n * @method toCamelCase\r\n * @param {String} str\r\n */\r\nfunction toCamelCase( str: string )\r\n{\r\n    return str.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g, (_, chr) => chr.toUpperCase());\r\n}\r\n\r\nLX.toCamelCase = toCamelCase;\r\n\r\n/**\r\n * @method toTitleCase\r\n * @param {String} str\r\n */\r\nfunction toTitleCase( str: string )\r\n{\r\n    return str.replace(/-/g, \" \").toLowerCase().replace(/\\b\\w/g, char => char.toUpperCase());\r\n}\r\n\r\nLX.toTitleCase = toTitleCase;\r\n\r\n/**\r\n * @method toKebabCase\r\n * @param {String} str\r\n */\r\nfunction toKebabCase( str: string )\r\n{\r\n    return str.replace( /[A-Z]/g, m => \"-\" + m.toLowerCase() );\r\n}\r\n\r\nLX.toKebabCase = toKebabCase;\r\n\r\n/**\r\n * @method getSupportedDOMName\r\n * @description Convert a text string to a valid DOM name\r\n * @param {String} text Original text\r\n */\r\nfunction getSupportedDOMName( text: string )\r\n{\r\n    console.assert( typeof text == \"string\", \"getSupportedDOMName: Text is not a string!\" );\r\n\r\n    let name = text.trim();\r\n\r\n    // Replace specific known symbols\r\n    name = name.replace( /@/g, '_at_' ).replace( /\\+/g, '_plus_' ).replace( /\\./g, '_dot_' );\r\n    name = name.replace( /[^a-zA-Z0-9_-]/g, '_' );\r\n\r\n    // prefix with an underscore if needed\r\n    if( /^[0-9]/.test( name ) )\r\n    {\r\n        name = '_' + name;\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\nLX.getSupportedDOMName = getSupportedDOMName;\r\n\r\n/**\r\n * @method has\r\n * @description Ask if LexGUI is using a specific extension\r\n * @param {String} extensionName Name of the LexGUI extension\r\n */\r\nfunction has( extensionName: string )\r\n{\r\n    return ( LX.extensions.indexOf( extensionName ) > -1 );\r\n}\r\n\r\nLX.has = has;\r\n\r\n/**\r\n * @method getExtension\r\n * @description Get a extension from a path/url/filename\r\n * @param {String} name\r\n */\r\nfunction getExtension( name: string )\r\n{\r\n    return name.includes('.') ? name.split('.').pop() : null;\r\n}\r\n\r\nLX.getExtension = getExtension;\r\n\r\n/**\r\n * @method stripHTML\r\n * @description Cleans any DOM element string to get only the text\r\n * @param {String} html\r\n */\r\nfunction stripHTML( html: string )\r\n{\r\n    const div = document.createElement( \"div\" );\r\n    div.innerHTML = html;\r\n    return div.textContent || div.innerText || '';\r\n}\r\n\r\nLX.stripHTML = stripHTML;\r\n\r\n/**\r\n * @method stripTags\r\n * @description Cleans any DOM element tags to get only the text\r\n * @param {String} str\r\n * @param {String} allowed\r\n * https://locutus.io/php/strings/strip_tags/index.html\r\n */\r\nfunction stripTags( str: string, allowed: string | undefined )\r\n{\r\n    // making sure the allowed arg is a string containing only tags in lowercase (<a><b><c>)\r\n    allowed = ( ( ( allowed || '' ) + '' ).toLowerCase().match( /<[a-z][a-z0-9]*>/g ) || [] ).join( '' );\r\n\r\n    const tags = /<\\/?([a-z0-9]*)\\b[^>]*>?/gi;\r\n    const commentsAndPhpTags = /<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi;\r\n\r\n    let after = str;\r\n    // removes the '<' char at the end of the string to replicate PHP's behaviour\r\n    after = after.substring(after.length - 1) === '<' ? after.substring(0, after.length - 1) : after;\r\n\r\n    // recursively remove tags to ensure that the returned string doesn't contain forbidden tags after previous passes (e.g. '<<bait/>switch/>')\r\n    while( true )\r\n    {\r\n        const before = after;\r\n        after = before.replace(commentsAndPhpTags, '').replace(tags, function ($0, $1) {\r\n            return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : ''\r\n        });\r\n\r\n        // return once no more tags are removed\r\n        if( before === after )\r\n        {\r\n            return after\r\n        }\r\n    }\r\n}\r\n\r\nLX.stripTags = stripTags;\r\n\r\n/**\r\n * @method parsePixelSize\r\n * @description Parses any css size and returns a number of pixels\r\n * @param {Number|String} size\r\n * @param {Number} total\r\n */\r\nfunction parsePixelSize( size: number|string, total: number )\r\n{\r\n    // Assuming pixels..\r\n    if( size.constructor === Number )\r\n    {\r\n        return size;\r\n    }\r\n\r\n    if( size.constructor === String )\r\n    {\r\n        const value = parseFloat( size );\r\n\r\n        if( size.endsWith( \"px\" ) ) { return value; } // String pixels\r\n        if( size.endsWith( '%' ) ) { return ( value / 100 ) * total; } // Percentage\r\n        if( size.endsWith( \"rem\" ) || size.endsWith( \"em\" ) ) { const rootFontSize = 16; /*parseFloat(getComputedStyle(document.documentElement).fontSize);*/ return value * rootFontSize; } // rem unit: assume 16px = 1rem\r\n        if( size.endsWith( \"vw\" ) ) { return ( value / 100 ) * window.innerWidth; } // wViewport units\r\n        if( size.endsWith( \"vh\" ) ) { return ( value / 100 ) * window.innerHeight; } // hViewport units\r\n\r\n        // Any CSS calc expression (e.g., \"calc(30% - 4px)\")\r\n        if( size.startsWith( \"calc(\" ) )\r\n        {\r\n            const expr = size.slice( 5, -1 );\r\n            const parts = expr.split( /([+\\-])/ ); // [\"30% \", \"-\", \"4px\"]\r\n            let result = 0;\r\n            let op = \"+\";\r\n            for( let part of parts )\r\n            {\r\n                part = part.trim();\r\n                if( part === \"+\" || part === \"-\" )\r\n                {\r\n                    op = part;\r\n                }\r\n                else\r\n                {\r\n                    let value = parsePixelSize( part, total );\r\n                    result = ( op === \"+\" ) ? result + value : result - value;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n    throw( \"Bad size format!\" );\r\n}\r\n\r\nLX.parsePixelSize = parsePixelSize;\r\n\r\n/**\r\n * @method deepCopy\r\n * @description Create a deep copy with no references from an object\r\n * @param {Object} obj\r\n */\r\nfunction deepCopy( obj: any )\r\n{\r\n    return JSON.parse( JSON.stringify( obj ) )\r\n}\r\n\r\nLX.deepCopy = deepCopy;\r\n\r\nfunction concatTypedArray( arrays: any[], ArrayType: any )\r\n{\r\n    let size = arrays.reduce( ( acc,arr ) => acc + arr.length, 0 );\r\n    let result = new ArrayType( size ); // generate just one array\r\n    let offset = 0;\r\n    for( let i = 0; i < arrays.length; ++i )\r\n    {\r\n        result.set( arrays[ i ], offset ); // copy values\r\n        offset += arrays[ i ].length;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nLX.concatTypedArray = concatTypedArray;\r\n\r\n/**\r\n * @method setTheme\r\n * @description Set dark or light theme\r\n * @param {String} colorScheme Name of the scheme\r\n * @param {Boolean} storeLocal Store in localStorage\r\n */\r\nfunction setTheme( colorScheme: string, storeLocal: boolean = true )\r\n{\r\n    colorScheme = ( colorScheme == \"light\" ) ? \"light\" : \"dark\";\r\n    document.documentElement.setAttribute( \"data-theme\", colorScheme );\r\n    if( storeLocal ) localStorage.setItem( \"lxColorScheme\", colorScheme );\r\n    LX.emitSignal( \"@on_new_color_scheme\", colorScheme );\r\n}\r\n\r\nLX.setTheme = setTheme;\r\n\r\n/**\r\n * @method getTheme\r\n * @description Gets either \"dark\" or \"light\" theme value\r\n */\r\nfunction getTheme()\r\n{\r\n    return document.documentElement.getAttribute( \"data-theme\" ) ?? \"dark\";\r\n}\r\n\r\nLX.getTheme = getTheme;\r\n\r\n/**\r\n * @method switchTheme\r\n * @description Toggles between \"dark\" and \"light\" themes\r\n */\r\nfunction switchTheme()\r\n{\r\n    const currentTheme = getTheme();\r\n    setTheme( currentTheme == \"dark\" ? \"light\" : \"dark\" );\r\n}\r\n\r\nLX.switchTheme = switchTheme;\r\n\r\n/**\r\n * @method setSystemTheme\r\n * @description Sets back the system theme\r\n */\r\nfunction setSystemTheme()\r\n{\r\n    const currentTheme = ( window.matchMedia && window.matchMedia( \"(prefers-color-scheme: light)\" ).matches ) ? \"light\" : \"dark\";\r\n    setTheme( currentTheme );\r\n    localStorage.removeItem( \"lxColorScheme\" );\r\n\r\n    // Reapply listener\r\n    if( LX._mqlPrefersDarkScheme )\r\n    {\r\n        LX._mqlPrefersDarkScheme.removeEventListener( \"change\", LX._onChangeSystemTheme );\r\n        LX._mqlPrefersDarkScheme.addEventListener( \"change\", LX._onChangeSystemTheme );\r\n    }\r\n}\r\n\r\nLX.setSystemTheme = setSystemTheme;\r\n\r\n/**\r\n * @method setThemeColor\r\n * @description Sets a new value for one of the main theme variables\r\n * @param {String} colorName Name of the theme variable\r\n * @param {String} color Color in rgba/hex\r\n */\r\nfunction setThemeColor( colorName: string, color: string )\r\n{\r\n    const r: any = document.querySelector( ':root' );\r\n    r.style.setProperty( '--' + colorName, color );\r\n}\r\n\r\nLX.setThemeColor = setThemeColor;\r\n\r\n/**\r\n * @method getThemeColor\r\n * @description Get the value for one of the main theme variables\r\n * @param {String} colorName Name of the theme variable\r\n */\r\nfunction getThemeColor( colorName: string )\r\n{\r\n    const r: any = document.querySelector( ':root' );\r\n    const s = getComputedStyle( r );\r\n    const value = s.getPropertyValue( '--' + colorName );\r\n\r\n    if( value.includes( \"light-dark\" ) )\r\n    {\r\n        const currentScheme = s.getPropertyValue( \"color-scheme\" );\r\n\r\n        if( currentScheme == \"light\" )\r\n        {\r\n            return value.substring( value.indexOf( '(' ) + 1, value.indexOf( ',' ) ).replace( /\\s/g, '' );\r\n        }\r\n        else\r\n        {\r\n            return value.substring( value.indexOf( ',' ) + 1, value.indexOf( ')' ) ).replace( /\\s/g, '' );\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nLX.getThemeColor = getThemeColor;\r\n\r\n/**\r\n * @method switchSpacing\r\n * @description Toggles between \"default\" and \"compact\" spacing layouts\r\n */\r\nfunction switchSpacing()\r\n{\r\n    const currentSpacing = document.documentElement.getAttribute( \"data-spacing\" ) ?? \"default\";\r\n    document.documentElement.setAttribute( \"data-spacing\", ( currentSpacing == \"default\" ) ? \"compact\" : \"default\" );\r\n    LX.emitSignal( \"@on_new_spacing_layout\", currentSpacing );\r\n}\r\n\r\nLX.switchSpacing = switchSpacing;\r\n\r\n/**\r\n * @method getBase64Image\r\n * @description Convert an image to a base64 string\r\n * @param {Image} img\r\n */\r\nfunction getBase64Image( img: ImageBitmap )\r\n{\r\n    const canvas = document.createElement( 'canvas' );\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    const ctx = canvas.getContext( '2d' );\r\n    if( ctx ) ctx.drawImage( img, 0, 0 );\r\n    return canvas.toDataURL( 'image/png' );\r\n}\r\n\r\nLX.getBase64Image = getBase64Image;\r\n\r\n/**\r\n * @method hexToRgb\r\n * @description Convert a hexadecimal string to a valid RGB color\r\n * @param {String} hex Hexadecimal color\r\n */\r\nfunction hexToRgb( hex: string )\r\n{\r\n    const hexPattern = /^#(?:[A-Fa-f0-9]{3,4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/;\r\n    if( !hexPattern.test( hex ) )\r\n    {\r\n        throw( `Invalid Hex Color: ${ hex }` );\r\n    }\r\n\r\n    hex = hex.replace( /^#/, '' );\r\n\r\n    // Expand shorthand form (#RGB or #RGBA)\r\n    if( hex.length === 3 || hex.length === 4 )\r\n    {\r\n        hex = hex.split( '' ).map( c => c + c ).join( '' );\r\n    }\r\n\r\n    const bigint = parseInt( hex, 16 );\r\n\r\n    const r = ( ( bigint >> ( hex.length === 8 ? 24 : 16 ) ) & 255 ) / 255;\r\n    const g = ( ( bigint >> ( hex.length === 8 ? 16 : 8 ) ) & 255 ) / 255;\r\n    const b = ( ( bigint >> ( hex.length === 8 ? 8 : 0 ) ) & 255 ) / 255;\r\n    const a = ( hex.length === 8 ? ( bigint & 255 ) : ( hex.length === 4 ? parseInt( hex.slice( -2 ), 16 ) : 255 ) ) / 255;\r\n\r\n    return { r, g, b, a };\r\n}\r\n\r\nLX.hexToRgb = hexToRgb;\r\n\r\n/**\r\n * @method hexToHsv\r\n * @description Convert a hexadecimal string to HSV (0..360|0..1|0..1)\r\n * @param {String} hex Hexadecimal color\r\n */\r\nfunction hexToHsv( hex: string )\r\n{\r\n    const rgb = hexToRgb( hex );\r\n    return rgbToHsv( rgb );\r\n}\r\n\r\nLX.hexToHsv = hexToHsv;\r\n\r\n/**\r\n * @method rgbToHex\r\n * @description Convert a RGB color to a hexadecimal string\r\n * @param {Object} rgb Object containing RGB color\r\n * @param {Number} scale Use 255 for 0..255 range or 1 for 0..1 range\r\n */\r\nfunction rgbToHex( rgb: any, scale = 255 )\r\n{\r\n    const rgbArray = [ rgb.r, rgb.g, rgb.b ];\r\n    if( rgb.a != undefined ) rgbArray.push( rgb.a );\r\n\r\n    return (\r\n        \"#\" +\r\n        rgbArray.map( c => {\r\n            c = Math.floor( c * scale );\r\n            const hex = c.toString(16);\r\n            return hex.length === 1 ? ( '0' + hex ) : hex;\r\n        }).join(\"\")\r\n    );\r\n}\r\n\r\nLX.rgbToHex = rgbToHex;\r\n\r\n/**\r\n * @method rgbToCss\r\n * @description Convert a RGB color (0..1) to a CSS color format\r\n * @param {Object} rgb Object containing RGB color\r\n */\r\nfunction rgbToCss( rgb: any )\r\n{\r\n    return { r: Math.floor( rgb.r * 255 ), g: Math.floor( rgb.g * 255 ), b: Math.floor( rgb.b * 255 ), a: rgb.a };\r\n}\r\n\r\nLX.rgbToCss = rgbToCss;\r\n\r\n/**\r\n * @method rgbToHsv\r\n * @description Convert a RGB color (0..1) array to HSV (0..360|0..1|0..1)\r\n * @param {Object} rgb Array containing R, G, B\r\n */\r\nfunction rgbToHsv( rgb: any )\r\n{\r\n    let { r, g, b, a } = rgb;\r\n    a = a ?? 1;\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    const d = max - min;\r\n    let h = 0;\r\n\r\n    if (d !== 0) {\r\n        if (max === r) { h = ((g - b) / d) % 6 }\r\n        else if (max === g) { h = (b - r) / d + 2 }\r\n        else { h = (r - g) / d + 4 }\r\n        h *= 60\r\n        if (h < 0) { h += 360 }\r\n    }\r\n\r\n    const s = max === 0 ? 0 : (d / max);\r\n    const v = max;\r\n\r\n    return { h, s, v, a };\r\n}\r\n\r\nLX.rgbToHsv = rgbToHsv;\r\n\r\n/**\r\n * @method hsvToRgb\r\n * @description Convert an HSV color (0..360|0..1|0..1) to RGB (0..1|0..255)\r\n * @param {Object} hsv containing H, S, V\r\n */\r\nfunction hsvToRgb( hsv: any )\r\n{\r\n    const { h, s, v, a } = hsv;\r\n    const c = v * s;\r\n    const x = c * (1 - Math.abs( ( (h / 60) % 2 ) - 1) )\r\n    const m = v - c;\r\n    let r = 0, g = 0, b = 0;\r\n\r\n    if( h < 60 ) { r = c; g = x; b = 0; }\r\n    else if ( h < 120 ) { r = x; g = c; b = 0; }\r\n    else if ( h < 180 ) { r = 0; g = c; b = x; }\r\n    else if ( h < 240 ) { r = 0; g = x; b = c; }\r\n    else if ( h < 300 ) { r = x; g = 0; b = c; }\r\n    else { r = c; g = 0; b = x; }\r\n\r\n    return { r: ( r + m ), g: ( g + m ), b: ( b + m ), a };\r\n}\r\n\r\nLX.hsvToRgb = hsvToRgb;\r\n\r\n/**\r\n * @method dateFromDateString\r\n * @description Get an instance of Date() from a Date in String format (DD/MM/YYYY)\r\n * @param {String} dateString\r\n */\r\nfunction dateFromDateString( dateString: string )\r\n{\r\n    const tokens = dateString.split( '/' );\r\n    const day = parseInt( tokens[ 0 ] );\r\n    const month = parseInt( tokens[ 1 ] );\r\n    const year = parseInt( tokens[ 2 ] );\r\n    return new Date( `${ month }/${ day }/${ year }` );\r\n}\r\n\r\nLX.dateFromDateString = dateFromDateString;\r\n\r\n/**\r\n * @method measureRealWidth\r\n * @description Measure the pixel width of a text\r\n * @param {String} value Text to measure\r\n * @param {Number} paddingPlusMargin Padding offset\r\n */\r\nfunction measureRealWidth( value: string, paddingPlusMargin = 8 )\r\n{\r\n    var i = document.createElement( \"span\" );\r\n    i.className = \"lexinputmeasure\";\r\n    i.innerHTML = value;\r\n    document.body.appendChild( i );\r\n    var rect = i.getBoundingClientRect();\r\n    LX.deleteElement( i );\r\n    return rect.width + paddingPlusMargin;\r\n}\r\n\r\nLX.measureRealWidth = measureRealWidth;\r\n\r\n/**\r\n * @method guidGenerator\r\n * @description Get a random unique id\r\n */\r\nfunction guidGenerator()\r\n{\r\n    var S4 = function() {\r\n        return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\r\n    };\r\n    return (S4()+\"-\"+S4()+\"-\"+S4());\r\n}\r\n\r\nLX.guidGenerator = guidGenerator;\r\n\r\n/**\r\n * @method escapeRegExp\r\n * @description Helper to escape regexp chars\r\n */\r\nfunction escapeRegExp( str: string )\r\n{\r\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\nLX.escapeRegExp = escapeRegExp;\r\n\r\n/**\r\n * @method wildcardToRegExp\r\n * @description Helper to get regexs from string using wildcard chars\r\n */\r\nfunction wildcardToRegExp( pattern: string )\r\n{\r\n    const escaped = pattern.replace(/([.+^${}()|[\\]\\\\])/g, '\\\\$1');\r\n    const converted = escaped.replace(/\\*/g, '.*').replace(/\\?/g, '.');\r\n    return new RegExp('^' + converted + '$', 'i');\r\n}\r\n\r\nLX.wildcardToRegExp = wildcardToRegExp;\r\n\r\n/**\r\n * @method buildTextPattern\r\n * @description Create a validation pattern using specific options\r\n * @param {Object} options\r\n * lowercase (Boolean): Text must contain a lowercase char\r\n * uppercase (Boolean): Text must contain an uppercase char\r\n * digit (Boolean): Text must contain a digit\r\n * specialChar (Boolean): Text must contain a special char\r\n * noSpaces (Boolean): Do not allow spaces in text\r\n * minLength (Number): Text minimum length\r\n * maxLength (Number): Text maximum length\r\n * asRegExp (Boolean): Return pattern as Regular Expression instance\r\n */\r\nfunction buildTextPattern( options: any = {} )\r\n{\r\n    let patterns = [];\r\n    if( options.lowercase ) patterns.push(\"(?=.*[a-z])\");\r\n    if( options.uppercase ) patterns.push(\"(?=.*[A-Z])\");\r\n    if( options.digit ) patterns.push(\"(?=.*\\\\d)\");\r\n    if( options.specialChar ) patterns.push(\"(?=.*[@#$%^&+=!])\");\r\n    if( options.noSpaces ) patterns.push(\"(?!.*\\\\s)\");\r\n    if( options.email ) patterns.push(\"(^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$)\");\r\n\r\n    let minLength = options.minLength || 0;\r\n    let maxLength = options.maxLength || \"\"; // Empty means no max length restriction\r\n\r\n    let pattern = `^${ patterns.join(\"\") }.{${ minLength },${ maxLength }}$`;\r\n    return options.asRegExp ? new RegExp( pattern ) : pattern;\r\n}\r\n\r\nLX.buildTextPattern = buildTextPattern;\r\n\r\n/**\r\n * Checks a value against a set of pattern requirements and returns an array\r\n * of specific error messages for all criteria that failed.\r\n * @param { String } value The string to validate.\r\n * @param { Object } pattern The pattern options\r\n * @returns { Array } An array of error messages for failed criteria.\r\n */\r\nfunction validateValueAtPattern( value: string, pattern: any = {}, ...args: any[] )\r\n{\r\n    const errors = [];\r\n    const minLength = pattern.minLength || 0;\r\n    const maxLength = pattern.maxLength; // undefined means no max limit\r\n\r\n    // Length requirements\r\n    if( value.length < minLength ) errors.push(`Must be at least ${ minLength } characters long.`);\r\n    else if( maxLength !== undefined && value.length > maxLength ) errors.push(`Must be no more than ${ maxLength } characters long.`);\r\n\r\n    // Check for Lowercase, Uppercase, Digits\r\n    if( pattern.lowercase && !/[a-z]/.test( value ) ) errors.push( \"Must contain at least one lowercase letter (a-z).\" );\r\n    if( pattern.uppercase && !/[A-Z]/.test( value ) ) errors.push( \"Must contain at least one uppercase letter (A-Z).\" );\r\n    if( pattern.digit && !/\\d/.test( value ) ) errors.push( \"Must contain at least one number (0-9).\" );\r\n\r\n    // Check for No Spaces (The original regex was (?!.*\\s), meaning 'not followed by any character and a space')\r\n    if( pattern.noSpaces && /\\s/.test(value)) errors.push(\"Must NOT contain any spaces.\");\r\n\r\n    // Check for Special Character (using the same set as buildTextPattern)\r\n    if( pattern.specialChar && !/[@#$%^&+=!]/.test( value ) ) errors.push(\"Must contain at least one special character (e.g., @, #, $, %, ^, &, +, =, !).\");\r\n\r\n    // Check email formatting\r\n    if( pattern.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test( value ) ) errors.push(\"Must have a valid email format.\");\r\n\r\n    // Check match to any other text word\r\n    if( pattern.fieldMatchName && value !== ( args[ 0 ] ) ) errors.push(`Must match ${ pattern.fieldMatchName  } field.`);\r\n\r\n    return errors;\r\n}\r\n\r\nLX.validateValueAtPattern = validateValueAtPattern;\r\n\r\n/**\r\n * @method makeDraggable\r\n * @description Allows an element to be dragged\r\n * @param {Element} domEl\r\n * @param {Object} options\r\n * autoAdjust (Bool): Sets in a correct position at the beggining\r\n * dragMargin (Number): Margin of drag container\r\n * onMove (Function): Called each move event\r\n * onDragStart (Function): Called when drag event starts\r\n * updateLayers (Function): Update Zindex of elements to update layers\r\n */\r\nfunction makeDraggable( domEl: any, options: any = {} )\r\n{\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n    let currentTarget: any = null;\r\n    let targetClass = options.targetClass;\r\n    let dragMargin = options.dragMargin ?? 3;\r\n\r\n    let _computePosition = ( e: any, top?: number, left?: number ) => {\r\n        const nullRect = { x: 0, y: 0, width: 0, height: 0 };\r\n        const parentRect = domEl.parentElement ? domEl.parentElement.getBoundingClientRect() : nullRect;\r\n        const isFixed = ( domEl.style.position == \"fixed\" );\r\n        const fixedOffset = isFixed ? new vec2( parentRect.x, parentRect.y ) : new vec2();\r\n        left = left ?? e.clientX - offsetX - parentRect.x;\r\n        top = top ?? e.clientY - offsetY - parentRect.y;\r\n        domEl.style.left = LX.clamp( left, dragMargin + fixedOffset.x, fixedOffset.x + parentRect.width - domEl.offsetWidth - dragMargin ) + 'px';\r\n        domEl.style.top = LX.clamp( top, dragMargin + fixedOffset.y, fixedOffset.y + parentRect.height - domEl.offsetHeight - dragMargin ) + 'px';\r\n        domEl.style.translate = \"none\"; // Force remove translation\r\n    };\r\n\r\n    // Initial adjustment\r\n    if( options.autoAdjust )\r\n    {\r\n        _computePosition( null, parseInt( domEl.style.left ), parseInt( domEl.style.top ) );\r\n    }\r\n\r\n    let id = LX.guidGenerator();\r\n    domEl[ 'draggable-id' ] = id;\r\n\r\n    const defaultMoveFunc = ( e: any ) => {\r\n        if( !currentTarget )\r\n        {\r\n            return;\r\n        }\r\n\r\n        _computePosition( e );\r\n    };\r\n\r\n    const customMoveFunc = ( e: Event ) => {\r\n        if( !currentTarget )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( options.onMove )\r\n        {\r\n            options.onMove( currentTarget );\r\n        }\r\n    };\r\n\r\n    let onMove = options.onMove ? customMoveFunc : defaultMoveFunc;\r\n    let onDragStart = options.onDragStart;\r\n\r\n    domEl.setAttribute( \"draggable\", \"true\" );\r\n    domEl.addEventListener( \"mousedown\", function( e: any ) {\r\n        currentTarget = ( e.target.classList.contains( targetClass ) || !targetClass ) ? e.target : null;\r\n    } );\r\n\r\n    domEl.addEventListener( \"dragstart\", function( e: any ) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n\r\n        if( !currentTarget )\r\n        {\r\n            return;\r\n        }\r\n\r\n        // Remove image when dragging\r\n        var img = new Image();\r\n        img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=';\r\n        if( e.dataTransfer )\r\n        {\r\n            e.dataTransfer.setDragImage( img, 0, 0 );\r\n            e.dataTransfer.effectAllowed = \"move\";\r\n        }\r\n\r\n        const rect = e.target.getBoundingClientRect();\r\n        const parentRect = currentTarget.parentElement.getBoundingClientRect();\r\n        const isFixed = ( currentTarget.style.position == \"fixed\" );\r\n        const fixedOffset = isFixed ? new vec2( parentRect.x, parentRect.y ) : new vec2();\r\n        offsetX = e.clientX - rect.x - fixedOffset.x;\r\n        offsetY = e.clientY - rect.y - fixedOffset.y;\r\n\r\n        document.addEventListener( \"mousemove\", onMove );\r\n\r\n        currentTarget.eventCatched = true;\r\n\r\n        if( options.updateLayers ?? true )\r\n        {\r\n            // Force active dialog to show on top\r\n            if( LX.activeDraggable )\r\n            {\r\n                LX.activeDraggable.style.zIndex = LX.DRAGGABLE_Z_INDEX;\r\n            }\r\n\r\n            LX.activeDraggable = domEl;\r\n            LX.activeDraggable.style.zIndex = LX.DRAGGABLE_Z_INDEX + 1;\r\n        }\r\n\r\n        if( onDragStart )\r\n        {\r\n            onDragStart( currentTarget, e );\r\n        }\r\n    }, false );\r\n\r\n    document.addEventListener( 'mouseup', (e) => {\r\n        if( currentTarget )\r\n        {\r\n            currentTarget = null;\r\n            document.removeEventListener( \"mousemove\", onMove );\r\n        }\r\n    } );\r\n}\r\n\r\nLX.makeDraggable = makeDraggable;\r\n\r\n/**\r\n * @method makeCollapsible\r\n * @description Allows an element to be collapsed/expanded\r\n * @param {Element} domEl: Element to be treated as collapsible\r\n * @param {Element} content: Content to display/hide on collapse/extend\r\n * @param {Element} parent: Element where the content will be appended (default is domEl.parent)\r\n * @param {Object} options\r\n */\r\nfunction makeCollapsible( domEl: any, content: any, parent: any, options: any = {} )\r\n{\r\n    domEl.classList.add( \"collapsible\" );\r\n\r\n    const collapsed = ( options.collapsed ?? true );\r\n    const actionIcon: HTMLElement = LX.makeIcon( \"Right\" );\r\n    actionIcon.classList.add( \"collapser\" );\r\n    if( collapsed ) actionIcon.dataset[ \"collapsed\" ] = `${ collapsed }`;\r\n    actionIcon.style.marginLeft = \"auto\";\r\n    actionIcon.style.marginRight = \"0.2rem\";\r\n\r\n    actionIcon.addEventListener( \"click\", function( e: any ) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if( this.dataset[ \"collapsed\" ] )\r\n        {\r\n            delete this.dataset[ \"collapsed\" ];\r\n            content.style.display = options.display ?? \"block\";\r\n        }\r\n        else\r\n        {\r\n            this.dataset[ \"collapsed\" ] = \"true\";\r\n            content.style.display = \"none\";\r\n        }\r\n    } );\r\n\r\n    domEl.appendChild( actionIcon );\r\n\r\n    parent = parent ?? domEl.parentElement;\r\n\r\n    parent.appendChild( content );\r\n}\r\n\r\nLX.makeCollapsible = makeCollapsible;\r\n\r\n/**\r\n * @method makeCodeSnippet\r\n * @description Create a code snippet in a specific language\r\n * @param {String} code\r\n * @param {Array} size\r\n * @param {Object} options\r\n * language (String):\r\n * windowMode (Boolean):\r\n * lineNumbers (Boolean):\r\n * firstLine (Number): TODO\r\n * linesAdded (Array):\r\n * linesRemoved (Array):\r\n * tabName (String):\r\n * className (String): Extra class to customize snippet\r\n */\r\nfunction makeCodeSnippet( code: string, size: any[], options: any = {} )\r\n{\r\n    if( !LX.has('CodeEditor') )\r\n    {\r\n        console.error( \"Import the CodeEditor component to create snippets!\" );\r\n        return;\r\n    }\r\n\r\n    const snippet = document.createElement( \"div\" );\r\n    snippet.className = \"lexcodesnippet \" + ( options.className ?? \"\" );\r\n    snippet.style.width = size ? size[ 0 ] : \"auto\";\r\n    snippet.style.height = size ? size[ 1 ] : \"auto\";\r\n    const area = new Area( { xskipAppend: true } );\r\n    let editor = new LX.CodeEditor( area, {\r\n        skipInfo: true,\r\n        disableEdition: true,\r\n        allowAddScripts: false,\r\n        name: options.tabName,\r\n        callback: ( instance: typeof LX.CodeEditor ) =>\r\n        {\r\n            instance.setText( code, options.language ?? \"Plain Text\" );\r\n\r\n            if( options.linesAdded )\r\n            {\r\n                const code = instance.root.querySelector( \".code\" );\r\n                for( let ls of options.linesAdded )\r\n                {\r\n                    const l: number|number[] = ls;\r\n                    if( l.constructor == Number )\r\n                    {\r\n                        code.childNodes[ l - 1 ].classList.add( \"added\" );\r\n                    }\r\n                    else if( l.constructor == Array ) // It's a range\r\n                    {\r\n                        for( let i = ( l[ 0 ] - 1 ); i <= ( l[ 1 ] - 1 ); i++ )\r\n                        {\r\n                            code.childNodes[ i ].classList.add( \"added\" );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if( options.linesRemoved )\r\n            {\r\n                const code = instance.root.querySelector( \".code\" );\r\n                for( let ls of options.linesRemoved )\r\n                {\r\n                    const l: number|number[] = ls;\r\n                    if( l.constructor == Number )\r\n                    {\r\n                        code.childNodes[ l - 1 ].classList.add( \"removed\" );\r\n                    }\r\n                    else if( l.constructor == Array ) // It's a range\r\n                    {\r\n                        for( let i = ( l[ 0 ] - 1 ); i <= ( l[ 1 ] - 1 ); i++ )\r\n                        {\r\n                            code.childNodes[ i ].classList.add( \"removed\" );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if( options.windowMode )\r\n            {\r\n                const windowActionButtons = document.createElement( \"div\" );\r\n                windowActionButtons.className = \"lexwindowbuttons\";\r\n                const aButton = document.createElement( \"span\" );\r\n                aButton.style.background = \"#ee4f50\";\r\n                const bButton = document.createElement( \"span\" );\r\n                bButton.style.background = \"#f5b720\";\r\n                const cButton = document.createElement( \"span\" );\r\n                cButton.style.background = \"#53ca29\";\r\n                windowActionButtons.appendChild( aButton );\r\n                windowActionButtons.appendChild( bButton );\r\n                windowActionButtons.appendChild( cButton );\r\n                const tabs = instance.root.querySelector( \".lexareatabs\" );\r\n                tabs.prepend( windowActionButtons );\r\n            }\r\n\r\n            if( !( options.lineNumbers ?? true ) )\r\n            {\r\n                instance.root.classList.add( \"no-gutter\" );\r\n            }\r\n        }\r\n    } );\r\n\r\n    snippet.appendChild( area.root );\r\n\r\n    return snippet;\r\n}\r\n\r\nLX.makeCodeSnippet = makeCodeSnippet;\r\n\r\n/**\r\n * @method makeKbd\r\n * @description Kbd element to display a keyboard key.\r\n * @param {Array} keys\r\n * @param {String} extraClass\r\n */\r\nfunction makeKbd( keys: string[], useSpecialKeys: boolean = true, extraClass: string = \"\" )\r\n{\r\n    const specialKeys: Record<string, string> = {\r\n        \"Ctrl\": '',\r\n        \"Enter\": '',\r\n        \"Shift\": '',\r\n        \"CapsLock\": '',\r\n        \"Meta\": '',\r\n        \"Option\": '',\r\n        \"Alt\": '',\r\n        \"Tab\": '',\r\n        \"ArrowUp\": '',\r\n        \"ArrowDown\": '',\r\n        \"ArrowLeft\": '',\r\n        \"ArrowRight\": '',\r\n        \"Space\": ''\r\n    };\r\n\r\n    const kbd = LX.makeContainer( [\"auto\", \"auto\"], \"flex flex-row ml-auto\" );\r\n\r\n    for( const k of keys )\r\n    {\r\n        LX.makeContainer( [\"auto\", \"auto\"], \"self-center text-xs fg-secondary select-none \" + extraClass, useSpecialKeys ? specialKeys[ k ] ?? k : k, kbd );\r\n    }\r\n\r\n    return kbd;\r\n}\r\n\r\nLX.makeKbd = makeKbd;\r\n\r\n/**\r\n * @method makeBreadcrumb\r\n * @description Displays the path to the current resource using a hierarchy\r\n * @param {Array} items\r\n * @param {Object} options\r\n * maxItems: Max items until ellipsis is used to overflow\r\n * separatorIcon: Customize separator icon\r\n */\r\nfunction makeBreadcrumb( items: any[], options: any = {} )\r\n{\r\n    const breadcrumb = LX.makeContainer( [\"auto\", \"auto\"], \"flex flex-row gap-1\" );\r\n\r\n    const separatorIcon = options.separatorIcon ?? \"ChevronRight\";\r\n    const maxItems = options.maxItems ?? 4;\r\n    const eraseNum = items.length - maxItems;\r\n    if( eraseNum > 0 )\r\n    {\r\n        const erased = items.splice( 1, eraseNum + 1 );\r\n        const ellipsisItem = { title: \"...\", ellipsis: erased.map( v => v.title ).join( \"/\" ) };\r\n        items.splice( 1, 0, ellipsisItem );\r\n    }\r\n\r\n    for( let i = 0; i < items.length; ++i )\r\n    {\r\n        const item = items[ i ];\r\n        console.assert( item.title, \"Breadcrumb item must have a title!\" );\r\n\r\n        if( i != 0 )\r\n        {\r\n            const icon = LX.makeIcon( separatorIcon, { svgClass: \"sm fg-secondary separator\" } );\r\n            breadcrumb.appendChild( icon );\r\n        }\r\n\r\n        const lastElement = ( i == items.length - 1 );\r\n        const breadcrumbItem = LX.makeContainer( [\"auto\", \"auto\"], `p-1 flex flex-row gap-1 items-center ${ lastElement ? \"\" : \"fg-secondary\" }` );\r\n        breadcrumb.appendChild( breadcrumbItem );\r\n\r\n        let itemTitle = LX.makeElement( \"p\", \"\", item.title );\r\n        if( item.icon )\r\n        {\r\n            breadcrumbItem.appendChild( LX.makeIcon( item.icon, { svgClass: \"sm\" } ) );\r\n        }\r\n\r\n        if( item.items !== undefined )\r\n        {\r\n            const bDropdownTrigger = LX.makeContainer( [\"auto\", \"auto\"], `${ lastElement ? \"\" : \"fg-secondary\" }` );\r\n            LX.listen( bDropdownTrigger, \"click\", ( e: any ) => {\r\n                LX.addDropdownMenu( e.target, item.items, { side: \"bottom\", align: \"start\" });\r\n            } );\r\n            bDropdownTrigger.append( itemTitle );\r\n            breadcrumbItem.appendChild( bDropdownTrigger );\r\n        }\r\n        else if( item.url !== undefined )\r\n        {\r\n            let itemUrl = LX.makeElement( \"a\", `decoration-none fg-${ lastElement ? \"primary\" : \"secondary\" }`, \"\", breadcrumbItem );\r\n            itemUrl.href = item.url;\r\n            itemUrl.appendChild( itemTitle );\r\n        }\r\n        else\r\n        {\r\n            breadcrumbItem.appendChild( itemTitle );\r\n        }\r\n\r\n        if( item.ellipsis )\r\n        {\r\n            LX.asTooltip( breadcrumbItem, item.ellipsis, { side: \"bottom\", offset: 4 } );\r\n        }\r\n    }\r\n\r\n    return breadcrumb;\r\n}\r\n\r\nLX.makeBreadcrumb = makeBreadcrumb;\r\n\r\n/**\r\n * @method makeIcon\r\n * @description Gets an SVG element using one of LX.ICONS\r\n * @param {String} iconName\r\n * @param {Object} options\r\n * title\r\n * extraClass\r\n * svgClass\r\n * variant\r\n * ...Any Lucide icon options\r\n */\r\nfunction makeIcon( iconName: string, options: any = {} )\r\n{\r\n    let svg: any = null;\r\n\r\n    const _createIconFromSVG = ( svg: any ) => {\r\n        if( options.svgClass && options.svgClass.length )\r\n        {\r\n            options.svgClass.split( \" \" ).forEach( ( c: string ) => svg.classList.add( c ) );\r\n        }\r\n        const icon = document.createElement( \"a\" );\r\n        icon.title = options.title ?? \"\";\r\n        icon.className = \"lexicon \" + ( options.iconClass ?? \"\" );\r\n        icon.appendChild( svg );\r\n        svg.dataset[ \"name\" ] = iconName;\r\n        return icon;\r\n    }\r\n\r\n    if( iconName.includes( \"@\" ) )\r\n    {\r\n        const parts = iconName.split( \"@\" );\r\n        iconName = parts[ 0 ];\r\n        options.variant = parts[ 1 ];\r\n    }\r\n\r\n    let data: any = LX.ICONS[ iconName ];\r\n    const lucide = (window as any).lucide;\r\n    const lucideData = lucide[ iconName ] ?? lucide[ LX.LucideIconAlias[ iconName ] ];\r\n\r\n    if( data )\r\n    {\r\n        // Resolve alias\r\n        if( data.constructor != Array )\r\n        {\r\n            data = LX.ICONS[ data ];\r\n        }\r\n\r\n        // Resolve variant\r\n        const requestedVariant = options.variant ?? \"regular\";\r\n        data = ( ( requestedVariant == \"solid\" ) ? LX.ICONS[ `${ iconName }@solid` ] : data ) ?? data;\r\n        const variant = data[ 3 ];\r\n\r\n        // Create internal icon if variant is the same as requested, there's no lucide/fallback data or if variant is \"regular\" (default)\r\n        if( ( requestedVariant == variant ) || !lucideData || variant == \"regular\" )\r\n        {\r\n            svg = document.createElementNS( \"http://www.w3.org/2000/svg\", \"svg\" );\r\n            svg.setAttribute( \"viewBox\", `0 0 ${ data[ 0 ] } ${ data[ 1 ] }` );\r\n\r\n            if( data[ 5 ] )\r\n            {\r\n                const classes = data[ 5 ].svgClass;\r\n                classes?.split( ' ' ).forEach( ( c: string ) => {\r\n                    svg.classList.add( c );\r\n                } );\r\n\r\n                const attrs = data[ 5 ].svgAttributes;\r\n                attrs?.split( ' ' ).forEach( ( attr: string ) => {\r\n                    const t = attr.split( '=' );\r\n                    svg.setAttribute( t[ 0 ], t[ 1 ] );\r\n                } );\r\n            }\r\n\r\n            const path = document.createElement( \"path\" );\r\n            path.setAttribute( \"fill\",  \"currentColor\" );\r\n            path.setAttribute( \"d\",  data[ 4 ] );\r\n            svg.appendChild( path );\r\n\r\n            if( data[ 5 ] )\r\n            {\r\n                const classes = data[ 5 ].pathClass;\r\n                classes?.split( ' ' ).forEach( ( c: string ) => {\r\n                    path.classList.add( c );\r\n                } );\r\n\r\n                const attrs = data[ 5 ].pathAttributes;\r\n                attrs?.split( ' ' ).forEach( ( attr: string ) => {\r\n                    const t = attr.split( '=' );\r\n                    path.setAttribute( t[ 0 ], t[ 1 ] );\r\n                } );\r\n            }\r\n\r\n            const faLicense = `<!-- This icon might belong to a collection from Iconify - https://iconify.design/ - or !Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc. -->`;\r\n            svg.innerHTML += faLicense;\r\n            return _createIconFromSVG( svg );\r\n        }\r\n    }\r\n\r\n    // Fallback to Lucide icon\r\n    console.assert( lucideData, `No existing icon named _${ iconName }_` );\r\n    svg = lucide.createElement( lucideData, options );\r\n\r\n    return _createIconFromSVG( svg );\r\n}\r\n\r\nLX.makeIcon = makeIcon;\r\n\r\n/**\r\n * @method registerIcon\r\n * @description Register an SVG icon to LX.ICONS\r\n * @param {String} iconName\r\n * @param {String} svgString\r\n * @param {String} variant\r\n * @param {Array} aliases\r\n */\r\nfunction registerIcon( iconName: string, svgString: string, variant: string = \"none\", aliases: string[] = [] )\r\n{\r\n    const svg: any = new DOMParser().parseFromString( svgString, 'image/svg+xml' ).documentElement;\r\n    const path = svg.querySelector( \"path\" );\r\n    const viewBox = svg.getAttribute( \"viewBox\" ).split( ' ' );\r\n    const pathData = path.getAttribute( 'd' );\r\n\r\n    let svgAttributes = [];\r\n    let pathAttributes = [];\r\n\r\n    for( const attr of svg.attributes )\r\n    {\r\n        switch( attr.name )\r\n        {\r\n        case \"transform\":\r\n        case \"fill\":\r\n        case \"stroke-width\":\r\n        case \"stroke-linecap\":\r\n        case \"stroke-linejoin\":\r\n            svgAttributes.push( `${ attr.name }=${ attr.value }` );\r\n            break;\r\n        }\r\n    }\r\n\r\n    for( const attr of path.attributes )\r\n    {\r\n        switch( attr.name )\r\n        {\r\n        case \"transform\":\r\n        case \"fill\":\r\n        case \"stroke-width\":\r\n        case \"stroke-linecap\":\r\n        case \"stroke-linejoin\":\r\n            pathAttributes.push( `${ attr.name }=${ attr.value }` );\r\n            break;\r\n        }\r\n    }\r\n\r\n    const iconData = [\r\n        parseInt( viewBox[ 2 ] ),\r\n        parseInt( viewBox[ 3 ] ),\r\n        aliases,\r\n        variant,\r\n        pathData,\r\n        {\r\n            svgAttributes: svgAttributes.length ? svgAttributes.join( ' ' ) : null,\r\n            pathAttributes: pathAttributes.length ? pathAttributes.join( ' ' ) : null\r\n        }\r\n    ];\r\n\r\n    if( LX.ICONS[ iconName ] )\r\n    {\r\n        console.warn( `${ iconName } will be added/replaced in LX.ICONS` );\r\n    }\r\n\r\n    LX.ICONS[ iconName ] = iconData;\r\n}\r\n\r\nLX.registerIcon = registerIcon;\r\n\r\n/**\r\n * @method registerCommandbarEntry\r\n * @description Adds an extra command bar entry\r\n * @param {String} name\r\n * @param {Function} callback\r\n */\r\nfunction registerCommandbarEntry( name: string, callback: any )\r\n{\r\n    LX.extraCommandbarEntries.push( { name, callback } );\r\n}\r\n\r\nLX.registerCommandbarEntry = registerCommandbarEntry;\r\n\r\n/*\r\n    Dialog and Notification Elements\r\n*/\r\n\r\n/**\r\n * @method message\r\n * @param {String} text\r\n * @param {String} title (Optional)\r\n * @param {Object} options\r\n * id: Id of the message dialog\r\n * position: Dialog position in screen [screen centered]\r\n * draggable: Dialog can be dragged [false]\r\n */\r\n\r\nfunction message( text: string, title: string, options: any = {} )\r\n{\r\n    if( !text )\r\n    {\r\n        throw( \"No message to show\" );\r\n    }\r\n\r\n    options.modal = true;\r\n\r\n    return new LX.Dialog( title, ( p: Panel ) => {\r\n        p.addTextArea( null, text, null, { disabled: true, fitHeight: true  } );\r\n    }, options );\r\n}\r\n\r\nLX.message = message;\r\n\r\n/**\r\n * @method popup\r\n * @param {String} text\r\n * @param {String} title (Optional)\r\n * @param {Object} options\r\n * id: Id of the message dialog\r\n * timeout (Number): Delay time before it closes automatically (ms). Default: [3000]\r\n * position (Array): [x,y] Dialog position in screen. Default: [screen centered]\r\n * size (Array): [width, height]\r\n */\r\n\r\nfunction popup( text: string, title: string, options: any = {} )\r\n{\r\n    if( !text )\r\n    {\r\n        throw(\"No message to show\");\r\n    }\r\n\r\n    options.size = options.size ?? [ \"max-content\", \"auto\" ];\r\n    options.class = \"lexpopup\";\r\n\r\n    const time = options.timeout || 3000;\r\n    const dialog = new LX.Dialog( title, ( p: Panel ) => {\r\n        p.addTextArea( null, text, null, { disabled: true, fitHeight: true } );\r\n    }, options );\r\n\r\n    setTimeout( () => {\r\n        dialog.close();\r\n    }, Math.max( time, 150 ) );\r\n\r\n    return dialog;\r\n}\r\n\r\nLX.popup = popup;\r\n\r\n/**\r\n * @method prompt\r\n * @param {String} text\r\n * @param {String} title (Optional)\r\n * @param {Object} options\r\n * id: Id of the prompt dialog\r\n * position: Dialog position in screen [screen centered]\r\n * draggable: Dialog can be dragged [false]\r\n * input: If false, no text input appears\r\n * accept: Accept text\r\n * required: Input has to be filled [true]. Default: false\r\n */\r\n\r\nfunction prompt( text: string, title: string, callback: (value: any) => void, options: any = {} )\r\n{\r\n    options.modal = true;\r\n    options.className = \"prompt\";\r\n\r\n    let value = \"\";\r\n\r\n    const dialog = new LX.Dialog( title, ( p: Panel ) => {\r\n\r\n        p.addTextArea( null, text, null, { disabled: true, fitHeight: true } );\r\n\r\n        if( options.input ?? true )\r\n        {\r\n            p.addText( null, options.input || value, ( v: string ) => value = v, { placeholder: \"...\" } );\r\n        }\r\n\r\n        p.sameLine( 2 );\r\n\r\n        p.addButton(null, \"Cancel\", () => {if(options.on_cancel) options.on_cancel(); dialog.close();} );\r\n\r\n        p.addButton( null, options.accept || \"Continue\", () => {\r\n            if( options.required && value === '' )\r\n            {\r\n                text += text.includes(\"You must fill the input text.\") ? \"\": \"\\nYou must fill the input text.\";\r\n                dialog.close();\r\n                prompt( text, title, callback, options );\r\n            }\r\n            else\r\n            {\r\n                if( callback ) callback.call( LX, value );\r\n                dialog.close();\r\n            }\r\n        }, { buttonClass: \"primary\" });\r\n\r\n    }, options );\r\n\r\n    // Focus text prompt\r\n    if( options.input ?? true )\r\n    {\r\n        dialog.root.querySelector( 'input' ).focus();\r\n    }\r\n\r\n    return dialog;\r\n}\r\n\r\nLX.prompt = prompt;\r\n\r\n/**\r\n * @method toast\r\n * @param {String} title\r\n * @param {String} description (Optional)\r\n * @param {Object} options\r\n * position: Set new position for the toasts (\"top-left\" | \"top-center\" | \"top-right\" | \"bottom-left\" | \"bottom-center\" | \"bottom-right\")\r\n * action: Data of the custom action { name, callback }\r\n * closable: Allow closing the toast\r\n * timeout: Time in which the toast closed automatically, in ms. -1 means persistent. [3000]\r\n */\r\n\r\nfunction toast( title: string, description: string, options: any = {} )\r\n{\r\n    if( !title )\r\n    {\r\n        throw( \"The toast needs at least a title!\" );\r\n    }\r\n\r\n    const nots = LX.notifications;\r\n    console.assert( nots );\r\n\r\n    const toast: any = document.createElement( \"li\" );\r\n    toast.className = \"lextoast\";\r\n    nots.prepend( toast );\r\n\r\n    const [ positionVertical, positionHorizontal ] = options.position ? options.position.split( \"-\" ) : [ \"bottom\", \"right\" ];\r\n\r\n    // Reset style\r\n    nots.style.right = \"unset\";\r\n    nots.style.left = \"unset\";\r\n    nots.style.top = \"unset\";\r\n    nots.style.bottom = \"unset\";\r\n    nots.style.placeSelf = \"unset\";\r\n\r\n    switch( positionVertical )\r\n    {\r\n        case \"top\":\r\n            toast.style.translate = \"0 -30px\";\r\n            nots.style.top = \"1rem\";\r\n            nots.style.flexDirection = \"column\";\r\n            break;\r\n        case \"bottom\":\r\n            toast.style.translate = \"0 calc(100% + 30px)\";\r\n            nots.style.top = \"auto\";\r\n            nots.style.bottom = \"1rem\";\r\n            nots.style.flexDirection = \"column-reverse\";\r\n            break;\r\n    }\r\n\r\n    switch( positionHorizontal )\r\n    {\r\n        case \"left\":\r\n            nots.style.left = \"1rem\";\r\n            break;\r\n        case \"center\":\r\n            nots.style.placeSelf = \"center\";\r\n            break;\r\n        case \"right\":\r\n            nots.style.right = \"1rem\";\r\n            break;\r\n    }\r\n\r\n    toast.classList.add( positionVertical );\r\n    toast.classList.add( positionHorizontal );\r\n\r\n    LX.doAsync( () => {\r\n\r\n        if( nots.offsetWidth > nots.iWidth )\r\n        {\r\n            nots.iWidth = Math.min( nots.offsetWidth, 480 );\r\n            nots.style.width = nots.iWidth + \"px\";\r\n        }\r\n\r\n        toast.dataset[ \"open\" ] = true;\r\n    }, 10 );\r\n\r\n    const content = document.createElement( \"div\" );\r\n    content.className = \"lextoastcontent\";\r\n    toast.appendChild( content );\r\n\r\n    const titleContent = document.createElement( \"div\" );\r\n    titleContent.className = \"title\";\r\n    titleContent.innerHTML = title;\r\n    content.appendChild( titleContent );\r\n\r\n    if( description )\r\n    {\r\n        const desc = document.createElement( \"div\" );\r\n        desc.className = \"desc\";\r\n        desc.innerHTML = description;\r\n        content.appendChild( desc );\r\n    }\r\n\r\n    if( options.action )\r\n    {\r\n        const panel = new Panel();\r\n        panel.addButton(null, options.action.name ?? \"Accept\", options.action.callback.bind( LX, toast ), { width: \"auto\", maxWidth: \"150px\", className: \"right\", buttonClass: \"border\" });\r\n        toast.appendChild( panel.root.childNodes[ 0 ] );\r\n    }\r\n\r\n    toast.close = function() {\r\n        this.dataset[ \"open\" ] = \"false\";\r\n        LX.doAsync( () => {\r\n            this.remove();\r\n            if( !LX.notifications.childElementCount )\r\n            {\r\n                LX.notifications.style.width = \"unset\";\r\n                LX.notifications.iWidth = 0;\r\n            }\r\n        }, 500 );\r\n    };\r\n\r\n    if( options.closable ?? true )\r\n    {\r\n        const closeIcon = LX.makeIcon( \"X\", { iconClass: \"closer\" } );\r\n        closeIcon.addEventListener( \"click\", () => {\r\n            toast.close();\r\n        } );\r\n        toast.appendChild( closeIcon );\r\n    }\r\n\r\n    const timeout = options.timeout ?? 3000;\r\n\r\n    if( timeout != -1 )\r\n    {\r\n        LX.doAsync( () => {\r\n            toast.close();\r\n        }, timeout );\r\n    }\r\n}\r\n\r\nLX.toast = toast;\r\n\r\n/**\r\n * @method badge\r\n * @param {String} text\r\n * @param {String} className\r\n * @param {Object} options\r\n * style: Style attributes to override\r\n * asElement: Returns the badge as HTMLElement [false]\r\n */\r\n\r\nfunction badge( text: string, className: string, options: any = {} )\r\n{\r\n    const container = document.createElement( \"div\" );\r\n    container.innerHTML = text;\r\n    container.className = \"lexbadge \" + ( className ?? \"\" );\r\n\r\n    if( options.chip )\r\n    {\r\n        container.classList.add( \"chip\" );\r\n    }\r\n\r\n    Object.assign( container.style, options.style ?? {} );\r\n\r\n    if( options.callback )\r\n    {\r\n        const arrowIcon = LX.makeIcon( \"ArrowUpRight\", { svgClass: \"xs fg-contrast\" } );\r\n        arrowIcon.querySelector(\"svg\").style.marginLeft = \"-0.25rem\";\r\n        container.innerHTML += arrowIcon.innerHTML;\r\n        container.addEventListener( \"click\", e => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            options.callback();\r\n        } );\r\n    }\r\n\r\n    if( options.parent )\r\n    {\r\n        options.parent.classList.add( \"lexbadge-parent\" );\r\n        options.parent.appendChild( container );\r\n    }\r\n\r\n    return ( options.asElement ?? false ) ? container : container.outerHTML;\r\n}\r\n\r\nLX.badge = badge;\r\n\r\n/**\r\n * @method makeElement\r\n * @param {String} htmlType\r\n * @param {String} className\r\n * @param {String} innerHTML\r\n * @param {HTMLElement} parent\r\n * @param {Object} overrideStyle\r\n */\r\n\r\nfunction makeElement( htmlType: string, className: string, innerHTML: string, parent: any, overrideStyle = {} )\r\n{\r\n    const element = document.createElement( htmlType );\r\n    element.className = className ?? \"\"\r\n    element.innerHTML = innerHTML ?? \"\";\r\n    Object.assign( element.style, overrideStyle );\r\n\r\n    if( parent )\r\n    {\r\n        if( parent.attach ) // Use attach method if possible\r\n        {\r\n            parent.attach( element );\r\n        }\r\n        else // its a native HTMLElement\r\n        {\r\n            parent.appendChild( element );\r\n        }\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\nLX.makeElement = makeElement;\r\n\r\n/**\r\n * @method makeContainer\r\n * @param {Array} size\r\n * @param {String} className\r\n * @param {String} innerHTML\r\n * @param {HTMLElement} parent\r\n * @param {Object} overrideStyle\r\n */\r\n\r\nfunction makeContainer( size: any[], className: string, innerHTML: string, parent: any, overrideStyle = {} )\r\n{\r\n    const container = LX.makeElement( \"div\", \"lexcontainer \" + ( className ?? \"\" ), innerHTML, parent, overrideStyle );\r\n    container.style.width = size && size[ 0 ] ? size[ 0 ] : \"100%\";\r\n    container.style.height = size && size[ 1 ] ? size[ 1 ] : \"100%\";\r\n    return container;\r\n}\r\n\r\nLX.makeContainer = makeContainer;\r\n\r\n/**\r\n * @method asTooltip\r\n * @param {HTMLElement} trigger\r\n * @param {String} content\r\n * @param {Object} options\r\n * side: Side of the tooltip\r\n * offset: Tooltip margin offset\r\n * offsetX: Tooltip margin horizontal offset\r\n * offsetY: Tooltip margin vertical offset\r\n * active: Tooltip active by default [true]\r\n * callback: Callback function to execute when the tooltip is shown\r\n */\r\n\r\nfunction asTooltip( trigger: any, content: any, options: any = {} )\r\n{\r\n    console.assert( trigger, \"You need a trigger to generate a tooltip!\" );\r\n\r\n    trigger.dataset[ \"disableTooltip\" ] = !( options.active ?? true );\r\n\r\n    let tooltipDom: any = null;\r\n\r\n    const _offset = options.offset;\r\n    const _offsetX = options.offsetX ?? ( _offset ?? 0 );\r\n    const _offsetY = options.offsetY ?? ( _offset ?? 6 );\r\n\r\n    trigger.addEventListener( \"mouseenter\", function( e: any ) {\r\n\r\n        if( trigger.dataset[ \"disableTooltip\" ] == \"true\" )\r\n        {\r\n            return;\r\n        }\r\n\r\n        tooltipDom = document.createElement( \"div\" );\r\n        tooltipDom.className = \"lextooltip\";\r\n        tooltipDom.innerHTML = trigger.dataset[ \"tooltipContent\" ] ?? content;\r\n\r\n        const nestedDialog = trigger.closest( \"dialog\" );\r\n        const tooltipParent = nestedDialog ?? LX.root;\r\n\r\n        // Remove other first\r\n        LX.root.querySelectorAll( \".lextooltip\" ).forEach( ( e: HTMLElement ) => e.remove() );\r\n\r\n        // Append new tooltip\r\n        tooltipParent.appendChild( tooltipDom );\r\n\r\n        LX.doAsync( () => {\r\n\r\n            const position = [ 0, 0 ];\r\n            const offsetX = parseFloat( trigger.dataset[ \"tooltipOffsetX\" ] ?? _offsetX );\r\n            const offsetY = parseFloat( trigger.dataset[ \"tooltipOffsetY\" ] ?? _offsetY );\r\n            const rect = trigger.getBoundingClientRect();\r\n            let alignWidth = true;\r\n\r\n            switch( options.side ?? \"top\" )\r\n            {\r\n                case \"left\":\r\n                    position[ 0 ] += ( rect.x - tooltipDom.offsetWidth - offsetX );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"right\":\r\n                    position[ 0 ] += ( rect.x + rect.width + offsetX );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"top\":\r\n                    position[ 1 ] += ( rect.y - tooltipDom.offsetHeight - offsetY );\r\n                    alignWidth = true;\r\n                    break;\r\n                case \"bottom\":\r\n                    position[ 1 ] += ( rect.y + rect.height + offsetY );\r\n                    alignWidth = true;\r\n                    break;\r\n            }\r\n\r\n            if( alignWidth ) { position[ 0 ] += ( rect.x + rect.width * 0.5 ) - tooltipDom.offsetWidth * 0.5 + offsetX; }\r\n            else { position[ 1 ] += ( rect.y + rect.height * 0.5 ) - tooltipDom.offsetHeight * 0.5 + offsetY; }\r\n\r\n            // Avoid collisions\r\n            position[ 0 ] = LX.clamp( position[ 0 ], 0, window.innerWidth - tooltipDom.offsetWidth - 4 );\r\n            position[ 1 ] = LX.clamp( position[ 1 ], 0, window.innerHeight - tooltipDom.offsetHeight - 4 );\r\n\r\n            if( nestedDialog )\r\n            {\r\n                let parentRect = tooltipParent.getBoundingClientRect();\r\n                position[ 0 ] -= parentRect.x;\r\n                position[ 1 ] -= parentRect.y;\r\n            }\r\n\r\n            tooltipDom.style.left = `${ position[ 0 ] }px`;\r\n            tooltipDom.style.top = `${ position[ 1 ] }px`;\r\n\r\n            if( options.callback )\r\n            {\r\n                options.callback( tooltipDom, trigger );\r\n            }\r\n        } );\r\n    } );\r\n\r\n    trigger.addEventListener( \"mouseleave\", function( e: any ) {\r\n        if( tooltipDom )\r\n        {\r\n            tooltipDom.remove();\r\n        }\r\n    } );\r\n}\r\n\r\nLX.asTooltip = asTooltip;\r\n\r\nfunction insertChildAtIndex( parent: HTMLElement, child: HTMLElement, index: number = Infinity )\r\n{\r\n    if ( index >= parent.children.length ) parent.appendChild( child );\r\n    else parent.insertBefore( child, parent.children[index] );\r\n}\r\n\r\nLX.insertChildAtIndex = insertChildAtIndex;\r\n\r\n// Since we use \"box-sizing: border-box\" now,\r\n// it's all included in offsetWidth/offsetHeight\r\nfunction getComputedSize( el: HTMLElement )\r\n{\r\n    return {\r\n        width: el.offsetWidth,\r\n        height: el.offsetHeight\r\n    }\r\n}\r\n\r\nLX.getComputedSize = getComputedSize;\r\n\r\nfunction listen( el: any, eventName: string, callback: any, callbackName?: string )\r\n{\r\n    callbackName = callbackName ?? ( \"_on\" + eventName );\r\n    el[ callbackName ] = callback;\r\n    el.addEventListener( eventName, callback );\r\n}\r\n\r\nLX.listen = listen;\r\n\r\nfunction ignore( el: any, eventName: string, callbackName?: string )\r\n{\r\n    callbackName = callbackName ?? ( \"_on\" + eventName );\r\n    const callback = el[ callbackName ];\r\n    el.removeEventListener( eventName, callback );\r\n}\r\n\r\nLX.ignore = ignore;\r\n\r\nfunction getParentArea( el: any )\r\n{\r\n    let parent = el.parentElement;\r\n    while( parent )\r\n    {\r\n        if( parent.classList.contains( \"lexarea\" ) ) { return parent; }\r\n        parent = parent.parentElement;\r\n    }\r\n}\r\n\r\nLX.getParentArea = getParentArea;\r\n\r\nfunction hasClass( el: any, list: string | string[] )\r\n{\r\n    list = ([] as string[]).concat( list );\r\n    var r = list.filter( v => el.classList.contains( v ) );\r\n    return !!r.length;\r\n}\r\n\r\nLX.hasClass = hasClass;\r\n\r\nfunction addClass( el: any, className: string )\r\n{\r\n   if( className ) el.classList.add( className );\r\n}\r\n\r\nLX.addClass = addClass;\r\n\r\nfunction removeClass( el: any, className: string )\r\n{\r\n   if( className ) el.classList.remove( className );\r\n}\r\n\r\nLX.removeClass = removeClass;\r\n\r\nfunction toggleClass( el: any, className: string, force?: boolean )\r\n{\r\n   if( className ) el.classList.toggle( className, force );\r\n}\r\n\r\nLX.toggleClass = toggleClass;\r\n\r\nfunction lastChar( str: string )\r\n{\r\n   return str[ str.length - 1 ];\r\n}\r\n\r\nLX.lastChar = lastChar;\r\n\r\n/*\r\n*   Requests\r\n*/\r\n\r\nObject.assign(LX, {\r\n\r\n    /**\r\n    * Request file from url (it could be a binary, text, etc.). If you want a simplied version use\r\n    * @method request\r\n    * @param {Object} request object with all the parameters like data (for sending forms), dataType, success, error\r\n    * @param {Function} on_complete\r\n    **/\r\n    request( request: any ) {\r\n\r\n        var dataType = request.dataType || \"text\";\r\n        if(dataType == \"json\") //parse it locally\r\n            dataType = \"text\";\r\n        else if(dataType == \"xml\") //parse it locally\r\n            dataType = \"text\";\r\n        else if (dataType == \"binary\")\r\n        {\r\n            //request.mimeType = \"text/plain; charset=x-user-defined\";\r\n            dataType = \"arraybuffer\";\r\n            request.mimeType = \"application/octet-stream\";\r\n        }\r\n\r\n        //regular case, use AJAX call\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open( request.data ? 'POST' : 'GET', request.url, true);\r\n        if(dataType)\r\n            xhr.responseType = dataType;\r\n        if (request.mimeType)\r\n            xhr.overrideMimeType( request.mimeType );\r\n        if( request.nocache )\r\n            xhr.setRequestHeader('Cache-Control', 'no-cache');\r\n\r\n        xhr.onload = function(load)\r\n        {\r\n            var response = this.response;\r\n            if( this.status != 200)\r\n            {\r\n                var err = \"Error \" + this.status;\r\n                if(request.error)\r\n                    request.error(err);\r\n                return;\r\n            }\r\n\r\n            if(request.dataType == \"json\") //chrome doesnt support json format\r\n            {\r\n                try\r\n                {\r\n                    response = JSON.parse(response);\r\n                }\r\n                catch (err)\r\n                {\r\n                    if(request.error)\r\n                        request.error(err);\r\n                    else\r\n                        throw err;\r\n                }\r\n            }\r\n            else if(request.dataType == \"xml\")\r\n            {\r\n                try\r\n                {\r\n                    var xmlparser = new DOMParser();\r\n                    response = xmlparser.parseFromString(response,\"text/xml\");\r\n                }\r\n                catch (err)\r\n                {\r\n                    if(request.error)\r\n                        request.error(err);\r\n                    else\r\n                        throw err;\r\n                }\r\n            }\r\n            if(request.success)\r\n                request.success.call(this, response, this);\r\n        };\r\n        xhr.onerror = function(err) {\r\n            if(request.error)\r\n                request.error(err);\r\n        }\r\n\r\n        var data = new FormData();\r\n        if( request.data )\r\n        {\r\n            for( var i in request.data)\r\n                data.append(i,request.data[ i ]);\r\n        }\r\n\r\n        xhr.send( data );\r\n        return xhr;\r\n    },\r\n\r\n    /**\r\n    * Request file from url\r\n    * @method requestText\r\n    * @param {String} url\r\n    * @param {Function} onComplete\r\n    * @param {Function} onError\r\n    **/\r\n    requestText( url: string, onComplete: (r: Response, rq: XMLHttpRequest) => void, onError: (e: ProgressEvent) => void ) {\r\n        return this.request({ url: url, dataType:\"text\", success: onComplete, error: onError });\r\n    },\r\n\r\n    /**\r\n    * Request file from url\r\n    * @method requestJSON\r\n    * @param {String} url\r\n    * @param {Function} onComplete\r\n    * @param {Function} onError\r\n    **/\r\n    requestJSON( url: string, onComplete: (r: Response, rq: XMLHttpRequest) => void, onError: (e: ProgressEvent) => void ) {\r\n        return this.request({ url: url, dataType:\"json\", success: onComplete, error: onError });\r\n    },\r\n\r\n    /**\r\n    * Request binary file from url\r\n    * @method requestBinary\r\n    * @param {String} url\r\n    * @param {Function} onComplete\r\n    * @param {Function} onError\r\n    **/\r\n    requestBinary( url: string, onComplete: (r: Response, rq: XMLHttpRequest) => void, onError: (e: ProgressEvent) => void ) {\r\n        return this.request({ url: url, dataType:\"binary\", success: onComplete, error: onError });\r\n    },\r\n\r\n    /**\r\n    * Request script and inserts it in the DOM\r\n    * @method requireScript\r\n    * @param {String|Array} url the url of the script or an array containing several urls\r\n    * @param {Function} onComplete\r\n    * @param {Function} onError\r\n    * @param {Function} onProgress (if several files are required, onProgress is called after every file is added to the DOM)\r\n    **/\r\n    requireScript( url: any, onComplete: (r: any[]) => void, \r\n            onError: (e: ProgressEvent, src: string, n: string) => void, onProgress: (src: string, n: string) => void, version?: string ) {\r\n\r\n        if(!url)\r\n            throw(\"invalid URL\");\r\n\r\n        if( url.constructor === String )\r\n            url = [url];\r\n\r\n        var total = url.length;\r\n        var loaded_scripts: any[] = [];\r\n\r\n        for( var i in url )\r\n        {\r\n            var script: any = document.createElement('script');\r\n            script.num = i;\r\n            script.type = 'text/javascript';\r\n            script.src = url[ i ] + ( version ? \"?version=\" + version : \"\" );\r\n            script.original_src = url[ i ];\r\n            script.async = false;\r\n            script.onload = function( e: any ) {\r\n                total--;\r\n                loaded_scripts.push(this);\r\n                if(total)\r\n                {\r\n                    if( onProgress )\r\n                    {\r\n                        onProgress( this.original_src, this.num );\r\n                    }\r\n                }\r\n                else if(onComplete)\r\n                    onComplete( loaded_scripts );\r\n            };\r\n            if(onError)\r\n                script.onerror = function(err: any) {\r\n                    onError(err, this.original_src, this.num );\r\n                }\r\n            document.getElementsByTagName('head')[ 0 ].appendChild(script);\r\n        }\r\n    },\r\n\r\n    loadScriptSync( url: string ) {\r\n        return new Promise((resolve, reject) => {\r\n            const script = document.createElement( \"script\" );\r\n            script.src = url;\r\n            script.async = false;\r\n            script.onload = () => resolve(1);\r\n            script.onerror = () => reject(new Error(`Failed to load ${url}`));\r\n            document.head.appendChild( script );\r\n        });\r\n    },\r\n\r\n    downloadURL( url: string, filename: string ) {\r\n\r\n        const fr = new FileReader();\r\n\r\n        const _download = function( _url: string ) {\r\n            var link = document.createElement('a');\r\n            link.href = _url;\r\n            link.download = filename;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n        }\r\n\r\n        if( url.includes('http') )\r\n        {\r\n            LX.request({ url: url, dataType: 'blob', success: ( f: File ) => {\r\n                fr.readAsDataURL( f );\r\n                fr.onload = ( e: any ) => {\r\n                    _download( e.currentTarget.result );\r\n                };\r\n            } });\r\n        }else\r\n        {\r\n            _download(url);\r\n        }\r\n\r\n    },\r\n\r\n    downloadFile: function( filename: string, data: any, dataType: string )\r\n    {\r\n        if( !data )\r\n        {\r\n            console.warn(\"No file provided to download\");\r\n            return;\r\n        }\r\n\r\n        if( !dataType )\r\n        {\r\n            if(data.constructor === String )\r\n                dataType = 'text/plain';\r\n            else\r\n                dataType = 'application/octet-stream';\r\n        }\r\n\r\n        var file = null;\r\n        if( data.constructor !== File && data.constructor !== Blob )\r\n            file = new Blob( [ data ], {type : dataType});\r\n        else\r\n            file = data;\r\n\r\n        var url = URL.createObjectURL( file );\r\n        var element = document.createElement(\"a\");\r\n        element.setAttribute('href', url);\r\n        element.setAttribute('download', filename );\r\n        element.style.display = 'none';\r\n        document.body.appendChild( element );\r\n        element.click();\r\n        document.body.removeChild( element );\r\n        setTimeout( function(){ URL.revokeObjectURL( url ); }, 1000*60 ); //wait one minute to revoke url\r\n    }\r\n});\r\n\r\n/**\r\n * @method formatBytes\r\n * @param {Number} bytes\r\n **/\r\nfunction formatBytes( bytes: number )\r\n{\r\n    if( bytes === 0 ) return \"0 B\";\r\n    const k = 1024;\r\n    const sizes = [ \"B\", \"KB\", \"MB\", \"GB\", \"TB\" ];\r\n    const i = Math.floor( Math.log( bytes ) / Math.log( k ) );\r\n    const value = bytes / Math.pow( k, i );\r\n    return value.toFixed( 2 ) + \" \" + sizes[ i ];\r\n}\r\n\r\nLX.formatBytes = formatBytes;\r\n\r\n/**\r\n * @method compareThreshold\r\n **/\r\nfunction compareThreshold( v: number, p: number, n: number, t: number )\r\n{\r\n    return Math.abs( v - p ) >= t || Math.abs( v - n ) >= t;\r\n}\r\n\r\nLX.compareThreshold = compareThreshold;\r\n\r\n/**\r\n * @method compareThresholdRange\r\n **/\r\nfunction compareThresholdRange( v0: number, v1: number, t0: number, t1: number )\r\n{\r\n    return v0 >= t0 && v0 <= t1 || v1 >= t0 && v1 <= t1 || v0 <= t0 && v1 >= t1;\r\n}\r\n\r\nLX.compareThresholdRange = compareThresholdRange;\r\n\r\n/**\r\n * @method getControlPoints\r\n **/\r\nfunction getControlPoints( x0: number, y0: number, x1: number, y1: number, x2: number, y2: number, t: number )\r\n{\r\n    //  x0,y0,x1,y1 are the coordinates of the end (knot) pts of this segment\r\n    //  x2,y2 is the next knot -- not connected here but needed to calculate p2\r\n    //  p1 is the control point calculated here, from x1 back toward x0.\r\n    //  p2 is the next control point, calculated here and returned to become the\r\n    //  next segment's p1.\r\n    //  t is the 'tension' which controls how far the control points spread.\r\n\r\n    //  Scaling factors: distances from this knot to the previous and following knots.\r\n    var d01=Math.sqrt(Math.pow(x1-x0,2)+Math.pow(y1-y0,2));\r\n    var d12=Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2));\r\n\r\n    var fa=t*d01/(d01+d12);\r\n    var fb=t-fa;\r\n\r\n    var p1x=x1+fa*(x0-x2);\r\n    var p1y=y1+fa*(y0-y2);\r\n\r\n    var p2x=x1-fb*(x0-x2);\r\n    var p2y=y1-fb*(y0-y2);\r\n\r\n    return [p1x,p1y,p2x,p2y]\r\n}\r\n\r\nLX.getControlPoints = getControlPoints;\r\n\r\n/**\r\n * @method drawSpline\r\n * @param {CanvasRenderingContext2D} ctx\r\n * @param {Array} pts\r\n * @param {Number} t\r\n **/\r\nfunction drawSpline( ctx: CanvasRenderingContext2D, pts: any[], t: number )\r\n{\r\n    ctx.save();\r\n    var cp: any[] = [];   // array of control points, as x0,y0,x1,y1,...\r\n    var n = pts.length;\r\n\r\n    // Draw an open curve, not connected at the ends\r\n    for( var i = 0; i < (n - 4); i += 2 )\r\n    {\r\n        cp = cp.concat(LX.getControlPoints(pts[ i ],pts[i+1],pts[i+2],pts[i+3],pts[i+4],pts[i+5],t));\r\n    }\r\n\r\n    for( var i = 2; i < ( pts.length - 5 ); i += 2 )\r\n    {\r\n        ctx.beginPath();\r\n        ctx.moveTo(pts[ i ], pts[i+1]);\r\n        ctx.bezierCurveTo(cp[2*i-2],cp[2*i-1],cp[2*i],cp[2*i+1],pts[i+2],pts[i+3]);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n    }\r\n\r\n    //  For open curves the first and last arcs are simple quadratics.\r\n    ctx.beginPath();\r\n    ctx.moveTo( pts[ 0 ], pts[ 1 ] );\r\n    ctx.quadraticCurveTo( cp[ 0 ], cp[ 1 ], pts[ 2 ], pts[ 3 ]);\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo( pts[ n-2 ], pts[ n-1 ] );\r\n    ctx.quadraticCurveTo( cp[ 2*n-10 ], cp[ 2*n-9 ], pts[ n-4 ], pts[ n-3 ]);\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n\r\n    ctx.restore();\r\n}\r\n\r\nLX.drawSpline = drawSpline;","// Icons.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\n\r\nconst RAW_ICONS: Record<string, any> = {\r\n    // Internals\r\n    \"Abc\": [24, 24, [], \"regular\", \"M17 15q-.425 0-.712-.288T16 14v-4q0-.425.288-.712T17 9h3q.425 0 .713.288T21 10v1h-1.5v-.5h-2v3h2V13H21v1q0 .425-.288.713T20 15zm-7.5 0V9h4q.425 0 .713.288T14.5 10v1q0 .425-.288.713T13.5 12q.425 0 .713.288T14.5 13v1q0 .425-.288.713T13.5 15zm1.5-3.75h2v-.75h-2zm0 2.25h2v-.75h-2zM3 15v-5q0-.425.288-.712T4 9h3q.425 0 .713.288T8 10v5H6.5v-1.5h-2V15zm1.5-3h2v-1.5h-2z\"],\r\n    \"Android\": [128, 128, [], \"solid\", \"M21.005 43.003c-4.053-.002-7.338 3.291-7.339 7.341l.005 30.736a7.34 7.34 0 0 0 7.342 7.343a7.33 7.33 0 0 0 7.338-7.342V50.34a7.345 7.345 0 0 0-7.346-7.337m59.193-27.602l5.123-9.355a1.023 1.023 0 0 0-.401-1.388a1.02 1.02 0 0 0-1.382.407l-5.175 9.453c-4.354-1.938-9.227-3.024-14.383-3.019c-5.142-.005-10.013 1.078-14.349 3.005L44.45 5.075a1.01 1.01 0 0 0-1.378-.406a1.007 1.007 0 0 0-.404 1.38l5.125 9.349c-10.07 5.193-16.874 15.083-16.868 26.438l66.118-.008c.002-11.351-6.79-21.221-16.845-26.427M48.942 29.858a2.772 2.772 0 0 1 .003-5.545a2.78 2.78 0 0 1 2.775 2.774a2.776 2.776 0 0 1-2.778 2.771m30.106-.005a2.77 2.77 0 0 1-2.772-2.771a2.793 2.793 0 0 1 2.773-2.778a2.79 2.79 0 0 1 2.767 2.779a2.767 2.767 0 0 1-2.768 2.77M31.195 44.39l.011 47.635a7.82 7.82 0 0 0 7.832 7.831l5.333.002l.006 16.264c-.001 4.05 3.291 7.342 7.335 7.342c4.056 0 7.342-3.295 7.343-7.347l-.004-16.26l9.909-.003l.004 16.263c0 4.047 3.293 7.346 7.338 7.338c4.056.003 7.344-3.292 7.343-7.344l-.005-16.259l5.352-.004a7.835 7.835 0 0 0 7.836-7.834l-.009-47.635zm83.134 5.943a7.34 7.34 0 0 0-7.341-7.339c-4.053-.004-7.337 3.287-7.337 7.342l.006 30.738a7.334 7.334 0 0 0 7.339 7.339a7.337 7.337 0 0 0 7.338-7.343z\"],\r\n    \"Clone\": [512, 512, [], \"regular\", \"M64 464l224 0c8.8 0 16-7.2 16-16l0-64 48 0 0 64c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64l64 0 0 48-64 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16zM224 304l224 0c8.8 0 16-7.2 16-16l0-224c0-8.8-7.2-16-16-16L224 48c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16zm-64-16l0-224c0-35.3 28.7-64 64-64L448 0c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64l-224 0c-35.3 0-64-28.7-64-64z\"],\r\n    \"IdBadge\": [384, 512, [], \"regular\", \"M256 48l0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l256 0c8.8 0 16-7.2 16-16l0-384c0-8.8-7.2-16-16-16l-64 0zM0 64C0 28.7 28.7 0 64 0L320 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM160 320l64 0c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16L96 416c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z\"],\r\n    \"Paste\": [512, 512, [], \"regular\", \"M104.6 48L64 48C28.7 48 0 76.7 0 112L0 384c0 35.3 28.7 64 64 64l96 0 0-48-96 0c-8.8 0-16-7.2-16-16l0-272c0-8.8 7.2-16 16-16l16 0c0 17.7 14.3 32 32 32l72.4 0C202 108.4 227.6 96 256 96l62 0c-7.1-27.6-32.2-48-62-48l-40.6 0C211.6 20.9 188.2 0 160 0s-51.6 20.9-55.4 48zM144 56a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM448 464l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L464 243.9 464 448c0 8.8-7.2 16-16 16zM256 512l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L256 128c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64z\"],\r\n    \"Trash3\": [448, 512, [], \"regular\", \"M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z\"],\r\n    \"FilePdf\": [512, 512, [], \"regular\", \"M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z\"],\r\n    \"FileWord\": [384, 512, [], \"regular\", \"M48 448L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm55 241.1c-3.8-12.7-17.2-19.9-29.9-16.1s-19.9 17.2-16.1 29.9l48 160c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l25-83.4 25 83.4c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l48-160c3.8-12.7-3.4-26.1-16.1-29.9s-26.1 3.4-29.9 16.1l-25 83.4-25-83.4c-3-10.2-12.4-17.1-23-17.1s-19.9 7-23 17.1l-25 83.4-25-83.4z\"],\r\n    \"FilePowerpoint\": [384, 512, [], \"regular\", \"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm72 208c-13.3 0-24 10.7-24 24l0 104 0 56c0 13.3 10.7 24 24 24s24-10.7 24-24l0-32 44 0c42 0 76-34 76-76s-34-76-76-76l-68 0zm68 104l-44 0 0-56 44 0c15.5 0 28 12.5 28 28s-12.5 28-28 28z\"],\r\n    \"FileExcel\": [384, 512, [], \"regular\", \"M48 448L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm90.9 233.3c-8.1-10.5-23.2-12.3-33.7-4.2s-12.3 23.2-4.2 33.7L161.6 320l-44.5 57.3c-8.1 10.5-6.3 25.5 4.2 33.7s25.5 6.3 33.7-4.2L192 359.1l37.1 47.6c8.1 10.5 23.2 12.3 33.7 4.2s12.3-23.2 4.2-33.7L222.4 320l44.5-57.3c8.1-10.5 6.3-25.5-4.2-33.7s-25.5-6.3-33.7 4.2L192 280.9l-37.1-47.6z\"],\r\n    \"Settings3\": [640, 512, [], \"solid\", \"M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z\"],\r\n    \"MessagesCircle\": [640, 512, [], \"regular\", \"M88.2 309.1c9.8-18.3 6.8-40.8-7.5-55.8C59.4 230.9 48 204 48 176c0-63.5 63.8-128 160-128s160 64.5 160 128s-63.8 128-160 128c-13.1 0-25.8-1.3-37.8-3.6c-10.4-2-21.2-.6-30.7 4.2c-4.1 2.1-8.3 4.1-12.6 6c-16 7.2-32.9 13.5-49.9 18c2.8-4.6 5.4-9.1 7.9-13.6c1.1-1.9 2.2-3.9 3.2-5.9zM208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 41.8 17.2 80.1 45.9 110.3c-.9 1.7-1.9 3.5-2.8 5.1c-10.3 18.4-22.3 36.5-36.6 52.1c-6.6 7-8.3 17.2-4.6 25.9C5.8 378.3 14.4 384 24 384c43 0 86.5-13.3 122.7-29.7c4.8-2.2 9.6-4.5 14.2-6.8c15.1 3 30.9 4.5 47.1 4.5zM432 480c16.2 0 31.9-1.6 47.1-4.5c4.6 2.3 9.4 4.6 14.2 6.8C529.5 498.7 573 512 616 512c9.6 0 18.2-5.7 22-14.5c3.8-8.8 2-19-4.6-25.9c-14.2-15.6-26.2-33.7-36.6-52.1c-.9-1.7-1.9-3.4-2.8-5.1C622.8 384.1 640 345.8 640 304c0-94.4-87.9-171.5-198.2-175.8c4.1 15.2 6.2 31.2 6.2 47.8l0 .6c87.2 6.7 144 67.5 144 127.4c0 28-11.4 54.9-32.7 77.2c-14.3 15-17.3 37.6-7.5 55.8c1.1 2 2.2 4 3.2 5.9c2.5 4.5 5.2 9 7.9 13.6c-17-4.5-33.9-10.7-49.9-18c-4.3-1.9-8.5-3.9-12.6-6c-9.5-4.8-20.3-6.2-30.7-4.2c-12.1 2.4-24.8 3.6-37.8 3.6c-61.7 0-110-26.5-136.8-62.3c-16 5.4-32.8 9.4-50 11.8C279 439.8 350 480 432 480z\"],\r\n    \"LinkOff\": [640, 512, [\"ChainBroken\", \"ChainOff\", \"Unlink\"], \"solid\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L489.3 358.2l90.5-90.5c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114l-96 96-31.9-25C430.9 239.6 420.1 175.1 377 132c-52.2-52.3-134.5-56.2-191.3-11.7L38.8 5.1zM239 162c30.1-14.9 67.7-9.9 92.8 15.3c20 20 27.5 48.3 21.7 74.5L239 162zM406.6 416.4L220.9 270c-2.1 39.8 12.2 80.1 42.2 110c38.9 38.9 94.4 51 143.6 36.3zm-290-228.5L60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l61.8-61.8-50.6-39.9z\"],\r\n    \"StreetView\": [512, 512, [], \"solid\", \"M320 64A64 64 0 1 0 192 64a64 64 0 1 0 128 0zm-96 96c-35.3 0-64 28.7-64 64l0 48c0 17.7 14.3 32 32 32l1.8 0 11.1 99.5c1.8 16.2 15.5 28.5 31.8 28.5l38.7 0c16.3 0 30-12.3 31.8-28.5L318.2 304l1.8 0c17.7 0 32-14.3 32-32l0-48c0-35.3-28.7-64-64-64l-64 0zM132.3 394.2c13-2.4 21.7-14.9 19.3-27.9s-14.9-21.7-27.9-19.3c-32.4 5.9-60.9 14.2-82 24.8c-10.5 5.3-20.3 11.7-27.8 19.6C6.4 399.5 0 410.5 0 424c0 21.4 15.5 36.1 29.1 45c14.7 9.6 34.3 17.3 56.4 23.4C130.2 504.7 190.4 512 256 512s125.8-7.3 170.4-19.6c22.1-6.1 41.8-13.8 56.4-23.4c13.7-8.9 29.1-23.6 29.1-45c0-13.5-6.4-24.5-14-32.6c-7.5-7.9-17.3-14.3-27.8-19.6c-21-10.6-49.5-18.9-82-24.8c-13-2.4-25.5 6.3-27.9 19.3s6.3 25.5 19.3 27.9c30.2 5.5 53.7 12.8 69 20.5c3.2 1.6 5.8 3.1 7.9 4.5c3.6 2.4 3.6 7.2 0 9.6c-8.8 5.7-23.1 11.8-43 17.3C374.3 457 318.5 464 256 464s-118.3-7-157.7-17.9c-19.9-5.5-34.2-11.6-43-17.3c-3.6-2.4-3.6-7.2 0-9.6c2.1-1.4 4.8-2.9 7.9-4.5c15.3-7.7 38.8-14.9 69-20.5z\"],\r\n    \"ClosedCaptioning\": [576, 512, [\"CC\"], \"regular\", \"M512 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l448 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z\"],\r\n    \"ChildReaching\": [384, 512, [], \"solid\", \"M256 64A64 64 0 1 0 128 64a64 64 0 1 0 128 0zM152.9 169.3c-23.7-8.4-44.5-24.3-58.8-45.8L74.6 94.2C64.8 79.5 45 75.6 30.2 85.4s-18.7 29.7-8.9 44.4L40.9 159c18.1 27.1 42.8 48.4 71.1 62.4L112 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96 32 0 0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-258.4c29.1-14.2 54.4-36.2 72.7-64.2l18.2-27.9c9.6-14.8 5.4-34.6-9.4-44.3s-34.6-5.5-44.3 9.4L291 122.4c-21.8 33.4-58.9 53.6-98.8 53.6c-12.6 0-24.9-2-36.6-5.8c-.9-.3-1.8-.7-2.7-.9z\"],\r\n    \"HourglassHalf\": [384, 512, [], \"regular\", \"M0 24C0 10.7 10.7 0 24 0L360 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 19c0 40.3-16 79-44.5 107.5L225.9 256l81.5 81.5C336 366 352 404.7 352 445l0 19 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24L24 512c-13.3 0-24-10.7-24-24s10.7-24 24-24l8 0 0-19c0-40.3 16-79 44.5-107.5L158.1 256 76.5 174.5C48 146 32 107.3 32 67l0-19-8 0C10.7 48 0 37.3 0 24zM110.5 371.5c-3.9 3.9-7.5 8.1-10.7 12.5l184.4 0c-3.2-4.4-6.8-8.6-10.7-12.5L192 289.9l-81.5 81.5zM284.2 128C297 110.4 304 89 304 67l0-19L80 48l0 19c0 22.1 7 43.4 19.8 61l184.4 0z\"],\r\n    \"PaperPlane\": [512, 512, [], \"regular\", \"M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z\"],    \r\n    \"Axis3DArrows\": [24, 24, [], \"solid\", \"m12 2l4 4h-3v7.85l6.53 3.76L21 15.03l1.5 5.47l-5.5 1.46l1.53-2.61L12 15.58l-6.53 3.77L7 21.96L1.5 20.5L3 15.03l1.47 2.58L11 13.85V6H8z\"],\r\n    \"PersonWalkingDashedLineArrowRight\": [640, 512, [], \"solid\", \"M208 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM123.7 200.5c1-.4 1.9-.8 2.9-1.2l-16.9 63.5c-5.6 21.1-.1 43.6 14.7 59.7l70.7 77.1 22 88.1c4.3 17.1 21.7 27.6 38.8 23.3s27.6-21.7 23.3-38.8l-23-92.1c-1.9-7.8-5.8-14.9-11.2-20.8l-49.5-54 19.3-65.5 9.6 23c4.4 10.6 12.5 19.3 22.8 24.5l26.7 13.3c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9L281 232.7l-15.3-36.8C248.5 154.8 208.3 128 163.7 128c-22.8 0-45.3 4.8-66.1 14l-8 3.5c-32.9 14.6-58.1 42.4-69.4 76.5l-2.6 7.8c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l2.6-7.8c5.7-17.1 18.3-30.9 34.7-38.2l8-3.5zm-30 135.1L68.7 398 9.4 457.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L116.3 441c4.6-4.6 8.2-10.1 10.6-16.1l14.5-36.2-40.7-44.4c-2.5-2.7-4.8-5.6-7-8.6zM550.6 153.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L530.7 224 384 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l146.7 0-25.4 25.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l80-80c12.5-12.5 12.5-32.8 0-45.3l-80-80zM392 0c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48c0-13.3-10.7-24-24-24zm24 152c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16zM392 320c-13.3 0-24 10.7-24 24l0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16c0-13.3-10.7-24-24-24zm24 120c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48z\"],\r\n    \"PersonWalkingArrowLoopLeft\": [640, 512, [], \"solid\", \"M208 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM123.7 200.5c1-.4 1.9-.8 2.9-1.2l-16.9 63.5c-5.6 21.1-.1 43.6 14.7 59.7l70.7 77.1 22 88.1c4.3 17.1 21.7 27.6 38.8 23.3s27.6-21.7 23.3-38.8l-23-92.1c-1.9-7.8-5.8-14.9-11.2-20.8l-49.5-54 19.3-65.5 9.6 23c4.4 10.6 12.5 19.3 22.8 24.5l26.7 13.3c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9L281 232.7l-15.3-36.8C248.5 154.8 208.3 128 163.7 128c-22.8 0-45.3 4.8-66.1 14l-8 3.5c-32.9 14.6-58.1 42.4-69.4 76.5l-2.6 7.8c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l2.6-7.8c5.7-17.1 18.3-30.9 34.7-38.2l8-3.5zm-30 135.1L68.7 398 9.4 457.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L116.3 441c4.6-4.6 8.2-10.1 10.6-16.1l14.5-36.2-40.7-44.4c-2.5-2.7-4.8-5.6-7-8.6zm347.7 119c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L461.3 384l18.7 0c88.4 0 160-71.6 160-160s-71.6-160-160-160L352 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c53 0 96 43 96 96s-43 96-96 96l-18.7 0 25.4-25.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-80 80c-12.5 12.5-12.5 32.8 0 45.3l80 80z\"],\r\n    \"PersonWalkingArrowRight\": [640, 512, [], \"solid\", \"M208 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM123.7 200.5c1-.4 1.9-.8 2.9-1.2l-16.9 63.5c-5.6 21.1-.1 43.6 14.7 59.7l70.7 77.1 22 88.1c4.3 17.1 21.7 27.6 38.8 23.3s27.6-21.7 23.3-38.8l-23-92.1c-1.9-7.8-5.8-14.9-11.2-20.8l-49.5-54 19.3-65.5 9.6 23c4.4 10.6 12.5 19.3 22.8 24.5l26.7 13.3c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9L281 232.7l-15.3-36.8C248.5 154.8 208.3 128 163.7 128c-22.8 0-45.3 4.8-66.1 14l-8 3.5c-32.9 14.6-58.1 42.4-69.4 76.5l-2.6 7.8c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l2.6-7.8c5.7-17.1 18.3-30.9 34.7-38.2l8-3.5zm-30 135.1L68.7 398 9.4 457.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L116.3 441c4.6-4.6 8.2-10.1 10.6-16.1l14.5-36.2-40.7-44.4c-2.5-2.7-4.8-5.6-7-8.6zM550.6 153.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L530.7 224 384 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l146.7 0-25.4 25.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l80-80c12.5-12.5 12.5-32.8 0-45.3l-80-80z\"],\r\n    \"ClapperboardClosed\": [512, 512, [], \"solid\", \"M448 32l-86.1 0-1 1-127 127 92.1 0 1-1L453.8 32.3c-1.9-.2-3.8-.3-5.8-.3zm64 128l0-64c0-15.1-5.3-29.1-14-40l-104 104L512 160zM294.1 32l-92.1 0-1 1L73.9 160l92.1 0 1-1 127-127zM64 32C28.7 32 0 60.7 0 96l0 64 6.1 0 1-1 127-127L64 32zM512 192L0 192 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-224z\"],\r\n    \"UserOff\": [640, 512, [], \"solid\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L381.9 274c48.5-23.2 82.1-72.7 82.1-130C464 64.5 399.5 0 320 0C250.4 0 192.4 49.3 178.9 114.9L38.8 5.1zM545.5 512L528 512 284.3 320l-59 0C136.2 320 64 392.2 64 481.3c0 17 13.8 30.7 30.7 30.7l450.6 0 .3 0z\"],\r\n    \"PhotoFilm\": [640, 512, [\"Media\"], \"solid\", \"M256 0L576 0c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64l-320 0c-35.3 0-64-28.7-64-64l0-224c0-35.3 28.7-64 64-64zM476 106.7C471.5 100 464 96 456 96s-15.5 4-20 10.7l-56 84L362.7 169c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l80 0 48 0 144 0c8.9 0 17-4.9 21.2-12.7s3.7-17.3-1.2-24.6l-96-144zM336 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM64 128l96 0 0 256 0 32c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-32 160 0 0 64c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192c0-35.3 28.7-64 64-64zm8 64c-8.8 0-16 7.2-16 16l0 16c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-16 0zm0 104c-8.8 0-16 7.2-16 16l0 16c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-16 0zm0 104c-8.8 0-16 7.2-16 16l0 16c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-16 0zm336 16l0 16c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-16 0c-8.8 0-16 7.2-16 16z\"],\r\n    \"Chart\": [448, 512, [], \"solid\", \"M160 80c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-352zM0 272c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 160c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48L0 272zM368 96l32 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48z\"],\r\n    \"HandsAslInterpreting\": [640, 512, [\"ASL\"], \"solid\", \"M156.6 46.3c7.9-15.8 1.5-35-14.3-42.9s-35-1.5-42.9 14.3L13.5 189.4C4.6 207.2 0 226.8 0 246.7L0 256c0 70.7 57.3 128 128 128l72 0 8 0 0-.3c35.2-2.7 65.4-22.8 82.1-51.7c8.8-15.3 3.6-34.9-11.7-43.7s-34.9-3.6-43.7 11.7c-7 12-19.9 20-34.7 20c-22.1 0-40-17.9-40-40s17.9-40 40-40c14.8 0 27.7 8 34.7 20c8.8 15.3 28.4 20.5 43.7 11.7s20.5-28.4 11.7-43.7c-12.8-22.1-33.6-39.1-58.4-47.1l80.8-22c17-4.6 27.1-22.2 22.5-39.3s-22.2-27.1-39.3-22.5L194.9 124.6l81.6-68c13.6-11.3 15.4-31.5 4.1-45.1S249.1-3.9 235.5 7.4L133.6 92.3l23-46zM483.4 465.7c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l85.9-171.7c8.9-17.8 13.5-37.4 13.5-57.2l0-9.3c0-70.7-57.3-128-128-128l-72 0-8 0 0 .3c-35.2 2.7-65.4 22.8-82.1 51.7c-8.9 15.3-3.6 34.9 11.7 43.7s34.9 3.6 43.7-11.7c7-12 19.9-20 34.7-20c22.1 0 40 17.9 40 40s-17.9 40-40 40c-14.8 0-27.7-8-34.7-20c-8.9-15.3-28.4-20.5-43.7-11.7s-20.5 28.4-11.7 43.7c12.8 22.1 33.6 39.1 58.4 47.1l-80.8 22c-17.1 4.7-27.1 22.2-22.5 39.3s22.2 27.1 39.3 22.5l100.7-27.5-81.6 68c-13.6 11.3-15.4 31.5-4.1 45.1s31.5 15.4 45.1 4.1l101.9-84.9-23 46z\"],\r\n    \"HandPointRight\": [512, 512, [], \"regular\", \"M448 128l-177.6 0c1 5.2 1.6 10.5 1.6 16l0 16 32 0 144 0c8.8 0 16-7.2 16-16s-7.2-16-16-16zM224 144c0-17.7-14.3-32-32-32c0 0 0 0 0 0l-24 0c-66.3 0-120 53.7-120 120l0 48c0 52.5 33.7 97.1 80.7 113.4c-.5-3.1-.7-6.2-.7-9.4c0-20 9.2-37.9 23.6-49.7c-4.9-9-7.6-19.4-7.6-30.3c0-15.1 5.3-29 14-40c-8.8-11-14-24.9-14-40l0-40c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40c0 8.8 7.2 16 16 16s16-7.2 16-16l0-40 0-40zM192 64s0 0 0 0c18 0 34.6 6 48 16l208 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-82 0c1.3 5.1 2 10.5 2 16c0 25.3-14.7 47.2-36 57.6c2.6 7 4 14.5 4 22.4c0 20-9.2 37.9-23.6 49.7c4.9 9 7.6 19.4 7.6 30.3c0 35.3-28.7 64-64 64l-64 0-24 0C75.2 448 0 372.8 0 280l0-48C0 139.2 75.2 64 168 64l24 0zm64 336c8.8 0 16-7.2 16-16s-7.2-16-16-16l-48 0-16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l64 0zm16-176c0 5.5-.7 10.9-2 16l2 0 32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0 16zm-24 64l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l48 0 16 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-24 0z\"],\r\n    \"HandPointUp\": [384, 512, [], \"regular\", \"M64 64l0 177.6c5.2-1 10.5-1.6 16-1.6l16 0 0-32L96 64c0-8.8-7.2-16-16-16s-16 7.2-16 16zM80 288c-17.7 0-32 14.3-32 32c0 0 0 0 0 0l0 24c0 66.3 53.7 120 120 120l48 0c52.5 0 97.1-33.7 113.4-80.7c-3.1 .5-6.2 .7-9.4 .7c-20 0-37.9-9.2-49.7-23.6c-9 4.9-19.4 7.6-30.3 7.6c-15.1 0-29-5.3-40-14c-11 8.8-24.9 14-40 14l-40 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l40 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-40 0-40 0zM0 320s0 0 0 0c0-18 6-34.6 16-48L16 64C16 28.7 44.7 0 80 0s64 28.7 64 64l0 82c5.1-1.3 10.5-2 16-2c25.3 0 47.2 14.7 57.6 36c7-2.6 14.5-4 22.4-4c20 0 37.9 9.2 49.7 23.6c9-4.9 19.4-7.6 30.3-7.6c35.3 0 64 28.7 64 64l0 64 0 24c0 92.8-75.2 168-168 168l-48 0C75.2 512 0 436.8 0 344l0-24zm336-64c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 48 0 16c0 8.8 7.2 16 16 16s16-7.2 16-16l0-64zM160 240c5.5 0 10.9 .7 16 2l0-2 0-32c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 32 16 0zm64 24l0 40c0 8.8 7.2 16 16 16s16-7.2 16-16l0-48 0-16c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 24z\"],\r\n    \"HandPointDown\": [384, 512, [], \"regular\", \"M64 448l0-177.6c5.2 1 10.5 1.6 16 1.6l16 0 0 32 0 144c0 8.8-7.2 16-16 16s-16-7.2-16-16zM80 224c-17.7 0-32-14.3-32-32c0 0 0 0 0 0l0-24c0-66.3 53.7-120 120-120l48 0c52.5 0 97.1 33.7 113.4 80.7c-3.1-.5-6.2-.7-9.4-.7c-20 0-37.9 9.2-49.7 23.6c-9-4.9-19.4-7.6-30.3-7.6c-15.1 0-29 5.3-40 14c-11-8.8-24.9-14-40-14l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-40 0-40 0zM0 192s0 0 0 0c0 18 6 34.6 16 48l0 208c0 35.3 28.7 64 64 64s64-28.7 64-64l0-82c5.1 1.3 10.5 2 16 2c25.3 0 47.2-14.7 57.6-36c7 2.6 14.5 4 22.4 4c20 0 37.9-9.2 49.7-23.6c9 4.9 19.4 7.6 30.3 7.6c35.3 0 64-28.7 64-64l0-64 0-24C384 75.2 308.8 0 216 0L168 0C75.2 0 0 75.2 0 168l0 24zm336 64c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-16c0-8.8 7.2-16 16-16s16 7.2 16 16l0 64zM160 272c5.5 0 10.9-.7 16-2l0 2 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-32 16 0zm64-24l0-40c0-8.8 7.2-16 16-16s16 7.2 16 16l0 48 0 16c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-24z\"],\r\n    \"HandPointLeft\": [512, 512, [], \"regular\", \"M64 128l177.6 0c-1 5.2-1.6 10.5-1.6 16l0 16-32 0L64 160c-8.8 0-16-7.2-16-16s7.2-16 16-16zm224 16c0-17.7 14.3-32 32-32c0 0 0 0 0 0l24 0c66.3 0 120 53.7 120 120l0 48c0 52.5-33.7 97.1-80.7 113.4c.5-3.1 .7-6.2 .7-9.4c0-20-9.2-37.9-23.6-49.7c4.9-9 7.6-19.4 7.6-30.3c0-15.1-5.3-29-14-40c8.8-11 14-24.9 14-40l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-40 0-40zm32-80s0 0 0 0c-18 0-34.6 6-48 16L64 80C28.7 80 0 108.7 0 144s28.7 64 64 64l82 0c-1.3 5.1-2 10.5-2 16c0 25.3 14.7 47.2 36 57.6c-2.6 7-4 14.5-4 22.4c0 20 9.2 37.9 23.6 49.7c-4.9 9-7.6 19.4-7.6 30.3c0 35.3 28.7 64 64 64l64 0 24 0c92.8 0 168-75.2 168-168l0-48c0-92.8-75.2-168-168-168l-24 0zM256 400c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 16 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0zM240 224c0 5.5 .7 10.9 2 16l-2 0-32 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l32 0 0 16zm24 64l40 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0-16 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l24 0z\"],\r\n    \"HandScissors\": [512, 512, [], \"regular\", \"M.2 276.3c-1.2-35.3 26.4-65 61.7-66.2l3.3-.1L57 208.1C22.5 200.5 .7 166.3 8.3 131.8S50.2 75.5 84.7 83.2l173 38.3c2.3-2.9 4.7-5.7 7.1-8.5l18.4-20.3C299.9 74.5 323.5 64 348.3 64l10.2 0c54.1 0 104.1 28.7 131.3 75.4l1.5 2.6c13.6 23.2 20.7 49.7 20.7 76.6L512 344c0 66.3-53.7 120-120 120l-8 0-96 0c-35.3 0-64-28.7-64-64c0-2.8 .2-5.6 .5-8.3c-19.4-11-32.5-31.8-32.5-55.7c0-.8 0-1.6 0-2.4L66.4 338c-35.3 1.2-65-26.4-66.2-61.7zm63.4-18.2c-8.8 .3-15.7 7.7-15.4 16.5s7.7 15.7 16.5 15.4l161.5-5.6c9.8-.3 18.7 5.3 22.7 14.2s2.2 19.3-4.5 26.4c-2.8 2.9-4.4 6.7-4.4 11c0 8.8 7.2 16 16 16c9.1 0 17.4 5.1 21.5 13.3s3.2 17.9-2.3 25.1c-2 2.7-3.2 6-3.2 9.6c0 8.8 7.2 16 16 16l96 0 8 0c39.8 0 72-32.2 72-72l0-125.4c0-18.4-4.9-36.5-14.2-52.4l-1.5-2.6c-18.6-32-52.8-51.6-89.8-51.6l-10.2 0c-11.3 0-22 4.8-29.6 13.1l-17.5-15.9 17.5 15.9-18.4 20.3c-.6 .6-1.1 1.3-1.7 1.9l57 13.2c8.6 2 14 10.6 12 19.2s-10.6 14-19.2 12l-85.6-19.7L74.3 130c-8.6-1.9-17.2 3.5-19.1 12.2s3.5 17.2 12.2 19.1l187.5 41.6c10.2 2.3 17.8 10.9 18.7 21.4l.1 1c.6 6.6-1.5 13.1-5.8 18.1s-10.6 7.9-17.2 8.2L63.6 258.1z\"],\r\n    \"HandSpock\": [576, 512, [], \"regular\", \"M170.2 80.8C161 47 180.8 12 214.6 2.4c34-9.6 69.4 10.2 79 44.2l30.3 107.1L337.1 84c6.6-34.7 40.1-57.5 74.8-50.9c31.4 6 53 33.9 52 64.9c10-2.6 20.8-2.8 31.5-.1c34.3 8.6 55.1 43.3 46.6 77.6L486.7 397.2C469.8 464.7 409.2 512 339.6 512l-33.7 0c-56.9 0-112.2-19-157.2-53.9l-92-71.6c-27.9-21.7-32.9-61.9-11.2-89.8s61.9-32.9 89.8-11.2l17 13.2L100.5 167.5c-13-32.9 3.2-70.1 36-83c11.1-4.4 22.7-5.4 33.7-3.7zm77.1-21.2c-2.4-8.5-11.2-13.4-19.7-11s-13.4 11.2-11 19.7l54.8 182.4c3.5 12.3-3.3 25.2-15.4 29.3s-25.3-2-30-13.9L174.9 138.1c-3.2-8.2-12.5-12.3-20.8-9s-12.3 12.5-9 20.8l73.3 185.6c12 30.3-23.7 57-49.4 37l-63.1-49.1c-7-5.4-17-4.2-22.5 2.8s-4.2 17 2.8 22.5l92 71.6c36.5 28.4 81.4 43.8 127.7 43.8l33.7 0c47.5 0 89-32.4 100.5-78.5l55.4-221.6c2.1-8.6-3.1-17.3-11.6-19.4s-17.3 3.1-19.4 11.6l-26 104C435.6 271.8 425 280 413 280c-16.5 0-28.9-15-25.8-31.2L415.7 99c1.7-8.7-4-17.1-12.7-18.7s-17.1 4-18.7 12.7L352.5 260c-2.2 11.6-12.4 20-24.2 20c-11 0-20.7-7.3-23.7-17.9L247.4 59.6z\"],\r\n    \"HandBackFist\": [448, 512, [\"HandRock\"], \"regular\", \"M144 64c0-8.8 7.2-16 16-16s16 7.2 16 16c0 9.1 5.1 17.4 13.3 21.5s17.9 3.2 25.1-2.3c2.7-2 6-3.2 9.6-3.2c8.8 0 16 7.2 16 16c0 9.1 5.1 17.4 13.3 21.5s17.9 3.2 25.1-2.3c2.7-2 6-3.2 9.6-3.2c8.8 0 16 7.2 16 16c0 9.1 5.1 17.4 13.3 21.5s17.9 3.2 25.1-2.3c2.7-2 6-3.2 9.6-3.2c8.8 0 16 7.2 16 16l0 104c0 31.3-20 58-48 67.9c-9.6 3.4-16 12.5-16 22.6L304 488c0 13.3 10.7 24 24 24s24-10.7 24-24l0-117.8c38-20.1 64-60.1 64-106.2l0-104c0-35.3-28.7-64-64-64c-2.8 0-5.6 .2-8.3 .5C332.8 77.1 311.9 64 288 64c-2.8 0-5.6 .2-8.3 .5C268.8 45.1 247.9 32 224 32c-2.8 0-5.6 .2-8.3 .5C204.8 13.1 183.9 0 160 0C124.7 0 96 28.7 96 64l0 64.3c-11.7 7.4-22.5 16.4-32 26.9l17.8 16.1L64 155.2l-9.4 10.5C40 181.8 32 202.8 32 224.6l0 12.8c0 49.6 24.2 96.1 64.8 124.5l13.8-19.7L96.8 361.9l8.9 6.2c6.9 4.8 14.4 8.6 22.3 11.3L128 488c0 13.3 10.7 24 24 24s24-10.7 24-24l0-128.1c0-12.6-9.8-23.1-22.4-23.9c-7.3-.5-14.3-2.9-20.3-7.1l-13.1 18.7 13.1-18.7-8.9-6.2C96.6 303.1 80 271.3 80 237.4l0-12.8c0-9.9 3.7-19.4 10.3-26.8l9.4-10.5c3.8-4.2 7.9-8.1 12.3-11.6l0 32.3c0 8.8 7.2 16 16 16s16-7.2 16-16l0-65.7 0-14.3 0-64z\"],\r\n    \"HandLizard\": [512, 512, [], \"regular\", \"M72 112c-13.3 0-24 10.7-24 24s10.7 24 24 24l168 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-104 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l152 0c4.5 0 8.9 1.3 12.7 3.6l64 40c7 4.4 11.3 12.1 11.3 20.4l0 24c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-10.7L281.1 384 136 384c-39.8 0-72-32.2-72-72s32.2-72 72-72l104 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L72 208c-39.8 0-72-32.2-72-72S32.2 64 72 64l209.6 0c46.7 0 90.9 21.5 119.7 58.3l78.4 100.1c20.9 26.7 32.3 59.7 32.3 93.7L512 424c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-107.9c0-23.2-7.8-45.8-22.1-64.1L363.5 151.9c-19.7-25.2-49.9-39.9-81.9-39.9L72 112z\"],\r\n    \"HandPeace\": [512, 512, [], \"regular\", \"M250.8 1.4c-35.2-3.7-66.6 21.8-70.3 57L174 119 156.7 69.6C145 36.3 108.4 18.8 75.1 30.5S24.2 78.8 35.9 112.1L88.7 262.2C73.5 276.7 64 297.3 64 320c0 0 0 0 0 0l0 24c0 92.8 75.2 168 168 168l48 0c92.8 0 168-75.2 168-168l0-72 0-16 0-32c0-35.3-28.7-64-64-64c-7.9 0-15.4 1.4-22.4 4c-10.4-21.3-32.3-36-57.6-36c-.7 0-1.5 0-2.2 0l5.9-56.3c3.7-35.2-21.8-66.6-57-70.3zm-.2 155.4C243.9 166.9 240 179 240 192l0 48c0 .7 0 1.4 0 2c-5.1-1.3-10.5-2-16-2l-7.4 0-5.4-15.3 17-161.3c.9-8.8 8.8-15.2 17.6-14.2s15.2 8.8 14.2 17.6l-9.5 90.1zM111.4 85.6L165.7 240 144 240c-4 0-8 .3-11.9 .9L81.2 96.2c-2.9-8.3 1.5-17.5 9.8-20.4s17.5 1.5 20.4 9.8zM288 192c0-8.8 7.2-16 16-16s16 7.2 16 16l0 32 0 16c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48zm38.4 108c10.4 21.3 32.3 36 57.6 36c5.5 0 10.9-.7 16-2l0 10c0 66.3-53.7 120-120 120l-48 0c-66.3 0-120-53.7-120-120l0-24s0 0 0 0c0-17.7 14.3-32 32-32l80 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c35.3 0 64-28.7 64-64c0-.7 0-1.4 0-2c5.1 1.3 10.5 2 16 2c7.9 0 15.4-1.4 22.4-4zM400 272c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-32 0-16c0-8.8 7.2-16 16-16s16 7.2 16 16l0 32 0 16z\"],\r\n    \"Html\": [24, 24, [], \"solid\", \"m3 2l1.578 17.824L12 22l7.467-2.175L21 2zm14.049 6.048H9.075l.172 2.016h7.697l-.626 6.565l-4.246 1.381l-4.281-1.455l-.288-2.932h2.024l.16 1.411l2.4.815l2.346-.763l.297-3.005H7.416l-.562-6.05h10.412z\"],\r\n    \"CircleNodes\": [512, 512, [], \"solid\", \"M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z\"],\r\n    \"CircleRight\": [512, 512, [], \"regular\", \"M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 151.2c-4.2-4.6-10.1-7.2-16.4-7.2C266 144 256 154 256 166.3l0 41.7-96 0c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l96 0 0 41.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.4-7.2l84-91c3.5-3.8 5.4-8.7 5.4-13.9s-1.9-10.1-5.4-13.9l-84-91z\"],\r\n    \"CircleUp\": [512, 512, [], \"regular\", \"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM151.2 217.4c-4.6 4.2-7.2 10.1-7.2 16.4c0 12.3 10 22.3 22.3 22.3l41.7 0 0 96c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-96 41.7 0c12.3 0 22.3-10 22.3-22.3c0-6.2-2.6-12.1-7.2-16.4l-91-84c-3.8-3.5-8.7-5.4-13.9-5.4s-10.1 1.9-13.9 5.4l-91 84z\"],\r\n    \"CircleLeft\": [512, 512, [], \"regular\", \"M48 256a208 208 0 1 1 416 0A208 208 0 1 1 48 256zm464 0A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM217.4 376.9c4.2 4.5 10.1 7.1 16.3 7.1c12.3 0 22.3-10 22.3-22.3l0-57.7 96 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-96 0 0-57.7c0-12.3-10-22.3-22.3-22.3c-6.2 0-12.1 2.6-16.3 7.1L117.5 242.2c-3.5 3.8-5.5 8.7-5.5 13.8s2 10.1 5.5 13.8l99.9 107.1z\"],\r\n    \"CircleDown\": [512, 512, [], \"regular\", \"M256 464a208 208 0 1 1 0-416 208 208 0 1 1 0 416zM256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM376.9 294.6c4.5-4.2 7.1-10.1 7.1-16.3c0-12.3-10-22.3-22.3-22.3L304 256l0-96c0-17.7-14.3-32-32-32l-32 0c-17.7 0-32 14.3-32 32l0 96-57.7 0C138 256 128 266 128 278.3c0 6.2 2.6 12.1 7.1 16.3l107.1 99.9c3.8 3.5 8.7 5.5 13.8 5.5s10.1-2 13.8-5.5l107.1-99.9z\"],\r\n    \"WindowRestore\": [512, 512, [], \"solid\", \"M432 48L208 48c-17.7 0-32 14.3-32 32l0 16-48 0 0-16c0-44.2 35.8-80 80-80L432 0c44.2 0 80 35.8 80 80l0 224c0 44.2-35.8 80-80 80l-16 0 0-48 16 0c17.7 0 32-14.3 32-32l0-224c0-17.7-14.3-32-32-32zM48 448c0 8.8 7.2 16 16 16l256 0c8.8 0 16-7.2 16-16l0-192L48 256l0 192zM64 128l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192c0-35.3 28.7-64 64-64z\"],\r\n    \"WindowMaximize\": [512, 512, [], \"solid\", \"M.3 89.5C.1 91.6 0 93.8 0 96L0 224 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-192 0-128c0-35.3-28.7-64-64-64L64 32c-2.2 0-4.4 .1-6.5 .3c-9.2 .9-17.8 3.8-25.5 8.2C21.8 46.5 13.4 55.1 7.7 65.5c-3.9 7.3-6.5 15.4-7.4 24zM48 224l416 0 0 192c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16l0-192z\"],\r\n    \"WindowMinimize\": [512, 512, [], \"solid\", \"M24 432c-13.3 0-24 10.7-24 24s10.7 24 24 24l464 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L24 432z\"],\r\n    \"VrCardboard\": [640, 512, [\"VR\"], \"solid\", \"M576 64L64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l120.4 0c24.2 0 46.4-13.7 57.2-35.4l32-64c8.8-17.5 26.7-28.6 46.3-28.6s37.5 11.1 46.3 28.6l32 64c10.8 21.7 33 35.4 57.2 35.4L576 448c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64zM96 240a64 64 0 1 1 128 0A64 64 0 1 1 96 240zm384-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128z\"],\r\n    \"C\": [32, 32, [], \"solid\", \"M29.86 8c-.224-.385-.532-.724-.871-.921L17.234.292c-.677-.391-1.787-.391-2.464 0L3.015 7.079C2.338 7.47 1.78 8.432 1.78 9.214v13.573c0 .391.14.828.364 1.213.219.385.532.724.871.917l11.749 6.791c.683.391 1.787.391 2.464 0l11.755-6.791c.339-.193.647-.532.871-.917s.359-.823.359-1.213V9.214c.005-.391-.135-.828-.353-1.213zM16 25.479c-5.229 0-9.479-4.249-9.479-9.479S10.77 6.521 16 6.521a9.51 9.51 0 0 1 8.208 4.733l-4.104 2.376A4.76 4.76 0 0 0 16 11.259c-2.615 0-4.74 2.125-4.74 4.74s2.125 4.74 4.74 4.74a4.76 4.76 0 0 0 4.104-2.371l4.104 2.376A9.51 9.51 0 0 1 16 25.479z\", { svgClass: \"stroke-none\" }],\r\n    \"CPlusPlus\": [32, 32, [], \"solid\", \"M29.86 8c-.224-.385-.532-.724-.871-.921L17.234.292c-.677-.391-1.787-.391-2.464 0L3.015 7.079C2.338 7.47 1.78 8.432 1.78 9.214v13.573c0 .391.14.828.364 1.213c.219.385.532.724.871.917l11.749 6.791c.683.391 1.787.391 2.464 0l11.755-6.791c.339-.193.647-.532.871-.917s.359-.823.359-1.213V9.214c.005-.391-.135-.828-.353-1.213zM16 25.479c-5.229 0-9.479-4.249-9.479-9.479S10.77 6.521 16 6.521a9.51 9.51 0 0 1 8.208 4.733l-4.104 2.376A4.76 4.76 0 0 0 16 11.259c-2.615 0-4.74 2.125-4.74 4.74s2.125 4.74 4.74 4.74a4.76 4.76 0 0 0 4.104-2.371l4.104 2.376A9.51 9.51 0 0 1 16 25.477zm9.479-8.952h-1.052v1.052H23.37v-1.052h-1.052v-1.053h1.052v-1.052h1.057v1.052h1.052zm3.948 0h-1.052v1.052h-1.052v-1.052h-1.052v-1.053h1.052v-1.052h1.052v1.052h1.052z\", { svgClass: \"stroke-none\" }],\r\n    \"Css\": [24, 24, [], \"solid\", \"M0 0v20.16A3.84 3.84 0 0 0 3.84 24h16.32A3.84 3.84 0 0 0 24 20.16V3.84A3.84 3.84 0 0 0 20.16 0Zm14.256 13.08c1.56 0 2.28 1.08 2.304 2.64h-1.608c.024-.288-.048-.6-.144-.84c-.096-.192-.288-.264-.552-.264c-.456 0-.696.264-.696.84c-.024.576.288.888.768 1.08c.72.288 1.608.744 1.92 1.296q.432.648.432 1.656c0 1.608-.912 2.592-2.496 2.592c-1.656 0-2.4-1.032-2.424-2.688h1.68c0 .792.264 1.176.792 1.176c.264 0 .456-.072.552-.24c.192-.312.24-1.176-.048-1.512c-.312-.408-.912-.6-1.32-.816q-.828-.396-1.224-.936c-.24-.36-.36-.888-.36-1.536c0-1.44.936-2.472 2.424-2.448m5.4 0c1.584 0 2.304 1.08 2.328 2.64h-1.608c0-.288-.048-.6-.168-.84c-.096-.192-.264-.264-.528-.264c-.48 0-.72.264-.72.84s.288.888.792 1.08c.696.288 1.608.744 1.92 1.296c.264.432.408.984.408 1.656c.024 1.608-.888 2.592-2.472 2.592c-1.68 0-2.424-1.056-2.448-2.688h1.68c0 .744.264 1.176.792 1.176c.264 0 .456-.072.552-.24c.216-.312.264-1.176-.048-1.512c-.288-.408-.888-.6-1.32-.816c-.552-.264-.96-.576-1.2-.936s-.36-.888-.36-1.536c-.024-1.44.912-2.472 2.4-2.448m-11.031.018c.711-.006 1.419.198 1.839.63c.432.432.672 1.128.648 1.992H9.336c.024-.456-.096-.792-.432-.96c-.312-.144-.768-.048-.888.24c-.12.264-.192.576-.168.864v3.504c0 .744.264 1.128.768 1.128a.65.65 0 0 0 .552-.264c.168-.24.192-.552.168-.84h1.776c.096 1.632-.984 2.712-2.568 2.688c-1.536 0-2.496-.864-2.472-2.472v-4.032c0-.816.24-1.44.696-1.848c.432-.408 1.146-.624 1.857-.63\"],\r\n    \"Discord\": [640, 512, [], \"solid\", \"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z\"],\r\n    \"Godot\": [32, 32, [], \"solid\", \"M12.745.917c-1.458.328-2.906.781-4.266 1.464a32 32 0 0 0 .266 3.505c-.526.339-1.078.63-1.568 1.026c-.5.38-1.01.75-1.464 1.198a28 28 0 0 0-2.849-1.651C1.801 7.6.812 8.834-.001 10.214c.609.99 1.25 1.911 1.938 2.792h.016v8.474a.2.2 0 0 1 .047.005l5.198.5a.554.554 0 0 1 .5.521l.161 2.292l4.531.323l.313-2.115a.56.56 0 0 1 .552-.479h5.484a.56.56 0 0 1 .552.479l.313 2.115l4.531-.323l.161-2.292a.554.554 0 0 1 .505-.521l5.193-.5c.016 0 .031-.005.047-.005v-8.474h.021a30 30 0 0 0 1.932-2.792c-.807-1.38-1.802-2.615-2.865-3.755A29 29 0 0 0 26.28 8.11c-.453-.448-.958-.818-1.458-1.198c-.495-.396-1.047-.688-1.573-1.026c.156-1.161.234-2.307.266-3.505c-1.354-.682-2.802-1.135-4.266-1.464A31 31 0 0 0 17.671 4a11 11 0 0 0-1.661-.13h-.026c-.552.005-1.109.042-1.661.13A30 30 0 0 0 12.74.917zm-4.11 12.406a3.134 3.134 0 0 1 3.13 3.135a3.13 3.13 0 1 1-6.26 0a3.134 3.134 0 0 1 3.13-3.135m14.73 0a3.134 3.134 0 0 1 3.13 3.135a3.13 3.13 0 1 1-6.26 0a3.134 3.134 0 0 1 3.13-3.135M8.932 14.568a2.076 2.076 0 1 0 0 4.151a2.077 2.077 0 0 0 2.083-2.073a2.08 2.08 0 0 0-2.083-2.078m14.131 0a2.076 2.076 0 1 0 0 4.151a2.073 2.073 0 0 0 2.078-2.073a2.074 2.074 0 0 0-2.078-2.078M16 15.172c.557 0 1.01.406 1.01.911v2.885c0 .505-.453.917-1.01.917s-1.01-.411-1.01-.917v-2.885c0-.505.453-.911 1.01-.911M1.948 22.599c0 .505.005 1.052.005 1.161c0 4.938 6.26 7.307 14.036 7.333h.021c7.776-.026 14.031-2.396 14.031-7.333l.01-1.161l-4.672.453l-.161 2.307a.556.556 0 0 1-.516.516l-5.578.396a.56.56 0 0 1-.552-.474l-.318-2.156h-4.516l-.318 2.156a.557.557 0 0 1-.594.474l-5.531-.396a.565.565 0 0 1-.521-.516l-.156-2.307l-4.672-.448z\"],\r\n    \"Google\": [488, 512, [], \"solid\", \"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\"],\r\n    \"Go\": [24, 24, [], \"solid\", \"M1.811 10.231c-.047 0-.058-.023-.035-.059l.246-.315c.023-.035.081-.058.128-.058h4.172c.046 0 .058.035.035.07l-.199.303c-.023.036-.082.07-.117.07zM.047 11.306c-.047 0-.059-.023-.035-.058l.245-.316c.023-.035.082-.058.129-.058h5.328c.047 0 .07.035.058.07l-.093.28c-.012.047-.058.07-.105.07zm2.828 1.075c-.047 0-.059-.035-.035-.07l.163-.292c.023-.035.07-.07.117-.07h2.337c.047 0 .07.035.07.082l-.023.28c0 .047-.047.082-.082.082zm12.129-2.36c-.736.187-1.239.327-1.963.514c-.176.046-.187.058-.34-.117c-.174-.199-.303-.327-.548-.444c-.737-.362-1.45-.257-2.115.175c-.795.514-1.204 1.274-1.192 2.22c.011.935.654 1.706 1.577 1.835c.795.105 1.46-.175 1.987-.77c.105-.13.198-.27.315-.434H10.47c-.245 0-.304-.152-.222-.35c.152-.362.432-.97.596-1.274a.32.32 0 0 1 .292-.187h4.253c-.023.316-.023.631-.07.947a5 5 0 0 1-.958 2.29c-.841 1.11-1.94 1.8-3.33 1.986c-1.145.152-2.209-.07-3.143-.77c-.865-.655-1.356-1.52-1.484-2.595c-.152-1.274.222-2.419.993-3.424c.83-1.086 1.928-1.776 3.272-2.02c1.098-.2 2.15-.07 3.096.571c.62.41 1.063.97 1.356 1.648c.07.105.023.164-.117.2m3.868 6.461c-1.064-.024-2.034-.328-2.852-1.029a3.67 3.67 0 0 1-1.262-2.255c-.21-1.32.152-2.489.947-3.529c.853-1.122 1.881-1.706 3.272-1.95c1.192-.21 2.314-.095 3.33.595c.923.63 1.496 1.484 1.648 2.605c.198 1.578-.257 2.863-1.344 3.962c-.771.783-1.718 1.273-2.805 1.495c-.315.06-.63.07-.934.106m2.78-4.72c-.011-.153-.011-.27-.034-.387c-.21-1.157-1.274-1.81-2.384-1.554c-1.087.245-1.788.935-2.045 2.033c-.21.912.234 1.835 1.075 2.21c.643.28 1.285.244 1.905-.07c.923-.48 1.425-1.228 1.484-2.233z\"],\r\n    \"Git\": [32, 32, [], \"solid\", \"M13.172 2.828L11.78 4.22l1.91 1.91l2 2A2.986 2.986 0 0 1 20 10.81a3.25 3.25 0 0 1-.31 1.31l2.06 2a2.68 2.68 0 0 1 3.37.57a2.86 2.86 0 0 1 .88 2.117a3.02 3.02 0 0 1-.856 2.109A2.9 2.9 0 0 1 23 19.81a2.93 2.93 0 0 1-2.13-.87a2.694 2.694 0 0 1-.56-3.38l-2-2.06a3 3 0 0 1-.31.12V20a3 3 0 0 1 1.44 1.09a2.92 2.92 0 0 1 .56 1.72a2.88 2.88 0 0 1-.878 2.128a2.98 2.98 0 0 1-2.048.871a2.981 2.981 0 0 1-2.514-4.719A3 3 0 0 1 16 20v-6.38a2.96 2.96 0 0 1-1.44-1.09a2.9 2.9 0 0 1-.56-1.72a2.9 2.9 0 0 1 .31-1.31l-3.9-3.9l-7.579 7.572a4 4 0 0 0-.001 5.658l10.342 10.342a4 4 0 0 0 5.656 0l10.344-10.344a4 4 0 0 0 0-5.656L18.828 2.828a4 4 0 0 0-5.656 0\"],\r\n    \"Json\": [32, 32, [], \"solid\", \"M4.014 14.976a2.5 2.5 0 0 0 1.567-.518a2.38 2.38 0 0 0 .805-1.358a15.3 15.3 0 0 0 .214-2.944q.012-2.085.075-2.747a5.2 5.2 0 0 1 .418-1.686a3 3 0 0 1 .755-1.018A3.05 3.05 0 0 1 9 4.125A6.8 6.8 0 0 1 10.544 4h.7v1.96h-.387a2.34 2.34 0 0 0-1.723.468a3.4 3.4 0 0 0-.425 2.092a36 36 0 0 1-.137 4.133a4.7 4.7 0 0 1-.768 2.06A4.6 4.6 0 0 1 6.1 16a3.8 3.8 0 0 1 1.992 1.754a8.9 8.9 0 0 1 .618 3.865q0 2.435.05 2.9a1.76 1.76 0 0 0 .504 1.181a2.64 2.64 0 0 0 1.592.337h.387V28h-.7a5.7 5.7 0 0 1-1.773-.2a2.97 2.97 0 0 1-1.324-.93a3.35 3.35 0 0 1-.681-1.63a24 24 0 0 1-.165-3.234a16.5 16.5 0 0 0-.214-3.106a2.4 2.4 0 0 0-.805-1.361a2.5 2.5 0 0 0-1.567-.524Zm23.972 2.035a2.5 2.5 0 0 0-1.567.524a2.4 2.4 0 0 0-.805 1.361a16.5 16.5 0 0 0-.212 3.109a24 24 0 0 1-.169 3.234a3.35 3.35 0 0 1-.681 1.63a2.97 2.97 0 0 1-1.324.93a5.7 5.7 0 0 1-1.773.2h-.7V26.04h.387a2.64 2.64 0 0 0 1.592-.337a1.76 1.76 0 0 0 .506-1.186q.05-.462.05-2.9a8.9 8.9 0 0 1 .618-3.865A3.8 3.8 0 0 1 25.9 16a4.6 4.6 0 0 1-1.7-1.286a4.7 4.7 0 0 1-.768-2.06a36 36 0 0 1-.137-4.133a3.4 3.4 0 0 0-.425-2.092a2.34 2.34 0 0 0-1.723-.468h-.387V4h.7a6.8 6.8 0 0 1 1.54.125a3.05 3.05 0 0 1 1.149.581a3 3 0 0 1 .755 1.018a5.2 5.2 0 0 1 .418 1.686q.062.662.075 2.747a15.3 15.3 0 0 0 .212 2.947a2.38 2.38 0 0 0 .805 1.355a2.5 2.5 0 0 0 1.567.518Z\"],\r\n    \"Js\": [32, 32, [], \"solid\", \"M18.774 19.7a3.73 3.73 0 0 0 3.376 2.078c1.418 0 2.324-.709 2.324-1.688c0-1.173-.931-1.589-2.491-2.272l-.856-.367c-2.469-1.052-4.11-2.37-4.11-5.156c0-2.567 1.956-4.52 5.012-4.52A5.06 5.06 0 0 1 26.9 10.52l-2.665 1.711a2.33 2.33 0 0 0-2.2-1.467a1.49 1.49 0 0 0-1.638 1.467c0 1.027.636 1.442 2.1 2.078l.856.366c2.908 1.247 4.549 2.518 4.549 5.376c0 3.081-2.42 4.769-5.671 4.769a6.58 6.58 0 0 1-6.236-3.5ZM6.686 20c.538.954 1.027 1.76 2.2 1.76c1.124 0 1.834-.44 1.834-2.15V7.975h3.422v11.683c0 3.543-2.078 5.156-5.11 5.156A5.31 5.31 0 0 1 3.9 21.688Z\"],\r\n    \"Ts\": [32, 32, [], \"solid\", \"M23.827 8.243a4.4 4.4 0 0 1 2.223 1.281a6 6 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662c-.034.023-.169-.124-.322-.35a2.01 2.01 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383c2.544 1.095 3.636 1.817 4.31 2.843a5.16 5.16 0 0 1 .416 4.333a4.76 4.76 0 0 1-3.932 2.815a11 11 0 0 1-2.708-.028a6.53 6.53 0 0 1-3.616-1.884a6.3 6.3 0 0 1-.926-1.371a3 3 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6l.214.312a4.8 4.8 0 0 0 1.35 1.292a3.3 3.3 0 0 0 3.458-.175a1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055a4.7 4.7 0 0 1-.976-1.777a7.1 7.1 0 0 1-.062-2.268a4.33 4.33 0 0 1 3.644-3.374a9 9 0 0 1 2.691.084m-8.343 1.483l.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a14 14 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z\"],\r\n    \"Linux\": [448, 512, [], \"regular\", \"M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z\"],\r\n    \"SquareJs\": [448, 512, [], \"solid\", \"M448 96c0-35.3-28.7-64-64-64H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96zM180.9 444.9c-33.7 0-53.2-17.4-63.2-38.5L152 385.7c6.6 11.7 12.6 21.6 27.1 21.6c13.8 0 22.6-5.4 22.6-26.5V237.7h42.1V381.4c0 43.6-25.6 63.5-62.9 63.5zm85.8-43L301 382.1c9 14.7 20.8 25.6 41.5 25.6c17.4 0 28.6-8.7 28.6-20.8c0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5c0-31.6 24.1-55.6 61.6-55.6c26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18c-12.3 0-20.1 7.8-20.1 18c0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2c0 37.8-29.8 58.6-69.7 58.6c-39.1 0-64.4-18.6-76.7-43z\"],\r\n    \"Safari\": [512, 512, [], \"solid\", \"M274.69,274.69l-37.38-37.38L166,346ZM256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8ZM411.85,182.79l14.78-6.13A8,8,0,0,1,437.08,181h0a8,8,0,0,1-4.33,10.46L418,197.57a8,8,0,0,1-10.45-4.33h0A8,8,0,0,1,411.85,182.79ZM314.43,94l6.12-14.78A8,8,0,0,1,331,74.92h0a8,8,0,0,1,4.33,10.45l-6.13,14.78a8,8,0,0,1-10.45,4.33h0A8,8,0,0,1,314.43,94ZM256,60h0a8,8,0,0,1,8,8V84a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V68A8,8,0,0,1,256,60ZM181,74.92a8,8,0,0,1,10.46,4.33L197.57,94a8,8,0,1,1-14.78,6.12l-6.13-14.78A8,8,0,0,1,181,74.92Zm-63.58,42.49h0a8,8,0,0,1,11.31,0L140,128.72A8,8,0,0,1,140,140h0a8,8,0,0,1-11.31,0l-11.31-11.31A8,8,0,0,1,117.41,117.41ZM60,256h0a8,8,0,0,1,8-8H84a8,8,0,0,1,8,8h0a8,8,0,0,1-8,8H68A8,8,0,0,1,60,256Zm40.15,73.21-14.78,6.13A8,8,0,0,1,74.92,331h0a8,8,0,0,1,4.33-10.46L94,314.43a8,8,0,0,1,10.45,4.33h0A8,8,0,0,1,100.15,329.21Zm4.33-136h0A8,8,0,0,1,94,197.57l-14.78-6.12A8,8,0,0,1,74.92,181h0a8,8,0,0,1,10.45-4.33l14.78,6.13A8,8,0,0,1,104.48,193.24ZM197.57,418l-6.12,14.78a8,8,0,0,1-14.79-6.12l6.13-14.78A8,8,0,1,1,197.57,418ZM264,444a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V428a8,8,0,0,1,8-8h0a8,8,0,0,1,8,8Zm67-6.92h0a8,8,0,0,1-10.46-4.33L314.43,418a8,8,0,0,1,4.33-10.45h0a8,8,0,0,1,10.45,4.33l6.13,14.78A8,8,0,0,1,331,437.08Zm63.58-42.49h0a8,8,0,0,1-11.31,0L372,383.28A8,8,0,0,1,372,372h0a8,8,0,0,1,11.31,0l11.31,11.31A8,8,0,0,1,394.59,394.59ZM286.25,286.25,110.34,401.66,225.75,225.75,401.66,110.34ZM437.08,331h0a8,8,0,0,1-10.45,4.33l-14.78-6.13a8,8,0,0,1-4.33-10.45h0A8,8,0,0,1,418,314.43l14.78,6.12A8,8,0,0,1,437.08,331ZM444,264H428a8,8,0,0,1-8-8h0a8,8,0,0,1,8-8h16a8,8,0,0,1,8,8h0A8,8,0,0,1,444,264Z\"],\r\n    \"Php\": [512, 512, [], \"solid\", \"M170.322 349.808c-2.4-15.66-9-28.38-25.02-34.531c-6.27-2.4-11.7-6.78-17.88-9.54c-7.02-3.15-14.16-6.15-21.57-8.1c-5.61-1.5-10.83 1.02-14.16 5.94c-3.15 4.62-.87 8.97 1.77 12.84c2.97 4.35 6.27 8.49 9.6 12.57c5.52 6.78 11.37 13.29 16.74 20.161c5.13 6.57 9.51 13.86 8.76 22.56c-1.65 19.08-10.29 34.891-24.21 47.76c-1.53 1.38-4.23 2.37-6.21 2.19c-8.88-.96-16.95-4.32-23.46-10.53c-7.47-7.11-6.33-15.48 2.61-20.67c2.13-1.23 4.35-2.37 6.3-3.87c5.46-4.11 7.29-11.13 4.32-17.22c-1.41-2.94-3-6.12-5.34-8.25c-11.43-10.41-22.651-21.151-34.891-30.63C18.01 307.447 2.771 276.968.43 240.067c-2.64-40.981 6.87-79.231 28.5-114.242c8.19-13.29 17.73-25.951 32.37-32.52c9.96-4.47 20.88-6.99 31.531-9.78c29.311-7.71 58.89-13.5 89.401-8.34c26.28 4.41 45.511 17.94 54.331 43.77c5.79 16.89 7.17 34.35 5.37 52.231c-3.54 35.131-29.49 66.541-63.331 75.841c-14.67 4.02-22.68 1.77-31.5-10.44c-6.33-8.79-11.58-18.36-17.25-27.631c-.84-1.38-1.44-2.97-2.16-4.44c-.69-1.47-1.44-2.88-2.16-4.35c2.13 15.24 5.67 29.911 13.98 42.99c4.5 7.11 10.5 12.36 19.29 13.14c32.34 2.91 59.641-7.71 79.021-33.721c21.69-29.101 26.461-62.581 20.19-97.831c-1.23-6.96-3.3-13.77-4.77-20.7c-.99-4.47.78-7.77 5.19-9.33c2.04-.69 4.14-1.26 6.18-1.68c26.461-5.7 53.221-7.59 80.191-4.86c30.601 3.06 59.551 11.46 85.441 28.471c40.531 26.67 65.641 64.621 79.291 110.522c1.98 6.66 2.28 13.95 2.46 20.971c.12 4.68-2.88 5.91-6.45 2.97c-3.93-3.21-7.53-6.87-10.92-10.65c-3.15-3.57-5.67-7.65-8.73-11.4c-2.37-2.94-4.44-2.49-5.58 1.17c-.72 2.22-1.35 4.41-1.98 6.63c-7.08 25.26-18.24 48.3-36.33 67.711c-2.52 2.73-4.77 6.78-5.07 10.38c-.78 9.96-1.35 20.13-.39 30.06c1.98 21.331 5.07 42.57 7.47 63.871c1.35 12.03-2.52 19.11-13.83 23.281c-7.95 2.91-16.47 5.04-24.87 5.64c-13.38.93-26.88.27-40.32.27c-.36-15 .93-29.731-13.17-37.771c2.73-11.13 5.88-21.69 7.77-32.49c1.56-8.97.24-17.79-6.06-25.14c-5.91-6.93-13.32-8.82-20.101-4.86c-20.43 11.91-41.671 11.97-63.301 4.17c-9.93-3.6-16.86-1.56-22.351 7.5c-5.91 9.75-8.4 20.7-7.74 31.771c.84 13.95 3.27 27.75 5.13 41.64c1.02 7.77.15 9.78-7.56 11.76c-17.13 4.35-34.56 4.83-52.081 3.42c-.93-.09-1.86-.48-2.46-.63c-.87-14.55.66-29.671-16.68-37.411c7.68-16.29 6.63-33.18 3.99-50.07l-.06-.15zm-103.561-57.09c2.55-2.4 4.59-6.15 5.31-9.6c1.8-8.64-4.68-20.22-12.18-23.43c-3.99-1.74-7.47-1.11-10.29 2.07c-6.87 7.77-13.65 15.63-20.401 23.521c-1.14 1.35-2.16 2.94-2.97 4.53c-2.7 5.19-1.11 8.97 4.65 10.38c3.48.87 7.08 1.05 10.65 1.56c9.3-.9 18.3-2.46 25.23-9zm.78-86.371c-.03-6.18-5.19-11.34-11.28-11.37c-6.27-.03-11.67 5.58-11.46 11.76c.27 6.21 5.43 11.19 11.61 11.07c6.24-.09 11.22-5.19 11.16-11.43z\"],\r\n    \"Python\": [448, 512, [], \"solid\", \"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z\"],\r\n    \"Markdown\": [32, 32, [], \"solid\", \"m14 10l-4 3.5L6 10H4v12h4v-6l2 2l2-2v6h4V10zm12 6v-6h-4v6h-4l6 8l6-8z\"],\r\n    \"Microsoft\": [448, 512, [], \"solid\", \"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z\"],\r\n    \"Npm\": [576, 512, [], \"solid\", \"M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z\"],\r\n    \"Reddit\": [512, 512, [], \"solid\", \"M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z\"],\r\n    \"Rust\": [512, 512, [], \"solid\", \"M508.52,249.75,486.7,236.24c-.17-2-.34-3.93-.55-5.88l18.72-17.5a7.35,7.35,0,0,0-2.44-12.25l-24-9c-.54-1.88-1.08-3.78-1.67-5.64l15-20.83a7.35,7.35,0,0,0-4.79-11.54l-25.42-4.15c-.9-1.73-1.79-3.45-2.73-5.15l10.68-23.42a7.35,7.35,0,0,0-6.95-10.39l-25.82.91q-1.79-2.22-3.61-4.4L439,81.84A7.36,7.36,0,0,0,430.16,73L405,78.93q-2.17-1.83-4.4-3.61l.91-25.82a7.35,7.35,0,0,0-10.39-7L367.7,53.23c-1.7-.94-3.43-1.84-5.15-2.73L358.4,25.08a7.35,7.35,0,0,0-11.54-4.79L326,35.26c-1.86-.59-3.75-1.13-5.64-1.67l-9-24a7.35,7.35,0,0,0-12.25-2.44l-17.5,18.72c-1.95-.21-3.91-.38-5.88-.55L262.25,3.48a7.35,7.35,0,0,0-12.5,0L236.24,25.3c-2,.17-3.93.34-5.88.55L212.86,7.13a7.35,7.35,0,0,0-12.25,2.44l-9,24c-1.89.55-3.79,1.08-5.66,1.68l-20.82-15a7.35,7.35,0,0,0-11.54,4.79l-4.15,25.41c-1.73.9-3.45,1.79-5.16,2.73L120.88,42.55a7.35,7.35,0,0,0-10.39,7l.92,25.81c-1.49,1.19-3,2.39-4.42,3.61L81.84,73A7.36,7.36,0,0,0,73,81.84L78.93,107c-1.23,1.45-2.43,2.93-3.62,4.41l-25.81-.91a7.42,7.42,0,0,0-6.37,3.26,7.35,7.35,0,0,0-.57,7.13l10.66,23.41c-.94,1.7-1.83,3.43-2.73,5.16L25.08,153.6a7.35,7.35,0,0,0-4.79,11.54l15,20.82c-.59,1.87-1.13,3.77-1.68,5.66l-24,9a7.35,7.35,0,0,0-2.44,12.25l18.72,17.5c-.21,1.95-.38,3.91-.55,5.88L3.48,249.75a7.35,7.35,0,0,0,0,12.5L25.3,275.76c.17,2,.34,3.92.55,5.87L7.13,299.13a7.35,7.35,0,0,0,2.44,12.25l24,9c.55,1.89,1.08,3.78,1.68,5.65l-15,20.83a7.35,7.35,0,0,0,4.79,11.54l25.42,4.15c.9,1.72,1.79,3.45,2.73,5.14L42.56,391.12a7.35,7.35,0,0,0,.57,7.13,7.13,7.13,0,0,0,6.37,3.26l25.83-.91q1.77,2.22,3.6,4.4L73,430.16A7.36,7.36,0,0,0,81.84,439L107,433.07q2.18,1.83,4.41,3.61l-.92,25.82a7.35,7.35,0,0,0,10.39,6.95l23.43-10.68c1.69.94,3.42,1.83,5.14,2.73l4.15,25.42a7.34,7.34,0,0,0,11.54,4.78l20.83-15c1.86.6,3.76,1.13,5.65,1.68l9,24a7.36,7.36,0,0,0,12.25,2.44l17.5-18.72c1.95.21,3.92.38,5.88.55l13.51,21.82a7.35,7.35,0,0,0,12.5,0l13.51-21.82c2-.17,3.93-.34,5.88-.56l17.5,18.73a7.36,7.36,0,0,0,12.25-2.44l9-24c1.89-.55,3.78-1.08,5.65-1.68l20.82,15a7.34,7.34,0,0,0,11.54-4.78l4.15-25.42c1.72-.9,3.45-1.79,5.15-2.73l23.42,10.68a7.35,7.35,0,0,0,10.39-6.95l-.91-25.82q2.22-1.79,4.4-3.61L430.16,439a7.36,7.36,0,0,0,8.84-8.84L433.07,405q1.83-2.17,3.61-4.4l25.82.91a7.23,7.23,0,0,0,6.37-3.26,7.35,7.35,0,0,0,.58-7.13L458.77,367.7c.94-1.7,1.83-3.43,2.73-5.15l25.42-4.15a7.35,7.35,0,0,0,4.79-11.54l-15-20.83c.59-1.87,1.13-3.76,1.67-5.65l24-9a7.35,7.35,0,0,0,2.44-12.25l-18.72-17.5c.21-1.95.38-3.91.55-5.87l21.82-13.51a7.35,7.35,0,0,0,0-12.5Zm-151,129.08A13.91,13.91,0,0,0,341,389.51l-7.64,35.67A187.51,187.51,0,0,1,177,424.44l-7.64-35.66a13.87,13.87,0,0,0-16.46-10.68l-31.51,6.76a187.38,187.38,0,0,1-16.26-19.21H258.3c1.72,0,2.89-.29,2.89-1.91V309.55c0-1.57-1.17-1.91-2.89-1.91H213.47l.05-34.35H262c4.41,0,23.66,1.28,29.79,25.87,1.91,7.55,6.17,32.14,9.06,40,2.89,8.82,14.6,26.46,27.1,26.46H407a187.3,187.3,0,0,1-17.34,20.09Zm25.77,34.49A15.24,15.24,0,1,1,368,398.08h.44A15.23,15.23,0,0,1,383.24,413.32Zm-225.62-.68a15.24,15.24,0,1,1-15.25-15.25h.45A15.25,15.25,0,0,1,157.62,412.64ZM69.57,234.15l32.83-14.6a13.88,13.88,0,0,0,7.06-18.33L102.69,186h26.56V305.73H75.65A187.65,187.65,0,0,1,69.57,234.15ZM58.31,198.09a15.24,15.24,0,0,1,15.23-15.25H74a15.24,15.24,0,1,1-15.67,15.24Zm155.16,24.49.05-35.32h63.26c3.28,0,23.07,3.77,23.07,18.62,0,12.29-15.19,16.7-27.68,16.7ZM399,306.71c-9.8,1.13-20.63-4.12-22-10.09-5.78-32.49-15.39-39.4-30.57-51.4,18.86-11.95,38.46-29.64,38.46-53.26,0-25.52-17.49-41.59-29.4-49.48-16.76-11-35.28-13.23-40.27-13.23H116.32A187.49,187.49,0,0,1,221.21,70.06l23.47,24.6a13.82,13.82,0,0,0,19.6.44l26.26-25a187.51,187.51,0,0,1,128.37,91.43l-18,40.57A14,14,0,0,0,408,220.43l34.59,15.33a187.12,187.12,0,0,1,.4,32.54H423.71c-1.91,0-2.69,1.27-2.69,3.13v8.82C421,301,409.31,305.58,399,306.71ZM240,60.21A15.24,15.24,0,0,1,255.21,45h.45A15.24,15.24,0,1,1,240,60.21ZM436.84,214a15.24,15.24,0,1,1,0-30.48h.44a15.24,15.24,0,0,1-.44,30.48Z\"],\r\n    \"Unity\": [16, 16, [], \"solid\", \"M8 6.5L5 5l2-1V2L2 5v5l2-1V6.5L7 8v4.5L4 11l-2 1l6 3l6-3l-2-1l-3 1.5V8l3-1.5V9l2 1V5L9 2v2l2 1Z\"],\r\n    \"UnrealEngine\": [24, 24, [], \"regular\", \"M12 0a12 12 0 1 0 12 12A12 12 0 0 0 12 0m0 23.52A11.52 11.52 0 1 1 23.52 12A11.52 11.52 0 0 1 12 23.52m7.13-9.791c-.206.997-1.126 3.557-4.06 4.942l-1.179-1.325l-1.988 2a7.34 7.34 0 0 1-5.804-2.978a3 3 0 0 0 .65.123c.326.006.678-.114.678-.66v-5.394a.89.89 0 0 0-1.116-.89c-.92.212-1.656 2.509-1.656 2.509a7.3 7.3 0 0 1 2.528-5.597a7.4 7.4 0 0 1 3.73-1.721c-1.006.573-1.57 1.507-1.57 2.29c0 1.262.76 1.109.984.923v7.28a1.2 1.2 0 0 0 .148.256a1.08 1.08 0 0 0 .88.445c.76 0 1.747-.868 1.747-.868V9.172c0-.6-.452-1.324-.905-1.572c0 0 .838-.149 1.484.346a6 6 0 0 1 .387-.425c1.508-1.48 2.929-1.902 4.112-2.112c0 0-2.151 1.69-2.151 3.96c0 1.687.043 5.801.043 5.801c.799.771 1.986-.342 3.059-1.441Z\"],\r\n    \"UnrealEngine@solid\": [24, 24, [], \"solid\", \"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1S1 5.925 1 12s4.925 11 11 11m-8.442-9.416c.718-2.333 2.53-6.86 7.27-8.584v10.23c.179.18.645.54 1.076.54c.67 0 1.615-.54 1.615-.54V8.77c.555-1.16 3.123-3.232 4.847-3.232c-1.044 1.204-1.532 1.91-2.154 3.231v6.462c.718.18 2.154 0 3.23-1.077c-.87 1.98-3.23 4.308-4.307 4.308l-1.616-1.077L11.904 19c-1.615 0-4.308-1.077-5.385-2.692h1.616v-6.17c-1.96-.268-2.857.973-4.577 3.446\"],\r\n    \"Ubuntu\": [576, 512, [], \"solid\", \"M469.2 75A75.6 75.6 0 1 0 317.9 75a75.6 75.6 0 1 0 151.2 0zM154.2 240.7A75.6 75.6 0 1 0 3 240.7a75.6 75.6 0 1 0 151.2 0zM57 346C75.6 392.9 108 433 150 461.1s91.5 42.6 142 41.7c-14.7-18.6-22.9-41.5-23.2-65.2c-6.8-.9-13.3-2.1-19.5-3.4c-26.8-5.7-51.9-17.3-73.6-34s-39.3-38.1-51.7-62.5c-20.9 9.9-44.5 12.8-67.1 8.2zm395.1 89.8a75.6 75.6 0 1 0 -151.2 0 75.6 75.6 0 1 0 151.2 0zM444 351.6c18.5 14.8 31.6 35.2 37.2 58.2c33.3-41.3 52.6-92.2 54.8-145.2s-12.5-105.4-42.2-149.4c-8.6 21.5-24 39.6-43.8 51.6c15.4 28.6 22.9 60.8 21.9 93.2s-10.7 64-28 91.6zM101.1 135.4c12.4 2.7 24.3 7.5 35.1 14.3c16.6-24.2 38.9-44.1 64.8-58S255.8 70.4 285.2 70c.2-5.9 .9-11.9 2-17.7c3.6-16.7 11.1-32.3 21.8-45.5c-47.7-3.8-95.4 6-137.6 28.5S94.3 91.7 70.8 133.4c2.7-.2 5.3-.3 8-.3c7.5 0 15 .8 22.4 2.3z\"],\r\n    \"VsCode\": [16, 16, [], \"solid\", \"M11.5 11.19V4.8L7.3 7.99M1.17 6.07a.6.6 0 0 1-.01-.81L2 4.48c.14-.13.48-.18.73 0l2.39 1.83l5.55-5.09c.22-.22.61-.32 1.05-.08l2.8 1.34c.25.15.49.38.49.81v9.49c0 .28-.2.58-.42.7l-3.08 1.48c-.22.09-.64 0-.79-.14L5.11 9.69l-2.38 1.83c-.27.18-.6.13-.74 0l-.84-.77c-.22-.23-.2-.61.04-.84l2.1-1.9\"],\r\n    \"Windows\": [448, 512, [], \"solid\", \"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z\"],\r\n    \"Whatsapp\": [448, 512, [], \"regular\", \"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z\"],\r\n    \"X-Twitter\": [512, 512, [], \"regular\", \"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z\"],\r\n    // Internals Override\r\n    \"Keyboard\": [576, 512, [], \"regular\", \"M64 112c-8.8 0-16 7.2-16 16l0 256c0 8.8 7.2 16 16 16l448 0c8.8 0 16-7.2 16-16l0-256c0-8.8-7.2-16-16-16L64 112zM0 128C0 92.7 28.7 64 64 64l448 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM176 320l224 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-224 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16zm-72-72c0-8.8 7.2-16 16-16l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16zm16-96l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16zm64 96c0-8.8 7.2-16 16-16l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16zm16-96l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16zm64 96c0-8.8 7.2-16 16-16l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16zm16-96l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16zm64 96c0-8.8 7.2-16 16-16l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16zm16-96l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16zm64 96c0-8.8 7.2-16 16-16l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16zm16-96l16 0c8.8 0 16 7.2 16 16l0 16c0 8.8-7.2 16-16 16l-16 0c-8.8 0-16-7.2-16-16l0-16c0-8.8 7.2-16 16-16z\"],\r\n    \"IdCard\": [576, 512, [], \"regular\", \"M528 160l0 256c0 8.8-7.2 16-16 16l-192 0c0-44.2-35.8-80-80-80l-64 0c-44.2 0-80 35.8-80 80l-32 0c-8.8 0-16-7.2-16-16l0-256 480 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM272 256a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zm104-48c-13.3 0-24 10.7-24 24s10.7 24 24 24l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0z\"],\r\n    \"BookUser\": [576, 512, [], \"regular\", \"M512 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l448 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM208 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128zm-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16l192 0c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80l-64 0zM376 144c-13.3 0-24 10.7-24 24s10.7 24 24 24l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0z\"],\r\n    \"Copy\": [448, 512, [], \"regular\", \"M384 336l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L400 115.9 400 320c0 8.8-7.2 16-16 16zM192 384l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1L192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-32-48 0 0 32c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l32 0 0-48-32 0z\"],\r\n    \"Eye\": [576, 512, [], \"regular\", \"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z\"],\r\n    \"EyeOff\": [640, 512, [], \"regular\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z\"],\r\n    \"StickyNote\": [448, 512, [], \"regular\", \"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l224 0 0-80c0-17.7 14.3-32 32-32l80 0 0-224c0-8.8-7.2-16-16-16L64 80zM288 480L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 224 0 5.5c0 17-6.7 33.3-18.7 45.3l-90.5 90.5c-12 12-28.3 18.7-45.3 18.7l-5.5 0z\"],\r\n    \"CreditCard\": [576, 512, [], \"regular\", \"M512 80c8.8 0 16 7.2 16 16l0 32L48 128l0-32c0-8.8 7.2-16 16-16l448 0zm16 144l0 192c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16l0-192 480 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z\"],\r\n    \"Hourglass\": [384, 512, [], \"regular\", \"M24 0C10.7 0 0 10.7 0 24S10.7 48 24 48l8 0 0 19c0 40.3 16 79 44.5 107.5L158.1 256 76.5 337.5C48 366 32 404.7 32 445l0 19-8 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l336 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-8 0 0-19c0-40.3-16-79-44.5-107.5L225.9 256l81.5-81.5C336 146 352 107.3 352 67l0-19 8 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L24 0zM192 289.9l81.5 81.5C293 391 304 417.4 304 445l0 19L80 464l0-19c0-27.6 11-54 30.5-73.5L192 289.9zm0-67.9l-81.5-81.5C91 121 80 94.6 80 67l0-19 224 0 0 19c0 27.6-11 54-30.5 73.5L192 222.1z\"],\r\n    // Solid Variants\r\n    \"Bell\": [448, 512, [], \"solid\", \"M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z\"],\r\n    \"BellOff\": [640, 512, [], \"solid\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7l-90.2-70.7c.2-.4 .4-.9 .6-1.3c5.2-11.5 3.1-25-5.3-34.4l-7.4-8.3C497.3 319.2 480 273.9 480 226.8l0-18.8c0-77.4-55-142-128-156.8L352 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 19.2c-42.6 8.6-79 34.2-102 69.3L38.8 5.1zM406.2 416L160 222.1l0 4.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S115.4 416 128 416l278.2 0zm-40.9 77.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z\"],\r\n    \"Compass\": [512, 512, [], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm50.7-186.9L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"],\r\n    \"File\": [384, 512, [], \"solid\", \"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z\"],\r\n    \"MessageCircle\": [512, 512, [], \"solid\", \"M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z\"],\r\n    \"Inbox\": [512, 512, [], \"solid\", \"M121 32C91.6 32 66 52 58.9 80.5L1.9 308.4C.6 313.5 0 318.7 0 323.9L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-92.1c0-5.2-.6-10.4-1.9-15.5l-57-227.9C446 52 420.4 32 391 32L121 32zm0 64l270 0 48 192-51.2 0c-12.1 0-23.2 6.8-28.6 17.7l-14.3 28.6c-5.4 10.8-16.5 17.7-28.6 17.7l-120.4 0c-12.1 0-23.2-6.8-28.6-17.7l-14.3-28.6c-5.4-10.8-16.5-17.7-28.6-17.7L73 288 121 96z\"],\r\n    \"Mail\": [512, 512, [], \"solid\", \"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z\"],\r\n    \"MailOpen\": [512, 512, [], \"solid\", \"M64 208.1L256 65.9 448 208.1l0 47.4L289.5 373c-9.7 7.2-21.4 11-33.5 11s-23.8-3.9-33.5-11L64 255.5l0-47.4zM256 0c-12.1 0-23.8 3.9-33.5 11L25.9 156.7C9.6 168.8 0 187.8 0 208.1L0 448c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-239.9c0-20.3-9.6-39.4-25.9-51.4L289.5 11C279.8 3.9 268.1 0 256 0z\"],\r\n    \"Mic\": [384, 512, [], \"solid\", \"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z\"],\r\n    \"MicOff\": [640, 512, [], \"solid\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 21.2-5.1 41.1-14.2 58.7L416 300.8 416 96c0-53-43-96-96-96s-96 43-96 96l0 54.3L38.8 5.1zM344 430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128l0-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6z\"],\r\n    \"Link\": [640, 512, [\"Chain\"], \"solid\", \"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\"],\r\n    \"House\": [576, 512, [], \"solid\", \"M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z\"],\r\n    \"Gamepad\": [640, 512, [], \"solid\", \"M192 64C86 64 0 150 0 256S86 448 192 448l256 0c106 0 192-86 192-192s-86-192-192-192L192 64zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24l0 32 32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-32-32 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l32 0 0-32z\"],\r\n    \"Camera\": [512, 512, [], \"solid\", \"M149.1 64.8L138.7 96 64 96C28.7 96 0 124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-74.7 0L362.9 64.8C356.4 45.2 338.1 32 317.4 32L194.6 32c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"],\r\n    \"Printer\": [512, 512, [], \"solid\", \"M128 0C92.7 0 64 28.7 64 64l0 96 64 0 0-96 226.7 0L384 93.3l0 66.7 64 0 0-66.7c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0L128 0zM384 352l0 32 0 64-256 0 0-64 0-16 0-16 256 0zm64 32l32 0c17.7 0 32-14.3 32-32l0-96c0-35.3-28.7-64-64-64L64 192c-35.3 0-64 28.7-64 64l0 96c0 17.7 14.3 32 32 32l32 0 0 64c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-64zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"],\r\n    \"Server\": [512, 512, [], \"solid\", \"M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z\"],\r\n    \"Calendar\": [448, 512, [], \"solid\", \"M96 32l0 32L48 64C21.5 64 0 85.5 0 112l0 48 448 0 0-48c0-26.5-21.5-48-48-48l-48 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L160 64l0-32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192L0 192 0 464c0 26.5 21.5 48 48 48l352 0c26.5 0 48-21.5 48-48l0-272z\"],\r\n    \"Pipette\": [512, 512, [], \"solid\", \"M341.6 29.2L240.1 130.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L482.8 170.4c39-39 39-102.2 0-141.1s-102.2-39-141.1 0zM55.4 323.3c-15 15-23.4 35.4-23.4 56.6l0 42.4L5.4 462.2c-8.5 12.7-6.8 29.6 4 40.4s27.7 12.5 40.4 4L89.7 480l42.4 0c21.2 0 41.6-8.4 56.6-23.4L309.4 335.9l-45.3-45.3L143.4 411.3c-3 3-7.1 4.7-11.3 4.7L96 416l0-36.1c0-4.2 1.7-8.3 4.7-11.3L221.4 247.9l-45.3-45.3L55.4 323.3z\"],\r\n    \"Scroll\": [576, 512, [], \"solid\", \"M0 80l0 48c0 17.7 14.3 32 32 32l16 0 48 0 0-80c0-26.5-21.5-48-48-48S0 53.5 0 80zM112 32c10 13.4 16 30 16 48l0 304c0 35.3 28.7 64 64 64s64-28.7 64-64l0-5.3c0-32.4 26.3-58.7 58.7-58.7L480 320l0-192c0-53-43-96-96-96L112 32zM464 480c61.9 0 112-50.1 112-112c0-8.8-7.2-16-16-16l-245.3 0c-14.7 0-26.7 11.9-26.7 26.7l0 5.3c0 53-43 96-96 96l176 0 96 0z\"],\r\n    \"Smartphone\": [384, 512, [], \"solid\", \"M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM144 448c0 8.8 7.2 16 16 16l64 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-64 0c-8.8 0-16 7.2-16 16zM304 64L80 64l0 320 224 0 0-320z\"],\r\n    \"Settings\": [512, 512, [], \"solid\", \"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z\"],\r\n    \"Map\": [576, 512, [], \"solid\", \"M384 476.1L192 421.2l0-385.3L384 90.8l0 385.3zm32-1.2l0-386.5L543.1 37.5c15.8-6.3 32.9 5.3 32.9 22.3l0 334.8c0 9.8-6 18.6-15.1 22.3L416 474.8zM15.1 95.1L160 37.2l0 386.5L32.9 474.5C17.1 480.8 0 469.2 0 452.2L0 117.4c0-9.8 6-18.6 15.1-22.3z\"],\r\n    \"Folder\": [512, 512, [], \"solid\", \"M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z\"],\r\n    \"FolderOpen\": [576, 512, [], \"solid\", \"M384 480l48 0c11.4 0 21.9-6 27.6-15.9l112-192c5.8-9.9 5.8-22.1 .1-32.1S555.5 224 544 224l-400 0c-11.4 0-21.9 6-27.6 15.9L48 357.1 48 96c0-8.8 7.2-16 16-16l117.5 0c4.2 0 8.3 1.7 11.3 4.7l26.5 26.5c21 21 49.5 32.8 79.2 32.8L416 144c8.8 0 16 7.2 16 16l0 32 48 0 0-32c0-35.3-28.7-64-64-64L298.5 96c-17 0-33.3-6.7-45.3-18.7L226.7 50.7c-12-12-28.3-18.7-45.3-18.7L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l23.7 0L384 480z\"],\r\n    \"FolderClosed\": [512, 512, [], \"solid\", \"M448 480L64 480c-35.3 0-64-28.7-64-64L0 192l512 0 0 224c0 35.3-28.7 64-64 64zm64-320L0 160 0 96C0 60.7 28.7 32 64 32l128 0c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8l160 0c35.3 0 64 28.7 64 64z\"],\r\n    \"Function\": [384, 512, [], \"solid\", \"M314.7 32c-38.8 0-73.7 23.3-88.6 59.1L170.7 224 64 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l80 0L98.9 396.3c-5 11.9-16.6 19.7-29.5 19.7L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l37.3 0c38.8 0 73.7-23.3 88.6-59.1L213.3 288 320 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-80 0 45.1-108.3c5-11.9 16.6-19.7 29.5-19.7L352 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-37.3 0z\"],\r\n    \"Stop\": [384, 512, [], \"solid\", \"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z\"],\r\n    \"Image\": [512, 512, [], \"solid\", \"M448 80c8.8 0 16 7.2 16 16l0 319.8-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3L48 96c0-8.8 7.2-16 16-16l384 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z\"],\r\n    \"Images\": [576, 512, [], \"solid\", \"M160 80l352 0c8.8 0 16 7.2 16 16l0 224c0 8.8-7.2 16-16 16l-21.2 0L388.1 178.9c-4.4-6.8-12-10.9-20.1-10.9s-15.7 4.1-20.1 10.9l-52.2 79.8-12.4-16.9c-4.5-6.2-11.7-9.8-19.4-9.8s-14.8 3.6-19.4 9.8L175.6 336 160 336c-8.8 0-16-7.2-16-16l0-224c0-8.8 7.2-16 16-16zM96 96l0 224c0 35.3 28.7 64 64 64l352 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L160 32c-35.3 0-64 28.7-64 64zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120L0 344c0 75.1 60.9 136 136 136l320 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-320 0c-48.6 0-88-39.4-88-88l0-224zm208 24a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"],\r\n    \"Info\": [512, 512, [], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"],\r\n    \"Bone\": [576, 512, [], \"solid\", \"M153.7 144.8c6.9 16.3 20.6 31.2 38.3 31.2l192 0c17.7 0 31.4-14.9 38.3-31.2C434.4 116.1 462.9 96 496 96c44.2 0 80 35.8 80 80c0 30.4-17 56.9-42 70.4c-3.6 1.9-6 5.5-6 9.6s2.4 7.7 6 9.6c25 13.5 42 40 42 70.4c0 44.2-35.8 80-80 80c-33.1 0-61.6-20.1-73.7-48.8C415.4 350.9 401.7 336 384 336l-192 0c-17.7 0-31.4 14.9-38.3 31.2C141.6 395.9 113.1 416 80 416c-44.2 0-80-35.8-80-80c0-30.4 17-56.9 42-70.4c3.6-1.9 6-5.5 6-9.6s-2.4-7.7-6-9.6C17 232.9 0 206.4 0 176c0-44.2 35.8-80 80-80c33.1 0 61.6 20.1 73.7 48.8z\"],\r\n    \"Puzzle\": [512, 512, [], \"solid\", \"M192 104.8c0-9.2-5.8-17.3-13.2-22.8C167.2 73.3 160 61.3 160 48c0-26.5 28.7-48 64-48s64 21.5 64 48c0 13.3-7.2 25.3-18.8 34c-7.4 5.5-13.2 13.6-13.2 22.8c0 12.8 10.4 23.2 23.2 23.2l56.8 0c26.5 0 48 21.5 48 48l0 56.8c0 12.8 10.4 23.2 23.2 23.2c9.2 0 17.3-5.8 22.8-13.2c8.7-11.6 20.7-18.8 34-18.8c26.5 0 48 28.7 48 64s-21.5 64-48 64c-13.3 0-25.3-7.2-34-18.8c-5.5-7.4-13.6-13.2-22.8-13.2c-12.8 0-23.2 10.4-23.2 23.2L384 464c0 26.5-21.5 48-48 48l-56.8 0c-12.8 0-23.2-10.4-23.2-23.2c0-9.2 5.8-17.3 13.2-22.8c11.6-8.7 18.8-20.7 18.8-34c0-26.5-28.7-48-64-48s-64 21.5-64 48c0 13.3 7.2 25.3 18.8 34c7.4 5.5 13.2 13.6 13.2 22.8c0 12.8-10.4 23.2-23.2 23.2L48 512c-26.5 0-48-21.5-48-48L0 343.2C0 330.4 10.4 320 23.2 320c9.2 0 17.3 5.8 22.8 13.2C54.7 344.8 66.7 352 80 352c26.5 0 48-28.7 48-64s-21.5-64-48-64c-13.3 0-25.3 7.2-34 18.8C40.5 250.2 32.4 256 23.2 256C10.4 256 0 245.6 0 232.8L0 176c0-26.5 21.5-48 48-48l120.8 0c12.8 0 23.2-10.4 23.2-23.2z\"],\r\n    \"Lock\": [448, 512, [], \"solid\", \"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z\"],\r\n    \"LockOpen\": [576, 512, [], \"solid\", \"M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48C576 64.5 511.5 0 432 0S288 64.5 288 144l0 48L64 192c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-32 0 0-48z\"],\r\n    \"Shuffle\": [512, 512, [], \"solid\", \"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z\"],\r\n    \"Play\": [384, 512, [], \"solid\", \"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\"],\r\n    \"Pause\": [320, 512, [], \"solid\", \"M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z\"],\r\n    \"LogIn\": [512, 512, [], \"solid\", \"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"],\r\n    \"LogOut\": [512, 512, [], \"solid\", \"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z\"],\r\n    \"MousePointer\": [320, 512, [], \"solid\", \"M0 55.2L0 426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320l118.1 0c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z\"],\r\n    \"User\": [512, 512, [], \"solid\", \"M256 288A144 144 0 1 0 256 0a144 144 0 1 0 0 288zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7l450.6 0c17 0 30.7-13.8 30.7-30.7C512 392.2 439.8 320 350.7 320l-189.4 0z\"],\r\n    \"HardDriveDownload\": [512, 512, [], \"solid\", \"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"],\r\n    \"HardDriveUpload\": [512, 512, [], \"solid\", \"M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z\"],\r\n    \"CircleCheck\": [512, 512, [\"CheckCircle2\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"],\r\n    \"CirclePlay\": [512, 512, [], \"solid\", \"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9l0 176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z\"],\r\n    \"CirclePause\": [512, 512, [], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192l0 128c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-128c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0l0 128c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-128c0-17.7 14.3-32 32-32s32 14.3 32 32z\"],\r\n    \"CirclePlus\": [512, 512, [\"PlusCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z\"],\r\n    \"CircleMinus\": [512, 512, [\"MinusCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"],\r\n    \"CircleStop\": [512, 512, [], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM192 160l128 0c17.7 0 32 14.3 32 32l0 128c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32l0-128c0-17.7 14.3-32 32-32z\"],\r\n    \"CircleDot\": [512, 512, [], \"solid\", \"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"],\r\n    \"CircleHelp\": [512, 512, [\"HelpCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"],\r\n    \"CircleArrowUp\": [512, 512, [\"ArrowUpCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM385 215c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-71-71L280 392c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-214.1-71 71c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 103c9.4-9.4 24.6-9.4 33.9 0L385 215z\"],\r\n    \"CircleArrowDown\": [512, 512, [\"ArrowDownCircle\"], \"solid\", \"M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM127 297c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l71 71L232 120c0-13.3 10.7-24 24-24s24 10.7 24 24l0 214.1 71-71c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 409c-9.4 9.4-24.6 9.4-33.9 0L127 297z\"],\r\n    \"CircleArrowLeft\": [512, 512, [\"ArrowLeftCircle\"], \"solid\", \"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z\"],\r\n    \"CircleArrowRight\": [512, 512, [\"ArrowRightCircle\"], \"solid\", \"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z\"],\r\n    \"CircleAlert\": [512, 512, [\"AlertCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"],\r\n    \"CircleUser\": [512, 512, [\"UserCircle\"], \"solid\", \"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z\"],\r\n    \"CircleChevronRight\": [512, 512, [\"ChevronRightCircle\"], \"solid\", \"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z\"],\r\n    \"CircleChevronDown\": [512, 512, [\"ChevronDownCircle\"], \"solid\", \"M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z\"],\r\n    \"CircleChevronUp\": [512, 512, [\"ChevronUpCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z\"],\r\n    \"CircleChevronLeft\": [512, 512, [\"ChevronLeftCircle\"], \"solid\", \"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z\"],\r\n    \"CircleX\": [512, 512, [\"XCircle\"], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z\"],\r\n    \"Apple\": [384, 512, [], \"solid\", \"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z\"],\r\n    \"Chrome\": [512, 512, [], \"solid\", \"M0 256C0 209.4 12.47 165.6 34.27 127.1L144.1 318.3C166 357.5 207.9 384 256 384C270.3 384 283.1 381.7 296.8 377.4L220.5 509.6C95.9 492.3 0 385.3 0 256zM365.1 321.6C377.4 302.4 384 279.1 384 256C384 217.8 367.2 183.5 340.7 160H493.4C505.4 189.6 512 222.1 512 256C512 397.4 397.4 511.1 256 512L365.1 321.6zM477.8 128H256C193.1 128 142.3 172.1 130.5 230.7L54.19 98.47C101 38.53 174 0 256 0C350.8 0 433.5 51.48 477.8 128V128zM168 256C168 207.4 207.4 168 256 168C304.6 168 344 207.4 344 256C344 304.6 304.6 344 256 344C207.4 344 168 304.6 168 256z\"],\r\n    \"Facebook\": [512, 512, [], \"solid\", \"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z\"],\r\n    \"Github\": [496, 512, [], \"solid\", \"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"],\r\n    \"Youtube\": [576, 512, [], \"solid\", \"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\"],\r\n    \"CircleRight@solid\": [512, 512, [], \"solid\", \"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zm395.3 11.3l-112 112c-4.6 4.6-11.5 5.9-17.4 3.5s-9.9-8.3-9.9-14.8l0-64-96 0c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32l96 0 0-64c0-6.5 3.9-12.3 9.9-14.8s12.9-1.1 17.4 3.5l112 112c6.2 6.2 6.2 16.4 0 22.6z\"],\r\n    \"CircleUp@solid\": [512, 512, [], \"solid\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z\"],\r\n    \"CircleLeft@solid\": [512, 512, [], \"solid\", \"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM116.7 244.7l112-112c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 64 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 64c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-112-112c-6.2-6.2-6.2-16.4 0-22.6z\"],\r\n    \"CircleDown@solid\": [512, 512, [], \"solid\", \"M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM244.7 395.3l-112-112c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9l64 0 0-96c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 96 64 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-112 112c-6.2 6.2-16.4 6.2-22.6 0z\"],\r\n    \"PaperPlane@solid\": [512, 512, [], \"solid\", \"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z\"],\r\n}\r\n\r\n// Alias for Lucide Icons\r\nLX.LucideIconAlias = {\r\n    \"Stop\": \"Square\",\r\n    \"Refresh\": \"RefreshCw\",\r\n    \"Left\": \"ChevronLeft\",\r\n    \"Right\": \"ChevronRight\",\r\n    \"Up\": \"ChevronUp\",\r\n    \"Down\": \"ChevronDown\",\r\n    \"MenuArrows\": \"ChevronsUpDown\",\r\n    \"RotateForward\": \"RotateCw\",\r\n    \"RotateRight\": \"RotateCw\",\r\n    \"RotateBack\": \"RotateCcw\",\r\n    \"RotateLeft\": \"RotateCcw\",\r\n}\r\n\r\n// Generate Alias icons\r\n\r\nexport default LX.ICONS = (() => {\r\n    const aliasIcons: Record<string, any> = {};\r\n\r\n    for( let i in RAW_ICONS )\r\n    {\r\n        const aliases = RAW_ICONS[ i ][ 2 ];\r\n        aliases.forEach( ( a: string ) => aliasIcons[ a ] = i );\r\n    }\r\n\r\n    return { ...RAW_ICONS, ...aliasIcons };\r\n})();","// Spinner.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class Spinner\r\n */\r\n\r\nexport class Spinner\r\n{\r\n    root: HTMLElement;\r\n\r\n    constructor( options: any = {} )\r\n    {\r\n        const icon = options.icon ?? \"LoaderCircle\";\r\n        const size = options.size ?? \"md\";\r\n        const iconClass = `flex ${ options.iconClass ?? \"\" }`.trim();\r\n        const svgClass = `animate-spin ${ size } ${ options.svgClass ?? \"\" }`.trim();\r\n\r\n        this.root = LX.makeIcon( icon, { iconClass, svgClass } );\r\n    }\r\n\r\n    html()\r\n    {\r\n        return this.root.innerHTML;\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        this.root.remove();\r\n    }\r\n};\r\n\r\nLX.Spinner = Spinner;","// Sidebar.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Area } from './../core/Area';\r\nimport { Panel } from '../core/Panel';\r\nimport { TextInput } from './TextInput';\r\n\r\n/**\r\n * @class Sidebar\r\n */\r\n\r\nexport class Sidebar {\r\n\r\n    /**\r\n     * @param {Object} options\r\n     * className: Extra class to customize root element\r\n     * filter: Add search bar to filter entries [false]\r\n     * displaySelected: Indicate if an entry is displayed as selected\r\n     * skipHeader: Do not use sidebar header [false]\r\n     * headerImg: Image to be shown as avatar\r\n     * headerIcon: Icon to be shown as avatar (from LX.ICONS)\r\n     * headerTitle: Header title\r\n     * headerSubtitle: Header subtitle\r\n     * header: HTMLElement to add a custom header\r\n     * skipFooter: Do not use sidebar footer [false]\r\n     * footerImg: Image to be shown as avatar\r\n     * footerIcon: Icon to be shown as avatar (from LX.ICONS)\r\n     * footerTitle: Footer title\r\n     * footerSubtitle: Footer subtitle\r\n     * footer: HTMLElement to add a custom footer\r\n     * collapsable: Sidebar can toggle between collapsed/expanded [true]\r\n     * collapseToIcons: When Sidebar collapses, icons remains visible [true]\r\n     * onHeaderPressed: Function to call when header is pressed\r\n     * onFooterPressed: Function to call when footer is pressed\r\n     */\r\n\r\n    root: any;\r\n    callback: any;\r\n\r\n    items: any[] = [];\r\n    icons: any = {};\r\n    groups: any = {};\r\n\r\n    side: string;\r\n    collapsable: boolean;\r\n    collapsed: boolean;\r\n    filterString: string;\r\n    filter: any; // DOM Element\r\n    header: any;\r\n    content: any;\r\n    footer: any;\r\n    resizeObserver: ResizeObserver|undefined = undefined;\r\n    siblingArea: Area|undefined = undefined;\r\n    currentGroup: any;\r\n    collapseQueue: any;\r\n    collapseContainer: any;\r\n\r\n    _collapseWidth: string;\r\n\r\n    private _displaySelected: boolean = true;\r\n\r\n    get displaySelected(): boolean {\r\n        return this._displaySelected;\r\n    }\r\n\r\n    set displaySelected( v: boolean ) {\r\n        this._displaySelected = v;\r\n        if (!v)\r\n        {\r\n            this.root.querySelectorAll(\".lexsidebarentry\")\r\n                .forEach((e: HTMLElement) => e.classList.remove(\"selected\"));\r\n        }\r\n    }\r\n\r\n    constructor( options: any = {} ) {\r\n\r\n        const mobile = navigator && /Android|iPhone/i.test( navigator.userAgent );\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.className = \"lexsidebar flex flex-col \" + ( options.className ?? \"\" );\r\n        this.callback = options.callback ?? null;\r\n        this._displaySelected = options.displaySelected ?? false;\r\n        this.side = options.side ?? \"left\";\r\n        this.collapsable = options.collapsable ?? true;\r\n        this._collapseWidth = ( options.collapseToIcons ?? true ) ? \"58px\" : \"0px\";\r\n        this.collapsed = options.collapsed ?? mobile;\r\n        this.filterString = \"\";\r\n\r\n        LX.doAsync( () => {\r\n\r\n            this.root.parentElement.ogWidth = this.root.parentElement.style.width;\r\n            this.root.parentElement.style.transition = this.collapsed ? \"\" : \"width 0.25s ease-out\";\r\n\r\n            this.resizeObserver = new ResizeObserver( entries => {\r\n                for ( const entry of entries )\r\n                {\r\n                    this.siblingArea?.setSize( [ \"calc(100% - \" + ( entry.contentRect.width ) + \"px )\", null ] );\r\n                }\r\n            });\r\n\r\n            if( this.collapsed )\r\n            {\r\n                this.root.classList.toggle( \"collapsed\", this.collapsed );\r\n                this.root.parentElement.style.width = this._collapseWidth;\r\n\r\n                if( !this.resizeObserver )\r\n                {\r\n                    throw( \"Wait until ResizeObserver has been created!\" );\r\n                }\r\n\r\n                this.resizeObserver.observe( this.root.parentElement );\r\n\r\n                LX.doAsync( () => {\r\n                    this.resizeObserver?.unobserve( this.root.parentElement );\r\n                    this.root.querySelectorAll( \".lexsidebarentrycontent\" ).forEach( ( e: HTMLElement ) => e.dataset[ \"disableTooltip\" ] = `${ !this.collapsed }` );\r\n                }, 10 );\r\n            }\r\n\r\n        }, 10 );\r\n\r\n        // Header\r\n        if( !( options.skipHeader ?? false ) )\r\n        {\r\n            this.header = options.header ?? this._generateDefaultHeader( options );\r\n            console.assert( this.header.constructor === HTMLDivElement, \"Use an HTMLDivElement to build your custom header\" );\r\n            this.header.className = \"lexsidebarheader flex-auto\";\r\n            this.root.appendChild( this.header );\r\n\r\n            if( this.collapsable )\r\n            {\r\n                const icon = LX.makeIcon( this.side == \"left\" ? \"PanelLeft\" : \"PanelRight\", { title: \"Toggle Sidebar\", iconClass: \"toggler\" } );\r\n                this.header.appendChild( icon );\r\n\r\n                if( mobile )\r\n                {\r\n                    // create an area and append a sidebar:\r\n                    const area = new Area({ skipAppend: true });\r\n                    const sheetSidebarOptions = LX.deepCopy( options );\r\n                    sheetSidebarOptions.collapsed = false;\r\n                    sheetSidebarOptions.collapsable = false;\r\n                    area.addSidebar( this.callback, sheetSidebarOptions );\r\n\r\n                    icon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        new LX.Sheet(\"256px\", [ area ], { side: this.side } );\r\n                    } );\r\n                }\r\n                else\r\n                {\r\n                    icon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        this.toggleCollapsed();\r\n                    } );\r\n                }\r\n            }\r\n        }\r\n\r\n        // Entry filter\r\n        if( ( options.filter ?? false ) )\r\n        {\r\n            const filterTextInput = new TextInput(null, \"\", ( value: string, event: InputEvent) => {\r\n                this.filterString = value;\r\n                this.update();\r\n            }, { inputClass: \"outline\", placeholder: \"Search...\", icon: \"Search\", className: \"lexsidebarfilter\" });\r\n            this.filter = filterTextInput.root;\r\n            this.root.appendChild( this.filter );\r\n        }\r\n\r\n        // Content\r\n        {\r\n            this.content = document.createElement( 'div' );\r\n            this.content.className = \"lexsidebarcontent flex-auto-fill\";\r\n            this.root.appendChild( this.content );\r\n        }\r\n\r\n        // Footer\r\n        if( !( options.skipFooter ?? false ) )\r\n        {\r\n            this.footer = options.footer ?? this._generateDefaultFooter( options );\r\n            console.assert( this.footer.constructor === HTMLDivElement, \"Use an HTMLDivElement to build your custom footer\" );\r\n            this.footer.className = \"lexsidebarfooter flex-auto\";\r\n            this.root.appendChild( this.footer );\r\n        }\r\n    }\r\n\r\n    _generateDefaultHeader( options: any = {} ) {\r\n\r\n        const header = document.createElement( 'div' );\r\n\r\n        header.addEventListener( \"click\", e => {\r\n            if( this.collapsed )\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.toggleCollapsed();\r\n            }\r\n            else if( options.onHeaderPressed )\r\n            {\r\n                options.onHeaderPressed( e );\r\n            }\r\n        } );\r\n\r\n        const avatar = document.createElement( 'span' );\r\n        avatar.className = \"lexavatar\";\r\n        header.appendChild( avatar );\r\n\r\n        if( options.headerImage )\r\n        {\r\n            const avatarImg = document.createElement( 'img' );\r\n            avatarImg.src = options.headerImage;\r\n            avatar.appendChild( avatarImg );\r\n        }\r\n        else if( options.headerIcon )\r\n        {\r\n            const avatarIcon = LX.makeIcon( options.headerIcon );\r\n            avatar.appendChild( avatarIcon );\r\n        }\r\n\r\n        // Info\r\n        {\r\n            const info = document.createElement( 'div' );\r\n            info.className = \"infodefault\";\r\n            header.appendChild( info );\r\n\r\n            const infoText = document.createElement( 'span' );\r\n            infoText.innerHTML = options.headerTitle ?? \"\";\r\n            info.appendChild( infoText );\r\n\r\n            const infoSubtext = document.createElement( 'span' );\r\n            infoSubtext.innerHTML = options.headerSubtitle ?? \"\";\r\n            info.appendChild( infoSubtext );\r\n        }\r\n\r\n        // Add icon if onHeaderPressed is defined and not collapsable (it uses the toggler icon)\r\n        if( options.onHeaderPressed && !this.collapsable )\r\n        {\r\n            const icon = LX.makeIcon( \"MenuArrows\" );\r\n            header.appendChild( icon );\r\n        }\r\n\r\n        return header;\r\n    }\r\n\r\n    _generateDefaultFooter( options: any = {} ) {\r\n\r\n        const footer = document.createElement( 'div' );\r\n\r\n        footer.addEventListener( \"click\", e => {\r\n            if( options.onFooterPressed )\r\n            {\r\n                options.onFooterPressed( e, footer );\r\n            }\r\n        } );\r\n\r\n        const avatar = document.createElement( 'span' );\r\n        avatar.className = \"lexavatar\";\r\n        footer.appendChild( avatar );\r\n\r\n        if( options.footerImage )\r\n        {\r\n            const avatarImg = document.createElement( 'img' );\r\n            avatarImg.src = options.footerImage;\r\n            avatar.appendChild( avatarImg );\r\n        }\r\n        else if( options.footerIcon )\r\n        {\r\n            const avatarIcon = LX.makeIcon( options.footerIcon );\r\n            avatar.appendChild( avatarIcon );\r\n        }\r\n\r\n        // Info\r\n        {\r\n            const info = document.createElement( 'div' );\r\n            info.className = \"infodefault\";\r\n            footer.appendChild( info );\r\n\r\n            const infoText = document.createElement( 'span' );\r\n            infoText.innerHTML = options.footerTitle ?? \"\";\r\n            info.appendChild( infoText );\r\n\r\n            const infoSubtext = document.createElement( 'span' );\r\n            infoSubtext.innerHTML = options.footerSubtitle ?? \"\";\r\n            info.appendChild( infoSubtext );\r\n        }\r\n\r\n        // Add icon if onFooterPressed is defined\r\n        // Useful to indicate that the footer is clickable\r\n        if( options.onFooterPressed )\r\n        {\r\n            const icon = LX.makeIcon( \"MenuArrows\" );\r\n            footer.appendChild( icon );\r\n        }\r\n\r\n        return footer;\r\n    }\r\n\r\n    /**\r\n     * @method toggleCollapsed\r\n     * @param {Boolean} force: Force collapsed state\r\n     */\r\n\r\n    toggleCollapsed( force?: boolean ) {\r\n\r\n        if( !this.collapsable )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.collapsed = force ?? !this.collapsed;\r\n\r\n        if( this.collapsed )\r\n        {\r\n            this.root.classList.add( \"collapsing\" );\r\n            this.root.parentElement.style.width = this._collapseWidth;\r\n        }\r\n        else\r\n        {\r\n            this.root.classList.remove( \"collapsing\" );\r\n            this.root.classList.remove( \"collapsed\" );\r\n            this.root.parentElement.style.width = this.root.parentElement.ogWidth;\r\n        }\r\n\r\n        if( !this.resizeObserver )\r\n        {\r\n            throw( \"Wait until ResizeObserver has been created!\" );\r\n        }\r\n\r\n        this.resizeObserver.observe( this.root.parentElement );\r\n\r\n        LX.doAsync( () => {\r\n            this.root.classList.toggle( \"collapsed\", this.collapsed );\r\n            this.resizeObserver?.unobserve( this.root.parentElement );\r\n            this.root.querySelectorAll( \".lexsidebarentrycontent\" ).forEach( ( e: HTMLElement ) => e.dataset[ \"disableTooltip\" ] = `${ !this.collapsed }` );\r\n        }, 250 );\r\n    }\r\n\r\n    /**\r\n     * @method separator\r\n     */\r\n\r\n    separator() {\r\n\r\n        this.currentGroup = null;\r\n\r\n        this.add( \"\" );\r\n    }\r\n\r\n    /**\r\n     * @method group\r\n     * @param {String} groupName\r\n     * @param {Object} action: { icon, callback }\r\n     */\r\n\r\n    group( groupName: string, action: any ) {\r\n\r\n        this.currentGroup = groupName;\r\n\r\n        this.groups[ groupName ] = action;\r\n    }\r\n\r\n    /**\r\n     * @method add\r\n     * @param {String} path\r\n     * @param {Object} options:\r\n     * callback: Function to call on each item\r\n     * className: Add class to the entry DOM element\r\n     * collapsable: Add entry as a collapsable section\r\n     * icon: Entry icon\r\n     */\r\n\r\n    add( path: string, options: any = {} ) {\r\n\r\n        if( options.constructor == Function )\r\n        {\r\n            options = { callback: options };\r\n        }\r\n\r\n        // Process path\r\n        const tokens = path.split( \"/\" );\r\n\r\n        // Assign icons and shortcuts to last token in path\r\n        const lastPath = tokens[tokens.length - 1];\r\n        this.icons[ lastPath ] = options.icon;\r\n\r\n        let idx = 0;\r\n\r\n        const _insertEntry = ( token: string, list: any[] ) => {\r\n\r\n            if( token == undefined )\r\n            {\r\n                return;\r\n            }\r\n\r\n            let found = null;\r\n            list.forEach( ( o: any ) => {\r\n                const keys = Object.keys( o );\r\n                const key = keys.find( t => t == token );\r\n                if( key ) found = o[ key ];\r\n            } );\r\n\r\n            if( found )\r\n            {\r\n                _insertEntry( tokens[ idx++ ], found );\r\n            }\r\n            else\r\n            {\r\n                let item: Record<string, any> = {};\r\n                item[ token ] = [];\r\n                const nextToken = tokens[ idx++ ];\r\n                // Check if last token -> add callback\r\n                if( !nextToken )\r\n                {\r\n                    item[ 'callback' ] = options.callback;\r\n                    item[ 'group' ] = this.currentGroup;\r\n                    item[ 'options' ] = options;\r\n                }\r\n                list.push( item );\r\n                _insertEntry( nextToken, item[ token ] );\r\n            }\r\n        };\r\n\r\n        _insertEntry( tokens[idx++], this.items );\r\n    }\r\n\r\n    /**\r\n     * @method select\r\n     * @param {String} name Element name to select\r\n     */\r\n\r\n    select( name: string ) {\r\n\r\n        let pKey = LX.getSupportedDOMName( name );\r\n\r\n        const entry = this.items.find( v => v.name === pKey );\r\n\r\n        if( !entry )\r\n            return;\r\n\r\n        entry.dom.click();\r\n    }\r\n\r\n    update() {\r\n\r\n        // Reset first\r\n\r\n        this.content.innerHTML = \"\";\r\n\r\n        for( let item of this.items )\r\n        {\r\n            delete item.dom;\r\n        }\r\n\r\n        for( let item of this.items )\r\n        {\r\n            const options = item.options ?? { };\r\n\r\n            // Item already created\r\n            if( item.dom )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            let key = item.name = Object.keys( item )[ 0 ];\r\n\r\n            if( this.filterString.length && !key.toLowerCase().includes( this.filterString.toLowerCase() ) )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            let pKey = LX.getSupportedDOMName( key );\r\n            let currentGroup = null;\r\n\r\n            let entry = document.createElement( 'div' );\r\n            entry.id = pKey;\r\n            entry.className = \"lexsidebarentry \" + ( options.className ?? \"\" );\r\n\r\n            if( this.displaySelected && options.selected )\r\n            {\r\n                entry.classList.add( \"selected\" );\r\n            }\r\n\r\n            if( item.group )\r\n            {\r\n                const pGroupKey = item.group.replace( /\\s/g, '' ).replaceAll( '.', '' );\r\n                currentGroup = this.content.querySelector( \"#\" + pGroupKey );\r\n\r\n                if( !currentGroup )\r\n                {\r\n                    currentGroup = document.createElement( 'div' );\r\n                    currentGroup.id = pGroupKey;\r\n                    currentGroup.className = \"lexsidebargroup\";\r\n                    this.content.appendChild( currentGroup );\r\n\r\n                    let groupEntry = document.createElement( 'div' );\r\n                    groupEntry.className = \"lexsidebargrouptitle\";\r\n                    currentGroup.appendChild( groupEntry );\r\n\r\n                    let groupLabel = document.createElement( 'div' );\r\n                    groupLabel.innerHTML = item.group;\r\n                    groupEntry.appendChild( groupLabel );\r\n\r\n                    if( this.groups[ item.group ] != null )\r\n                    {\r\n                        const groupActionIcon = LX.makeIcon( this.groups[ item.group ].icon, { svgClass: \"sm\" } )\r\n                        groupEntry.appendChild( groupActionIcon );\r\n                        groupActionIcon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                            if( this.groups[ item.group ].callback )\r\n                            {\r\n                                this.groups[ item.group ].callback( item.group, e );\r\n                            }\r\n                        } );\r\n                    }\r\n\r\n                }\r\n                else if( !currentGroup.classList.contains( \"lexsidebargroup\" ) )\r\n                {\r\n                    throw( \"Bad id: \" + item.group );\r\n                }\r\n            }\r\n\r\n            if( pKey == \"\" )\r\n            {\r\n                let separatorDom = document.createElement( 'div' );\r\n                separatorDom.className = \"lexsidebarseparator\";\r\n                this.content.appendChild( separatorDom );\r\n                continue;\r\n            }\r\n\r\n            if( this.collapseContainer )\r\n            {\r\n                this.collapseContainer.appendChild( entry );\r\n\r\n                this.collapseQueue--;\r\n                if( !this.collapseQueue )\r\n                {\r\n                    delete this.collapseContainer;\r\n                }\r\n            }\r\n            else if( currentGroup )\r\n            {\r\n                currentGroup.appendChild( entry );\r\n            }\r\n            else\r\n            {\r\n                this.content.appendChild( entry );\r\n            }\r\n\r\n            let itemDom = document.createElement( 'div' );\r\n            itemDom.className = \"lexsidebarentrycontent\";\r\n            entry.appendChild( itemDom );\r\n            item.dom = entry;\r\n\r\n            if( options.type == \"checkbox\" )\r\n            {\r\n                item.value = options.value ?? false;\r\n                const panel = new Panel();\r\n                item.checkbox = panel.addCheckbox(null, item.value, ( value: boolean, event: InputEvent ) => {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    const f = options.callback;\r\n                    item.value = value;\r\n                    if( f ) f.call( this, key, value, event );\r\n                }, { className: \"accent\", label: key, signal: ( \"@checkbox_\"  + key ) });\r\n                itemDom.appendChild( panel.root.childNodes[ 0 ] );\r\n            }\r\n            else\r\n            {\r\n                if( options.icon )\r\n                {\r\n                    const itemIcon = LX.makeIcon( options.icon, { iconClass: \"lexsidebarentryicon\" } );\r\n                    itemDom.appendChild( itemIcon );\r\n                    LX.asTooltip( itemDom, key, { side: \"right\", offset: 16, active: false } );\r\n                }\r\n\r\n                let itemName = LX.makeElement( 'a', \"grid-column-start-2\", key, itemDom );\r\n\r\n                if( options.swap )\r\n                {\r\n                    itemDom.classList.add( \"swap\", \"inline-grid\" );\r\n                    itemDom.querySelector( \"a\" )?.classList.add( \"swap-off\" );\r\n\r\n                    const input = document.createElement( \"input\" );\r\n                    input.className = \"p-0 border-0\";\r\n                    input.type = \"checkbox\";\r\n                    itemDom.prepend( input );\r\n\r\n                    const swapIcon = LX.makeIcon( options.swap, { iconClass: \"lexsidebarentryicon swap-on\" } );\r\n                    itemDom.appendChild( swapIcon );\r\n                }\r\n\r\n                if( options.content )\r\n                {\r\n                    itemDom.appendChild( options.content );\r\n                }\r\n            }\r\n\r\n            const isCollapsable = options.collapsable != undefined ? options.collapsable : ( options.collapsable || item[ key ].length );\r\n\r\n            entry.addEventListener(\"click\", ( e: any ) => {\r\n                if( e.target && e.target.classList.contains( \"lexcheckbox\" ) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                let value = undefined;\r\n\r\n                if( isCollapsable )\r\n                {\r\n                    ( itemDom.querySelector( \".collapser\" ) as any )?.click();\r\n                }\r\n                else if( item.checkbox )\r\n                {\r\n                    item.value = !item.value;\r\n                    item.checkbox.set( item.value, true );\r\n                    value = item.value;\r\n                }\r\n                else if( options.swap && !( e.target instanceof HTMLInputElement ) )\r\n                {\r\n                    const swapInput: any = itemDom.querySelector( \"input\" );\r\n                    swapInput.checked = !swapInput.checked;\r\n                    value = swapInput.checked;\r\n                }\r\n\r\n                const f = options.callback;\r\n                if( f ) f.call( this, key, value ?? entry, e );\r\n\r\n                // Manage selected\r\n                if( this.displaySelected && !options.skipSelection )\r\n                {\r\n                    this.root.querySelectorAll(\".lexsidebarentry\").forEach( ( e: HTMLElement ) => e.classList.remove( 'selected' ) );\r\n                    entry.classList.add( \"selected\" );\r\n                }\r\n            });\r\n\r\n            if( options.action )\r\n            {\r\n                const actionIcon = LX.makeIcon( options.action.icon ?? \"Ellipsis\", { title: options.action.name } );\r\n                itemDom.appendChild( actionIcon );\r\n\r\n                actionIcon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                    e.preventDefault();\r\n                    e.stopImmediatePropagation();\r\n                    const f = options.action.callback;\r\n                    if( f ) f.call( this, key, e );\r\n                } );\r\n            }\r\n            else if( isCollapsable )\r\n            {\r\n                const collapsableContent = document.createElement( 'div' );\r\n                collapsableContent.className = \"collapsablecontainer\";\r\n                Object.assign( collapsableContent.style, { width: \"100%\", display: \"none\" } );\r\n                LX.makeCollapsible( itemDom, collapsableContent, currentGroup ?? this.content );\r\n                this.collapseQueue = options.collapsable;\r\n                this.collapseContainer = collapsableContent;\r\n            }\r\n\r\n            // Subentries\r\n            if( !item[ key ].length )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            let subentryContainer = document.createElement( 'div' );\r\n            subentryContainer.className = \"lexsidebarsubentrycontainer\";\r\n\r\n            if( isCollapsable )\r\n            {\r\n                this.collapseContainer.appendChild( subentryContainer )\r\n                delete this.collapseContainer;\r\n            }\r\n            else if( currentGroup )\r\n            {\r\n                subentryContainer.classList.add( \"collapsablecontainer\" );\r\n                currentGroup.appendChild( subentryContainer );\r\n            }\r\n            else\r\n            {\r\n                this.content.appendChild( subentryContainer );\r\n            }\r\n\r\n            for( let i = 0; i < item[ key ].length; ++i )\r\n            {\r\n                const subitem = item[ key ][ i ];\r\n                const suboptions = subitem.options ?? {};\r\n                const subkey = subitem.name = Object.keys( subitem )[ 0 ];\r\n\r\n                if( this.filterString.length && !subkey.toLowerCase().includes( this.filterString.toLowerCase() ) )\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                let subentry = document.createElement( 'div' );\r\n                subentry.innerHTML = `<span>${ subkey }</span>`;\r\n\r\n                if( suboptions.action )\r\n                {\r\n                    const actionIcon = LX.makeIcon( suboptions.action.icon ?? \"Ellipsis\", { title: suboptions.action.name } );\r\n                    subentry.appendChild( actionIcon );\r\n\r\n                    actionIcon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                        e.preventDefault();\r\n                        e.stopImmediatePropagation();\r\n                        const f = suboptions.action.callback;\r\n                        if( f ) f.call( this, subkey, e );\r\n                    } );\r\n                }\r\n\r\n                subentry.className = \"lexsidebarentry\";\r\n                subentry.id = subkey;\r\n\r\n                if( suboptions.content )\r\n                {\r\n                    const parentContainer = LX.makeElement( \"div\" );\r\n                    parentContainer.appendChild( suboptions.content );\r\n                    subentry.appendChild( parentContainer );\r\n                }\r\n\r\n                subentryContainer.appendChild( subentry );\r\n\r\n                subentry.addEventListener(\"click\", ( e: MouseEvent ) => {\r\n\r\n                    const f = suboptions.callback;\r\n                    if( f ) f.call( this, subkey, subentry, e );\r\n\r\n                    // Manage selected\r\n                    if( this.displaySelected && !suboptions.skipSelection )\r\n                    {\r\n                        this.root.querySelectorAll(\".lexsidebarentry\").forEach( ( e: HTMLElement ) => e.classList.remove( 'selected' ) );\r\n                        subentry.classList.add( \"selected\" );\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nLX.Sidebar = Sidebar;","// ContextMenu.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class ContextMenu\r\n */\r\n\r\nexport class ContextMenu {\r\n\r\n    root: any;\r\n    items: any[];\r\n    colors: any;\r\n\r\n    _parent: any;\r\n\r\n    constructor( event: any, title: string, options: any = {} )\r\n    {\r\n        // Remove all context menus\r\n        document.body.querySelectorAll( \".lexcontextmenu\" ).forEach( e => e.remove() );\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.className = \"lexcontextmenu\";\r\n        this.root.addEventListener(\"mouseleave\", function(this: HTMLElement) { // TOCHECK\r\n            this.remove();\r\n        });\r\n\r\n        this.items = [];\r\n        this.colors = {};\r\n\r\n        if( title )\r\n        {\r\n            let item: Record<string, any> = {};\r\n            item[ title ] = [];\r\n            item[ \"className\" ] = \"cmtitle\";\r\n            item[ \"icon\" ] = options.icon;\r\n            this.items.push( item );\r\n        }\r\n\r\n        const nestedDialog = event.target.closest( \"dialog\" );\r\n        if( nestedDialog && nestedDialog.dataset[ \"modal\" ] == 'true' )\r\n        {\r\n            this._parent = nestedDialog;\r\n        }\r\n        else\r\n        {\r\n            this._parent = LX.root;\r\n        }\r\n\r\n        this._parent.appendChild( this.root );\r\n\r\n        // Set position based on parent\r\n        const position = [ event.x - 48, event.y - 8 ];\r\n        if( this._parent instanceof HTMLDialogElement )\r\n        {\r\n            let parentRect = this._parent.getBoundingClientRect();\r\n            position[ 0 ] -= parentRect.x;\r\n            position[ 1 ] -= parentRect.y;\r\n        }\r\n\r\n        this.root.style.left = `${ position[ 0 ] }px`;\r\n        this.root.style.top = `${ position[ 1 ] }px`;\r\n    }\r\n\r\n    _adjustPosition( div: HTMLElement, margin: number, useAbsolute = false )\r\n    {\r\n        let rect = div.getBoundingClientRect();\r\n        let left = parseInt( div.style.left );\r\n        let top = parseInt( div.style.top );\r\n\r\n        if( !useAbsolute )\r\n        {\r\n            let width = rect.width;\r\n            if( rect.left < 0 )\r\n            {\r\n                left = margin;\r\n            }\r\n            else if( window.innerWidth - rect.right < 0 )\r\n            {\r\n                left = (window.innerWidth - width - margin);\r\n            }\r\n\r\n            if( rect.top < 0 )\r\n            {\r\n                top = margin;\r\n            }\r\n            else if( (rect.top + rect.height) > window.innerHeight )\r\n            {\r\n                div.style.marginTop = \"\";\r\n                top = (window.innerHeight - rect.height - margin);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let dt = window.innerWidth - rect.right;\r\n            if( dt < 0 )\r\n            {\r\n                left = div.offsetLeft + (dt - margin);\r\n            }\r\n\r\n            dt = window.innerHeight - (rect.top + rect.height);\r\n            if( dt < 0 )\r\n            {\r\n                top = div.offsetTop + (dt - margin + 20 );\r\n            }\r\n        }\r\n\r\n        div.style.left = `${ left }px`;\r\n        div.style.top = `${ top }px`;\r\n    }\r\n\r\n    _createSubmenu( o: any, k: string, c: any, d: number )\r\n    {\r\n        this.root.querySelectorAll( \".lexcontextmenu\" ).forEach( ( m: HTMLElement ) => m.remove() );\r\n\r\n        let contextmenu = document.createElement('div');\r\n        contextmenu.className = \"lexcontextmenu\";\r\n        c.appendChild( contextmenu );\r\n\r\n        for( let i = 0; i < o[ k ].length; ++i )\r\n        {\r\n            const subitem = o[ k ][ i ];\r\n            const subkey = Object.keys( subitem )[ 0 ];\r\n            this._createEntry( subitem, subkey, contextmenu, d );\r\n        }\r\n\r\n        const rect = c.getBoundingClientRect();\r\n        contextmenu.style.left = ( rect.x + rect.width ) + \"px\";\r\n        contextmenu.style.marginTop = \"-31px\"; // Force to be at the first element level\r\n\r\n        // Set final width\r\n        this._adjustPosition( contextmenu, 6 );\r\n    }\r\n\r\n    _createEntry( o: any, k: string, c: any, d: number )\r\n    {\r\n        const hasSubmenu = o[ k ].length;\r\n        let entry = document.createElement('div');\r\n        entry.className = \"lexmenuboxentry\" + (o[ 'className' ] ? \" \" + o[ 'className' ] : \"\" );\r\n        entry.id = o.id ?? (\"eId\" + LX.getSupportedDOMName( k ));\r\n        entry.innerHTML = \"\";\r\n        const icon = o[ 'icon' ];\r\n        if( icon )\r\n        {\r\n            entry.appendChild( LX.makeIcon( icon, { svgClass: \"sm\" } ) );\r\n        }\r\n        const disabled = o['disabled'];\r\n        entry.innerHTML += \"<div class='lexentryname\" + (disabled ? \" disabled\" : \"\") + \"'>\" + k + \"</div>\";\r\n        c.appendChild( entry );\r\n\r\n        if( this.colors[ k ] )\r\n        {\r\n            entry.style.borderColor = this.colors[ k ];\r\n        }\r\n\r\n        if( k == \"\" )\r\n        {\r\n            entry.className += \" cmseparator\";\r\n            return;\r\n        }\r\n\r\n        // Add callback\r\n        entry.addEventListener(\"click\", e => {\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n\r\n            if( disabled )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const f = o[ 'callback' ];\r\n            if( f )\r\n            {\r\n                f.call( this, k, entry );\r\n                this.root.remove();\r\n            }\r\n\r\n            if( !hasSubmenu )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if( LX.OPEN_CONTEXTMENU_ENTRY == 'click' )\r\n            {\r\n                this._createSubmenu( o, k, entry, ++d );\r\n            }\r\n        });\r\n\r\n        if( !hasSubmenu )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const submenuIcon = LX.makeIcon( \"Menu\", { svgClass: \"sm\" } )\r\n        entry.appendChild( submenuIcon );\r\n\r\n        if( LX.OPEN_CONTEXTMENU_ENTRY == 'mouseover' )\r\n        {\r\n            entry.addEventListener(\"mouseover\", e => {\r\n                if( entry.dataset[\"built\"] == \"true\" ) return;\r\n                entry.dataset[\"built\"] = \"true\";\r\n                this._createSubmenu( o, k, entry, ++d );\r\n                e.stopPropagation();\r\n            });\r\n        }\r\n\r\n        entry.addEventListener(\"mouseleave\", () => {\r\n            d = -1; // Reset depth\r\n            c.querySelectorAll(\".lexcontextmenu\").forEach( ( m: HTMLElement ) => m.remove() );\r\n        });\r\n    }\r\n\r\n    onCreate()\r\n    {\r\n        LX.doAsync( () => this._adjustPosition( this.root, 6 ) );\r\n    }\r\n\r\n    add( path: string, options: any = {} )\r\n    {\r\n        if( options.constructor == Function )\r\n            options = { callback: options };\r\n\r\n        // process path\r\n        path = path + \"\"; // make string!\r\n        const tokens = path.split(\"/\");\r\n\r\n        // assign color to last token in path\r\n        const lastPath = tokens[tokens.length - 1];\r\n        this.colors[ lastPath ] = options.color;\r\n\r\n        let idx = 0;\r\n\r\n        const insert = ( token: string|undefined, list: any ) => {\r\n            if( token == undefined ) return;\r\n\r\n            let found = null;\r\n            list.forEach( ( o: any ) => {\r\n                const keys = Object.keys( o );\r\n                const key = keys.find( t => t == token );\r\n                if(key) found = o[ key ];\r\n            } );\r\n\r\n            if( found )\r\n            {\r\n                insert( tokens[ idx++ ], found );\r\n            }\r\n            else\r\n            {\r\n                let item: Record<string, any> = {};\r\n                item[ token ] = [];\r\n                const nextToken = tokens[ idx++ ];\r\n                // Check if last token -> add callback\r\n                if( !nextToken )\r\n                {\r\n                    item[ 'id' ] = options.id;\r\n                    item[ 'icon' ] = options.icon;\r\n                    item[ 'callback' ] = options.callback;\r\n                    item[ 'disabled' ] = options.disabled ?? false;\r\n                }\r\n\r\n                list.push( item );\r\n                insert( nextToken, item[ token ] );\r\n            }\r\n        };\r\n\r\n        insert( tokens[idx++], this.items );\r\n\r\n        // Set parents\r\n\r\n        const setParent = ( _item: any ) => {\r\n\r\n            let key = Object.keys( _item )[ 0 ];\r\n            let children = _item[ key ];\r\n\r\n            if( !children.length )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if( children.find( ( c: any ) => Object.keys(c)[ 0 ] == key ) == null )\r\n            {\r\n                let parent: Record<string, any> = {};\r\n                parent[ key ] = [];\r\n                parent[ 'className' ] = \"cmtitle\";\r\n                _item[ key ].unshift( parent );\r\n            }\r\n\r\n            for( let child of _item[ key ] )\r\n            {\r\n                let k = Object.keys( child )[ 0 ];\r\n                for( let i = 0; i < child[ k ].length; ++i )\r\n                {\r\n                    setParent( child );\r\n                }\r\n            }\r\n        };\r\n\r\n        for( let item of this.items )\r\n        {\r\n            setParent( item );\r\n        }\r\n\r\n        // Create elements\r\n\r\n        for( let item of this.items )\r\n        {\r\n            let key = Object.keys( item )[ 0 ];\r\n            let pKey = \"eId\" + LX.getSupportedDOMName( key );\r\n\r\n            // Item already created\r\n            const id = \"#\" + ( item.id ?? pKey );\r\n            if( !this.root.querySelector( id ) )\r\n            {\r\n                this._createEntry( item, key, this.root, -1 );\r\n            }\r\n        }\r\n    }\r\n\r\n    setColor( token: string, color: any )\r\n    {\r\n        if( color[ 0 ] !== '#' )\r\n        {\r\n            color = LX.rgbToHex( color );\r\n        }\r\n\r\n        this.colors[ token ] = color;\r\n    }\r\n};\r\n\r\nLX.ContextMenu = ContextMenu;\r\n\r\nfunction addContextMenu( title: string, event: any, callback: any, options: any = {} )\r\n{\r\n    const menu = new ContextMenu( event, title, options );\r\n\r\n    if( callback )\r\n    {\r\n        callback( menu );\r\n    }\r\n\r\n    menu.onCreate();\r\n\r\n    return menu;\r\n}\r\n\r\nLX.addContextMenu = addContextMenu;","// DropdownMenu.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Checkbox } from './Checkbox';\r\n\r\n/**\r\n * @class DropdownMenu\r\n */\r\n\r\nexport class DropdownMenu\r\n{\r\n    static currentMenu: DropdownMenu | null = null;\r\n\r\n    root: any;\r\n    side: string = \"bottom\";\r\n    align: string = \"center\";\r\n    sideOffset: number = 0;\r\n    alignOffset: number = 0;\r\n    avoidCollisions: boolean = true;\r\n    onBlur: any;\r\n    event: any;\r\n    inPlace: boolean = false;\r\n\r\n    _trigger: any;\r\n    _items: any[] = [];\r\n    _parent: any;\r\n    _windowPadding: number = 4;\r\n    _onClick: any;\r\n    _radioGroup: { name: string, selected: any } | undefined;\r\n\r\n\r\n    invalid: boolean = false;\r\n\r\n    constructor( trigger: any, items: any[], options: any = {} ) {\r\n\r\n        console.assert( trigger, \"DropdownMenu needs a DOM element as trigger!\" );\r\n\r\n        if( DropdownMenu.currentMenu || !items?.length )\r\n        {\r\n            DropdownMenu.currentMenu?.destroy();\r\n            this.invalid = true;\r\n            return;\r\n        }\r\n\r\n        this._trigger = trigger;\r\n        trigger.classList.add( \"triggered\" );\r\n        trigger.ddm = this;\r\n\r\n        this._items = items;\r\n\r\n        this.side = options.side ?? \"bottom\";\r\n        this.align = options.align ?? \"center\";\r\n        this.sideOffset = options.sideOffset ?? 0;\r\n        this.alignOffset = options.alignOffset ?? 0;\r\n        this.avoidCollisions = options.avoidCollisions ?? true;\r\n        this.onBlur = options.onBlur;\r\n        this.event = options.event;\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.id = \"root\";\r\n        this.root.dataset[\"side\"] = this.side;\r\n        this.root.tabIndex = \"1\";\r\n        this.root.className = \"lexdropdownmenu\";\r\n\r\n        const nestedDialog = trigger.closest( \"dialog\" );\r\n        if( nestedDialog && nestedDialog.dataset[ \"modal\" ] == 'true' )\r\n        {\r\n            this._parent = nestedDialog;\r\n        }\r\n        else\r\n        {\r\n            this._parent = LX.root;\r\n        }\r\n\r\n        this._parent.appendChild( this.root );\r\n\r\n        this._create( this._items );\r\n\r\n        DropdownMenu.currentMenu = this;\r\n\r\n        LX.doAsync( () => {\r\n            this._adjustPosition();\r\n\r\n            this.root.focus();\r\n\r\n            this._onClick = ( e: any ) => {\r\n\r\n                // Check if the click is inside a menu or on the trigger\r\n                if( e.target && ( e.target.closest( \".lexdropdownmenu\" ) != undefined || e.target == this._trigger ) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                this.destroy( true );\r\n            };\r\n\r\n            document.body.addEventListener( \"mousedown\", this._onClick, true );\r\n            document.body.addEventListener( \"focusin\", this._onClick, true );\r\n        }, 10 );\r\n    }\r\n\r\n    destroy( blurEvent: boolean = false )\r\n    {\r\n        this._trigger.classList.remove( \"triggered\" );\r\n\r\n        delete this._trigger.ddm;\r\n\r\n        document.body.removeEventListener( \"mousedown\", this._onClick, true );\r\n        document.body.removeEventListener( \"focusin\", this._onClick, true );\r\n\r\n        this._parent.querySelectorAll( \".lexdropdownmenu\" ).forEach( ( m: any ) => { m.remove(); } );\r\n\r\n        DropdownMenu.currentMenu = null;\r\n\r\n        if( blurEvent && this.onBlur )\r\n        {\r\n            this.onBlur();\r\n        }\r\n    }\r\n\r\n    _create( items: any[], parentDom?: any ) {\r\n\r\n        if( !parentDom )\r\n        {\r\n            parentDom = this.root;\r\n        }\r\n        else\r\n        {\r\n            const parentRect = parentDom.getBoundingClientRect();\r\n\r\n            let newParent: any = document.createElement( \"div\" );\r\n            newParent.tabIndex = \"1\";\r\n            newParent.className = \"lexdropdownmenu\";\r\n            newParent.dataset[\"id\"] = parentDom.dataset[\"id\"];\r\n            newParent.dataset[\"side\"] = \"right\"; // submenus always come from the right\r\n            this._parent.appendChild( newParent );\r\n\r\n            newParent.currentParent = parentDom;\r\n            parentDom = newParent;\r\n\r\n            LX.doAsync( () => {\r\n\r\n                const position = [ parentRect.x + parentRect.width, parentRect.y ];\r\n\r\n                if( this._parent instanceof HTMLDialogElement )\r\n                {\r\n                    let rootParentRect = this._parent.getBoundingClientRect();\r\n                    position[ 0 ] -= rootParentRect.x;\r\n                    position[ 1 ] -= rootParentRect.y;\r\n                }\r\n\r\n                if( this.avoidCollisions )\r\n                {\r\n                    position[ 0 ] = LX.clamp( position[ 0 ], 0, window.innerWidth - newParent.offsetWidth - this._windowPadding );\r\n                    position[ 1 ] = LX.clamp( position[ 1 ], 0, window.innerHeight - newParent.offsetHeight - this._windowPadding );\r\n                }\r\n\r\n                newParent.style.left = `${ position[ 0 ] }px`;\r\n                newParent.style.top = `${ position[ 1 ] }px`;\r\n            }, 10 );\r\n        }\r\n\r\n        let applyIconPadding = items.filter( ( i: any ) => { return ( i?.icon != undefined ) || ( i?.checked != undefined ) } ).length > 0;\r\n\r\n        for( let item of items )\r\n        {\r\n            this._createItem( item, parentDom, applyIconPadding );\r\n        }\r\n    }\r\n\r\n    _createItem( item: any, parentDom: any, applyIconPadding?: boolean )\r\n    {\r\n        if( !item )\r\n        {\r\n            this._addSeparator( parentDom );\r\n            return;\r\n        }\r\n\r\n        const key = item.name ?? item;\r\n        const pKey = LX.getSupportedDOMName( key );\r\n\r\n        // Item already created\r\n        if( parentDom.querySelector( \"#\" + pKey ) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const menuItem: any = document.createElement('div');\r\n        menuItem.className = \"lexdropdownmenuitem\" + ( ( item.name || item.options ) ? \"\" : \" label\" ) + ( item.disabled ?? false ? \" disabled\" : \"\" ) + ( ` ${ item.className ?? \"\" }` );\r\n        menuItem.dataset[\"id\"] = pKey;\r\n        menuItem.innerHTML = `<span class=\"ellipsis-overflow\">${ key }</span>`;\r\n        menuItem.tabIndex = \"1\";\r\n        parentDom.appendChild( menuItem );\r\n\r\n        if( item.constructor === String ) // Label case\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( item.submenu )\r\n        {\r\n            const submenuIcon = LX.makeIcon( \"Right\", { svgClass: \"sm\" } );\r\n            menuItem.appendChild( submenuIcon );\r\n        }\r\n        else if( item.kbd )\r\n        {\r\n            item.kbd = [].concat( item.kbd );\r\n\r\n            const kbd = LX.makeKbd( item.kbd );\r\n            menuItem.appendChild( kbd );\r\n\r\n            document.addEventListener( \"keydown\", e => {\r\n                if( !this._trigger.ddm ) return;\r\n                e.preventDefault();\r\n                // Check if it's a letter or other key\r\n                let kdbKey = item.kbd.join(\"\");\r\n                kdbKey = kdbKey.length == 1 ? kdbKey.toLowerCase() : kdbKey;\r\n                if( kdbKey == e.key )\r\n                {\r\n                    menuItem.click();\r\n                }\r\n            } );\r\n        }\r\n\r\n        const disabled = item.disabled ?? false;\r\n\r\n        if( this._radioGroup !== undefined )\r\n        {\r\n            if( item.name === this._radioGroup.selected )\r\n            {\r\n                const icon = LX.makeIcon( \"Circle\", { svgClass: \"xxs fill-current\" } );\r\n                menuItem.prepend( icon );\r\n            }\r\n\r\n            menuItem.setAttribute( \"data-radioname\", this._radioGroup.name );\r\n        }\r\n        else if( item.icon )\r\n        {\r\n            const icon = item.icon.constructor === String ? LX.makeIcon( item.icon, { svgClass: disabled ? \"fg-tertiary\" : item.svgClass ?? item.className } ) : item.icon;\r\n            menuItem.prepend( icon );\r\n        }\r\n        else if( item.checked == undefined && applyIconPadding ) // no checkbox, no icon, apply padding if there's checkbox or icon in other items\r\n        {\r\n            menuItem.classList.add( \"pl-8\" );\r\n        }\r\n\r\n        if( disabled )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( item.checked != undefined )\r\n        {\r\n            const checkbox = new Checkbox( pKey + \"_entryChecked\", item.checked, ( v: boolean ) => {\r\n                const f = item[ 'callback' ];\r\n                item.checked = v;\r\n                if( f )\r\n                {\r\n                    f.call( this, key, v, menuItem );\r\n                }\r\n            }, { className: \"accent\" });\r\n            const input = checkbox.root.querySelector( \"input\" );\r\n            input.classList.add( \"ml-auto\" );\r\n            menuItem.appendChild( input );\r\n\r\n            menuItem.addEventListener( \"click\", ( e: any ) => {\r\n                if( e.target.type == \"checkbox\" ) return;\r\n                input.checked = !input.checked;\r\n                checkbox.set( input.checked );\r\n            } );\r\n        }\r\n        else\r\n        {\r\n            menuItem.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                const radioName = menuItem.getAttribute( \"data-radioname\" );\r\n                if( radioName )\r\n                {\r\n                    this._trigger[ radioName ] = key;\r\n                }\r\n\r\n                const f = item.callback;\r\n                if( f )\r\n                {\r\n                    f.call( this, key, menuItem, radioName );\r\n                }\r\n\r\n                // If has options, it's a radio group label, so don't close the menu\r\n                if( !item.options && ( item.closeOnClick ?? true ) )\r\n                {\r\n                    this.destroy( true );\r\n                }\r\n            } );\r\n        }\r\n\r\n        menuItem.addEventListener(\"mouseover\", ( e: MouseEvent ) => {\r\n\r\n            let path = menuItem.dataset[\"id\"];\r\n            if( !path ) return;\r\n            let p = parentDom;\r\n\r\n            while( p )\r\n            {\r\n                path += \"/\" + p.dataset[\"id\"];\r\n                p = p.currentParent?.parentElement;\r\n            }\r\n\r\n            this._parent.querySelectorAll( \".lexdropdownmenu\" ).forEach( ( m: any ) => {\r\n                if( !path.includes( m.dataset[\"id\"] ) )\r\n                {\r\n                    m.currentParent.built = false;\r\n                    m.remove();\r\n                }\r\n            } );\r\n\r\n            if( item.submenu && this.inPlace )\r\n            {\r\n                if( menuItem.built )\r\n                {\r\n                    return;\r\n                }\r\n                menuItem.built = true;\r\n                this._create( item.submenu, menuItem );\r\n            }\r\n\r\n            e.stopPropagation();\r\n        });\r\n\r\n        if( item.options )\r\n        {\r\n            console.assert( this._trigger[ item.name ] && \"An item of the radio group must be selected!\" );\r\n            this._radioGroup = {\r\n                name: item.name,\r\n                selected: this._trigger[ item.name ]\r\n            };\r\n\r\n            for( let o of item.options )\r\n            {\r\n                this._createItem( o, parentDom, applyIconPadding );\r\n            }\r\n\r\n            delete this._radioGroup;\r\n\r\n            this._addSeparator();\r\n        }\r\n    }\r\n\r\n    _adjustPosition()\r\n    {\r\n        const position = [ 0, 0 ];\r\n        const rect = this._trigger.getBoundingClientRect();\r\n\r\n        // Place menu using trigger position and user options\r\n        if( !this.event )\r\n        {\r\n            let alignWidth = true;\r\n\r\n            switch( this.side )\r\n            {\r\n                case \"left\":\r\n                    position[ 0 ] += ( rect.x - this.root.offsetWidth - this.sideOffset );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"right\":\r\n                    position[ 0 ] += ( rect.x + rect.width + this.sideOffset );\r\n                    alignWidth = false;\r\n                    break;\r\n                case \"top\":\r\n                    position[ 1 ] += ( rect.y - this.root.offsetHeight - this.sideOffset );\r\n                    alignWidth = true;\r\n                    break;\r\n                case \"bottom\":\r\n                    position[ 1 ] += ( rect.y + rect.height + this.sideOffset );\r\n                    alignWidth = true;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            switch( this.align )\r\n            {\r\n                case \"start\":\r\n                    if( alignWidth ) { position[ 0 ] += rect.x; }\r\n                    else { position[ 1 ] += rect.y; }\r\n                    break;\r\n                case \"center\":\r\n                    if( alignWidth ) { position[ 0 ] += ( rect.x + rect.width * 0.5 ) - this.root.offsetWidth * 0.5; }\r\n                    else { position[ 1 ] += ( rect.y + rect.height * 0.5 ) - this.root.offsetHeight * 0.5; }\r\n                    break;\r\n                case \"end\":\r\n                    if( alignWidth ) { position[ 0 ] += rect.x - this.root.offsetWidth + rect.width; }\r\n                    else { position[ 1 ] += rect.y - this.root.offsetHeight + rect.height; }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            if( alignWidth ) { position[ 0 ] += this.alignOffset; }\r\n            else { position[ 1 ] += this.alignOffset; }\r\n        }\r\n        // Offset position based on event\r\n        else\r\n        {\r\n            position[ 0 ] = this.event.x;\r\n            position[ 1 ] = this.event.y;\r\n        }\r\n\r\n        if( this._parent instanceof HTMLDialogElement )\r\n        {\r\n            let parentRect = this._parent.getBoundingClientRect();\r\n            position[ 0 ] -= parentRect.x;\r\n            position[ 1 ] -= parentRect.y;\r\n        }\r\n\r\n        if( this.avoidCollisions )\r\n        {\r\n            position[ 0 ] = LX.clamp( position[ 0 ], 0, window.innerWidth - this.root.offsetWidth - this._windowPadding );\r\n            position[ 1 ] = LX.clamp( position[ 1 ], 0, window.innerHeight - this.root.offsetHeight - this._windowPadding );\r\n        }\r\n\r\n        this.root.style.left = `${ position[ 0 ] }px`;\r\n        this.root.style.top = `${ position[ 1 ] }px`;\r\n        this.inPlace = true;\r\n    }\r\n\r\n    _addSeparator( parent: HTMLElement | null = null )\r\n    {\r\n        const separator = document.createElement('div');\r\n        separator.className = \"separator\";\r\n        parent = parent ?? this.root;\r\n        parent?.appendChild( separator );\r\n    }\r\n};\r\n\r\nLX.DropdownMenu = DropdownMenu;\r\n\r\nexport function addDropdownMenu( trigger: any, items: any[], options: any = {} ): DropdownMenu | null\r\n{\r\n    const menu = new DropdownMenu( trigger, items, options );\r\n    if( !menu.invalid )\r\n    {\r\n        return menu;\r\n    }\r\n    return null;\r\n}\r\n\r\nLX.addDropdownMenu = addDropdownMenu;","// Skeleton.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\nexport class Skeleton {\r\n\r\n    root: any;\r\n\r\n    constructor( elements: any[] ) {\r\n\r\n        this.root = LX.makeContainer( [ \"auto\", \"auto\" ], \"flex flex-row lexskeleton\" );\r\n\r\n        if( elements.constructor === String )\r\n        {\r\n            this.root.innerHTML = elements;\r\n        }\r\n        else\r\n        {\r\n            // Force array\r\n            elements = [].concat( ( elements as any ) );\r\n\r\n            for( let e of elements )\r\n            {\r\n                this.root.appendChild( e );\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n\r\n        this.root.dataset[ \"closed\" ] = true;\r\n\r\n        LX.doAsync( () => {\r\n            this.root.remove();\r\n            this.root = null;\r\n        }, 200 );\r\n    }\r\n}\r\n\r\nLX.Skeleton = Skeleton;","// Tour.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Popover } from './Popover';\r\nimport { Panel } from '../core/Panel';\r\n\r\nexport class Tour\r\n{\r\n    static ACTIVE_TOURS: any[] = [];\r\n\r\n    /**\r\n     * @constructor Tour\r\n     * @param {Array} steps\r\n     * @param {Object} options\r\n     * useModal: Use a modal to highlight the tour step [true]\r\n     * offset: Horizontal and vertical margin offset [0]\r\n     * horizontalOffset: Horizontal offset [0]\r\n     * verticalOffset: Vertical offset [0]\r\n     * radius: Radius for the tour step highlight [8]\r\n     */\r\n\r\n    steps: any[];\r\n    currentStep: number = 0;\r\n    useModal: boolean;\r\n    offset: number;\r\n    horizontalOffset: number;\r\n    verticalOffset: number;\r\n    radius: number;\r\n    tourContainer: any;\r\n    tourMask: HTMLElement | undefined = undefined;\r\n\r\n    _popover: Popover | null = null;\r\n\r\n    constructor( steps: any[], options: any = {} )\r\n    {\r\n        this.steps = steps || [];\r\n\r\n        this.useModal = options.useModal ?? true;\r\n        this.offset = options.offset ?? 8;\r\n        this.horizontalOffset = options.horizontalOffset;\r\n        this.verticalOffset = options.verticalOffset;\r\n        this.radius = options.radius ?? 12;\r\n\r\n        this.tourContainer = document.querySelector( \".tour-container\" );\r\n        if( !this.tourContainer )\r\n        {\r\n            this.tourContainer = LX.makeContainer( [\"100%\", \"100%\"], \"tour-container\" );\r\n            this.tourContainer.style.display = \"none\";\r\n            document.body.appendChild( this.tourContainer );\r\n\r\n            window.addEventListener( \"resize\", () => {\r\n                for( const tour of Tour.ACTIVE_TOURS )\r\n                {\r\n                    tour._showStep( 0 );\r\n                }\r\n            } );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method begin\r\n     */\r\n\r\n    begin()\r\n    {\r\n        this.currentStep = 0;\r\n        this.tourContainer.style.display = \"block\";\r\n        Tour.ACTIVE_TOURS.push( this );\r\n        this._showStep( 0 );\r\n    }\r\n\r\n    /**\r\n     * @method stop\r\n     */\r\n\r\n    stop()\r\n    {\r\n        if( this.useModal )\r\n        {\r\n            this.tourMask?.remove();\r\n            this.tourMask = undefined;\r\n        }\r\n\r\n        this._popover?.destroy();\r\n\r\n        const index = Tour.ACTIVE_TOURS.indexOf( this );\r\n        if( index !== -1 )\r\n        {\r\n            Tour.ACTIVE_TOURS.splice( index, 1 );\r\n        }\r\n\r\n        this.tourContainer.innerHTML = \"\";\r\n        this.tourContainer.style.display = \"none\";\r\n    }\r\n\r\n    // Show the current step of the tour\r\n    _showStep( stepOffset = 1 )\r\n    {\r\n        this.currentStep += stepOffset;\r\n\r\n        const step = this.steps[ this.currentStep ];\r\n        if ( !step ) {\r\n            this.stop();\r\n            return;\r\n        }\r\n\r\n        const prevStep = this.steps[ this.currentStep - 1 ];\r\n        const nextStep = this.steps[ this.currentStep + 1 ];\r\n\r\n        if( this.useModal )\r\n        {\r\n            this._generateMask( step.reference );\r\n        }\r\n\r\n        this._createHighlight( step, prevStep, nextStep );\r\n    }\r\n\r\n    // Generate mask for the specific step reference\r\n    // using a fullscreen SVG with \"rect\" elements\r\n    _generateMask( reference: HTMLElement )\r\n    {\r\n        this.tourContainer.innerHTML = \"\"; // Clear previous content\r\n\r\n        this.tourMask = LX.makeContainer( [\"100%\", \"100%\"], \"tour-mask\" );\r\n        this.tourContainer.appendChild( this.tourMask );\r\n\r\n        const svg = document.createElementNS( \"http://www.w3.org/2000/svg\", \"svg\" );\r\n        svg.style.width = \"100%\";\r\n        svg.style.height = \"100%\";\r\n        this.tourMask?.appendChild( svg );\r\n\r\n        const clipPath = document.createElementNS( \"http://www.w3.org/2000/svg\", \"clipPath\" );\r\n        clipPath.setAttribute( \"id\", \"svgTourClipPath\" );\r\n        svg.appendChild( clipPath );\r\n\r\n        function ceilAndShiftRect( p: number, s: number ): [ number, number ]\r\n        {\r\n            const cp = Math.ceil( p );\r\n            const delta = cp - p;\r\n            const ds = s - delta;\r\n            return [  cp, ds ];\r\n        }\r\n\r\n        const refBounding = reference.getBoundingClientRect();\r\n        const [ boundingX, boundingWidth ] = ceilAndShiftRect( refBounding.x, refBounding.width );\r\n        const [ boundingY, boundingHeight ] = ceilAndShiftRect( refBounding.y, refBounding.height );\r\n\r\n        const vOffset = this.verticalOffset ?? this.offset;\r\n        const hOffset = this.horizontalOffset ?? this.offset;\r\n\r\n        // Left\r\n        {\r\n            const rect = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rect.setAttribute( \"x\", \"0\" );\r\n            rect.setAttribute( \"y\", \"0\" );\r\n            rect.setAttribute( \"width\", `${ Math.max( 0, boundingX - hOffset ) }` );\r\n            rect.setAttribute( \"height\", `${ window.innerHeight }` );\r\n            rect.setAttribute( \"stroke\", \"none\" );\r\n            clipPath.appendChild( rect );\r\n        }\r\n\r\n        // Top\r\n        {\r\n            const rect = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rect.setAttribute( \"x\", `${ boundingX - hOffset }` );\r\n            rect.setAttribute( \"y\", \"0\" );\r\n            rect.setAttribute( \"width\", `${ Math.max( 0, boundingWidth + hOffset * 2 ) }` );\r\n            rect.setAttribute( \"height\", `${ Math.max( 0, boundingY - vOffset ) }` );\r\n            rect.setAttribute( \"stroke\", \"none\" );\r\n            clipPath.appendChild( rect );\r\n        }\r\n\r\n        // Bottom\r\n        {\r\n            const rect = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rect.setAttribute( \"x\", `${ boundingX - hOffset }` );\r\n            rect.setAttribute( \"y\", `${ boundingY + boundingHeight + vOffset }` );\r\n            rect.setAttribute( \"width\", `${ Math.max( 0, boundingWidth + hOffset * 2 ) }` );\r\n            rect.setAttribute( \"height\", `${ Math.max( 0, window.innerHeight - boundingY - boundingHeight - vOffset ) }` );\r\n            rect.setAttribute( \"stroke\", \"none\" );\r\n            clipPath.appendChild( rect );\r\n        }\r\n\r\n        // Right\r\n        {\r\n            const rect = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rect.setAttribute( \"x\", `${ boundingX + boundingWidth + hOffset }` );\r\n            rect.setAttribute( \"y\", \"0\" );\r\n            rect.setAttribute( \"width\", `${ Math.max( 0, window.innerWidth - boundingX - boundingWidth ) }` );\r\n            rect.setAttribute( \"height\", `${ Math.max( 0, window.innerHeight ) }` );\r\n            rect.setAttribute( \"stroke\", \"none\" );\r\n            clipPath.appendChild( rect );\r\n        }\r\n\r\n        // Reference Highlight\r\n        const refContainer = LX.makeContainer( [\"0\", \"0\"], \"tour-ref-mask\" );\r\n        refContainer.style.left = `${ boundingX - hOffset - 1 }px`;\r\n        refContainer.style.top = `${ boundingY - vOffset - 1 }px`;\r\n        refContainer.style.width = `${ boundingWidth + hOffset * 2 + 2 }px`;\r\n        refContainer.style.height = `${ boundingHeight + vOffset * 2 + 2}px`;\r\n        this.tourContainer.appendChild( refContainer );\r\n\r\n        const referenceMask = document.createElementNS( \"http://www.w3.org/2000/svg\", \"mask\" );\r\n        referenceMask.setAttribute( \"id\", \"svgTourReferenceMask\" );\r\n        svg.appendChild( referenceMask );\r\n\r\n        // Reference Mask\r\n        {\r\n            const rectWhite = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rectWhite.setAttribute( \"width\", `${ boundingWidth + hOffset * 2 + 2 }` );\r\n            rectWhite.setAttribute( \"height\", `${ boundingHeight + vOffset * 2 + 2 }` );\r\n            rectWhite.setAttribute( \"stroke\", \"none\" );\r\n            rectWhite.setAttribute( \"fill\", \"white\" );\r\n            referenceMask.appendChild( rectWhite );\r\n\r\n            const rectBlack = document.createElementNS( \"http://www.w3.org/2000/svg\", \"rect\" );\r\n            rectBlack.setAttribute( \"rx\", `${ this.radius }` );\r\n            rectBlack.setAttribute( \"width\", `${ boundingWidth + hOffset * 2 + 2 }` );\r\n            rectBlack.setAttribute( \"height\", `${ boundingHeight + vOffset * 2 + 2 }` );\r\n            rectBlack.setAttribute( \"stroke\", \"none\" );\r\n            rectBlack.setAttribute( \"fill\", \"black\" );\r\n            referenceMask.appendChild( rectBlack );\r\n        }\r\n    }\r\n\r\n    // Create the container with the user hints\r\n    _createHighlight( step: any, previousStep: any, nextStep: any )\r\n    {\r\n        const popoverContainer = LX.makeContainer( [\"auto\", \"auto\"], \"tour-step-container\" );\r\n\r\n        {\r\n            const header = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row\", \"\", popoverContainer );\r\n            const title = LX.makeContainer( [\"70%\", \"auto\"], \"p-2 font-medium\", step.title, header );\r\n            const closer = LX.makeContainer( [\"30%\", \"auto\"], \"flex flex-row p-2 justify-end\", \"\", header );\r\n            const closeIcon = LX.makeIcon( \"X\" );\r\n            closer.appendChild( closeIcon );\r\n\r\n            LX.listen( closeIcon, \"click\", () => {\r\n                this.stop();\r\n            } );\r\n        }\r\n\r\n        const content = LX.makeContainer( [\"100%\", \"auto\"], \"p-2 text-md\", step.content, popoverContainer, { maxWidth: \"400px\" } );\r\n        const footer = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row text-md\", \"\", popoverContainer );\r\n\r\n        {\r\n            const footerSteps = LX.makeContainer( [\"50%\", \"auto\"], \"p-2 gap-1 self-center flex flex-row text-md\", \"\", footer );\r\n            for(  let i = 0; i < this.steps.length; i++ )\r\n            {\r\n                const stepIndicator = document.createElement( \"span\" );\r\n                stepIndicator.className = \"tour-step-indicator\";\r\n                if( i === this.currentStep )\r\n                {\r\n                    stepIndicator.classList.add( \"active\" );\r\n                }\r\n                footerSteps.appendChild( stepIndicator );\r\n            }\r\n        }\r\n\r\n        const footerButtons = LX.makeContainer( [\"50%\", \"auto\"], \"text-md\", \"\", footer );\r\n        const footerPanel = new Panel();\r\n\r\n        let numButtons = 1;\r\n\r\n        if( previousStep )\r\n        {\r\n            numButtons++;\r\n        }\r\n\r\n        if( numButtons > 1 )\r\n        {\r\n            footerPanel.sameLine( 2, \"justify-end\" );\r\n        }\r\n\r\n        if( previousStep )\r\n        {\r\n            footerPanel.addButton( null, \"Previous\", () => {\r\n                this._showStep( -1 );\r\n            }, { buttonClass: \"contrast\" } );\r\n        }\r\n\r\n        if( nextStep )\r\n        {\r\n            footerPanel.addButton( null, \"Next\", () => {\r\n                this._showStep( 1 );\r\n            }, { buttonClass: \"accent\" } );\r\n        }\r\n        else\r\n        {\r\n            footerPanel.addButton( null, \"Finish\", () => {\r\n                this.stop();\r\n            } );\r\n        }\r\n\r\n        footerButtons.appendChild( footerPanel.root );\r\n\r\n        const sideOffset = ( step.side === \"left\" || step.side === \"right\" ? this.horizontalOffset : this.verticalOffset ) ?? this.offset;\r\n        const alignOffset = ( step.align === \"start\" || step.align === \"end\" ? sideOffset : 0 );\r\n\r\n        this._popover?.destroy();\r\n        this._popover = new Popover( null, [ popoverContainer ], {\r\n            reference: step.reference,\r\n            side: step.side,\r\n            align: step.align,\r\n            sideOffset,\r\n            alignOffset: step.align === \"start\" ? -alignOffset : alignOffset,\r\n        } );\r\n    }\r\n};\r\n\r\nLX.Tour = Tour;","// Sheet.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class Sheet\r\n */\r\n\r\nexport class Sheet\r\n{\r\n    side: string = \"left\";\r\n    root: any;\r\n\r\n    _onClick: any;\r\n\r\n    constructor( size: string, content: any, options: any = {} )\r\n    {\r\n        this.side = options.side ?? this.side;\r\n\r\n        this.root = document.createElement( \"div\" );\r\n        this.root.dataset[\"side\"] = this.side;\r\n        this.root.tabIndex = \"1\";\r\n        this.root.role = \"dialog\";\r\n        this.root.className = \"lexsheet fixed z-1000 bg-primary\";\r\n        document.body.appendChild( this.root );\r\n\r\n        this.root.addEventListener( \"keydown\", ( e: KeyboardEvent ) => {\r\n            if( e.key == \"Escape\" )\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.destroy();\r\n            }\r\n        } )\r\n\r\n        if( content )\r\n        {\r\n            content = [].concat( content );\r\n            content.forEach( ( e: any ) => {\r\n                const domNode = e.root ?? e;\r\n                this.root.appendChild( domNode );\r\n                if( e.onSheet )\r\n                {\r\n                    e.onSheet();\r\n                }\r\n            } );\r\n        }\r\n\r\n        LX.doAsync( () => {\r\n\r\n            LX.modal.toggle( false );\r\n\r\n            switch( this.side )\r\n            {\r\n                case \"left\":\r\n                    this.root.style.left = \"0\";\r\n                    this.root.style.width = size;\r\n                    this.root.style.height = \"100%\";\r\n                    break;\r\n                case \"right\":\r\n                    this.root.style.right = \"0\";\r\n                    this.root.style.width = size;\r\n                    this.root.style.height = \"100%\";\r\n                    break;\r\n                case \"top\":\r\n                    this.root.style.left = \"0\";\r\n                    this.root.style.top = \"0\";\r\n                    this.root.style.width = \"100%\";\r\n                    this.root.style.height = size;\r\n                    break;\r\n                case \"bottom\":\r\n                    this.root.style.left = \"0\";\r\n                    this.root.style.bottom = \"0\";\r\n                    this.root.style.width = \"100%\";\r\n                    this.root.style.height = size;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            document.documentElement.setAttribute( \"data-scale\", `sheet-${ this.side }` );\r\n\r\n            this.root.focus();\r\n\r\n            this._onClick = ( e: any ) => {\r\n                if( e.target && ( this.root.contains( e.target ) ) )\r\n                {\r\n                    return;\r\n                }\r\n                this.destroy();\r\n            };\r\n\r\n            document.body.addEventListener( \"mousedown\", this._onClick, true );\r\n            document.body.addEventListener( \"focusin\", this._onClick, true );\r\n        }, 10 );\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        document.documentElement.setAttribute( \"data-scale\", \"\" );\r\n\r\n        document.body.removeEventListener( \"mousedown\", this._onClick, true );\r\n        document.body.removeEventListener( \"focusin\", this._onClick, true );\r\n\r\n        this.root.remove();\r\n\r\n        LX.modal.toggle( true );\r\n    }\r\n};\r\n\r\nLX.Sheet = Sheet;","// Dialog.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Panel } from '../core/Panel';\r\n\r\n/**\r\n * @class Dialog\r\n */\r\n\r\nexport class Dialog\r\n{\r\n    static _last_id = 0;\r\n\r\n    id: string;\r\n    root: HTMLDialogElement;\r\n    panel: Panel;\r\n    title: HTMLDivElement;\r\n    size: any[] = [];\r\n    branchData: any;\r\n\r\n    close: () => void = () => {};\r\n\r\n    _oncreate: any;\r\n\r\n    constructor( title: string, callback: any, options: any = {} )\r\n    {\r\n        if( !callback )\r\n        {\r\n            console.warn(\"Content is empty, add some components using 'callback' parameter!\");\r\n        }\r\n\r\n        this._oncreate = callback;\r\n        this.id = LX.guidGenerator();\r\n\r\n        const size = options.size ?? [],\r\n            position = options.position ?? [],\r\n            draggable = options.draggable ?? true,\r\n            dockable = options.dockable ?? false,\r\n            modal = options.modal ?? false;\r\n\r\n        let root = document.createElement('dialog');\r\n        root.className = \"lexdialog \" + (options.className ?? \"\");\r\n        root.id = options.id ?? \"dialog\" + Dialog._last_id++;\r\n        root.dataset[\"modal\"] = modal;\r\n        LX.root.appendChild( root );\r\n\r\n        LX.doAsync( () => {\r\n            modal ? root.showModal() : root.show();\r\n        }, 10 );\r\n\r\n        let that = this;\r\n\r\n        const titleDiv = document.createElement( 'div' );\r\n\r\n        if( title )\r\n        {\r\n            titleDiv.className = \"lexdialogtitle\";\r\n            titleDiv.innerHTML = title;\r\n            titleDiv.setAttribute( \"draggable\", \"false\" );\r\n            root.appendChild( titleDiv );\r\n        }\r\n\r\n        if( options.closable ?? true )\r\n        {\r\n            this.close = () => {\r\n\r\n                if( options.onBeforeClose )\r\n                {\r\n                    options.onBeforeClose( this );\r\n                }\r\n\r\n                if( !options.onclose )\r\n                {\r\n                    root.close();\r\n\r\n                    LX.doAsync( () => {\r\n                        that.panel.clear();\r\n                        root.remove();\r\n                    }, 150 );\r\n                }\r\n                else\r\n                {\r\n                    options.onclose( this.root );\r\n                }\r\n            };\r\n\r\n            const closeButton = LX.makeIcon( \"X\", { title: \"Close\", iconClass: \"lexdialogcloser\" } );\r\n            closeButton.addEventListener( \"click\", this.close );\r\n\r\n            const dockButton = LX.makeIcon( \"Minus\", { title: \"Dock\", iconClass: \"ml-auto mr-2\" } );\r\n            dockButton.addEventListener( \"click\", () => {\r\n\r\n                const data = this.branchData;\r\n                const panel = data.panel;\r\n                const panelChildCount = panel.root.childElementCount;\r\n\r\n                const branch = panel.branch( data.name, { closed: data.closed } );\r\n                branch.components = data.components;\r\n\r\n                for( let w of branch.components )\r\n                {\r\n                    branch.content.appendChild( w.root );\r\n                }\r\n\r\n                if( data.childIndex < panelChildCount )\r\n                {\r\n                    panel.root.insertChildAtIndex( branch.root, data.childIndex );\r\n                }\r\n\r\n                this.close();\r\n            } );\r\n\r\n            if( title )\r\n            {\r\n                if( dockable ) titleDiv.appendChild( dockButton );\r\n                titleDiv.appendChild( closeButton );\r\n            }\r\n            else\r\n            {\r\n                closeButton.classList.add( \"notitle\" );\r\n                root.appendChild( closeButton );\r\n            }\r\n        }\r\n\r\n        const panel = new LX.Panel();\r\n        panel.root.classList.add( \"lexdialogcontent\" );\r\n\r\n        if( !title )\r\n        {\r\n            panel.root.classList.add( \"notitle\" );\r\n        }\r\n\r\n        if( callback )\r\n        {\r\n            callback.call( this, panel );\r\n        }\r\n\r\n        root.appendChild( panel.root );\r\n\r\n        // Make branches have a distintive to manage some cases\r\n        panel.root.querySelectorAll(\".lexbranch\").forEach( ( b: HTMLElement ) => b.classList.add(\"dialog\") );\r\n\r\n        this.panel = panel;\r\n        this.root = root;\r\n        this.title = titleDiv;\r\n\r\n        if( draggable )\r\n        {\r\n            LX.makeDraggable( root, Object.assign( { targetClass: 'lexdialogtitle' }, options ) );\r\n        }\r\n\r\n        // Process position and size\r\n        if( size.length && typeof(size[ 0 ]) != \"string\" )\r\n        {\r\n            size[ 0 ] += \"px\";\r\n        }\r\n\r\n        if( size.length && typeof(size[ 1 ]) != \"string\" )\r\n        {\r\n            size[ 1 ] += \"px\";\r\n        }\r\n\r\n        root.style.width = size[ 0 ] ? (size[ 0 ]) : \"25%\";\r\n        root.style.height = size[ 1 ] ? (size[ 1 ]) : \"auto\";\r\n        root.style.translate = options.position ? \"unset\" : \"-50% -50%\";\r\n\r\n        if( options.size )\r\n        {\r\n            this.size = size;\r\n        }\r\n\r\n        root.style.left = position[ 0 ] ?? \"50%\";\r\n        root.style.top = position[ 1 ] ?? \"50%\";\r\n\r\n        panel.root.style.height = title ? \"calc( 100% - \" + ( titleDiv.offsetHeight + 30 ) + \"px )\" : \"calc(100%)\";\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        this.root.remove();\r\n    }\r\n\r\n    refresh()\r\n    {\r\n        this.panel.root.innerHTML = \"\";\r\n        this._oncreate.call(this, this.panel);\r\n    }\r\n\r\n    setPosition( x: number, y: number )\r\n    {\r\n        this.root.style.left = `${ x }px`;\r\n        this.root.style.top = `${ y }px`;\r\n    }\r\n\r\n    setTitle( title: string )\r\n    {\r\n        const titleDOM: HTMLElement | null = this.root.querySelector( '.lexdialogtitle' );\r\n        if( !titleDOM )\r\n        {\r\n            return;\r\n        }\r\n        titleDOM.innerText = title;\r\n    }\r\n}\r\n\r\nLX.Dialog = Dialog;","// PocketDialog.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\nimport { Dialog } from './Dialog';\r\n\r\n/**\r\n * @class PocketDialog\r\n */\r\n\r\nexport class PocketDialog extends Dialog\r\n{\r\n    static TOP      = 0;\r\n    static BOTTOM   = 1;\r\n\r\n    dockPosition: number = PocketDialog.TOP;\r\n    minimized: boolean = false;\r\n\r\n    constructor( title: string, callback: any, options: any = {} )\r\n    {\r\n        options.draggable = options.draggable ?? false;\r\n        options.closable = options.closable ?? false;\r\n\r\n        const dragMargin = 3;\r\n\r\n        super( title, callback, options );\r\n\r\n        let that = this;\r\n        // Update margins on branch title closes/opens\r\n        LX.addSignal(\"@on_branch_closed\", this.panel, ( closed: boolean ) => {\r\n            if( this.dockPosition == PocketDialog.BOTTOM )\r\n            {\r\n                this.root.style.top = `calc(100% - ${ this.root.offsetHeight + dragMargin }px)`;\r\n            }\r\n        });\r\n\r\n        // Custom\r\n        this.root.classList.add( \"pocket\" );\r\n\r\n        this.root.style.translate = \"none\";\r\n        this.root.style.top = \"0\";\r\n        this.root.style.left = \"unset\";\r\n\r\n        if( !options.position )\r\n        {\r\n            this.root.style.right = dragMargin + \"px\";\r\n            this.root.style.top = dragMargin + \"px\";\r\n        }\r\n\r\n        this.panel.root.style.width = \"100%\";\r\n        this.panel.root.style.height = \"100%\";\r\n\r\n        const innerTitle = ( this.title as any );\r\n        innerTitle.tabIndex = -1;\r\n        innerTitle.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n            if( innerTitle.eventCatched )\r\n            {\r\n                innerTitle.eventCatched = false;\r\n                return;\r\n            }\r\n\r\n            // Sized dialogs have to keep their size\r\n            if( this.size )\r\n            {\r\n                if( !this.minimized ) this.root.style.height = \"auto\";\r\n                else this.root.style.height = this.size[ 1 ];\r\n            }\r\n\r\n            this.root.classList.toggle( \"minimized\" );\r\n            this.minimized = !this.minimized;\r\n\r\n            if( this.dockPosition == PocketDialog.BOTTOM )\r\n            {\r\n                that.root.style.top = this.root.classList.contains( \"minimized\" ) ?\r\n                    `calc(100% - ${ that.title.offsetHeight + 6 }px)` : `calc(100% - ${ that.root.offsetHeight + dragMargin }px)`;\r\n            }\r\n        });\r\n\r\n        if( !options.draggable )\r\n        {\r\n            const float = options.float;\r\n\r\n            if( float )\r\n            {\r\n                for( let i = 0; i < float.length; i++ )\r\n                {\r\n                    const t = float[ i ];\r\n                    switch( t )\r\n                    {\r\n                    case 'b':\r\n                        this.root.style.top = `calc(100% - ${ this.root.offsetHeight + dragMargin }px)`;\r\n                        break;\r\n                    case 'l':\r\n                        this.root.style.right = \"unset\";\r\n                        this.root.style.left = options.position ? options.position[ 1 ] : ( `${ dragMargin }px` );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.root.classList.add( \"dockable\" );\r\n\r\n            innerTitle.addEventListener( \"keydown\", function( e: KeyboardEvent ) {\r\n                if( !e.ctrlKey )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                that.root.style.right = \"unset\";\r\n\r\n                if( e.key == 'ArrowLeft' )\r\n                {\r\n                    that.root.style.left = '0px';\r\n                }\r\n                else if( e.key == 'ArrowRight' )\r\n                {\r\n                    that.root.style.left = `calc(100% - ${ that.root.offsetWidth + dragMargin }px)`;\r\n                }\r\n                else if( e.key == 'ArrowUp' )\r\n                {\r\n                    that.root.style.top = \"0px\";\r\n                    that.dockPosition = PocketDialog.TOP;\r\n                }\r\n                else if( e.key == 'ArrowDown' )\r\n                {\r\n                    that.root.style.top = `calc(100% - ${ that.root.offsetHeight + dragMargin }px)`;\r\n                    that.dockPosition = PocketDialog.BOTTOM;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nLX.PocketDialog = PocketDialog;","// Footer.ts @jxarco\r\n\r\nimport { LX } from './../core/Namespace';\r\n\r\n/**\r\n * @class Footer\r\n */\r\n\r\nexport class Footer {\r\n    /**\r\n     * @param {Object} options:\r\n     * columns: Array with data per column { title, items: [ { title, link } ]  }\r\n     * credits: html string\r\n     * socials: Array with data per item { title, link, icon }\r\n     * className: Extra class to customize\r\n    */\r\n\r\n    root: any;\r\n\r\n    constructor( options: any = {} ) {\r\n\r\n        const root = document.createElement( \"footer\" );\r\n        root.className = \"lexfooter\" + ` ${ options.className ?? \"\" }`;\r\n\r\n        const wrapper = document.createElement( \"div\" );\r\n        wrapper.style.minHeight = \"48px\";\r\n        wrapper.className = \"w-full\";\r\n        root.appendChild( wrapper );\r\n\r\n        // const hr = document.createElement( \"hr\" );\r\n        // wrapper.appendChild( hr );\r\n\r\n        if( options.columns && options.columns.constructor == Array )\r\n        {\r\n            const cols = document.createElement( \"div\" );\r\n            cols.className = \"columns\";\r\n            cols.style.gridTemplateColumns = \"1fr \".repeat( options.columns.length );\r\n            wrapper.appendChild( cols );\r\n\r\n            for( let col of options.columns )\r\n            {\r\n                const colDom = document.createElement( \"div\" );\r\n                colDom.className = \"col\";\r\n                cols.appendChild( colDom );\r\n\r\n                const colTitle = document.createElement( \"h2\" );\r\n                colTitle.innerHTML = col.title;\r\n                colDom.appendChild( colTitle );\r\n\r\n                if( !col.items || !col.items.length )\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                const itemListDom = document.createElement( \"ul\" );\r\n                colDom.appendChild( itemListDom );\r\n\r\n                for( let item of col.items )\r\n                {\r\n                    const itemDom = document.createElement( \"li\" );\r\n                    itemDom.innerHTML = `<a class=\"\" href=\"${ item.link }\">${ item.title }</a>`;\r\n                    itemListDom.appendChild( itemDom );\r\n                }\r\n            }\r\n        }\r\n\r\n        if( options.credits || options.socials )\r\n        {\r\n            const creditsSocials = document.createElement( \"div\" );\r\n            creditsSocials.className = \"credits-and-socials\";\r\n            wrapper.appendChild( creditsSocials );\r\n\r\n            if( options.credits )\r\n            {\r\n                const credits = document.createElement( \"p\" );\r\n                credits.innerHTML = options.credits;\r\n                creditsSocials.appendChild( credits );\r\n            }\r\n\r\n            if( options.socials )\r\n            {\r\n                const socials = document.createElement( \"div\" );\r\n                socials.className = \"socials flex flex-row gap-1 my-2 justify-end\";\r\n\r\n                for( let social of options.socials )\r\n                {\r\n                    const socialIcon = LX.makeIcon( social.icon, { title: social.title, svgClass: \"xl\" } );\r\n                    socialIcon.href = social.link;\r\n                    socialIcon.target = \"_blank\";\r\n                    socials.appendChild( socialIcon );\r\n                }\r\n\r\n                creditsSocials.appendChild( socials );\r\n            }\r\n        }\r\n\r\n        // Append directly to body\r\n        const parent = options.parent ?? document.body;\r\n        parent.appendChild( root );\r\n\r\n        // Set always at bottom\r\n        if( root.previousElementSibling )\r\n        {\r\n            ( root.previousElementSibling as any ).style.flexGrow = \"1\";\r\n        }\r\n\r\n        this.root = root;\r\n    }\r\n}\r\n\r\nLX.Footer = Footer;","// Core.ts @jxarco\r\n\r\nimport { LX } from './Namespace';\r\nimport { Area } from './Area';\r\nimport { Panel } from './Panel';\r\nimport { IEvent } from './Event';\r\nimport { BaseComponent, ComponentType } from '../components/BaseComponent';\r\nimport { TextInput } from '../components/TextInput';\r\nimport { ContextMenu } from '../components/ContextMenu';\r\n\r\n/**\r\n * @method init\r\n * @param {Object} options\r\n * autoTheme: Use theme depending on browser-system default theme [true]\r\n * container: Root location for the gui (default is the document body)\r\n * id: Id of the main area\r\n * rootClass: Extra class to the root container\r\n * skipRoot: Skip adding LX root container\r\n * skipDefaultArea: Skip creation of main area\r\n * layoutMode: Sets page layout mode (document | app)\r\n * spacingMode: Sets page layout spacing mode (default | compact)\r\n */\r\n\r\nLX.init = async function( options: any = {} )\r\n{\r\n    if( this.ready )\r\n    {\r\n        return this.mainArea;\r\n    }\r\n\r\n    await LX.loadScriptSync( \"https://unpkg.com/lucide@latest\" );\r\n\r\n    // LexGUI root\r\n    console.log( `LexGUI v${ this.version }` );\r\n\r\n    var root = document.createElement( 'div' );\r\n    root.id = \"lexroot\";\r\n    root.className = \"lexcontainer\";\r\n    root.tabIndex = -1;\r\n\r\n    if( options.rootClass )\r\n    {\r\n        root.className += ` ${ options.rootClass }`;\r\n    }\r\n\r\n    this.modal = document.createElement( 'div' );\r\n    this.modal.id = \"modal\";\r\n    this.modal.classList.add( 'hidden-opacity' );\r\n    this.modal.toggle = function( force: boolean ) { this.classList.toggle( 'hidden-opacity', force ); };\r\n\r\n    this.root = root;\r\n    this.container = document.body;\r\n\r\n    if( options.container )\r\n    {\r\n        this.container = options.container.constructor === String ? document.getElementById( options.container ) : options.container;\r\n    }\r\n\r\n    this.layoutMode = options.layoutMode ?? \"app\";\r\n    document.documentElement.setAttribute( \"data-layout\", this.layoutMode );\r\n\r\n    if( this.layoutMode == \"document\" )\r\n    {\r\n        // document.addEventListener( \"scroll\", e => {\r\n        //     // Get all active menuboxes\r\n        //     const mbs = document.body.querySelectorAll( \".lexdropdownmenu\" );\r\n        //     mbs.forEach( ( mb: any ) => {\r\n        //         mb._updatePosition();\r\n        //     } );\r\n        // } );\r\n    }\r\n\r\n    this.spacingMode = options.spacingMode ?? \"default\";\r\n    document.documentElement.setAttribute( \"data-spacing\", this.spacingMode );\r\n\r\n    this.container.appendChild( this.modal );\r\n\r\n    if( !options.skipRoot )\r\n    {\r\n        this.container.appendChild( root );\r\n    }\r\n    else\r\n    {\r\n        this.root = document.body;\r\n    }\r\n\r\n    // Notifications\r\n    {\r\n        const notifSection = document.createElement( \"section\" );\r\n        notifSection.className = \"notifications\";\r\n        this.notifications = document.createElement( \"ol\" );\r\n        this.notifications.className = \"\";\r\n        this.notifications.iWidth = 0;\r\n        notifSection.appendChild( this.notifications );\r\n        document.body.appendChild( notifSection );\r\n\r\n        this.notifications.addEventListener( \"mouseenter\", () => {\r\n            this.notifications.classList.add( \"list\" );\r\n        } );\r\n\r\n        this.notifications.addEventListener( \"mouseleave\", () => {\r\n            this.notifications.classList.remove( \"list\" );\r\n        } );\r\n    }\r\n\r\n    // Disable drag icon\r\n    root.addEventListener( 'dragover', function( e ) {\r\n        e.preventDefault();\r\n    }, false );\r\n\r\n    document.addEventListener( 'contextmenu', function( e ) {\r\n        e.preventDefault();\r\n    }, false );\r\n\r\n    // Global vars\r\n    this.DEFAULT_NAME_WIDTH     = \"30%\";\r\n    this.DEFAULT_SPLITBAR_SIZE  = 4;\r\n    this.OPEN_CONTEXTMENU_ENTRY = 'click';\r\n\r\n    this.componentResizeObserver = new ResizeObserver( entries => {\r\n        for ( const entry of entries )\r\n        {\r\n            const c = ( entry.target as any )?.jsInstance;\r\n            if( c && c.onResize )\r\n            {\r\n                c.onResize( entry.contentRect );\r\n            }\r\n        }\r\n    });\r\n\r\n    this.ready = true;\r\n    this.menubars = [];\r\n    this.sidebars = [];\r\n    this.commandbar = this._createCommandbar( this.container );\r\n\r\n    if( !options.skipRoot && !options.skipDefaultArea )\r\n    {\r\n        this.mainArea = new Area( { id: options.id ?? 'mainarea' } );\r\n    }\r\n\r\n    // Initial or automatic changes don't force color scheme\r\n    // to be stored in localStorage\r\n\r\n    this._onChangeSystemTheme = function( event: any ) {\r\n        const storedcolorScheme = localStorage.getItem( \"lxColorScheme\" );\r\n        if( storedcolorScheme ) return;\r\n        LX.setTheme( event.matches ? \"dark\" : \"light\", false );\r\n    }\r\n\r\n    this._mqlPrefersDarkScheme = window.matchMedia ? window.matchMedia(\"(prefers-color-scheme: dark)\") : null;\r\n\r\n    const storedcolorScheme = localStorage.getItem( \"lxColorScheme\" );\r\n    if( storedcolorScheme )\r\n    {\r\n        LX.setTheme( storedcolorScheme );\r\n    }\r\n    else if( this._mqlPrefersDarkScheme && ( options.autoTheme ?? true ) )\r\n    {\r\n        if( window.matchMedia( \"(prefers-color-scheme: light)\" ).matches )\r\n        {\r\n            LX.setTheme( \"light\", false );\r\n        }\r\n\r\n        this._mqlPrefersDarkScheme.addEventListener( \"change\", this._onChangeSystemTheme );\r\n    }\r\n\r\n    return this.mainArea;\r\n},\r\n\r\n/**\r\n * @method setSpacingMode\r\n * @param {String} mode: \"default\" | \"compact\"\r\n */\r\nLX.setSpacingMode = function( mode: string )\r\n{\r\n    this.spacingMode = mode;\r\n    document.documentElement.setAttribute( \"data-spacing\", this.spacingMode );\r\n},\r\n\r\n/**\r\n * @method setLayoutMode\r\n * @param {String} mode: \"app\" | \"document\"\r\n */\r\nLX.setLayoutMode = function( mode: string )\r\n{\r\n    this.layoutMode = mode;\r\n    document.documentElement.setAttribute( \"data-layout\", this.layoutMode );\r\n},\r\n\r\n/**\r\n * @method addSignal\r\n * @param {String} name\r\n * @param {Object} obj\r\n * @param {Function} callback\r\n */\r\nLX.addSignal = function( name: string, obj: any, callback: (value: any) => void )\r\n{\r\n    obj[ name ] = callback;\r\n\r\n    if( !LX.signals[ name ] )\r\n    {\r\n        LX.signals[ name ] = [];\r\n    }\r\n\r\n    if( LX.signals[ name ].indexOf( obj ) > -1 )\r\n    {\r\n        return;\r\n    }\r\n\r\n    LX.signals[ name ].push( obj );\r\n},\r\n\r\n/**\r\n * @method emitSignal\r\n * @param {String} name\r\n * @param {*} value\r\n * @param {Object} options\r\n */\r\nLX.emitSignal = function( name: string, value: any, options: Record<string, any> = {} )\r\n{\r\n    const data = LX.signals[ name ];\r\n\r\n    if( !data )\r\n    {\r\n        return;\r\n    }\r\n\r\n    const target = options.target;\r\n\r\n    if( target )\r\n    {\r\n        if( target[ name ])\r\n        {\r\n            target[ name ].call( target, value );\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    for( let obj of data )\r\n    {\r\n        if( obj instanceof BaseComponent )\r\n        {\r\n            obj.set( value, options.skipCallback ?? true );\r\n        }\r\n        else if( obj.constructor === Function )\r\n        {\r\n            const fn = obj;\r\n            fn( null, value );\r\n        }\r\n        else\r\n        {\r\n            // This is an element\r\n            const fn = obj[ name ];\r\n            console.assert( fn, `No callback registered with _${ name }_ signal` );\r\n            fn.bind( obj )( value );\r\n        }\r\n    }\r\n}\r\n\r\n// Command bar creation\r\n\r\nLX._createCommandbar = function( root: any )\r\n{\r\n    let commandbar: any = document.createElement( \"dialog\" );\r\n    commandbar.className = \"commandbar\";\r\n    commandbar.tabIndex = -1;\r\n    root.appendChild( commandbar );\r\n\r\n    let allItems: string[]= [];\r\n    let hoverElId: number|null = null;\r\n\r\n    commandbar.addEventListener('keydown', function( e: KeyboardEvent ) {\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n        hoverElId = hoverElId ?? -1;\r\n        if( e.key == 'Escape' )\r\n        {\r\n            commandbar.close();\r\n            _resetBar( true );\r\n        }\r\n        else if( e.key == 'Enter' )\r\n        {\r\n            const el = ( allItems[ hoverElId ] as any );\r\n            if( el )\r\n            {\r\n                if( el.item.checked != undefined )\r\n                {\r\n                    el.item.checked = !el.item.checked;\r\n                }\r\n\r\n                commandbar.close();\r\n\r\n                el.callback.call( window, el.item.name, el.item.checked );\r\n            }\r\n        }\r\n        else if ( e.key == 'ArrowDown' && hoverElId < (allItems.length - 1) )\r\n        {\r\n            hoverElId++;\r\n            commandbar.querySelectorAll(\".hovered\").forEach( ( e: HTMLElement ) => e.classList.remove('hovered') );\r\n            const el = ( allItems[ hoverElId ] as any );\r\n            el.classList.add('hovered');\r\n\r\n            let dt = el.offsetHeight * (hoverElId + 1) - itemContainer.offsetHeight;\r\n            if( dt > 0 )\r\n            {\r\n                itemContainer.scrollTo({\r\n                    top: dt,\r\n                    behavior: \"smooth\",\r\n                });\r\n            }\r\n\r\n        } else if ( e.key == 'ArrowUp' && hoverElId > 0 )\r\n        {\r\n            hoverElId--;\r\n            commandbar.querySelectorAll(\".hovered\").forEach( ( e: HTMLElement )  => e.classList.remove('hovered') );\r\n            const el = ( allItems[ hoverElId ] as any );\r\n            el.classList.add('hovered');\r\n        }\r\n    });\r\n\r\n    commandbar.addEventListener('focusout', function( e: FocusEvent ) {\r\n        if( e.relatedTarget == e.currentTarget )\r\n        {\r\n            return;\r\n        }\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n        commandbar.close();\r\n        _resetBar( true );\r\n    });\r\n\r\n    root.addEventListener('keydown', ( e: KeyboardEvent ) => {\r\n        if( e.key == ' ' && e.ctrlKey )\r\n        {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n            LX.setCommandbarState( true );\r\n        }\r\n        else\r\n        {\r\n            for( let c of LX.extensions )\r\n            {\r\n                if( !LX[ c ] || !LX[ c ].prototype.onKeyPressed )\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                const instances = LX.CodeEditor.getInstances();\r\n                for( let i of instances )\r\n                {\r\n                    i.onKeyPressed( e );\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    const header = LX.makeContainer( [\"100%\", \"auto\"], \"flex flex-row\" );\r\n\r\n    const filter = new TextInput( null, \"\", ( v: string ) => {\r\n        commandbar._addElements( v.toLowerCase() );\r\n    }, { width: \"100%\", icon: \"Search\", trigger: \"input\", placeholder: \"Search...\" } );\r\n    header.appendChild( filter.root );\r\n\r\n    const tabArea = new Area( {\r\n        width: \"100%\",\r\n        skipAppend: true,\r\n        className: \"cb-tabs\"\r\n    } );\r\n\r\n    const cbTabs = tabArea.addTabs( { parentClass: \"p-2\" } );\r\n    let cbFilter = null;\r\n\r\n    // These tabs will serve as buttons by now\r\n    // Filter stuff depending of the type of search\r\n    {\r\n        const _onSelectTab = ( e: any, tabName: string ) => {\r\n            cbFilter = tabName;\r\n        }\r\n\r\n        cbTabs.add( \"All\", document.createElement('div'), { selected: true, onSelect: _onSelectTab } );\r\n        // cbTabs.add( \"Main\", document.createElement('div'), { onSelect: _onSelectTab } );\r\n    }\r\n\r\n    const itemContainer = document.createElement(\"div\");\r\n    itemContainer.className = \"searchitembox\";\r\n\r\n    let refPrevious: any = null;\r\n\r\n    const _resetBar = ( resetInput?: boolean ) => {\r\n        itemContainer.innerHTML = \"\";\r\n        allItems.length = 0;\r\n        hoverElId = null;\r\n        if( resetInput )\r\n        {\r\n            filter.set( \"\", true );\r\n        }\r\n    }\r\n\r\n    const _addElement = ( t: any, c: any, p: any, i: any ) => {\r\n\r\n        if( !t.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( refPrevious ) refPrevious.classList.remove('last');\r\n\r\n        let searchItem: any = document.createElement(\"div\");\r\n        searchItem.className = \"searchitem last\";\r\n        if( i?.checked !== undefined )\r\n        {\r\n            const iconHtml = i.checked ? LX.makeIcon( \"Check\" ).innerHTML : \"\";\r\n            searchItem.innerHTML = iconHtml + ( p + t );\r\n        }\r\n        else\r\n        {\r\n            searchItem.innerHTML = ( p + t );\r\n        }\r\n        searchItem.callback = c;\r\n        searchItem.item = i;\r\n\r\n        searchItem.addEventListener('click', ( e: MouseEvent ) => {\r\n\r\n            if( i.checked != undefined )\r\n            {\r\n                i.checked = !i.checked;\r\n            }\r\n\r\n            c.call( window, t, i.checked );\r\n            LX.setCommandbarState( false );\r\n            _resetBar( true );\r\n        });\r\n\r\n        searchItem.addEventListener('mouseenter', function( e: MouseEvent ) {\r\n            commandbar.querySelectorAll(\".hovered\").forEach( ( e: HTMLElement ) => e.classList.remove('hovered'));\r\n            searchItem.classList.add('hovered');\r\n            hoverElId = allItems.indexOf( searchItem );\r\n        });\r\n\r\n        searchItem.addEventListener('mouseleave', function( e: MouseEvent ) {\r\n            searchItem.classList.remove('hovered');\r\n        });\r\n\r\n        allItems.push( searchItem );\r\n        itemContainer.appendChild( searchItem );\r\n        refPrevious = searchItem;\r\n    }\r\n\r\n    const _propagateAdd = ( item: any, filter: string, path: string, skipPropagation?: boolean ) => {\r\n\r\n        if( !item || ( item.constructor != Object ) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let name = item.name;\r\n        if( name.toLowerCase().includes( filter ) )\r\n        {\r\n            if( item.callback )\r\n            {\r\n                _addElement( name, item.callback, path, item );\r\n            }\r\n        }\r\n\r\n        const submenu = item.submenu ?? item[ name ];\r\n        if( skipPropagation || !submenu )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const icon = LX.makeIcon( \"ChevronRight\", { svgClass: \"sm fg-secondary separator\" } );\r\n        path += name + icon.innerHTML;\r\n\r\n        for( let c of submenu )\r\n        {\r\n            _propagateAdd( c, filter, path );\r\n        }\r\n    };\r\n\r\n    commandbar._addElements = ( filter: string ) => {\r\n\r\n        _resetBar();\r\n\r\n        for( let m of LX.menubars )\r\n        {\r\n            for( let i of m.items )\r\n            {\r\n                _propagateAdd( i, filter, \"\" );\r\n            }\r\n        }\r\n\r\n        for( let m of LX.sidebars )\r\n        {\r\n            for( let i of m.items )\r\n            {\r\n                _propagateAdd( i, filter, \"\" );\r\n            }\r\n        }\r\n\r\n        for( let entry of LX.extraCommandbarEntries )\r\n        {\r\n            const name = entry.name;\r\n            if( !name.toLowerCase().includes( filter ) )\r\n            {\r\n                continue;\r\n            }\r\n            _addElement( name, entry.callback, \"\", {} );\r\n        }\r\n\r\n        if( LX.has('CodeEditor') )\r\n        {\r\n            const instances = LX.CodeEditor.getInstances();\r\n            if( !instances.length || !instances[ 0 ].area.root.offsetHeight ) return;\r\n\r\n            const languages = LX.CodeEditor.languages;\r\n\r\n            for( let l of Object.keys( languages ) )\r\n            {\r\n                const key = \"Language: \" + l;\r\n                const icon = instances[ 0 ]._getFileIcon( null, languages[ l ].ext );\r\n                const classes = icon.split( ' ' );\r\n\r\n                let value = LX.makeIcon( classes[ 0 ], { svgClass: `${ classes.slice( 0 ).join( ' ' ) }` } ).innerHTML;\r\n                value += key + \" <span class='lang-ext'>(\" + languages[ l ].ext + \")</span>\";\r\n\r\n                if( key.toLowerCase().includes( filter ) )\r\n                {\r\n                    _addElement( value, () => {\r\n                        for( let i of instances )\r\n                        {\r\n                            i._changeLanguage( l );\r\n                        }\r\n                    }, \"\", {} );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    commandbar.appendChild( header );\r\n    commandbar.appendChild( tabArea.root );\r\n    commandbar.appendChild( itemContainer );\r\n\r\n    return commandbar;\r\n}\r\n\r\n/**\r\n * @method setCommandbarState\r\n * @param {Boolean} value\r\n * @param {Boolean} resetEntries\r\n */\r\n\r\nLX.setCommandbarState = function( value: boolean, resetEntries: boolean = true )\r\n{\r\n    const cb = this.commandbar;\r\n\r\n    if( value )\r\n    {\r\n        cb.show();\r\n        cb.querySelector('input').focus();\r\n\r\n        if( resetEntries )\r\n        {\r\n            cb._addElements( undefined );\r\n        }\r\n    }\r\n    else\r\n    {\r\n        cb.close();\r\n    }\r\n}\r\n\r\nLX.REGISTER_COMPONENT = function( customComponentName: string, options: any = {} )\r\n{\r\n    let customIdx = LX.guidGenerator();\r\n\r\n    const PanelPrototype: any = Panel.prototype;\r\n    PanelPrototype[ 'add' + customComponentName ] = function( name: string, instance: any, callback: any )\r\n    {\r\n        const userParams = Array.from( arguments ).slice( 3 );\r\n\r\n        let component = new BaseComponent( ComponentType.CUSTOM, name, null, options );\r\n        this._attachComponent( component );\r\n\r\n        component.customName = customComponentName;\r\n        component.customIdx = customIdx;\r\n\r\n        component.onGetValue = () => {\r\n            return instance;\r\n        };\r\n\r\n        component.onSetValue = ( newValue, skipCallback, event ) => {\r\n            instance = newValue;\r\n            _refreshComponent();\r\n            element.querySelector( \".lexcustomitems\" ).toggleAttribute( 'hidden', false );\r\n            if( !skipCallback )\r\n            {\r\n                component._trigger( new IEvent( name, instance, event ), callback );\r\n            }\r\n        };\r\n\r\n        component.onResize = () => {\r\n            const realNameWidth = ( component.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const element = component.root;\r\n\r\n        let container: any, customComponentsDom: any;\r\n        let defaultInstance = options.default ?? {};\r\n\r\n        // Add instance button\r\n\r\n        const _refreshComponent = () => {\r\n\r\n            if( container ) container.remove();\r\n            if( customComponentsDom ) customComponentsDom.remove();\r\n\r\n            container = document.createElement('div');\r\n            container.className = \"lexcustomcontainer w-full\";\r\n            element.appendChild( container );\r\n            element.dataset[\"opened\"] = false;\r\n\r\n            const customIcon = LX.makeIcon( options.icon ?? \"Box\" );\r\n            const menuIcon = LX.makeIcon( \"Menu\" );\r\n\r\n            let buttonName = customComponentName + (!instance ? \" [empty]\" : \"\");\r\n            let buttonEl = this.addButton(null, buttonName, ( value: any, event: MouseEvent ) => {\r\n                if( instance )\r\n                {\r\n                    element.querySelector(\".lexcustomitems\").toggleAttribute('hidden');\r\n                    element.dataset[\"opened\"] = !element.querySelector(\".lexcustomitems\").hasAttribute(\"hidden\");\r\n                }\r\n                else\r\n                {\r\n                    LX.addContextMenu(null, event, ( c: ContextMenu ) => {\r\n                        c.add(\"New \" + customComponentName, () => {\r\n                            instance = {};\r\n                            _refreshComponent();\r\n                            element.querySelector(\".lexcustomitems\").toggleAttribute('hidden', false);\r\n                            element.dataset[\"opened\"] = !element.querySelector(\".lexcustomitems\").hasAttribute(\"hidden\");\r\n                        });\r\n                    });\r\n                }\r\n\r\n            }, { buttonClass: 'custom' });\r\n\r\n            const buttonSpan = buttonEl.root.querySelector( \"span\" );\r\n            buttonSpan.prepend( customIcon );\r\n            buttonSpan.appendChild( menuIcon );\r\n            container.appendChild( buttonEl.root );\r\n\r\n            if( instance )\r\n            {\r\n                menuIcon.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n                    e.stopImmediatePropagation();\r\n                    e.stopPropagation();\r\n                    LX.addContextMenu(null, e, ( c: ContextMenu ) => {\r\n                        c.add(\"Clear\", () => {\r\n                            instance = null;\r\n                            _refreshComponent();\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n\r\n            // Show elements\r\n\r\n            customComponentsDom = document.createElement('div');\r\n            customComponentsDom.className = \"lexcustomitems\";\r\n            customComponentsDom.toggleAttribute('hidden', true);\r\n            element.appendChild( customComponentsDom );\r\n\r\n            if( instance )\r\n            {\r\n                this.queue( customComponentsDom );\r\n\r\n                const on_instance_changed = ( key: string, value: any, event: any ) => {\r\n                    const setter = options[ `_set_${ key }` ];\r\n                    if( setter )\r\n                    {\r\n                        setter.call( instance, value );\r\n                    }\r\n                    else\r\n                    {\r\n                        instance[ key ] = value;\r\n                    }\r\n                    component._trigger( new IEvent( name, instance, event ), callback );\r\n                };\r\n\r\n                for( let key in defaultInstance )\r\n                {\r\n                    let value = null;\r\n\r\n                    const getter = options[ `_get_${ key }` ];\r\n                    if( getter )\r\n                    {\r\n                        value = instance[ key ] ? getter.call( instance ) : getter.call( defaultInstance );\r\n                    }\r\n                    else\r\n                    {\r\n                        value = instance[ key ] ?? defaultInstance[ key ];\r\n                    }\r\n\r\n                    if( !value )\r\n                    {\r\n                        continue;\r\n                    }\r\n\r\n                    switch( value.constructor )\r\n                    {\r\n                        case String:\r\n                            if( value[ 0 ] === '#' )\r\n                            {\r\n                                this.addColor( key, value, on_instance_changed.bind( this, key ) );\r\n                            }\r\n                            else\r\n                            {\r\n                                this.addText( key, value, on_instance_changed.bind( this, key ) );\r\n                            }\r\n                            break;\r\n                        case Number:\r\n                            this.addNumber( key, value, on_instance_changed.bind( this, key ) );\r\n                            break;\r\n                        case Boolean:\r\n                            this.addCheckbox( key, value, on_instance_changed.bind( this, key ) );\r\n                            break;\r\n                        case Array:\r\n                            if( value.length > 4 )\r\n                            {\r\n                                this.addArray( key, value, on_instance_changed.bind( this, key ) );\r\n                            }\r\n                            else\r\n                            {\r\n                                this._addVector( value.length, key, value, on_instance_changed.bind( this, key ) );\r\n                            }\r\n                            break;\r\n                        default:\r\n                            console.warn( `Unsupported property type: ${ value.constructor.name }` )\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                if( options.onCreate )\r\n                {\r\n                    options.onCreate.call( this, this, ...userParams );\r\n                }\r\n\r\n                this.clearQueue();\r\n            }\r\n        };\r\n\r\n        _refreshComponent();\r\n    };\r\n}","// AssetView.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'AssetView' );\r\n\r\nconst Area = LX.Area;\r\nconst Panel = LX.Panel;\r\nconst NodeTree = LX.NodeTree;\r\nconst TreeEvent = LX.TreeEvent;\r\n\r\nexport type AssetViewAction = \"select\" | \"dbl_click\" | \"check\" | \"clone\" | \"move\" |\r\n                         \"delete\" | \"rename\" | \"enter_folder\" | \"create-folder\";\r\n\r\nexport interface AssetViewItem {\r\n    id: string;\r\n    type: string;\r\n    children: AssetViewItem[];\r\n    parent?: AssetViewItem;\r\n    path?: string;\r\n    src?: string;\r\n    dir?: AssetViewItem[];\r\n    domEl?: HTMLElement;\r\n    metadata: any; // optional user data\r\n}\r\n\r\ninterface AssetViewEvent {\r\n    type: AssetViewAction;\r\n    items?: AssetViewItem[];\r\n    result?: AssetViewItem[];\r\n    from?: AssetViewItem;\r\n    to?: AssetViewItem;\r\n    oldName?: string;\r\n    newName?: string;\r\n    userInitiated: boolean; // clicked by user vs programmatically\r\n}\r\n\r\n/**\r\n * Signature for cancelable events.\r\n * `resolve()` MUST be called by the user to perform the UI action\r\n */\r\nexport type AssetViewEventCallback = ( event: AssetViewEvent, resolve?: () => void ) => void | Promise<void>;\r\n\r\n/**\r\n * @class AssetView\r\n * @description Asset container with Tree for file system\r\n */\r\n\r\nexport class AssetView\r\n{\r\n    static LAYOUT_GRID          = 0;\r\n    static LAYOUT_COMPACT       = 1;\r\n    static LAYOUT_LIST          = 2;\r\n\r\n    static CONTENT_SORT_ASC     = 0;\r\n    static CONTENT_SORT_DESC    = 1;\r\n\r\n    root: HTMLElement;\r\n    area: typeof Area | null = null;\r\n    content!: HTMLElement; // \"!\" to avoid TS strict property initialization error\r\n    leftPanel: typeof Panel | null = null;\r\n    toolsPanel: any;\r\n    contentPanel: any;\r\n    previewPanel: any;\r\n    tree: typeof NodeTree | null = null;\r\n\r\n    prevData: AssetViewItem[] = [];\r\n    nextData: AssetViewItem[] = [];\r\n    data: AssetViewItem[] = [];\r\n    currentData: AssetViewItem[] = [];\r\n    currentFolder: AssetViewItem | undefined = undefined;\r\n    rootItem: AssetViewItem;\r\n    path: string[] = [];\r\n    rootPath: string = \"\";\r\n    selectedItem: AssetViewItem | undefined = undefined;\r\n    allowedTypes: any;\r\n    searchValue: string = \"\";\r\n    filter: string = \"None\";\r\n    gridScale: number = 1.0;\r\n\r\n    // Options\r\n    layout: number = AssetView.LAYOUT_GRID;\r\n    sortMode: number = AssetView.CONTENT_SORT_ASC;\r\n    skipBrowser: boolean = false;\r\n    skipPreview: boolean = false;\r\n    useNativeTitle: boolean = false;\r\n    onlyFolders: boolean = true;\r\n    allowMultipleSelection: boolean = false;\r\n    previewActions: any[] = [];\r\n    contextMenu: any[] = [];\r\n    onRefreshContent: any = null;\r\n    itemContextMenuOptions: any = null;\r\n    onItemDragged: any = null;\r\n\r\n    private _assetsPerPage: number = 24;\r\n    get assetsPerPage(): any { return this._assetsPerPage; }\r\n    set assetsPerPage( v: any ) { this._setAssetsPerPage( v ); }\r\n\r\n    _callbacks: Record<string, AssetViewEventCallback> = {};\r\n    _lastSortBy: string = \"\";\r\n    _paginator: typeof LX.Pagination | undefined;\r\n    _scriptCodeDialog: typeof LX.Dialog | undefined;\r\n    _moveItemDialog: typeof LX.Dialog | undefined;\r\n\r\n    constructor( options: any = {} )\r\n    {\r\n        this.rootPath = \"https://raw.githubusercontent.com/jxarco/lexgui.js/master/\";\r\n        this.layout = options.layout ?? this.layout;\r\n        this.sortMode = options.sortMode ?? this.sortMode;\r\n\r\n        if( options.rootPath )\r\n        {\r\n            if( options.rootPath.constructor !== String )\r\n            {\r\n                console.warn( `Asset Root Path must be a String (now is a ${ options.rootPath.constructor.name })` );\r\n            }\r\n            else\r\n            {\r\n                this.rootPath = options.rootPath;\r\n            }\r\n        }\r\n\r\n        let div = document.createElement('div');\r\n        div.className = 'lexassetbrowser';\r\n        this.root = div;\r\n\r\n        let area = new Area( { width: \"100%\", height: \"100%\" } );\r\n        div.appendChild( area.root );\r\n\r\n        let left, right, contentArea = area;\r\n\r\n        this.skipBrowser = options.skipBrowser ?? this.skipBrowser;\r\n        this.skipPreview = options.skipPreview ?? this.skipPreview;\r\n        this.useNativeTitle = options.useNativeTitle ?? this.useNativeTitle;\r\n        this.onlyFolders = options.onlyFolders ?? this.onlyFolders;\r\n        this.allowMultipleSelection = options.allowMultipleSelection ?? this.allowMultipleSelection;\r\n        this.previewActions = options.previewActions ?? [];\r\n        this.itemContextMenuOptions = options.itemContextMenuOptions;\r\n        this.onRefreshContent = options.onRefreshContent;\r\n        this.onItemDragged = options.onItemDragged;\r\n        this.gridScale = options.gridScale ?? this.gridScale;\r\n\r\n        if( this.gridScale !== 1.0 )\r\n        {\r\n            const r: any = document.querySelector( ':root' );\r\n            r.style.setProperty( '--av-grid-scale', this.gridScale );\r\n        }\r\n\r\n        // Append temporarily to the dom\r\n        document.body.appendChild( this.root );\r\n\r\n        if( !this.skipBrowser )\r\n        {\r\n            [ left, right ] = area.split({ type: \"horizontal\", sizes: [\"15%\", \"85%\"]});\r\n            contentArea = right;\r\n\r\n            left.setLimitBox( 210, 0 );\r\n            right.setLimitBox( 512, 0 );\r\n        }\r\n\r\n        if( !this.skipPreview )\r\n        {\r\n            [ contentArea, right ] = contentArea.split({ type: \"horizontal\", sizes: [\"80%\", \"20%\"]});\r\n        }\r\n\r\n        this.allowedTypes = {\r\n            \"None\": {},\r\n            \"Image\": { color: \"yellow-500\" },\r\n            \"JSON\": { color: \"sky-200\" },\r\n            \"Video\": { color: \"indigo-400\" },\r\n            ...( options.allowedTypes ?? {} )\r\n        };\r\n\r\n        this.path = ['@'];\r\n        this.rootItem = { id: \"/\", children: this.data, type: \"folder\", metadata: { uid: LX.guidGenerator() } };\r\n        this.currentFolder = this.rootItem;\r\n\r\n        this._processData( this.data );\r\n\r\n        this.currentData = this.data;\r\n\r\n        if( !this.skipBrowser )\r\n        {\r\n            this._createTreePanel( left );\r\n        }\r\n\r\n        this._createContentPanel( contentArea );\r\n\r\n        // Create resource preview panel\r\n        if( !this.skipPreview )\r\n        {\r\n            this.previewPanel = right.addPanel( {className: 'lexassetcontentpanel', style: { overflow: 'scroll' }} );\r\n        }\r\n\r\n        // Clean up\r\n        document.body.removeChild( this.root );\r\n    }\r\n\r\n    /**\r\n    * @method on\r\n    * @description Stores an event callback for the desired action\r\n    */\r\n    on( eventName: string, callback: AssetViewEventCallback )\r\n    {\r\n        this._callbacks[ eventName ] = callback;\r\n    }\r\n\r\n    /**\r\n    * @method load\r\n    * @description Loads and processes the input data\r\n    */\r\n    load( data: any )\r\n    {\r\n        this.prevData.length = 0;\r\n        this.nextData.length = 0;\r\n        this.data = data;\r\n\r\n        // Update root children\r\n        this.rootItem.children = this.data;\r\n\r\n        this._processData( this.data );\r\n        this.currentData = this.data;\r\n        this.path = [ '@' ];\r\n\r\n        if( !this.skipBrowser )\r\n        {\r\n            this.tree.refresh( { id: '/', children: this.data, type: \"folder\", metadata: { uid: LX.guidGenerator() } } );\r\n        }\r\n\r\n        this._refreshContent();\r\n    }\r\n\r\n    /**\r\n    * @method addItem\r\n    * @description Creates an item DOM element\r\n    */\r\n    addItem( item: AssetViewItem, childIndex: number | undefined, updateTree: boolean = true )\r\n    {\r\n        const isListLayout = ( this.layout == AssetView.LAYOUT_LIST );\r\n        const isGridLayout = ( this.layout == AssetView.LAYOUT_GRID ); // default\r\n        const type = item.type.charAt( 0 ).toUpperCase() + item.type.slice( 1 );\r\n        const extension = LX.getExtension( item.id );\r\n        const isFolder = type === \"Folder\";\r\n        const that = this;\r\n\r\n        let itemEl = document.createElement('li');\r\n        itemEl.className = \"lexassetitem \" + item.type.toLowerCase();\r\n        itemEl.tabIndex = -1;\r\n        LX.insertChildAtIndex( this.content, itemEl, childIndex );\r\n\r\n        const typeColor = this.allowedTypes[ type ]?.color;\r\n        if( typeColor )\r\n        {\r\n            // Add type tag\r\n            LX.makeElement( 'span', `rounded-full w-2 h-2 z-100 flex absolute ml-2 mt-2 bg-${ typeColor }`, \"\", itemEl );\r\n        }\r\n\r\n        const metadata = item.metadata;\r\n\r\n        if( !metadata.uid )\r\n        {\r\n            metadata.uid = LX.guidGenerator();\r\n        }\r\n\r\n        if( metadata.lastModified && !metadata.lastModifiedDate )\r\n        {\r\n            metadata.lastModifiedDate = this._lastModifiedToStringDate( metadata.lastModified );\r\n        }\r\n\r\n        if( !this.useNativeTitle )\r\n        {\r\n            let desc = document.createElement( 'span' );\r\n            desc.className = 'lexitemdesc';\r\n            desc.id = `floatingTitle_${ metadata.uid }`;\r\n            desc.innerHTML = `File: ${ item.id }<br>Type: ${ type }`;\r\n            LX.insertChildAtIndex( this.content, desc, childIndex ? childIndex + 1 : undefined );\r\n\r\n            itemEl.addEventListener( \"mousemove\", ( e: MouseEvent ) => {\r\n\r\n                if( !isGridLayout )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                const target: any = e.target;\r\n                const dialog = itemEl.closest('dialog');\r\n                const rect = itemEl.getBoundingClientRect();\r\n                const targetRect = target.getBoundingClientRect();\r\n\r\n                let localOffsetX = rect.x + e.offsetX;\r\n                let localOffsetY = rect.y + e.offsetY;\r\n\r\n                if( dialog )\r\n                {\r\n                    const dialogRect = dialog.getBoundingClientRect();\r\n                    localOffsetX -= dialogRect.x;\r\n                    localOffsetY -= dialogRect.y;\r\n                }\r\n\r\n                if( target.classList.contains( \"lexassettitle\" ) )\r\n                {\r\n                    localOffsetY += ( targetRect.y - rect.y );\r\n                }\r\n\r\n                desc.style.left = ( localOffsetX ) + \"px\";\r\n                desc.style.top = ( localOffsetY - 36 ) + \"px\";\r\n            } );\r\n        }\r\n        else\r\n        {\r\n            itemEl.title = type + \": \" + item.id;\r\n        }\r\n\r\n        if( this.allowMultipleSelection )\r\n        {\r\n            let checkbox = document.createElement( 'input' );\r\n            checkbox.type = \"checkbox\";\r\n            checkbox.className = \"lexcheckbox\";\r\n            checkbox.checked = metadata.selected;\r\n            checkbox.addEventListener('change', ( e: any ) => {\r\n                metadata.selected = !metadata.selected;\r\n                const onCheck = that._callbacks[\"check\"];\r\n                if( onCheck !== undefined )\r\n                {\r\n                    const event: AssetViewEvent = {\r\n                        type: \"check\",\r\n                        items: [ item ],\r\n                        userInitiated: true\r\n                    };\r\n\r\n                    onCheck( event );\r\n                    // event.multiple = !!e.shiftKey;\r\n                }\r\n                e.stopPropagation();\r\n                e.stopImmediatePropagation();\r\n            });\r\n\r\n            itemEl.appendChild( checkbox );\r\n        }\r\n\r\n        let title = document.createElement('span');\r\n        title.className = \"lexassettitle\";\r\n        title.innerText = item.id;\r\n        itemEl.appendChild( title );\r\n\r\n        if( !this.skipPreview )\r\n        {\r\n            if( item.type === 'video' )\r\n            {\r\n                const itemVideo = LX.makeElement( 'video', 'absolute left-0 top-0 w-full border-none pointer-events-none', '', itemEl );\r\n                itemVideo.setAttribute( 'disablePictureInPicture', false );\r\n                itemVideo.setAttribute( 'disableRemotePlayback', false );\r\n                itemVideo.setAttribute( 'loop', true );\r\n                itemVideo.setAttribute( 'async', true );\r\n                itemVideo.style.transition = 'opacity 0.2s ease-out';\r\n                itemVideo.style.opacity = metadata.preview ? '0' : '1';\r\n                itemVideo.src = item.src;\r\n                itemVideo.volume = metadata.volume ?? 0.4;\r\n            }\r\n\r\n            let preview: any = null;\r\n\r\n            const previewSrc    = metadata.preview ?? item.src;\r\n            const hasImage = previewSrc && (\r\n                (() => {\r\n                    const ext = LX.getExtension( previewSrc.split( '?' )[ 0 ].split( '#' )[ 0 ]); // get final source without url parameters/anchors\r\n                    return ext ? ['png', 'jpg', 'jpeg', 'gif', 'bmp', 'avif'].includes( ext.toLowerCase() ) : false;\r\n                })()\r\n                || previewSrc.startsWith( 'data:image/' )\r\n            );\r\n\r\n            if( hasImage || isFolder || !isGridLayout )\r\n            {\r\n                const defaultPreviewPath    = `${ this.rootPath }images/file.png`;\r\n                const defaultFolderPath     = `${ this.rootPath }images/folder.png`;\r\n\r\n                preview = document.createElement('img');\r\n                let realSrc = metadata.unknownExtension ? defaultPreviewPath : ( isFolder ? defaultFolderPath : previewSrc );\r\n                preview.src = ( isGridLayout || isFolder ? realSrc : defaultPreviewPath );\r\n                preview.setAttribute( \"draggable\", \"false\" );\r\n                preview.className = \"pointer-events-none\";\r\n                itemEl.appendChild( preview );\r\n            }\r\n            else\r\n            {\r\n                preview = document.createElement( 'svg' );\r\n                preview.className = 'asset-file-preview';\r\n                itemEl.appendChild( preview );\r\n\r\n                let textEl = document.createElement( 'text' );\r\n                textEl.innerText = ( !extension || extension == item.id ) ? item.type.toUpperCase() : ( `${ extension.toUpperCase() }` ); // If no extension, e.g. Clip, use the type...\r\n                preview.appendChild( textEl );\r\n\r\n                var newLength = textEl.innerText.length;\r\n                var charsPerLine = 2.5;\r\n                var newEmSize = charsPerLine / newLength;\r\n                var textBaseSize = 64;\r\n\r\n                if( newEmSize < 1 )\r\n                {\r\n                    var newFontSize = newEmSize * textBaseSize;\r\n                    textEl.style.fontSize = newFontSize + 'px';\r\n                    preview.style.paddingTop = `calc(50% - ${ ( textEl.offsetHeight * 0.5 + 10 ) }px)`;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Add item type info\r\n        let itemInfoHtml = type;\r\n\r\n        if( isListLayout )\r\n        {\r\n            if( metadata.bytesize ) itemInfoHtml += ` | ${ LX.formatBytes( metadata.bytesize ) }`;\r\n            if( metadata.lastModifiedDate ) itemInfoHtml += ` | ${ metadata.lastModifiedDate }`;\r\n        }\r\n\r\n        LX.makeContainer( [ 'auto', 'auto' ], 'lexassetinfo', itemInfoHtml, itemEl );\r\n\r\n        itemEl.addEventListener('click', function( e )\r\n        {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n\r\n            const isDoubleClick = ( e.detail == LX.MOUSE_DOUBLE_CLICK );\r\n\r\n            if( !isDoubleClick )\r\n            {\r\n                if( !e.shiftKey )\r\n                {\r\n                    that.content.querySelectorAll( '.lexassetitem').forEach( i => i.classList.remove( 'selected' ) );\r\n                }\r\n\r\n                this.classList.add( 'selected' );\r\n                that.selectedItem = item;\r\n\r\n                if( !that.skipPreview )\r\n                {\r\n                    that._previewAsset( item );\r\n                }\r\n            }\r\n            else if( isFolder )\r\n            {\r\n                that._enterFolder( item );\r\n                return;\r\n            }\r\n\r\n            const onSelect = that._callbacks[\"select\"];\r\n            const onDblClick = that._callbacks[\"dblClick\"];\r\n            if( isDoubleClick && onDblClick !== undefined )\r\n            {\r\n                const event: AssetViewEvent = {\r\n                    type: \"dbl_click\",\r\n                    items: [ item ],\r\n                    userInitiated: true\r\n                };\r\n\r\n                onDblClick( event );\r\n                // event.multiple = !!e.shiftKey;\r\n            }\r\n            else if( !isDoubleClick && onSelect !== undefined )\r\n            {\r\n                const event: AssetViewEvent = {\r\n                    type: \"select\",\r\n                    items: [ item ],\r\n                    userInitiated: true\r\n                };\r\n\r\n                onSelect( event );\r\n                // event.multiple = !!e.shiftKey;\r\n            }\r\n        });\r\n\r\n        itemEl.addEventListener('contextmenu', function( e )\r\n        {\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n\r\n            const multiple = that.content.querySelectorAll('.selected').length;\r\n\r\n            const options: any[] = [\r\n                {\r\n                    name: ( multiple > 1 ) ? ( multiple + \" selected\" ) : item.id,\r\n                    icon: LX.makeIcon( \"CircleSmall\", { svgClass: `fill-current fg-${ typeColor }` } ),\r\n                    className: \"text-sm\", disabled: true\r\n                },\r\n                null\r\n            ];\r\n\r\n            if( multiple <= 1 )\r\n            {\r\n                options.push( { name: \"Rename\", icon: \"TextCursor\", callback: that._renameItemPopover.bind( that, item ) } );\r\n            }\r\n\r\n            if( !isFolder )\r\n            {\r\n                options.push( { name: \"Clone\", icon: \"Copy\", callback: that._requestCloneItem.bind( that, item ) });\r\n            }\r\n\r\n            options.push( { name: \"Move\", icon: \"FolderInput\", callback: that._moveItem.bind( that, item ) } );\r\n\r\n            if( type == \"Script\" && LX.has( \"CodeEditor\" ) )\r\n            {\r\n                options.push( { name: \"Open in Editor\", icon: \"Code\", callback: that._openScriptInEditor.bind( that, item ) } );\r\n            }\r\n\r\n            if( that.itemContextMenuOptions )\r\n            {\r\n                options.push( null );\r\n\r\n                for( let o of that.itemContextMenuOptions )\r\n                {\r\n                    if( !o.name || !o.callback ) continue;\r\n                    options.push( { name: o.name, icon: o.icon, callback: o.callback?.bind( that, item ) } );\r\n                }\r\n            }\r\n\r\n            options.push( null, { name: \"Delete\", icon: \"Trash2\", className: \"fg-error\", callback: that._requestDeleteItem.bind( that, item ) } );\r\n\r\n            LX.addClass( that.contentPanel.root, \"pointer-events-none\" );\r\n\r\n            LX.addDropdownMenu( e.target, options, { side: \"right\", align: \"start\", event: e, onBlur: () => {\r\n                LX.removeClass( that.contentPanel.root, \"pointer-events-none\" );\r\n            } });\r\n        });\r\n\r\n        const onDrop = function( src: AssetViewItem, target: AssetViewItem )\r\n        {\r\n            const targetType = target.type.charAt( 0 ).toUpperCase() + target.type.slice( 1 );\r\n\r\n            if( !( targetType === \"Folder\" ) || ( src.metadata.uid == target.metadata.uid ) )\r\n            {\r\n                console.error( \"[AssetView Error] Cannot drop: Target item is not a folder or target is the dragged element!\" );\r\n                return;\r\n            }\r\n\r\n            // Animate dragged element\r\n            const draggedEl = src.domEl;\r\n            if( draggedEl )\r\n            {\r\n                draggedEl.classList.add(\"moving-to-folder\");\r\n\r\n                // When animation ends, finalize move\r\n                draggedEl.addEventListener(\"animationend\", () => {\r\n                    draggedEl.classList.remove(\"moving-to-folder\");\r\n                    that._requestMoveItemToFolder( src, target );\r\n                }, { once: true });\r\n            }\r\n        };\r\n\r\n        itemEl.addEventListener(\"dragstart\", ( e: DragEvent ) => {\r\n            ( window as any ).__av_item_dragged = item;\r\n\r\n            var img = new Image();\r\n            img.src = '';\r\n            if( e.dataTransfer )\r\n            {\r\n                e.dataTransfer.setDragImage( img, 0, 0 );\r\n                e.dataTransfer.effectAllowed = \"move\";\r\n            }\r\n\r\n            const desc: HTMLElement | null = that.content.querySelector( `#floatingTitle_${ metadata.uid }` );\r\n            if( desc ) desc.style.display = \"none\";\r\n        }, false );\r\n\r\n        itemEl.addEventListener(\"dragend\", ( e: DragEvent ) =>\r\n        {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            let dragged = ( window as any ).__av_item_dragged;\r\n            if( dragged && dragged._nodeTarget ) // We dropped into a NodeTree element\r\n            {\r\n                onDrop( dragged, dragged._nodeTarget );\r\n            }\r\n            delete ( window as any ).__av_item_dragged;\r\n        }, false );\r\n\r\n        itemEl.addEventListener(\"dragenter\", ( e: DragEvent ) =>\r\n        {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            let dragged = ( window as any ).__av_item_dragged;\r\n            if( !dragged || !isFolder || ( dragged.metadata.uid == metadata.uid ) ) return;\r\n            LX.addClass( item.domEl, \"animate-pulse\" );\r\n        } );\r\n\r\n        itemEl.addEventListener(\"dragleave\", ( e: any ) =>\r\n        {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            let dragged = ( window as any ).__av_item_dragged;\r\n            if( !dragged )\r\n            {\r\n                return;\r\n            }\r\n\r\n            LX.removeClass( item.domEl, \"animate-pulse\" );\r\n        } );\r\n\r\n        itemEl.addEventListener(\"drop\", ( e: DragEvent ) =>\r\n        {\r\n            e.preventDefault(); // Prevent default action (open as link for some elements)\r\n            let dragged = ( window as any ).__av_item_dragged;\r\n            if( dragged ) onDrop( dragged, item );\r\n        });\r\n\r\n        itemEl.addEventListener( \"mouseenter\", ( e: MouseEvent ) =>\r\n        {\r\n            if( !that.useNativeTitle && isGridLayout )\r\n            {\r\n                const desc: HTMLElement | null = that.content.querySelector( `#floatingTitle_${ metadata.uid }` );\r\n                if( desc ) desc.style.display = \"unset\";\r\n            }\r\n\r\n            if( item.type !== \"video\" ) return;\r\n            e.preventDefault();\r\n            const video: any = itemEl.querySelector( \"video\" );\r\n            video.style.opacity = \"1\";\r\n            video.play();\r\n        } );\r\n\r\n        itemEl.addEventListener( \"mouseleave\", ( e: MouseEvent ) =>\r\n        {\r\n            if( !that.useNativeTitle && isGridLayout )\r\n            {\r\n                setTimeout( () => {\r\n                    const desc: HTMLElement | null = that.content.querySelector( `#floatingTitle_${ metadata.uid }` );\r\n                    if( desc ) desc.style.display = \"none\";\r\n                }, 100 );\r\n            }\r\n\r\n            if( item.type !== \"video\" ) return;\r\n            e.preventDefault();\r\n            const video: any = itemEl.querySelector( \"video\" );\r\n            video.pause();\r\n            video.currentTime = 0;\r\n            if( metadata.preview )\r\n            {\r\n                video.style.opacity = \"0\";\r\n            }\r\n        } );\r\n\r\n        if( !this.skipBrowser && updateTree )\r\n        {\r\n            this.tree.refresh();\r\n        }\r\n\r\n        return itemEl;\r\n    }\r\n\r\n    /**\r\n    * @method clear\r\n    * @description Creates all AssetView container panels\r\n    */\r\n    clear()\r\n    {\r\n        if( this.previewPanel )\r\n        {\r\n            this.previewPanel.clear();\r\n        }\r\n\r\n        if( this.leftPanel )\r\n        {\r\n            this.leftPanel.clear();\r\n        }\r\n\r\n        if( this.toolsPanel )\r\n        {\r\n            this.toolsPanel.clear()\r\n        }\r\n    }\r\n\r\n    _processData( data: any, parent?: AssetViewItem )\r\n    {\r\n        // Processing an item\r\n        if( data.constructor !== Array )\r\n        {\r\n            data.parent = parent;\r\n            data.dir = parent?.children;\r\n            data.children = data.children ?? [];\r\n            data.metadata = data.metadata || {};\r\n        }\r\n\r\n        // Get the new parent\r\n        const newParent = parent ? data : this.rootItem;\r\n\r\n        for( let item of newParent.children )\r\n        {\r\n            this._processData( item, newParent );\r\n        }\r\n    }\r\n\r\n    _updatePath()\r\n    {\r\n        this.path.length = 0;\r\n\r\n        if( this.currentFolder && this.currentFolder.parent )\r\n        {\r\n            this.path.push( this.currentFolder.id );\r\n\r\n            const _pushParentsId = ( i: any ) => {\r\n                if( !i ) return;\r\n                this.path.push( i.parent ? i.id : '@' );\r\n                _pushParentsId( i.parent );\r\n            };\r\n\r\n            _pushParentsId( this.currentFolder.parent );\r\n        }\r\n        else\r\n        {\r\n            this.path.push( '@' );\r\n        }\r\n\r\n        LX.emitSignal( \"@on_folder_change\", this.path.reverse().join('/') );\r\n    }\r\n\r\n    _createNavigationBar( panel: typeof Panel )\r\n    {\r\n        panel.sameLine( 4, \"justify-center\" );\r\n\r\n        panel.addButton( null, \"GoBackButton\", () => {\r\n            if( !this.prevData.length || !this.currentFolder ) return;\r\n            this.nextData.push( this.currentFolder );\r\n            this._enterFolder( this.prevData.pop(), false )\r\n        }, { buttonClass: \"bg-none\", title: \"Go Back\", tooltip: true, icon: \"ArrowLeft\" } );\r\n\r\n        panel.addButton( null, \"GoForwardButton\", () => {\r\n            if( !this.nextData.length || !this.currentFolder ) return;\r\n            this._enterFolder( this.nextData.pop() );\r\n        }, { buttonClass: \"bg-none\", title: \"Go Forward\", tooltip: true, icon: \"ArrowRight\" } );\r\n\r\n        panel.addButton( null, \"GoUpButton\", () => {\r\n            const parentFolder = this.currentFolder?.parent;\r\n            if( parentFolder ) this._enterFolder( parentFolder );\r\n        }, { buttonClass: \"bg-none\", title: \"Go Upper Folder\", tooltip: true, icon: \"ArrowUp\" } );\r\n\r\n        panel.addButton( null, \"GoUpButton\", () => {\r\n            this._refreshContent()\r\n        }, { buttonClass: \"bg-none\", title: \"Refresh\", tooltip: true, icon: \"Refresh\" } );\r\n    }\r\n\r\n    _createTreePanel( area: typeof Area )\r\n    {\r\n        if( this.leftPanel )\r\n        {\r\n            this.leftPanel.clear();\r\n        }\r\n        else\r\n        {\r\n            this.leftPanel = area.addPanel({ className: 'lexassetbrowserpanel' });\r\n        }\r\n\r\n        this._createNavigationBar( this.leftPanel );\r\n\r\n        const treeData = { id: '/', children: this.data };\r\n        const tree = this.leftPanel.addTree( \"Content Browser\", treeData, {\r\n            // icons: tree_icons,\r\n            filter: false,\r\n            onlyFolders: this.onlyFolders,\r\n            onevent: ( event: typeof TreeEvent ) => {\r\n\r\n                let node = event.node;\r\n                let value = event.value;\r\n\r\n                switch( event.type )\r\n                {\r\n                    case LX.TreeEvent.NODE_SELECTED:\r\n                    {\r\n                        if( event.multiple )\r\n                        {\r\n                            return;\r\n                        }\r\n                        if( !node.parent )\r\n                        {\r\n                            if( this.currentFolder )\r\n                            {\r\n                                this.prevData.push( this.currentFolder );\r\n                            }\r\n\r\n                            this.currentFolder = undefined;\r\n                            this.currentData = this.data;\r\n                            this._refreshContent();\r\n                            this._updatePath();\r\n                        }\r\n                        else\r\n                        {\r\n                            this._enterFolder( node.type === \"folder\" ? node : node.parent );\r\n\r\n                            this._previewAsset( node );\r\n\r\n                            if( node.type !== \"folder\" )\r\n                            {\r\n                                this.content.querySelectorAll( '.lexassetitem').forEach( i => i.classList.remove( 'selected' ) );\r\n                                const dom = node.domEl;\r\n                                dom?.classList.add( 'selected' );\r\n                            }\r\n\r\n                            this.selectedItem = node;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LX.TreeEvent.NODE_DRAGGED:\r\n                    {\r\n                        if( node.parent )\r\n                        {\r\n                            const idx = node.parent.children.indexOf( node );\r\n                            node.parent.children.splice( idx, 1 );\r\n                        }\r\n\r\n                        if( !value.children )\r\n                        {\r\n                            value.children = [];\r\n                        }\r\n\r\n                        value.children.push( node );\r\n\r\n                        node.parent = value;\r\n                        node.dir = value.children;\r\n\r\n                        if( this.onItemDragged )\r\n                        {\r\n                            this.onItemDragged( node, value );\r\n                        }\r\n\r\n                        this._refreshContent();\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n        });\r\n\r\n        this.tree = tree.innerTree;\r\n    }\r\n\r\n    _setContentLayout( layoutMode: number )\r\n    {\r\n        this.layout = layoutMode;\r\n        this.toolsPanel.refresh();\r\n        this._refreshContent();\r\n    }\r\n\r\n    _createContentPanel( area: typeof Area )\r\n    {\r\n        const that = this;\r\n\r\n        area.root.classList.add( \"flex\", \"flex-col\" );\r\n\r\n        if( this.toolsPanel )\r\n        {\r\n            this.contentPanel.clear();\r\n        }\r\n        else\r\n        {\r\n            this.toolsPanel = area.addPanel({ className: 'flex-auto', height: \"auto\" });\r\n            this.contentPanel = area.addPanel({\r\n                className: 'lexassetcontentpanel flex flex-col flex-auto-fill content-center overflow-hidden'\r\n            });\r\n\r\n            this._paginator = new LX.Pagination( {\r\n                className: \"ml-auto\",\r\n                pages: Math.max( Math.ceil( this.data.length / this.assetsPerPage ), 1 ),\r\n                onChange: () => this._refreshContent()\r\n            } );\r\n\r\n            this.contentPanel.root.addEventListener( 'wheel', ( e: WheelEvent ) =>\r\n            {\r\n                if( !e.ctrlKey ) return;\r\n                e.preventDefault();\r\n                this.gridScale *= ( e.deltaY < 0 ? 1.05 : 0.95 );\r\n                this.gridScale = LX.clamp( this.gridScale, 0.5, 2.0 );\r\n                const r: any = document.querySelector( ':root' );\r\n                r.style.setProperty( '--av-grid-scale', this.gridScale );\r\n            });\r\n        }\r\n\r\n        const _onSort = ( value: any, event: any ) =>\r\n        {\r\n            LX.addDropdownMenu( event.target, [\r\n                { name: \"Name\", icon: \"ALargeSmall\", callback: () => this._sortData( \"id\" ) },\r\n                { name: \"Type\", icon: \"Type\", callback: () => this._sortData( \"type\" ) },\r\n                null,\r\n                { name: \"Ascending\", icon: \"SortAsc\", callback: () => this._sortData( undefined, AssetView.CONTENT_SORT_ASC ) },\r\n                { name: \"Descending\", icon: \"SortDesc\", callback: () => this._sortData( undefined, AssetView.CONTENT_SORT_DESC ) }\r\n            ], { side: \"bottom\", align: \"start\" });\r\n        };\r\n\r\n        const _onChangeView = ( value: any, event: any ) =>\r\n        {\r\n            LX.addDropdownMenu( event.target, [\r\n                { name: \"Grid\", icon: \"LayoutGrid\", callback: () => this._setContentLayout( AssetView.LAYOUT_GRID ) },\r\n                { name: \"Compact\", icon: \"LayoutList\", callback: () => this._setContentLayout( AssetView.LAYOUT_COMPACT ) },\r\n                { name: \"List\", icon: \"List\", callback: () => this._setContentLayout( AssetView.LAYOUT_LIST ) }\r\n            ], { side: \"bottom\", align: \"start\" });\r\n        };\r\n\r\n        this.toolsPanel.refresh = () =>\r\n        {\r\n            this.toolsPanel.clear();\r\n\r\n            const typeEntries = Object.keys( this.allowedTypes );\r\n\r\n            // Put it in the content panel if no browser\r\n            if( this.skipBrowser )\r\n            {\r\n                this._createNavigationBar( this.toolsPanel );\r\n            }\r\n\r\n            this.toolsPanel.sameLine();\r\n            const sortButton = this.toolsPanel.addButton( null, \"\", _onSort.bind( this ), { title: \"Sort\", tooltip: true, icon: ( this.sortMode === AssetView.CONTENT_SORT_ASC ) ? \"SortAsc\" : \"SortDesc\" } );\r\n            this.toolsPanel.addButton( null, \"\", _onChangeView.bind( this ), { title: \"View\", tooltip: true, icon: ( this.layout === AssetView.LAYOUT_GRID ) ? \"LayoutGrid\" : \"LayoutList\" } );\r\n            this.toolsPanel.addSelect( null, typeEntries, this.filter ?? typeEntries[ 0 ], ( v: any ) => {\r\n                this._refreshContent( undefined, v );\r\n            }, { overflowContainer: null } );\r\n            this.toolsPanel.addText( null, this.searchValue ?? \"\", ( v: string ) => this._refreshContent( v ), { className: \"flex flex-auto-fill\", placeholder: \"Search assets..\" } );\r\n            this.toolsPanel.endLine();\r\n\r\n            if( this._paginator )\r\n            {\r\n                const inlineContainer = sortButton.root.parentElement;\r\n                inlineContainer.appendChild( this._paginator.root );\r\n            }\r\n        };\r\n\r\n        // Start content panel\r\n\r\n        this.content = document.createElement( 'ul' );\r\n        this.content.className = \"lexassetscontent\";\r\n        this.contentPanel.attach( this.content );\r\n\r\n        if( !this.skipBrowser )\r\n        {\r\n            this.contentPanel.addText( null, this.path.join('/'), null, {\r\n                inputClass: \"bg-none fg-quinary text-end\",\r\n                disabled: true,\r\n                signal: \"@on_folder_change\"\r\n            });\r\n        }\r\n\r\n        this.content.addEventListener( 'dragenter', function( e: DragEvent ) {\r\n            e.preventDefault();\r\n            this.classList.add( 'dragging' );\r\n        });\r\n\r\n        this.content.addEventListener( 'dragleave', function( e: DragEvent ) {\r\n            e.preventDefault();\r\n            this.classList.remove( 'dragging' );\r\n        });\r\n\r\n        this.content.addEventListener( 'drop', ( e: DragEvent ) =>\r\n        {\r\n            e.preventDefault();\r\n            this._processDrop( e );\r\n        });\r\n\r\n        this.content.addEventListener( 'click', function()\r\n        {\r\n            this.querySelectorAll('.lexassetitem').forEach( i => i.classList.remove('selected') );\r\n        });\r\n\r\n        this.content.addEventListener( 'contextmenu', function( e )\r\n        {\r\n            e.preventDefault();\r\n\r\n            const options: any[] = [\r\n                {\r\n                    name: \"New Folder\",\r\n                    icon: LX.makeIcon( \"FolderPlus\" ),\r\n                    callback: () =>\r\n                    {\r\n                        that._requestCreateFolder();\r\n                    }\r\n                }\r\n            ];\r\n\r\n            LX.addClass( that.contentPanel.root, \"pointer-events-none\" );\r\n\r\n            LX.addDropdownMenu( e.target, options, { side: \"right\", align: \"start\", event: e, onBlur: () => {\r\n                LX.removeClass( that.contentPanel.root, \"pointer-events-none\" );\r\n            } });\r\n        });\r\n\r\n        this._refreshContent();\r\n\r\n        // After content to update the size of the content based on the toolbar\r\n        LX.doAsync( () => this.toolsPanel.refresh(), 100 );\r\n    }\r\n\r\n    _makeNameFilterFn( searchValue: string ): (name: string) => boolean\r\n    {\r\n        const q = searchValue.trim();\r\n\r\n        if( q.includes( \"*\" ) || q.includes( \"?\" ) )\r\n        {\r\n            const regex = LX.wildcardToRegExp( q );\r\n            return ( name ) => regex.test( name );\r\n        }\r\n\r\n        // default case, only check include\r\n        return ( name ) => name.toLowerCase().includes( q.toLowerCase() );\r\n    }\r\n\r\n    _refreshContent( searchValue?: string, filter?: string )\r\n    {\r\n        const isCompactLayout = ( this.layout == AssetView.LAYOUT_COMPACT );\r\n        const isListLayout = ( this.layout == AssetView.LAYOUT_LIST );\r\n\r\n        this.filter = filter ?? ( this.filter ?? \"None\" );\r\n        this.searchValue = searchValue ?? ( this.searchValue ?? \"\" );\r\n        this.content.innerHTML = \"\";\r\n        this.content.className = `lexassetscontent${ isCompactLayout ? \" compact\" : ( isListLayout ? \" list\" : \"\" ) }`;\r\n\r\n        if( !this.currentData.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const fr = new FileReader();\r\n        const nameFilterFn = this._makeNameFilterFn( this.searchValue );\r\n\r\n        const filteredData = this.currentData.filter( ( _i ) =>\r\n        {\r\n            const typeMatch = this.filter !== \"None\" ? _i.type.toLowerCase() === this.filter.toLowerCase() : true;\r\n            const nameMatch = nameFilterFn( _i.id );\r\n            return typeMatch && nameMatch;\r\n        } );\r\n\r\n        this._paginator?.setPages( Math.max( Math.ceil( filteredData.length / this.assetsPerPage ), 1 ) );\r\n\r\n        // Show all data if using filters\r\n        const start = this._paginator ? ( this._paginator.page - 1 ) * this.assetsPerPage : 0;\r\n        const end = this._paginator ? Math.min( start + this.assetsPerPage, filteredData.length ) : filteredData.length;\r\n\r\n        for( let i = start; i < end; ++i )\r\n        {\r\n            let item = filteredData[ i ];\r\n\r\n            if( item.path )\r\n            {\r\n                LX.request({ url: item.path, dataType: 'blob', success: ( f: File ) => {\r\n                    item.metadata.bytesize = f.size;\r\n                    fr.readAsDataURL( f );\r\n                    fr.onload = e => {\r\n                        const target = e.currentTarget as any;\r\n                        item.src = target.result;  // This is a base64 string...\r\n                        item.metadata.path = item.path;\r\n                        delete item.path;\r\n                        this._refreshContent( searchValue, filter );\r\n                    };\r\n                } });\r\n            }\r\n            else\r\n            {\r\n                item.domEl = this.addItem( item, undefined, false );\r\n            }\r\n        }\r\n\r\n        if( this.onRefreshContent )\r\n        {\r\n            this.onRefreshContent( searchValue, filter );\r\n        }\r\n    }\r\n\r\n    _previewAsset( file: AssetViewItem )\r\n    {\r\n        if( this.skipPreview )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const is_base_64 = file.src && file.src.includes(\"data:image/\");\r\n        \r\n        file.metadata = file.metadata ?? {};\r\n\r\n        this.previewPanel.clear();\r\n        this.previewPanel.branch(\"Asset\");\r\n\r\n        if( file.type == 'image' || file.src )\r\n        {\r\n            const hasImage = ['png', 'jpg'].indexOf( LX.getExtension( file.src ) ) > -1 || is_base_64;\r\n            if( hasImage )\r\n            {\r\n                this.previewPanel.addImage( null, file.src, { style: { width: \"100%\" } } );\r\n            }\r\n        }\r\n\r\n        if( file.metadata.lastModified && !file.metadata.lastModifiedDate )\r\n        {\r\n            file.metadata.lastModifiedDate = this._lastModifiedToStringDate( file.metadata.lastModified );\r\n        }\r\n\r\n        const options = { disabled: true };\r\n\r\n        this.previewPanel.addText(\"Filename\", file.id, null, options);\r\n        if( file.metadata.lastModifiedDate ) this.previewPanel.addText(\"Last Modified\", file.metadata.lastModifiedDate, null, options);\r\n        if( file.metadata.path || file.src ) this.previewPanel.addText(\"URL\", file.metadata.path ? file.metadata.path : file.src, null, options);\r\n        this.previewPanel.addText(\"Path\", this.path.join('/'), null, options);\r\n        this.previewPanel.addText(\"Type\", file.type, null, options);\r\n        if( file.metadata.bytesize ) this.previewPanel.addText(\"Size\", LX.formatBytes( file.metadata.bytesize ), null, options);\r\n        if( file.type == \"folder\" ) this.previewPanel.addText(\"Files\", file.children ? file.children.length.toString() : \"0\", null, options);\r\n\r\n        this.previewPanel.addSeparator();\r\n\r\n        const previewActions = [...this.previewActions];\r\n\r\n        if( !previewActions.length && file.type !== \"folder\" )\r\n        {\r\n            // By default\r\n            previewActions.push({\r\n                name: 'Download',\r\n                callback: () => LX.downloadURL(file.src, file.id)\r\n            });\r\n        }\r\n\r\n        for( let action of previewActions )\r\n        {\r\n            if( action.type && action.type !== file.type || action.path && action.path !== this.path.join('/') )\r\n            {\r\n                continue;\r\n            }\r\n            this.previewPanel.addButton( null, action.name, action.callback.bind( this, file ) );\r\n        }\r\n\r\n        this.previewPanel.merge();\r\n    }\r\n\r\n    _processDrop( e: DragEvent )\r\n    {\r\n        if( !e.dataTransfer || !e.dataTransfer.files || e.dataTransfer.files.length == 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const fr = new FileReader();\r\n        const num_files = e.dataTransfer.files.length;\r\n\r\n        for( let i = 0; i < e.dataTransfer.files.length; ++i )\r\n        {\r\n            const file = e.dataTransfer.files[ i ];\r\n\r\n            const result = this.currentData.find( e => e.id === file.name );\r\n            if(result) continue;\r\n\r\n            fr.readAsDataURL( file );\r\n            fr.onload = e => {\r\n\r\n                let ext = file.name.substring( file.name.lastIndexOf('.') + 1 ).toLowerCase();\r\n                let type = null;\r\n\r\n                switch(ext)\r\n                {\r\n                case 'png':\r\n                case 'jpg':\r\n                    type = \"image\"; break;\r\n                case 'js':\r\n                case 'css':\r\n                    type = \"script\"; break;\r\n                case 'json':\r\n                    type = \"json\"; break;\r\n                case 'obj':\r\n                    type = \"mesh\"; break;\r\n                default:\r\n                    type = ext;\r\n                    break;\r\n                }\r\n\r\n                let item: AssetViewItem = {\r\n                    id: file.name,\r\n                    src: ( e.currentTarget as any ).result,\r\n                    type,\r\n                    children: [],\r\n                    metadata: {\r\n                        extension: ext,\r\n                        lastModified: file.lastModified,\r\n                        lastModifiedDate: this._lastModifiedToStringDate( file.lastModified ),\r\n                        unknownExtension: type == ext\r\n                    }\r\n                };\r\n\r\n                this.currentData.push( item );\r\n\r\n                if( i == (num_files - 1) )\r\n                {\r\n                    this._refreshContent();\r\n                    this.tree?.refresh(); // Refresh if tree exists\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    _sortData( sortBy?: string, sortMode?: number )\r\n    {\r\n        sortBy = sortBy ?? ( this._lastSortBy ?? 'id' );\r\n        sortMode = sortMode ?? this.sortMode;\r\n        const sortDesc = ( sortMode === AssetView.CONTENT_SORT_DESC );\r\n        this.currentData = this.currentData.sort( ( a: any, b: any ) => {\r\n            var r = sortDesc ? b[ sortBy ].localeCompare( a[ sortBy ] ) : a[ sortBy ].localeCompare( b[ sortBy ] );\r\n            if( r == 0 ) r = sortDesc ? b['id'].localeCompare( a['id'] ) : a[ 'id' ].localeCompare( b[ 'id' ] );\r\n            return r;\r\n        } );\r\n\r\n        this._lastSortBy = sortBy;\r\n        this.sortMode = sortMode;\r\n        this.toolsPanel.refresh();\r\n        this._refreshContent();\r\n    }\r\n\r\n    _enterFolder( folderItem: AssetViewItem | undefined, storeCurrent: boolean = true )\r\n    {\r\n        if( !folderItem )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const child = this.currentData[ 0 ];\r\n        const sameFolder = child?.parent?.id === folderItem.id;\r\n\r\n        if( storeCurrent )\r\n        {\r\n            this.prevData.push( this.currentFolder ?? {\r\n                id: \"/\",\r\n                children: this.data,\r\n                type: \"root\",\r\n                metadata: {}\r\n            } );\r\n        }\r\n\r\n        this.currentFolder = folderItem;\r\n        this.currentData = this.currentFolder?.children ?? [];\r\n\r\n        if( !sameFolder )\r\n        {\r\n            this._refreshContent();\r\n        }\r\n\r\n        this._updatePath();\r\n\r\n        const onEnterFolder = this._callbacks[\"enterFolder\"];\r\n        if( onEnterFolder !== undefined )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"enter_folder\",\r\n                to: folderItem,\r\n                userInitiated: true\r\n            };\r\n            onEnterFolder( event );\r\n        }\r\n    }\r\n\r\n    _removeItemFromParent( item: AssetViewItem )\r\n    {\r\n        const oldParent = item.parent;\r\n        if( oldParent )\r\n        {\r\n            const idx = oldParent.children?.indexOf( item ) ?? -1;\r\n            if( idx < 0 )\r\n            {\r\n                return false;\r\n            }\r\n            oldParent.children?.splice( idx, 1 );\r\n        }\r\n        else\r\n        {\r\n            const oldDir = item.dir;\r\n            if( oldDir )\r\n            {\r\n                const idx = oldDir.indexOf( item );\r\n                if( idx < 0 )\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                oldDir.splice( idx, 1 );\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    _requestDeleteItem( item: AssetViewItem )\r\n    {\r\n        const onBeforeDelete = this._callbacks[\"beforeDelete\"];\r\n        const onDelete = this._callbacks[\"delete\"];\r\n\r\n        const resolve = () => {\r\n            this._deleteItem( item );\r\n            const event: AssetViewEvent = {\r\n                type: \"delete\",\r\n                items: [ item ],\r\n                userInitiated: true\r\n            }\r\n            if( onDelete ) onDelete( event );\r\n        };\r\n        \r\n        if( onBeforeDelete )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"delete\",\r\n                items: [ item ],\r\n                userInitiated: true\r\n            }\r\n\r\n            onBeforeDelete( event, resolve );\r\n        }\r\n        else\r\n        {\r\n            resolve();\r\n        }\r\n    }\r\n\r\n    _deleteItem( item: AssetViewItem )\r\n    {\r\n        const ok = this._removeItemFromParent( item );\r\n        if( !ok )\r\n        {\r\n            console.error( \"[AssetView Error] Cannot delete. Item not found.\" );\r\n            return;\r\n        }\r\n\r\n        this._refreshContent( this.searchValue, this.filter );\r\n        this.tree?.refresh();\r\n        this.previewPanel?.clear();\r\n    }\r\n\r\n    _requestMoveItemToFolder( item: AssetViewItem, folder: AssetViewItem )\r\n    {\r\n        const onBeforeMove = this._callbacks[\"beforeMove\"];\r\n        const onMove = this._callbacks[\"move\"];\r\n\r\n        const resolve = () => {\r\n            this._moveItemToFolder( item, folder );\r\n            const event: AssetViewEvent = {\r\n                type: \"move\",\r\n                items: [ item ],\r\n                from: item.parent,\r\n                to: folder,\r\n                userInitiated: true\r\n            }\r\n            if( onMove ) onMove( event );\r\n        };\r\n        \r\n        if( onBeforeMove )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"move\",\r\n                items: [ item ],\r\n                from: item.parent,\r\n                to: folder,\r\n                userInitiated: true\r\n            }\r\n\r\n            onBeforeMove( event, resolve );\r\n        }\r\n        else\r\n        {\r\n            resolve();\r\n        }\r\n    }\r\n\r\n    _moveItemToFolder( item: AssetViewItem, folder: AssetViewItem )\r\n    {\r\n        const ok = this._removeItemFromParent( item );\r\n        if( !ok )\r\n        {\r\n            console.error( \"[AssetView Error] Cannot move. Item not found.\" );\r\n            return;\r\n        }\r\n\r\n        folder.children = folder.children ?? [];\r\n        folder.children.push( item );\r\n        item.parent = folder;\r\n        item.dir = folder.children;\r\n\r\n        this._refreshContent();\r\n        this.tree?.refresh();\r\n        this._moveItemDialog?.destroy();\r\n    }\r\n\r\n    _moveItem( item: AssetViewItem )\r\n    {\r\n        if( this._moveItemDialog )\r\n        {\r\n            this._moveItemDialog.destroy();\r\n        }\r\n\r\n        let targetFolder: any = null;\r\n        let bcContainer: HTMLElement;\r\n\r\n        const _openFolder = function( p: any, container: any, updateBc: boolean = true )\r\n        {\r\n            container.innerHTML = \"\";\r\n\r\n            targetFolder = p;\r\n\r\n            for( let pi of ( targetFolder.children ?? targetFolder ) )\r\n            {\r\n                const row = LX.makeContainer( [ \"100%\", \"auto\" ], \"flex flex-row px-1 items-center\", \"\", container );\r\n                const isFolder = ( pi.type === \"folder\" );\r\n\r\n                const rowItem = LX.makeContainer( [ \"100%\", \"auto\" ],\r\n                    `move-item flex flex-row gap-1 py-1 px-3 cursor-pointer ${ isFolder ? \"fg-primary font-medium\" : \"fg-quinary\" } rounded-xxl ${ isFolder ? \"hover:bg-secondary\" : \"hover:bg-primary\" }`,\r\n                    `${ isFolder ? LX.makeIcon( \"FolderOpen\", { svgClass: \"\" } ).innerHTML : \"\" }${ pi.id }`,\r\n                    row\r\n                );\r\n\r\n                if( isFolder )\r\n                {\r\n                    rowItem.addEventListener( \"click\", () =>\r\n                    {\r\n                        container.querySelectorAll( \".move-item\" ).forEach( ( el: any ) => LX.removeClass( el, \"bg-quinary\" ) );\r\n                        LX.addClass( rowItem, \"bg-quinary\" );\r\n                        targetFolder = pi;\r\n                    } );\r\n\r\n                    const fPathButton = new LX.Button( null, \"FPathButton\", () => {\r\n                        _openFolder( pi, container );\r\n                    }, { icon: \"ChevronRight\", className: \"ml-auto h-8\", buttonClass: \"bg-none hover:bg-secondary\" } );\r\n                    row.appendChild( fPathButton.root );\r\n                }\r\n            }\r\n\r\n            if( !updateBc )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const path = [];\r\n\r\n            if( targetFolder && targetFolder.parent )\r\n            {\r\n                path.push( targetFolder.id );\r\n\r\n                const _pushParentsId = ( i: AssetViewItem | undefined ) => {\r\n                    if( !i ) return;\r\n                    path.push( i.parent ? i.id : '@' );\r\n                    _pushParentsId( i.parent );\r\n                };\r\n\r\n                _pushParentsId( targetFolder.parent );\r\n            }\r\n            else\r\n            {\r\n                path.push( '@' );\r\n            }\r\n\r\n            bcContainer.innerHTML = \"\";\r\n            bcContainer.appendChild( LX.makeBreadcrumb( path.reverse().map( p => { return { title: p } } ), {\r\n                maxItems: 4, separatorIcon: \"ChevronRight\"\r\n            }) );\r\n        };\r\n\r\n        this._moveItemDialog = new LX.Dialog( `Moving: ${ item.id }`, ( p: typeof Panel ) =>\r\n        {\r\n            const area = new LX.Area({ className: \"flex flex-col rounded-lg\" });\r\n            p.attach( area );\r\n\r\n            const content = LX.makeContainer( [ \"auto\", \"100%\" ], \"flex flex-auto-fill flex-col overflow-scroll py-2 gap-1\", `` );\r\n\r\n            {\r\n                const headerPanel = area.addPanel({ className: \"p-2 border-bottom flex flex-auto\", height: \"auto\" });\r\n                headerPanel.sameLine( 2, \"w-full\" );\r\n                headerPanel.addButton( null, \"BackButton\", () =>\r\n                {\r\n                    if( targetFolder && targetFolder.parent ) _openFolder( targetFolder.parent, content );\r\n                }, { icon: \"ArrowLeft\", title: \"Back\", tooltip: true, className: \"flex-auto\", buttonClass: \"bg-none hover:bg-secondary\" } );\r\n\r\n                bcContainer = LX.makeElement( \"div\" );\r\n\r\n                headerPanel.addContent( \"ITEM_MOVE_PATH\", bcContainer, { signal: \"@item_move_path\", className: \"flex-auto-fill\" } );\r\n            }\r\n\r\n            area.attach( content );\r\n\r\n            _openFolder( this.data, content );\r\n\r\n            {\r\n                const footerPanel = area.addPanel({ className: \"p-2 border-top flex flex-auto justify-between\", height: \"auto\" });\r\n                footerPanel.addButton( null, \"NewFolderButton\", () => {\r\n\r\n                }, { width: \"auto\", icon: \"FolderPlus\", title: \"Create Folder\", tooltip: true, className: \"ml-2\", buttonClass: \"bg-none hover:bg-secondary\" } );\r\n\r\n                footerPanel.sameLine( 2, \"mr-2\" );\r\n                footerPanel.addButton( null, \"Cancel\", () => {\r\n                    this._moveItemDialog.close();\r\n                }, { buttonClass: \"bg-none fg-error\" } );\r\n                footerPanel.addButton( null, \"Move\", () => {\r\n                    this._requestMoveItemToFolder( item, targetFolder );\r\n                }, { className: \"\", buttonClass: \"contrast\" } );\r\n            }\r\n        }, { modal: true, size: [\"616px\", \"500px\"], closable: true, onBeforeClose: () => {\r\n            delete this._moveItemDialog;\r\n        } });\r\n    }\r\n\r\n    _requestCloneItem( item: AssetViewItem )\r\n    {\r\n        if( item.type === \"folder\" )\r\n        {\r\n            console.error( \"[AssetView Error] Cannot clone a folder.\" );\r\n            return;\r\n        }\r\n\r\n        const dir = item.dir ?? [];\r\n        const idx = dir.indexOf( item );\r\n        if( idx < 0 )\r\n        {\r\n            console.error( \"[AssetView Error] Cannot clone. Item not found.\" );\r\n            return false;\r\n        }\r\n\r\n        const onBeforeClone = this._callbacks[\"beforeClone\"];\r\n        const onClone = this._callbacks[\"clone\"];\r\n\r\n        const resolve = () => {\r\n            const clonedItem = this._cloneItem( item );\r\n            const event: AssetViewEvent = {\r\n                type: \"clone\",\r\n                items: [ item ],\r\n                result: [ clonedItem ],\r\n                userInitiated: true\r\n            }\r\n            if( onClone ) onClone( event );\r\n        };\r\n        \r\n        if( onBeforeClone )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"clone\",\r\n                items: [ item ],\r\n                userInitiated: true\r\n            }\r\n\r\n            onBeforeClone( event, resolve );\r\n        }\r\n        else\r\n        {\r\n            resolve();\r\n        }\r\n    }\r\n\r\n    _cloneItem( item: AssetViewItem ): AssetViewItem\r\n    {\r\n        const parent = item.parent;\r\n        const dir = item.dir ?? [];\r\n        const idx = dir.indexOf( item );\r\n\r\n        delete item.domEl;\r\n        delete item.dir;\r\n        delete item.parent;\r\n\r\n        const newItem: AssetViewItem = LX.deepCopy( item );\r\n        newItem.id = this._getClonedName( item.id, dir );\r\n        newItem.dir = item.dir = dir;\r\n        newItem.parent = item.parent = parent;\r\n        newItem.metadata.uid = LX.guidGenerator(); // generate new uid\r\n\r\n        dir.splice( idx + 1, 0, newItem );\r\n\r\n        this._refreshContent( this.searchValue, this.filter );\r\n\r\n        return newItem;\r\n    }\r\n\r\n    _getClonedName( originalName: string, siblings: any[] ): string\r\n    {\r\n        const dotIndex = originalName.lastIndexOf( \".\" );\r\n        let base = originalName;\r\n        let ext = \"\";\r\n\r\n        if( dotIndex > 0 )\r\n        {\r\n            base = originalName.substring( 0, dotIndex );\r\n            ext = originalName.substring( dotIndex ); // includes the dot\r\n        }\r\n\r\n        // core name without (N)\r\n        const match = base.match(/^(.*)\\s\\((\\d+)\\)$/);\r\n        if( match )\r\n        {\r\n            base = match[ 1 ];\r\n        }\r\n\r\n        let maxN = -1;\r\n\r\n        for( const s of siblings )\r\n        {\r\n            if( !s.id ) continue;\r\n\r\n            let sBase = s.id;\r\n            let sExt = \"\";\r\n\r\n            const sDot = sBase.lastIndexOf( \".\" );\r\n            if( sDot > 0 )\r\n            {\r\n                sExt = sBase.substring( sDot );\r\n                sBase = sBase.substring( 0, sDot );\r\n            }\r\n\r\n            // Only compare same extension and same base!\r\n            if( sExt !== ext ) continue;\r\n\r\n            const m = sBase.match( new RegExp(\"^\" + LX.escapeRegExp( base ) + \"\\\\s\\\\((\\\\d+)\\\\)$\") );\r\n            if( m )\r\n            {\r\n                const num = parseInt( m[ 1 ] );\r\n                if( num > maxN ) maxN = num;\r\n            }\r\n            else if( sBase === base )\r\n            {\r\n                // Base name exists without number\r\n                maxN = Math.max( maxN, 0 );\r\n            }\r\n        }\r\n\r\n        return maxN === -1 ? originalName : `${base} (${ maxN + 1 })${ ext }`;\r\n    }\r\n\r\n    _requestRenameItem( item: AssetViewItem, newName: string )\r\n    {\r\n        const onBeforeRename = this._callbacks[\"beforeRename\"];\r\n        const onRename = this._callbacks[\"rename\"];\r\n        const oldName = item.id;\r\n\r\n        const resolve = () => {\r\n            \r\n            this._renameItem( item, newName );\r\n            const event: AssetViewEvent = {\r\n                type: \"rename\",\r\n                oldName,\r\n                newName,\r\n                userInitiated: true\r\n            }\r\n            if( onRename ) onRename( event );\r\n        };\r\n        \r\n        if( onBeforeRename )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"rename\",\r\n                oldName,\r\n                newName,\r\n                userInitiated: true\r\n            }\r\n\r\n            onBeforeRename( event, resolve );\r\n        }\r\n        else\r\n        {\r\n            resolve();\r\n        }\r\n    }\r\n\r\n    _renameItem( item: AssetViewItem, newName: string )\r\n    {\r\n        const idx = this.currentData.indexOf( item );\r\n        if( idx < 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const wasSelected = LX.hasClass( item.domEl, \"selected\" );\r\n        const hoverTitle: HTMLElement | null = this.content.querySelector( `#floatingTitle_${ item.id.replace( /\\s/g, '_' ).replaceAll( \".\", \"_\" ) }` );\r\n        if( hoverTitle ) hoverTitle.remove();\r\n\r\n        item.domEl?.remove();\r\n        item.id = newName;\r\n        item.domEl = this.addItem( item, idx * 2 );\r\n\r\n        if( wasSelected )\r\n        {\r\n            this._previewAsset( item );\r\n        }\r\n\r\n        this.tree?.refresh();\r\n\r\n        this._processData( this.data );\r\n    }\r\n\r\n    _renameItemPopover( item: AssetViewItem )\r\n    {\r\n        const idx = this.currentData.indexOf( item );\r\n        if( idx < 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const onRename = ( value: string ) =>\r\n        {\r\n            p.destroy();\r\n            this._requestRenameItem( item, value )\r\n        }\r\n\r\n        let newName = item.id;\r\n        const panel = new LX.Panel();\r\n        panel.addText( null, item.id, ( v: string, e: any ) => {\r\n            newName = v;\r\n            if( e.constructor === KeyboardEvent ) onRename( v );\r\n        });\r\n        panel.addButton( null, \"Save\", () => {\r\n            onRename( newName );\r\n        }, { buttonClass: \"contrast\" });\r\n\r\n        const p = new LX.Popover( item.domEl, [ panel ], { align: \"center\", side: \"bottom\", sideOffset: -128 });\r\n    }\r\n\r\n    _requestCreateFolder()\r\n    {\r\n        if( !this.currentFolder )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const onBeforeCreateFolder = this._callbacks[\"beforeCreateFolder\"];\r\n        const onCreateFolder = this._callbacks[\"createFolder\"];\r\n\r\n        const resolve = () => {\r\n            const newFolder = this._createFolder();\r\n            const event: AssetViewEvent = {\r\n                type: \"create-folder\",\r\n                result: [ newFolder ],\r\n                to: this.currentFolder,\r\n                userInitiated: true\r\n            }\r\n            if( onCreateFolder ) onCreateFolder( event );\r\n        };\r\n\r\n        if( onBeforeCreateFolder )\r\n        {\r\n            const event: AssetViewEvent = {\r\n                type: \"create-folder\",\r\n                userInitiated: true\r\n            }\r\n\r\n            onBeforeCreateFolder( event, resolve );\r\n        }\r\n        else\r\n        {\r\n            resolve();\r\n        }\r\n    }\r\n\r\n    _createFolder(): AssetViewItem\r\n    {\r\n        if( !this.currentFolder )\r\n        {\r\n            throw( \"_createFolder: Something went wrong!\" );\r\n        }\r\n\r\n        const folder = {\r\n            id: this._getClonedName( \"New Folder\", this.currentFolder.children ),\r\n            type: \"folder\",\r\n            children: [],\r\n            parent: this.currentFolder,\r\n            metadata: {}\r\n        }\r\n\r\n        this.currentFolder.children.push( folder );\r\n\r\n        this._refreshContent();\r\n        this.tree?.refresh();\r\n\r\n        return folder;\r\n    }\r\n\r\n    _openScriptInEditor( script: any )\r\n    {\r\n        if( this._scriptCodeDialog )\r\n        {\r\n            this._scriptCodeDialog.destroy();\r\n        }\r\n\r\n        this._scriptCodeDialog = new LX.Dialog( null, ( p: typeof Panel ) => {\r\n            const area = new LX.Area({ className: \"rounded-lg\" });\r\n            p.attach( area );\r\n            let editor = new LX.CodeEditor( area, {\r\n                allowAddScripts: false,\r\n                files: [ script.src ]\r\n            } );\r\n        }, { size: [\"50%\", \"600px\"], closable: true, onBeforeClose: () => {\r\n            delete this._scriptCodeDialog;\r\n        } });\r\n    }\r\n\r\n    _setAssetsPerPage( n: number )\r\n    {\r\n        this._assetsPerPage = n;\r\n        this._refreshContent();\r\n    }\r\n\r\n    _lastModifiedToStringDate( lm: number ): string\r\n    {\r\n        const d = new Date( lm ).toLocaleString();\r\n        return d.substring( 0, d.indexOf( ',' ) );\r\n    }\r\n}\r\n\r\nLX.AssetView = AssetView;","// Audio.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'Audio' );\r\n\r\nconst Panel = LX.Panel;\r\nconst BaseComponent = LX.BaseComponent;\r\nconst ComponentType = LX.ComponentType;\r\nconst IEvent = LX.IEvent;\r\n\r\n/**\r\n * @class Knob\r\n * @description Knob Component\r\n */\r\n\r\nexport class Knob extends BaseComponent\r\n{\r\n    constructor( name: string, value: number, min: number, max: number, callback: any, options: any = {} )\r\n    {\r\n        if( value.constructor == Number )\r\n        {\r\n            value = LX.clamp( value, min, max );\r\n            value = options.precision ? LX.round( value, options.precision ) : value;\r\n        }\r\n\r\n        super( ComponentType.KNOB, name, value, options );\r\n\r\n        this.onGetValue = () => {\r\n            return innerKnobCircle.value;\r\n        };\r\n\r\n        this.onSetValue = ( newValue: any, skipCallback?: boolean, event?: any ) => {\r\n            innerSetValue( newValue );\r\n            LX.BaseComponent._dispatchEvent( innerKnobCircle, \"change\", skipCallback );\r\n        };\r\n\r\n        this.onResize = () => {\r\n            const realNameWidth = ( this.root.domName?.style.width ?? \"0px\" );\r\n            container.style.width = `calc( 100% - ${ realNameWidth })`;\r\n        };\r\n\r\n        const snapEnabled = ( options.snap && options.snap.constructor == Number );\r\n        const ticks: number[] = [];\r\n        if( snapEnabled )\r\n        {\r\n            const range = (max - min) / options.snap;\r\n            for( let i = 0; i < ( options.snap + 1 ); ++i )\r\n            {\r\n                ticks.push( min + (i  * range) );\r\n            }\r\n        }\r\n\r\n        var container: any = document.createElement( 'div' );\r\n        container.className = \"lexknob\";\r\n        LX.addClass( container, options.size );\r\n        LX.addClass( container, snapEnabled ? \"show-ticks\" : null );\r\n\r\n        let knobCircle = document.createElement( 'div' );\r\n        knobCircle.className = \"knobcircle\";\r\n        if( snapEnabled )\r\n        {\r\n            knobCircle.style.setProperty( \"--knob-snap-mark\", ( 270 / options.snap ) + \"deg\" );\r\n        }\r\n\r\n        let innerKnobCircle: any = document.createElement( 'div' );\r\n        innerKnobCircle.className = \"innerknobcircle\";\r\n        innerKnobCircle.min = min;\r\n        innerKnobCircle.max = max;\r\n        knobCircle.appendChild( innerKnobCircle );\r\n\r\n        let knobMarker: any = document.createElement( 'div' );\r\n        knobMarker.className = \"knobmarker\";\r\n        innerKnobCircle.appendChild( knobMarker );\r\n        innerKnobCircle.value = innerKnobCircle.iValue = value;\r\n\r\n        let mustSnap = false;\r\n        let innerSetValue = function( v: number )\r\n        {\r\n            // Convert val between (-135 and 135)\r\n            const angle = LX.remapRange( v, innerKnobCircle.min, innerKnobCircle.max, -135.0, 135.0 );\r\n            innerKnobCircle.style.rotate = angle + 'deg';\r\n            innerKnobCircle.value = v;\r\n        }\r\n\r\n        const angle = LX.remapRange( value, min, max, -135.0, 135.0 );\r\n        innerKnobCircle.style.rotate = angle + 'deg';\r\n\r\n        if( options.disabled )\r\n        {\r\n            LX.addClass( container, \"disabled\" );\r\n        }\r\n\r\n        innerKnobCircle.addEventListener( \"change\", ( e: InputEvent ) => {\r\n\r\n            const knob: any = e.target;\r\n\r\n            const skipCallback = e.detail;\r\n\r\n            if( mustSnap )\r\n            {\r\n                knob.value = ticks.reduce( ( prev, curr ) => Math.abs( curr - knob.value ) < Math.abs( prev - knob.value ) ? curr : prev );\r\n            }\r\n\r\n            let val = knob.value = LX.clamp( knob.value, knob.min, knob.max );\r\n            val = options.precision ? LX.round( val, options.precision ) : val;\r\n\r\n            innerSetValue( val );\r\n\r\n            // Reset button (default value)\r\n            if( !skipCallback )\r\n            {\r\n                let btn = this.root.querySelector( \".lexcomponentname .lexicon\" );\r\n                if( btn ) btn.style.display = val != innerKnobCircle.iValue ? \"block\": \"none\";\r\n\r\n                if( !( snapEnabled && !mustSnap ) )\r\n                {\r\n                    this._trigger( new IEvent( name, val, e ), callback );\r\n                    mustSnap = false;\r\n                }\r\n            }\r\n\r\n        }, { passive: false });\r\n\r\n        // Add drag input\r\n\r\n        innerKnobCircle.addEventListener( \"mousedown\", innerMouseDown );\r\n\r\n        var that = this;\r\n\r\n        function innerMouseDown( e: MouseEvent )\r\n        {\r\n            if( document.activeElement == innerKnobCircle || options.disabled )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener( \"mousemove\", innerMouseMove );\r\n            doc.addEventListener( \"mouseup\", innerMouseUp );\r\n            document.body.classList.add( \"noevents\" );\r\n\r\n            if( !document.pointerLockElement )\r\n            {\r\n                container.requestPointerLock();\r\n            }\r\n\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        function innerMouseMove( e: MouseEvent )\r\n        {\r\n            let dt = -e.movementY;\r\n\r\n            if ( dt != 0 )\r\n            {\r\n                let mult = options.step ?? 1;\r\n                if(e.shiftKey) mult *= 10;\r\n                else if(e.altKey) mult *= 0.1;\r\n                let new_value = (innerKnobCircle.value - mult * dt);\r\n                innerKnobCircle.value = new_value;\r\n                LX.BaseComponent._dispatchEvent( innerKnobCircle, 'change' );\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function innerMouseUp( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', innerMouseMove );\r\n            doc.removeEventListener( 'mouseup', innerMouseUp );\r\n            document.body.classList.remove( 'noevents' );\r\n\r\n            // Snap if necessary\r\n            if( snapEnabled )\r\n            {\r\n                mustSnap = true;\r\n                LX.BaseComponent._dispatchEvent( innerKnobCircle, 'change' );\r\n            }\r\n\r\n            if( document.pointerLockElement )\r\n            {\r\n                document.exitPointerLock();\r\n            }\r\n        }\r\n\r\n        container.appendChild( knobCircle );\r\n\r\n        this.root.appendChild( container );\r\n\r\n        LX.doAsync( this.onResize.bind( this ) );\r\n    }\r\n}\r\n\r\nLX.Knob = Knob;\r\n\r\n/**\r\n * @method addKnob\r\n * @param {String} name Component name\r\n * @param {Number} value Knob value\r\n * @param {Number} min Min Knob value\r\n * @param {Number} max Max Knob value\r\n * @param {Function} callback Callback function on change\r\n * @param {*} options:\r\n * minLabel (String): Label to show as min value\r\n * maxLabel (String): Label to show as max value\r\n */\r\n\r\nconst panelProto: any = Panel.prototype;\r\npanelProto.addKnob = function( name: string, value: number, min: number, max: number, callback: any, options: any = {} )\r\n{\r\n    const component = new Knob( name, value, min, max, callback, options );\r\n    return this._attachComponent( component );\r\n}","// CodeEditor.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'CodeEditor' );\r\n\r\nconst g = ( globalThis as any );\r\nconst vec2 = LX.vec2;\r\nconst Area = LX.Area;\r\nconst Panel = LX.Panel;\r\nconst Tree = LX.Tree;\r\nconst Tabs = LX.Tabs;\r\nconst ContextMenu = LX.ContextMenu;\r\n\r\nfunction swapElements( obj: any, a: string, b: string ) { [obj[a], obj[b]] = [obj[b], obj[a]]; }\r\nfunction swapArrayElements( array: number[], id0: number, id1: number ) { [array[id0], array[id1]] = [array[id1], array[id0]]; };\r\nfunction sliceChars( str: string, idx: number, n: number = 1 ) { return str.substr(0, idx) + str.substr(idx + n); }\r\nfunction firstNonspaceIndex( str: string ) { const index = str.search(/\\S|$/); return index < str.length ? index : -1; }\r\nfunction strReverse( str: string ) { return str.split( \"\" ).reverse().join( \"\" ); }\r\nfunction isLetter( c: string ){ return /[a-zA-Z]/.test( c ); };\r\nfunction isSymbol( c: string ){ return /[^\\w\\s]/.test( c ); };\r\n\r\nfunction indexOfFrom( str: string, reg: string, from?: number, reverse: boolean = false )\r\n{\r\n    from = from ?? 0;\r\n\r\n    if( reverse )\r\n    {\r\n        str = str.substring( 0, from );\r\n        var k = from - 1;\r\n        while( str[ k ] && str[ k ] != reg )\r\n            k--;\r\n        return str[ k ] ? k : -1;\r\n    }\r\n    else\r\n    {\r\n        str = str.substring( from );\r\n        return from + str.indexOf( reg );\r\n    }\r\n}\r\n\r\nfunction codeScopesEqual( a: any, b: any )\r\n{\r\n    if( a.length !== b.length ) return false;\r\n    for( let i = 0; i < a.length; i++ )\r\n    {\r\n        if( a[ i ].type !== b[ i ].type ) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nclass Cursor\r\n{\r\n    root: any;\r\n    name: string = \"\";\r\n    editor: CodeEditor;\r\n    isMain: boolean = false;\r\n    selection: CodeSelection | null = null;\r\n\r\n    private _line: number = 0;\r\n    private _position: number = 0;\r\n\r\n    get line(): number { return this._line; }\r\n    set line( v: number ) {\r\n        this._line = v;\r\n        if( this.isMain ) this.editor._setActiveLine( v );\r\n    }\r\n\r\n    get position(): number { return this._position; }\r\n    set position( v: number ) {\r\n        this._position = v;\r\n        if( this.isMain )\r\n        {\r\n            const activeLine = this.editor.state.activeLine;\r\n            this.editor._updateDataInfoPanel( \"@cursor-data\", `Ln ${ activeLine + 1 }, Col ${ v + 1 }` );\r\n        }\r\n    }\r\n\r\n    left: number = 0;\r\n    top: number = 0;\r\n\r\n    constructor( name: string, position: number = 0, line: number = 0, isMain: boolean = false, editor: CodeEditor )\r\n    {\r\n        this.name = name;\r\n        this.editor = editor;\r\n        this.isMain = isMain;\r\n\r\n        this.root = document.createElement( 'div' );\r\n        this.root.name = name;\r\n        this.root.className = \"cursor\";\r\n        this.root.innerHTML = \"&nbsp;\";\r\n\r\n        this.set( position, line, false );\r\n    }\r\n\r\n    set( position: number = 0, line: number = 0, updateEditor: boolean = true )\r\n    {\r\n        this.left = position * this.editor.charWidth;\r\n        this.top = line * this.editor.lineHeight;\r\n        this.root.style.left = `calc( ${ this.left }px + ${ this.editor.xPadding } )`;\r\n        this.root.style.top = `${ this.top }px`;\r\n\r\n        if( updateEditor )\r\n        {\r\n            this.line = line;\r\n            this.position = position;\r\n        }\r\n        else\r\n        {\r\n            this._line = line;\r\n            this._position = position;\r\n        }\r\n    }\r\n\r\n    print()\r\n    {\r\n        console.log( this.line, this.position );\r\n    }\r\n\r\n    isLast(): boolean\r\n    {\r\n        return ( this.editor._getLastCursor() == this );\r\n    }\r\n}\r\n\r\nclass CodeSelection\r\n{\r\n    fromX: number;\r\n    toX: number;\r\n    fromY: number;\r\n    toY: number;\r\n    chars: number = 0;\r\n\r\n    editor: CodeEditor;\r\n    cursor: Cursor;\r\n    className: string;\r\n\r\n    constructor( editor: CodeEditor, cursor: Cursor, className: string = \"lexcodeselection\" )\r\n    {\r\n        this.editor = editor;\r\n        this.cursor = cursor;\r\n        this.className = className;\r\n\r\n        this.fromX  = cursor.position;\r\n        this.toX    = cursor.position;\r\n        this.fromY  = cursor.line;\r\n        this.toY    = cursor.line;\r\n    }\r\n\r\n    sameLine()\r\n    {\r\n        return this.fromY === this.toY;\r\n    }\r\n\r\n    samePosition()\r\n    {\r\n        return this.fromX === this.toX;\r\n    }\r\n\r\n    isEmpty()\r\n    {\r\n        return this.sameLine() && this.samePosition();\r\n    }\r\n\r\n    invertIfNecessary()\r\n    {\r\n        if( this.fromY > this.toY )\r\n        {\r\n            swapElements( this, 'fromX', 'toX' );\r\n            swapElements( this, 'fromY', 'toY' );\r\n        }\r\n        else if( this.sameLine() && this.fromX > this.toX )\r\n        {\r\n            swapElements( this, 'fromX', 'toX' );\r\n        }\r\n    }\r\n\r\n    selectInline( cursor: Cursor, x: number, y: number, width: number, isSearchResult?: boolean )\r\n    {\r\n        this.chars = width / this.editor.charWidth;\r\n        this.fromX = x;\r\n        this.toX = x + this.chars;\r\n        this.fromY = this.toY = y;\r\n\r\n        var domEl: any = document.createElement( 'div' );\r\n        domEl.className = this.className;\r\n        domEl._top = y * this.editor.lineHeight;\r\n        domEl.style.top = domEl._top + \"px\";\r\n        domEl._left = x * this.editor.charWidth;\r\n        domEl.style.left = \"calc(\" + domEl._left + \"px + \" + this.editor.xPadding + \")\";\r\n        domEl.style.width = width + \"px\";\r\n\r\n        if( isSearchResult )\r\n        {\r\n            this.editor.searchResultSelections.appendChild( domEl );\r\n        }\r\n        else\r\n        {\r\n            this.editor.selections[ cursor.name ].appendChild( domEl );\r\n        }\r\n\r\n        // Hide active line background\r\n        this.editor._hideActiveLine();\r\n    }\r\n\r\n    save()\r\n    {\r\n        return {\r\n            fromX: this.fromX,\r\n            fromY: this.fromY,\r\n            toX: this.toX,\r\n            toY: this.toY\r\n        }\r\n    }\r\n\r\n    load( data: any )\r\n    {\r\n        this.fromX = data.fromX;\r\n        this.fromY = data.fromY;\r\n        this.toX = data.toX;\r\n        this.toY = data.toY;\r\n    }\r\n\r\n    getText()\r\n    {\r\n        if( !this.editor.code || !this.sameLine() )\r\n        {\r\n            return null;\r\n        }\r\n\r\n        return this.editor.code.lines[ this.fromY ].substring( this.fromX, this.toX );\r\n    }\r\n};\r\n\r\nclass ScrollBar\r\n{\r\n    static SCROLLBAR_VERTICAL       = 1;\r\n    static SCROLLBAR_HORIZONTAL     = 2;\r\n\r\n    static SCROLLBAR_VERTICAL_WIDTH = 10;\r\n    static SCROLLBAR_HORIZONTAL_HEIGHT = 10;\r\n\r\n    editor: CodeEditor;\r\n    type: number;\r\n    root: any;\r\n    thumb: any;\r\n    lastPosition: typeof vec2;\r\n\r\n    constructor( editor: CodeEditor, type: number )\r\n    {\r\n        this.editor = editor;\r\n        this.type = type;\r\n\r\n        this.root = document.createElement( 'div' );\r\n        this.root.className = \"lexcodescrollbar hidden\";\r\n\r\n        if( type & ScrollBar.SCROLLBAR_VERTICAL )\r\n            this.root.classList.add( 'vertical' );\r\n        else if( type & ScrollBar.SCROLLBAR_HORIZONTAL )\r\n            this.root.classList.add( 'horizontal' );\r\n\r\n        this.thumb = document.createElement( 'div' );\r\n        this.thumb._top = 0;\r\n        this.thumb._left = 0;\r\n\r\n        this.root.appendChild( this.thumb );\r\n\r\n        this.thumb.addEventListener( \"mousedown\", inner_mousedown );\r\n\r\n        this.lastPosition = new LX.vec2( 0, 0 );\r\n\r\n        let that = this;\r\n\r\n        function inner_mousedown( e: MouseEvent )\r\n        {\r\n            var doc = editor.root.ownerDocument;\r\n            doc.addEventListener( \"mousemove\", inner_mousemove );\r\n            doc.addEventListener( \"mouseup\", inner_mouseup );\r\n            that.lastPosition.set( e.x, e.y );\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function inner_mousemove( e: MouseEvent )\r\n        {\r\n            var dt = that.lastPosition.sub( new LX.vec2( e.x, e.y ) );\r\n            if( that.type & ScrollBar.SCROLLBAR_VERTICAL )\r\n                editor.updateVerticalScrollFromScrollBar( dt.y )\r\n            else\r\n                editor.updateHorizontalScrollFromScrollBar( dt.x )\r\n            that.lastPosition.set( e.x, e.y );\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function inner_mouseup( e: MouseEvent )\r\n        {\r\n            var doc = editor.root.ownerDocument;\r\n            doc.removeEventListener( \"mousemove\", inner_mousemove );\r\n            doc.removeEventListener( \"mouseup\", inner_mouseup );\r\n        }\r\n    }\r\n}\r\n\r\n/* Highlight rules\r\n- test: function that receives a context object and returns true or false\r\n- className: class to apply if test is true\r\n- action: optional function to execute if test is true, receives context and editor as parameter\r\n- discard: optional boolean, if true the token is discarded, action value is returned\r\n        to \"ctx.discardToken\" and no class is applied\r\n*/\r\n\r\nconst HighlightRules: Record<string, any> =\r\n{\r\n    common: [\r\n        { test: (ctx: any) => ctx.inBlockComment, className: \"cm-com\" },\r\n        { test: (ctx: any) => ctx.inString, action: (ctx: any, editor: CodeEditor) => editor._appendStringToken( ctx.token ), discard: true },\r\n        { test: (ctx: any) => ctx.token.substr( 0, ctx.singleLineCommentToken.length ) == ctx.singleLineCommentToken, className: \"cm-com\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._isKeyword( ctx ), className: \"cm-kwd\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._mustHightlightWord( ctx.token, CE.builtIn, ctx.lang ) && ( ctx.lang.tags ?? false ? ( editor._enclosedByTokens( ctx.token, ctx.tokenIndex, '<', '>' ) ) : true ), className: \"cm-bln\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._mustHightlightWord( ctx.token, CE.statements, ctx.lang ), className: \"cm-std\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._mustHightlightWord( ctx.token, CE.symbols, ctx.lang ), className: \"cm-sym\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._mustHightlightWord( ctx.token, CE.types, ctx.lang ), className: \"cm-typ\" },\r\n        { test: (ctx: any, editor: CodeEditor) => editor._isNumber( ctx.token ) || editor._isNumber( ctx.token.replace(/[px]|[em]|%/g,'') ), className: \"cm-dec\" },\r\n        { test: (ctx: any) => ctx.lang.usePreprocessor && ctx.token.includes( '#' ), className: \"cm-ppc\" },\r\n    ],\r\n\r\n    javascript: [\r\n        { test: (ctx: any) => (ctx.prev === 'class' && ctx.next === '{') , className: \"cm-typ\" },\r\n    ],\r\n\r\n    typescript: [\r\n        { test: (ctx: any) => ctx.scope && (ctx.token !== ',' && ctx.scope.type == \"enum\"), className: \"cm-enu\" },\r\n        { test: (ctx: any) => (ctx.prev === ':' && ctx.next !== undefined && isLetter(ctx.token) ) || (ctx.prev === 'interface' && ctx.next === '{') || (ctx.prev === 'enum' && ctx.next === '{'), className: \"cm-typ\" },\r\n        { test: (ctx: any) => (ctx.prev === 'class' && ctx.next === '{') || (ctx.prev === 'class' && ctx.next === '<') || (ctx.prev === 'new' && ctx.next === '(') || (ctx.prev === 'new' && ctx.next === '<'), className: \"cm-typ\" },\r\n        { test: (ctx: any, editor: CodeEditor) => ctx.token !== ',' && editor._enclosedByTokens( ctx.token, ctx.tokenIndex, '<', '>' ), className: \"cm-typ\" },\r\n    ],\r\n\r\n    cpp: [\r\n        { test: (ctx: any) => ctx.scope && (ctx.token !== ',' && ctx.scope.type == \"enum\"), className: \"cm-enu\" },\r\n        { test: (ctx: any) => ctx.isEnumValueSymbol( ctx.token ), className: \"cm-enu\" },\r\n        { test: (ctx: any) => (ctx.prev === 'class' && ctx.next === '{') || (ctx.prev === 'struct' && ctx.next === '{'), className: \"cm-typ\" },\r\n        { test: (ctx: any) => ctx.prev === \"<\" && (ctx.next === \">\" || ctx.next === \"*\"), className: \"cm-typ\" }, // Defining template type in C++\r\n        { test: (ctx: any) => ctx.next === \"::\" || (ctx.prev === \"::\" && ctx.next !== \"(\"), className: \"cm-typ\" }, // C++ Class\r\n        { test: (ctx: any) => ctx.isClassSymbol( ctx.token ) || ctx.isStructSymbol( ctx.token ), className: \"cm-typ\" },\r\n    ],\r\n\r\n    wgsl: [\r\n        { test: (ctx: any) => ctx.prev === '>' && (!ctx.next || ctx.next === '{'), className: \"cm-typ\" }, // Function return type\r\n        { test: (ctx: any) => (ctx.prev === ':' && ctx.next !== undefined) || (ctx.prev === 'struct' && ctx.next === '{'), className: \"cm-typ\" },\r\n        { test: (ctx: any, editor: CodeEditor) => ctx.token !== ',' && editor._enclosedByTokens( ctx.token, ctx.tokenIndex, '<', '>' ), className: \"cm-typ\" },\r\n    ],\r\n\r\n    css: [\r\n        { test: (ctx: any) => ( ctx.prev == '.' || ctx.prev == '::' || ( ctx.prev == ':' && ctx.next == '{' ) || ( ctx.token[ 0 ] == '#' && ctx.prev != ':' ) ), className: \"cm-kwd\" },\r\n        { test: (ctx: any) => ctx.prev === ':' && (ctx.next === ';' || ctx.next === '!important'), className: \"cm-str\" }, // CSS value\r\n        { test: (ctx: any) => ( ctx.prev === undefined || ctx.prev === '{' || ctx.prev === ';' ) && ctx.next === \":\", className: \"cm-typ\" }, // CSS attribute\r\n        { test: (ctx: any) => ctx.prev === \"(\" && ctx.next === \")\" && ctx.token.startsWith( \"--\" ), className: \"cm-typ\" }, // CSS vars\r\n    ],\r\n\r\n    batch: [\r\n        { test: (ctx: any) => ctx.token === '@' || ctx.prev === ':' || ctx.prev === '@', className: \"cm-kwd\" }\r\n    ],\r\n\r\n    markdown: [\r\n        { test: (ctx: any) => ctx.isFirstToken && ctx.token.replaceAll('#', '').length != ctx.token.length, action: (ctx: any, editor: CodeEditor) => editor._markdownHeader = true, className: \"cm-kwd\" }\r\n    ],\r\n\r\n    php: [\r\n        { test: (ctx: any) => ctx.token.startsWith( '$' ), className: \"cm-var\" },\r\n        { test: (ctx: any) => (ctx.prev === 'class' && (ctx.next === '{' || ctx.next === 'implements') ) || (ctx.prev === 'enum'), className: \"cm-typ\" },\r\n    ],\r\n\r\n    post_common: [\r\n        { test: (ctx: any) => isLetter(ctx.token) && (ctx.token[ 0 ] != '@') && (ctx.token[ 0 ] != ',') && (ctx.next === '('), className: \"cm-mtd\" }\r\n    ],\r\n};\r\n\r\n/**\r\n * @class CodeEditor\r\n */\r\n\r\nexport class CodeEditor\r\n{\r\n    static __instances: CodeEditor[] = [];\r\n\r\n    static CURSOR_LEFT      = 1;\r\n    static CURSOR_TOP       = 2;\r\n    static CURSOR_LEFT_TOP  = CodeEditor.CURSOR_LEFT | CodeEditor.CURSOR_TOP;\r\n\r\n    static SELECTION_X      = 1;\r\n    static SELECTION_Y      = 2\r\n    static SELECTION_X_Y    = CodeEditor.SELECTION_X | CodeEditor.SELECTION_Y;\r\n\r\n    static KEEP_VISIBLE_LINES   = 1;\r\n    static UPDATE_VISIBLE_LINES = 2;\r\n\r\n    static WORD_TYPE_METHOD     = 0;\r\n    static WORD_TYPE_CLASS      = 1;\r\n\r\n    static CODE_MIN_FONT_SIZE   = 9;\r\n    static CODE_MAX_FONT_SIZE   = 22;\r\n\r\n    static LINE_GUTTER_WIDTH    = 48;\r\n\r\n    static RESIZE_SCROLLBAR_H   = 1;\r\n    static RESIZE_SCROLLBAR_V   = 2;\r\n    static RESIZE_SCROLLBAR_H_V = CodeEditor.RESIZE_SCROLLBAR_H | CodeEditor.RESIZE_SCROLLBAR_V;\r\n\r\n    static languages: Record<string, any> = {};\r\n    static keywords: any;\r\n    static utils: any;\r\n    static types: any;\r\n    static builtIn: any;\r\n    static statements: any;\r\n    static declarationKeywords: any;\r\n    static symbols: any;\r\n    static nativeTypes: any;\r\n\r\n    static debugScopes: boolean = false;\r\n    static debugSymbols: boolean = false;\r\n    static debugProcessedLines: boolean = false;\r\n\r\n    static _staticReady: boolean = false;\r\n\r\n    // Layout\r\n    root: any;\r\n    baseArea: typeof Area;\r\n    area: typeof Area;\r\n    codeArea: typeof Area;\r\n    explorerArea: any;\r\n    code: any;\r\n    gutter!: HTMLElement;\r\n    xPadding: string = \"0px\";\r\n    hScrollbar!: ScrollBar;\r\n    vScrollbar!: ScrollBar;\r\n    codeScroller: any;\r\n    codeSizer: any;\r\n    explorer: typeof Tree;\r\n    tabs: typeof Tabs;\r\n    cursorsDOM: any;\r\n    cursors: Cursor[] = [];\r\n    mustProcessLines: boolean = false;\r\n    blinker: any;\r\n    statusPanel: typeof Panel;\r\n    leftStatusPanel: typeof Panel;\r\n    rightStatusPanel: typeof Panel;\r\n    lineScrollMargin: typeof vec2;\r\n    autocomplete!: HTMLElement;\r\n    searchbox!: HTMLElement;\r\n    searchlinebox!: HTMLElement;\r\n\r\n    // Editor\r\n    openedTabs: Record<string, any> = {};\r\n    loadedTabs: Record<string, any> = {};\r\n    actions: Record<string, any> = {};\r\n    state!: Record<string, any>;\r\n    pairKeys!: Record<string, string>;\r\n    stringKeys!: Record<string, string>;\r\n    visibleLinesViewport: typeof vec2 = new LX.vec2( 0, 0 );\r\n    searchResultSelections: any;\r\n    firstLineInViewport: number = -1;\r\n    selections: Record<string, any> = {};\r\n    specialKeys!: string[];\r\n    canOpenContextMenu: boolean = true;\r\n    wasKeyPaired: boolean | undefined = undefined;\r\n    mustProcessNextLine!: ( ( s: string[] ) => boolean ) | undefined;\r\n    mustProcessPreviousLine!: ( ( s: string[] ) => boolean ) | undefined;\r\n\r\n    // Code\r\n    cursorBlinkRate: number = 550;\r\n    tabSpaces: number = 4;\r\n    maxUndoSteps: number = 16;\r\n    lineHeight: number = 20;\r\n    charWidth: number = 7; // To update later depending on size..\r\n    fontSize: number = 14;\r\n    defaultSingleLineCommentToken: string = '//';\r\n    defaultBlockCommentTokens: string[] = [ '/*', '*/' ];\r\n    isAutoCompleteActive: boolean = false;\r\n    isSearchboxActive: boolean = false;\r\n    isSearchlineboxActive: boolean = false;\r\n\r\n    // Editor options\r\n    skipInfo: boolean = false;\r\n    disableEdition: boolean = false;\r\n    skipTabs: boolean = false;\r\n    useFileExplorer: boolean = false;\r\n    useAutoComplete: boolean = true;\r\n    allowClosingTabs: boolean = true;\r\n    allowLoadingFiles: boolean = true;\r\n    highlight: string = \"Plain Text\";\r\n    explorerName: string = \"EXPLORER\";\r\n    newTabOptions: any;\r\n    customSuggestions: any[] = [];\r\n\r\n    // Editor callbacks\r\n    onSave: any;\r\n    onRun: any;\r\n    onCtrlSpace: any;\r\n    onCreateStatusPanel: any;\r\n    onContextMenu: any;\r\n    onNewTab: any;\r\n    onSelectTab: any;\r\n    onCreateFile: any;\r\n\r\n    // Inner functions\r\n    addExplorerItem: any;\r\n\r\n    // Temp variables\r\n    _lastTime: any = null;\r\n    _lastProcessedLine : number = -1;\r\n    _lastResult: any = undefined;\r\n    _lastSelectionKeyDir: any = undefined;\r\n    _lastProcessedCursorIndex: any = null;\r\n    _lastMaxLineLength: number | undefined = undefined;\r\n    _lastMouseDown: number = 0;\r\n    _lastTextFound: string = \"\";\r\n    _lastBaseareaWidth: number | undefined = undefined;\r\n    _blockCommentCache: any[] = [];\r\n    _pendingString: string | undefined = undefined;\r\n    _skipTabs: number | undefined = undefined;\r\n    _discardScroll: boolean = false;\r\n    _markdownHeader: any = undefined;\r\n    _tabStorage: Record<string, any> = {};\r\n    _tripleClickSelection: any = undefined;\r\n    _currentOcurrences: any = undefined;\r\n    _currentLineNumber: number | undefined = undefined;\r\n    _currentLineString: string | undefined = undefined;\r\n    _currentTokenPositions: any = undefined;\r\n    _buildingBlockComment: any = undefined;\r\n    _buildingString: any = undefined;\r\n    _verticalTopOffset: number = -1;\r\n    _verticalBottomOffset: number = -1;\r\n    _fullVerticalOffset: number = -1;\r\n    _scopeStack: any = null;\r\n    _mouseDown: boolean | undefined = undefined;\r\n    _scopesUpdated: boolean | undefined = undefined;\r\n    _stringEnded: boolean = false;\r\n    _stringInterpolation: boolean | undefined = undefined;\r\n    _stringInterpolationOpened: boolean | undefined = undefined;\r\n\r\n    constructor( area: typeof Area, options: any = {} )\r\n    {\r\n        if( options.filesAsync )\r\n        {\r\n            options.files = [ ...options.filesAsync ];\r\n\r\n            const instance: any = (async () => {\r\n                await this._init( area, options );\r\n                // Constructors return `this` implicitly, but this is an IIFE, so\r\n                // return `this` explicitly (else we'd return an empty object).\r\n                return this;\r\n            })();\r\n            return instance;\r\n        }\r\n        else\r\n        {\r\n            this._init( area, options );\r\n        }\r\n    }\r\n\r\n    async _init( area: typeof Area, options: any = {} ): Promise<void>\r\n    {\r\n        g.editor = this;\r\n\r\n        CodeEditor.__instances.push( this );\r\n\r\n        this.skipInfo = options.skipInfo ?? this.skipInfo;\r\n        this.disableEdition = options.disableEdition ?? this.disableEdition;\r\n        this.skipTabs = options.skipTabs ?? this.skipTabs;\r\n        this.useFileExplorer = ( options.fileExplorer ?? this.useFileExplorer ) && !this.skipTabs;\r\n        this.useAutoComplete = options.autocomplete ?? this.useAutoComplete;\r\n        this.allowClosingTabs = options.allowClosingTabs ?? this.allowClosingTabs;\r\n        this.allowLoadingFiles = options.allowLoadingFiles ?? this.allowLoadingFiles;\r\n        this.highlight = options.highlight ?? this.highlight;\r\n        this.newTabOptions = options.newTabOptions;\r\n        this.customSuggestions = options.customSuggestions ?? [];\r\n        this.explorerName = options.explorerName ?? this.explorerName;\r\n\r\n        // Editor callbacks\r\n        this.onSave = options.onSave ?? options.onsave;  // LEGACY onsave\r\n        this.onRun = options.onRun ?? options.onrun;     // LEGACY onrun\r\n        this.onCtrlSpace = options.onCtrlSpace;\r\n        this.onCreateStatusPanel = options.onCreateStatusPanel;\r\n        this.onContextMenu = options.onContextMenu;\r\n        this.onNewTab = options.onNewTab;\r\n        this.onSelectTab = options.onSelectTab;\r\n\r\n        // File explorer\r\n        if( this.useFileExplorer )\r\n        {\r\n            let [ explorerArea, editorArea ] = area.split({ sizes:[ \"15%\",\"85%\" ] });\r\n            // explorerArea.setLimitBox( 180, 20, 512 );\r\n            this.explorerArea = explorerArea;\r\n\r\n            let panel = new LX.Panel();\r\n\r\n            panel.addTitle( this.explorerName );\r\n\r\n            let sceneData: any[] = [];\r\n\r\n            this.explorer = panel.addTree( null, sceneData, {\r\n                filter: false,\r\n                rename: false,\r\n                skipDefaultIcon: true,\r\n                onevent: ( event: typeof LX.TreeEvent ) =>\r\n                {\r\n                    switch( event.type )\r\n                    {\r\n                    // case LX.TreeEvent.NODE_SELECTED:\r\n                    //     if( !this.tabs.tabDOMs[ event.node.id ] ) break;\r\n                    case LX.TreeEvent.NODE_DBLCLICKED:\r\n                        this.loadTab( event.node.id );\r\n                        break;\r\n                    case LX.TreeEvent.NODE_DELETED:\r\n                        this.closeTab( event.node.id );\r\n                        break;\r\n                    // case LX.TreeEvent.NODE_CONTEXTMENU:\r\n                    //     LX.addContextMenu( event.multiple ? \"Selected Nodes\" : event.node.id, event.value, m => {\r\n                    //\r\n                    //     });\r\n                    //     break;\r\n                    // case LX.TreeEvent.NODE_DRAGGED:\r\n                    //     console.log(event.node.id + \" is now child of \" + event.value.id);\r\n                    //     break;\r\n                    }\r\n                }\r\n            });\r\n\r\n            this.addExplorerItem = function( item: any )\r\n            {\r\n                if( !this.explorer.innerTree.data.find( ( value: any, index: number ) => value.id === item.id ) )\r\n                {\r\n                    this.explorer.innerTree.data.push( item );\r\n                }\r\n            };\r\n\r\n            explorerArea.attach( panel );\r\n\r\n            // Update area\r\n            area = editorArea;\r\n        }\r\n\r\n        this.baseArea = area;\r\n        this.area = new LX.Area( { className: \"lexcodeeditor\", height: \"100%\", skipAppend: true } );\r\n\r\n        if( !this.skipTabs )\r\n        {\r\n            this.tabs = this.area.addTabs( { onclose: ( name: string ) => {\r\n                delete this.openedTabs[ name ];\r\n                if( Object.keys( this.openedTabs ).length < 2 )\r\n                {\r\n                    clearInterval( this.blinker );\r\n                    LX.removeClas( this.cursorsDOM, 'show' );\r\n                }\r\n            } } );\r\n\r\n            LX.addClass( this.tabs.root.parentElement, \"rounded-t-lg\" );\r\n\r\n            if( !this.disableEdition )\r\n            {\r\n                this.tabs.root.parentElement.addEventListener( 'dblclick', ( e: MouseEvent ) => {\r\n                    if( options.allowAddScripts ?? true )\r\n                    {\r\n                        e.preventDefault();\r\n                        this._onCreateNewFile();\r\n                    }\r\n                } );\r\n            }\r\n\r\n            this.codeArea = this.tabs.area;\r\n        }\r\n        else\r\n        {\r\n            this.codeArea = new LX.Area( { skipAppend: true } );\r\n            this.area.attach( this.codeArea );\r\n            const loadFileButton = LX.makeElement( \"button\",\r\n                \"grid absolute self-center z-100 p-3 rounded-full bg-secondary hover:bg-tertiary cursor-pointer border\",\r\n                LX.makeIcon( \"FolderOpen\" ).innerHTML,\r\n                this.area,\r\n                {\r\n                    bottom: \"8px\"\r\n                }\r\n            );\r\n            loadFileButton.addEventListener( \"click\", ( e: MouseEvent ) => {\r\n\r\n                const dropdownOptions = [];\r\n\r\n                for( const [ key, value ] of [ ...Object.entries( this.loadedTabs ).slice( 1 ), ...Object.entries( this._tabStorage ) ] )\r\n                {\r\n                    const icon = this._getFileIcon( key );\r\n                    const classes = icon ? icon.split( ' ' ) : [];\r\n                    dropdownOptions.push( {\r\n                        name: key,\r\n                        icon: classes[ 0 ],\r\n                        svgClass: classes.slice( 0 ).join( ' ' ),\r\n                        callback: ( entryName: string ) => {\r\n                            this.loadCode( entryName );\r\n                        }\r\n                    } );\r\n                }\r\n\r\n                new LX.DropdownMenu( loadFileButton, dropdownOptions, { side: \"top\", align: \"center\" });\r\n\r\n            } );\r\n        }\r\n\r\n        this.codeArea.root.classList.add( 'lexcodearea' );\r\n\r\n        const codeResizeObserver = new ResizeObserver( entries => {\r\n\r\n            if( !this.code )\r\n            {\r\n                return;\r\n            }\r\n\r\n            this.resize();\r\n        });\r\n        codeResizeObserver.observe( this.codeArea.root );\r\n\r\n        // Full editor\r\n        area.root.classList.add('codebasearea');\r\n\r\n        const observer = new MutationObserver((e) => {\r\n            if( e[0].attributeName == \"style\" )\r\n            {\r\n                this.resize();\r\n            }\r\n        });\r\n\r\n        observer.observe( area.root.parentNode, {\r\n            attributes: true,\r\n            attributeFilter: ['class', 'style'],\r\n        });\r\n\r\n        this.root = this.area.root;\r\n        this.root.tabIndex = -1;\r\n        area.attach( this.root );\r\n\r\n        if( !this.disableEdition )\r\n        {\r\n            this.root.addEventListener( 'keydown', this.processKey.bind( this) );\r\n            this.root.addEventListener( 'focus', this.processFocus.bind( this, true ) );\r\n            this.root.addEventListener( 'focusout', this.processFocus.bind( this, false ) );\r\n        }\r\n        else\r\n        {\r\n            this.root.classList.add( \"disabled\" );\r\n        }\r\n\r\n        this.root.addEventListener( 'mousedown', this.processMouse.bind(this) );\r\n        this.root.addEventListener( 'mouseup', this.processMouse.bind(this) );\r\n        this.root.addEventListener( 'mousemove', this.processMouse.bind(this) );\r\n        this.root.addEventListener( 'click', this.processMouse.bind(this) );\r\n        this.root.addEventListener( 'contextmenu', this.processMouse.bind(this) );\r\n\r\n        // Add mouseup event to document as well to detect when selections end\r\n        document.body.addEventListener( 'mouseup', this._onMouseUp.bind(this) );\r\n\r\n        // Cursors and selection\r\n\r\n        this.cursorsDOM = document.createElement( 'div' );\r\n        this.cursorsDOM.className = 'cursors';\r\n        this.codeArea.attach( this.cursorsDOM );\r\n\r\n        this.searchResultSelections = document.createElement( 'div' );\r\n        this.searchResultSelections.id = 'search-selections';\r\n        this.searchResultSelections.className = 'selections';\r\n        this.codeArea.attach( this.searchResultSelections );\r\n\r\n        // Store here selections per cursor\r\n        this.selections = {};\r\n\r\n        // Css char synchronization\r\n        this.xPadding = CodeEditor.LINE_GUTTER_WIDTH + \"px\";\r\n\r\n        // Add main cursor\r\n        this._addCursor( 0, 0, true, true );\r\n\r\n        // Scroll stuff\r\n        {\r\n            this.codeScroller = this.codeArea.root;\r\n            this.firstLineInViewport = 0;\r\n            this.lineScrollMargin = new LX.vec2( 20, 20 ); // [ mUp, mDown ]\r\n\r\n            let lastScrollTopValue = -1;\r\n\r\n            if( !this.disableEdition )\r\n            {\r\n                this.codeScroller.addEventListener( 'scroll', ( e: any ) => {\r\n\r\n                    if( this._discardScroll )\r\n                    {\r\n                        this._discardScroll = false;\r\n                        return;\r\n                    }\r\n\r\n                    // Vertical scroll\r\n                    {\r\n                        this.setScrollBarValue( 'vertical' );\r\n\r\n                        const scrollTop = this.getScrollTop();\r\n\r\n                        // Scroll down...\r\n                        if( scrollTop > lastScrollTopValue )\r\n                        {\r\n                            if( this.visibleLinesViewport.y < (this.code.lines.length - 1) )\r\n                            {\r\n                                const totalLinesInViewport = ( ( this.codeScroller.offsetHeight ) / this.lineHeight )|0;\r\n                                const scrollDownBoundary =\r\n                                    ( Math.max( this.visibleLinesViewport.y - totalLinesInViewport, 0 ) - 1 ) * this.lineHeight;\r\n\r\n                                if( scrollTop >= scrollDownBoundary )\r\n                                {\r\n                                    this.processLines( CodeEditor.UPDATE_VISIBLE_LINES );\r\n                                }\r\n                            }\r\n                        }\r\n                        // Scroll up...\r\n                        else\r\n                        {\r\n                            const scrollUpBoundary = parseInt( this.code.style.top );\r\n                            if( scrollTop < scrollUpBoundary )\r\n                            {\r\n                                this.processLines( CodeEditor.UPDATE_VISIBLE_LINES );\r\n                            }\r\n                        }\r\n\r\n                        lastScrollTopValue = scrollTop;\r\n                    }\r\n\r\n                    // Horizontal scroll\r\n                    {\r\n                        this.setScrollBarValue( 'horizontal' );\r\n                    }\r\n                });\r\n\r\n                this.codeScroller.addEventListener( 'wheel', ( e: WheelEvent ) => {\r\n                    if( e.ctrlKey )\r\n                    {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        ( e.deltaY > 0.0 ? this._decreaseFontSize() : this._increaseFontSize() );\r\n                    }\r\n                } );\r\n\r\n                this.codeScroller.addEventListener( 'wheel', ( e: WheelEvent ) => {\r\n                    if( !e.ctrlKey )\r\n                    {\r\n                        const dX = ( e.deltaY > 0.0 ? 10.0 : -10.0 ) * ( e.shiftKey ? 1.0 : 0.0 );\r\n                        if( dX != 0.0 ) this.setScrollBarValue( 'horizontal', dX );\r\n                    }\r\n                }, { passive: true });\r\n            }\r\n        }\r\n\r\n        // Line numbers and scrollbars\r\n        {\r\n            // This is only the container, line numbers are in the same line div\r\n            this.gutter = document.createElement( 'div' );\r\n            this.gutter.className = \"lexcodegutter\";\r\n            area.attach( this.gutter );\r\n\r\n            // Add custom vertical scroll bar\r\n            this.vScrollbar = new ScrollBar( this, ScrollBar.SCROLLBAR_VERTICAL );\r\n            area.attach( this.vScrollbar.root );\r\n\r\n            // Add custom horizontal scroll bar\r\n            this.hScrollbar = new ScrollBar( this, ScrollBar.SCROLLBAR_HORIZONTAL );\r\n            area.attach( this.hScrollbar.root );\r\n        }\r\n\r\n        // Add autocomplete, search boxes (IF edition enabled)\r\n        if( !this.disableEdition )\r\n        {\r\n            // Add autocomplete box\r\n            {\r\n                this.autocomplete = document.createElement( 'div' );\r\n                this.autocomplete.className = \"autocomplete\";\r\n                this.codeArea.attach( this.autocomplete );\r\n            }\r\n\r\n            // Add search box\r\n            {\r\n                const box = document.createElement( 'div' );\r\n                box.className = \"searchbox\";\r\n\r\n                const searchPanel = new LX.Panel();\r\n                box.appendChild( searchPanel.root );\r\n\r\n                searchPanel.sameLine( 4 );\r\n                searchPanel.addText( null, \"\", null, { placeholder: \"Find\", inputClass: \"bg-secondary\" } );\r\n                searchPanel.addButton( null, \"up\", () => this.search( null, true ), { icon: \"ArrowUp\", title: \"Previous Match\", tooltip: true } );\r\n                searchPanel.addButton( null, \"down\", () => this.search(), { icon: \"ArrowDown\", title: \"Next Match\", tooltip: true } );\r\n                searchPanel.addButton( null, \"x\", this.hideSearchBox.bind( this ), { icon: \"X\", title: \"Close\", tooltip: true } );\r\n\r\n                const searchInput = box.querySelector( 'input' );\r\n                searchInput?.addEventListener( 'keyup', e => {\r\n                    if( e.key == 'Escape' ) this.hideSearchBox();\r\n                    else if( e.key == 'Enter' ) this.search( ( e.target as any ).value, !!e.shiftKey );\r\n                } );\r\n\r\n                this.searchbox = box;\r\n                this.codeArea.attach( box );\r\n            }\r\n\r\n            // Add search LINE box\r\n            {\r\n                const box = document.createElement( 'div' );\r\n                box.className = \"searchbox\";\r\n\r\n                const searchPanel = new LX.Panel();\r\n                box.appendChild( searchPanel.root );\r\n\r\n                searchPanel.sameLine( 2 );\r\n                searchPanel.addText( null, \"\", ( value: string ) => {\r\n                    input.value = \":\" + value.replaceAll( ':', '' );\r\n                    this.goToLine( input.value.slice( 1 ) );\r\n                }, { placeholder: \"Go to line\", trigger: \"input\" } );\r\n                searchPanel.addButton( null, \"x\", this.hideSearchLineBox.bind( this ), { icon: \"X\", title: \"Close\", tooltip: true } );\r\n\r\n                let input: any = box.querySelector( 'input' );\r\n                input.addEventListener( 'keyup', ( e: KeyboardEvent ) => {\r\n                    if( e.key == 'Escape' ) this.hideSearchLineBox();\r\n                } );\r\n\r\n                this.searchlinebox = box;\r\n                this.codeArea.attach( box );\r\n            }\r\n        }\r\n\r\n        // Add code-sizer\r\n        {\r\n            this.codeSizer = document.createElement( 'div' );\r\n            this.codeSizer.className = \"code-sizer pseudoparent-tabs\";\r\n\r\n            // Append all childs\r\n            while( this.codeScroller.firstChild )\r\n            {\r\n                this.codeSizer.appendChild( this.codeScroller.firstChild );\r\n            }\r\n\r\n            this.codeScroller.appendChild( this.codeSizer );\r\n        }\r\n\r\n        // State\r\n\r\n        this.state = {\r\n            focused: false,\r\n            selectingText: false,\r\n            activeLine: null,\r\n            keyChain: null\r\n        }\r\n\r\n        // Code\r\n\r\n        this.pairKeys = {\r\n            \"\\\"\": \"\\\"\",\r\n            \"'\": \"'\",\r\n            \"(\": \")\",\r\n            \"{\": \"}\",\r\n            \"[\": \"]\"\r\n        };\r\n\r\n        this.stringKeys = { // adding @ because some words are always true in (e.g. constructor..)\r\n            \"@\\\"\": \"\\\"\",\r\n            \"@'\": \"'\"\r\n        };\r\n\r\n        // Scan tokens..\r\n        // setInterval( this.scanWordSuggestions.bind( this ), 2000 );\r\n\r\n        this.specialKeys = [\r\n            'Backspace', 'Enter', 'ArrowUp', 'ArrowDown',\r\n            'ArrowRight', 'ArrowLeft', 'Delete', 'Home',\r\n            'End', 'Tab', 'Escape'\r\n        ];\r\n\r\n        // Convert reserved word arrays to maps so we can search tokens faster\r\n\r\n        if( !CodeEditor._staticReady )\r\n        {\r\n            for( let lang in CodeEditor.keywords ) CodeEditor.keywords[lang] = new Set( CodeEditor.keywords[lang] );\r\n            for( let lang in CodeEditor.utils ) CodeEditor.utils[lang] = new Set( CodeEditor.utils[lang] );\r\n            for( let lang in CodeEditor.types ) CodeEditor.types[lang] = new Set( CodeEditor.types[lang] );\r\n            for( let lang in CodeEditor.builtIn ) CodeEditor.builtIn[lang] = new Set( CodeEditor.builtIn[lang] );\r\n            for( let lang in CodeEditor.statements ) CodeEditor.statements[lang] = new Set( CodeEditor.statements[lang] );\r\n            for( let lang in CodeEditor.symbols ) CodeEditor.symbols[lang] = new Set( CodeEditor.symbols[lang] );\r\n\r\n            CodeEditor._staticReady = true;\r\n        }\r\n\r\n        // Action keys\r\n        {\r\n            this.action( 'Escape', false, ( ln, cursor, e ) => {\r\n                if( this.hideAutoCompleteBox() )\r\n                    return;\r\n                if( this.hideSearchBox() )\r\n                    return;\r\n                // Remove selections and cursors\r\n                this.endSelection();\r\n                this._removeSecondaryCursors();\r\n            });\r\n\r\n            this.action( 'Backspace', false, ( ln, cursor, e ) => {\r\n\r\n                this._addUndoStep( cursor );\r\n\r\n                if( cursor.selection )\r\n                {\r\n                    this.deleteSelection( cursor );\r\n                    // Remove entire line when selecting with triple click\r\n                    if( this._tripleClickSelection )\r\n                    {\r\n                        this.actions['Backspace'].callback( ln, cursor, e );\r\n                        this.lineDown( cursor, true );\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    var letter = this.getCharAtPos( cursor, -1 );\r\n                    if( letter )\r\n                    {\r\n                        var deleteFromPosition = cursor.position - 1;\r\n                        var numCharsDeleted = 1;\r\n\r\n                        // Delete full word\r\n                        if( e.ctrlKey )\r\n                        {\r\n                            const [word, from, to] = this.getWordAtPos( cursor, -1 );\r\n\r\n                            if( word.length > 1 )\r\n                            {\r\n                                deleteFromPosition = from;\r\n                                numCharsDeleted = word.length - ( to - cursor.position );\r\n                            }\r\n                        }\r\n\r\n                        this.code.lines[ ln ] = sliceChars( this.code.lines[ ln ], deleteFromPosition, numCharsDeleted );\r\n                        this.processLine( ln );\r\n\r\n                        this.cursorToPosition( cursor, deleteFromPosition );\r\n\r\n                        if( this.useAutoComplete )\r\n                        {\r\n                            this.showAutoCompleteBox( 'foo', cursor );\r\n                        }\r\n                    }\r\n                    else if( this.code.lines[ ln - 1 ] != undefined )\r\n                    {\r\n                        this.lineUp( cursor );\r\n                        e.cancelShift = true;\r\n                        this.actions[ 'End' ].callback( cursor.line, cursor, e );\r\n                        // Move line on top\r\n                        this.code.lines[ ln - 1 ] += this.code.lines[ ln ];\r\n                        this.code.lines.splice( ln, 1 );\r\n                        this.processLines();\r\n                    }\r\n                }\r\n\r\n                this.resizeIfNecessary( cursor, true );\r\n            });\r\n\r\n            this.action( 'Delete', false, ( ln, cursor, e ) => {\r\n\r\n                this._addUndoStep( cursor );\r\n\r\n                if( cursor.selection )\r\n                {\r\n                    // Use 'Backspace' as it's the same callback...\r\n                    this.actions['Backspace'].callback( ln, cursor, e );\r\n                }\r\n                else\r\n                {\r\n                    var letter = this.getCharAtPos( cursor );\r\n                    if( letter )\r\n                    {\r\n                        this.code.lines[ ln ] = sliceChars( this.code.lines[ ln ], cursor.position );\r\n                        this.processLine( ln );\r\n                    }\r\n                    else if( this.code.lines[ ln + 1 ] != undefined )\r\n                    {\r\n                        this.code.lines[ ln ] += this.code.lines[ ln + 1 ];\r\n                        this.code.lines.splice( ln + 1, 1 );\r\n                        this.processLines();\r\n                    }\r\n                }\r\n\r\n                this.resizeIfNecessary( cursor, true );\r\n            });\r\n\r\n            this.action( 'Tab', true, ( ln, cursor, e ) =>\r\n            {\r\n                if( this._skipTabs )\r\n                {\r\n                    this._skipTabs--;\r\n                    if( !this._skipTabs )\r\n                    {\r\n                        delete this._skipTabs;\r\n                    }\r\n                }\r\n                else if( this.isAutoCompleteActive )\r\n                {\r\n                    this.autoCompleteWord();\r\n                }\r\n                else\r\n                {\r\n                    this._addUndoStep( cursor );\r\n\r\n                    if( e && e.shiftKey )\r\n                    {\r\n                        this._removeSpaces( cursor );\r\n                    }\r\n                    else\r\n                    {\r\n                        const indentSpaces = this.tabSpaces - ( cursor.position % this.tabSpaces );\r\n                        this._addSpaces( cursor, indentSpaces );\r\n                    }\r\n                }\r\n            }, ( cursor: Cursor, e: KeyboardEvent ) => {\r\n                return e.shiftKey || ( cursor.selection && !cursor.selection.sameLine() );\r\n            });\r\n\r\n            this.action( 'Home', false, ( ln, cursor, e ) => {\r\n\r\n                let idx = firstNonspaceIndex( this.code.lines[ ln ] );\r\n\r\n                // We already are in the first non space index...\r\n                if( idx == cursor.position ) idx = 0;\r\n\r\n                const prestring = this.code.lines[ ln ].substring( 0, idx );\r\n                let lastX = cursor.position;\r\n\r\n                this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor, true );\r\n                if( idx > 0 )\r\n                {\r\n                    this.cursorToString( cursor, prestring );\r\n                }\r\n                else\r\n                {\r\n                    // No spaces, start from char 0\r\n                    idx = 0;\r\n                }\r\n\r\n                this.mergeCursors( ln );\r\n\r\n                if( e.shiftKey && !e.cancelShift )\r\n                {\r\n                    // Get last selection range\r\n                    if( cursor.selection )\r\n                    {\r\n                        lastX += cursor.selection.chars;\r\n                    }\r\n\r\n                    if( !cursor.selection )\r\n                    {\r\n                        this.startSelection( cursor );\r\n                    }\r\n\r\n                    var string = this.code.lines[ ln ].substring( idx, lastX );\r\n                    if( cursor.selection!.sameLine() )\r\n                    {\r\n                        cursor.selection!.selectInline( cursor, idx, cursor.line, this.measureString( string ) );\r\n                    }\r\n                    else\r\n                    {\r\n                        this._processSelection( cursor, e );\r\n                    }\r\n                }\r\n                else if( !e.keepSelection )\r\n                {\r\n                    this.endSelection();\r\n                }\r\n            });\r\n\r\n            this.action( 'End', false, ( ln, cursor, e ) =>\r\n            {\r\n                if( ( e.shiftKey || e._shiftKey ) && !e.cancelShift )\r\n                {\r\n                    var string = this.code.lines[ ln ].substring( cursor.position );\r\n                    if( !cursor.selection )\r\n                        this.startSelection( cursor );\r\n                    if( cursor.selection!.sameLine() )\r\n                        cursor.selection!.selectInline( cursor, cursor.position, cursor.line, this.measureString( string ));\r\n                    else\r\n                    {\r\n                        this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n                        this.cursorToString( cursor, this.code.lines[ ln ] );\r\n                        this._processSelection( cursor, e );\r\n                    }\r\n                } else if( !e.keepSelection )\r\n                    this.endSelection();\r\n\r\n                this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n                this.cursorToString( cursor, this.code.lines[ ln ] );\r\n\r\n                var viewportSizeX = ( this.codeScroller.clientWidth + this.getScrollLeft() ) - CodeEditor.LINE_GUTTER_WIDTH; // Gutter offset\r\n                if( ( cursor.position * this.charWidth ) >= viewportSizeX )\r\n                    this.setScrollLeft( this.code.lines[ ln ].length * this.charWidth );\r\n\r\n                // Merge cursors\r\n                this.mergeCursors( ln );\r\n            });\r\n\r\n            this.action( 'Enter', true, ( ln, cursor, e ) => {\r\n\r\n                // Add word\r\n                if( this.isAutoCompleteActive )\r\n                {\r\n                    this.autoCompleteWord();\r\n                    return;\r\n                }\r\n\r\n                if( e.ctrlKey && this.onRun )\r\n                {\r\n                    this.onRun( this.getText() );\r\n                    return;\r\n                }\r\n\r\n                this._addUndoStep( cursor, true );\r\n\r\n                var _c0 = this.getCharAtPos( cursor, -1 );\r\n                var _c1 = this.getCharAtPos( cursor );\r\n\r\n                this.code.lines.splice( cursor.line + 1, 0, \"\" );\r\n                this.code.lines[cursor.line + 1] = this.code.lines[ ln ].substr( cursor.position ); // new line (below)\r\n                this.code.lines[ ln ] = this.code.lines[ ln ].substr( 0, cursor.position ); // line above\r\n\r\n                this.lineDown( cursor, true );\r\n\r\n                // Check indentation\r\n                var spaces = firstNonspaceIndex( this.code.lines[ ln ]);\r\n                var tabs = Math.floor( spaces / this.tabSpaces );\r\n\r\n                if( _c0 == '{' && _c1 == '}' )\r\n                {\r\n                    this.code.lines.splice( cursor.line, 0, \"\" );\r\n                    this._addSpaceTabs( cursor, tabs + 1 );\r\n                    this.code.lines[ cursor.line + 1 ] = \" \".repeat(spaces) + this.code.lines[ cursor.line + 1 ];\r\n                }\r\n                else\r\n                {\r\n                    this._addSpaceTabs( cursor, tabs );\r\n                }\r\n\r\n                this.processLines();\r\n            });\r\n\r\n            this.action( 'ArrowUp', false, ( ln, cursor, e ) => {\r\n\r\n                // Move cursor..\r\n                if( !this.isAutoCompleteActive )\r\n                {\r\n                    if( e.shiftKey ) {\r\n                        if( !cursor.selection )\r\n                            this.startSelection( cursor );\r\n\r\n                        this.lineUp( cursor );\r\n\r\n                        var letter = this.getCharAtPos( cursor );\r\n                        if( !letter ) {\r\n                            this.cursorToPosition( cursor, this.code.lines[ cursor.line ].length );\r\n                        }\r\n\r\n                        this._processSelection( cursor, e, false );\r\n\r\n                    } else {\r\n                        this.endSelection();\r\n                        this.lineUp( cursor );\r\n                        // Go to end of line if out of line\r\n                        var letter = this.getCharAtPos( cursor );\r\n                        if( !letter ) this.actions['End'].callback( cursor.line, cursor, e );\r\n                    }\r\n                }\r\n                // Move up autocomplete selection\r\n                else\r\n                {\r\n                    this._moveArrowSelectedAutoComplete('up');\r\n                }\r\n            });\r\n\r\n            this.action( 'ArrowDown', false, ( ln, cursor, e ) => {\r\n\r\n                // Move cursor..\r\n                if( !this.isAutoCompleteActive )\r\n                {\r\n                    if( e.shiftKey ) {\r\n                        if( !cursor.selection )\r\n                            this.startSelection( cursor );\r\n                    } else {\r\n                        this.endSelection();\r\n                    }\r\n\r\n                    const canGoDown = this.lineDown( cursor );\r\n                    const letter = this.getCharAtPos( cursor );\r\n\r\n                    // Go to end of line if out of range\r\n                    if( !letter || !canGoDown )\r\n                    {\r\n                        this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n                        this.cursorToRight( this.code.lines[ cursor.line ], cursor );\r\n                    }\r\n\r\n                    if( e.shiftKey )\r\n                    {\r\n                        this._processSelection( cursor, e );\r\n                    }\r\n                }\r\n                // Move down autocomplete selection\r\n                else\r\n                {\r\n                    this._moveArrowSelectedAutoComplete('down');\r\n                }\r\n            });\r\n\r\n            this.action( 'ArrowLeft', false, ( ln, cursor, e ) => {\r\n\r\n                // Nothing to do..\r\n                if( cursor.line == 0 && cursor.position == 0 )\r\n                return;\r\n\r\n                if( e.metaKey ) { // Apple devices (Command)\r\n                    e.preventDefault();\r\n                    this.actions[ 'Home' ].callback( ln, cursor, e );\r\n                }\r\n                else if( e.ctrlKey ) {\r\n                    // Get next word\r\n                    const [word, from, to] = this.getWordAtPos( cursor, -1 );\r\n                    // If no length, we change line..\r\n                    if( !word.length && this.lineUp( cursor, true ) ) {\r\n                        const cS = e.cancelShift, kS = e.keepSelection;\r\n                        e.cancelShift = true;\r\n                        e.keepSelection = true;\r\n                        this.actions[ 'End' ].callback( cursor.line, cursor, e );\r\n                        e.cancelShift = cS;\r\n                        e.keepSelection = kS;\r\n                    }\r\n                    var diff = Math.max( cursor.position - from, 1 );\r\n                    var substr = word.substr( 0, diff );\r\n\r\n                    // Selections...\r\n                    if( e.shiftKey ) {\r\n                        if( !cursor.selection )\r\n                        this.startSelection( cursor );\r\n                    }\r\n                    else\r\n                        this.endSelection();\r\n\r\n                    this.cursorToString( cursor, substr, true );\r\n\r\n                    if( e.shiftKey )\r\n                        this._processSelection( cursor, e );\r\n                }\r\n                else {\r\n                    var letter = this.getCharAtPos( cursor, -1 );\r\n                    if( letter ) {\r\n                        if( e.shiftKey ) {\r\n                            if( !cursor.selection ) this.startSelection( cursor );\r\n                            this.cursorToLeft( letter, cursor );\r\n                            this._processSelection( cursor, e, false, CodeEditor.SELECTION_X );\r\n                        }\r\n                        else {\r\n                            if( !cursor.selection ) {\r\n                                this.cursorToLeft( letter, cursor );\r\n                                if( this.useAutoComplete && this.isAutoCompleteActive )\r\n                                    this.showAutoCompleteBox( 'foo', cursor );\r\n                            }\r\n                            else {\r\n                                cursor.selection.invertIfNecessary();\r\n                                this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, cursor );\r\n                                this.cursorToLine( cursor, cursor.selection.fromY );\r\n                                this.cursorToPosition( cursor, cursor.selection.fromX, true );\r\n                                this.endSelection();\r\n                            }\r\n                        }\r\n                    }\r\n                    else if( cursor.line > 0 ) {\r\n\r\n                        if( e.shiftKey && !cursor.selection ) this.startSelection( cursor );\r\n\r\n                        this.lineUp( cursor );\r\n\r\n                        e.cancelShift = e.keepSelection = true;\r\n                        this.actions[ 'End' ].callback( cursor.line, cursor, e );\r\n                        delete e.cancelShift; delete e.keepSelection;\r\n\r\n                        if( e.shiftKey ) this._processSelection( cursor, e, false );\r\n                    }\r\n                }\r\n            });\r\n\r\n            this.action( 'ArrowRight', false, ( ln, cursor, e ) => {\r\n\r\n                // Nothing to do..\r\n                if( cursor.line == this.code.lines.length - 1 &&\r\n                    cursor.position == this.code.lines[ cursor.line ].length )\r\n                return;\r\n\r\n                if( e.metaKey ) // Apple devices (Command)\r\n                {\r\n                    e.preventDefault();\r\n                    this.actions[ 'End' ].callback( ln, cursor, e );\r\n                }\r\n                else if( e.ctrlKey ) // Next word\r\n                {\r\n                    // Get next word\r\n                    const [ word, from, to ] = this.getWordAtPos( cursor );\r\n\r\n                    // If no length, we change line..\r\n                    if( !word.length ) this.lineDown( cursor, true );\r\n                    var diff = cursor.position - from;\r\n                    var substr = word.substr( diff );\r\n\r\n                    // Selections...\r\n                    if( e.shiftKey ) {\r\n                        if( !cursor.selection )\r\n                            this.startSelection( cursor );\r\n                    }\r\n                    else\r\n                        this.endSelection();\r\n\r\n                    this.cursorToString( cursor, substr );\r\n\r\n                    if( e.shiftKey )\r\n                        this._processSelection( cursor, e );\r\n                }\r\n                else // Next char\r\n                {\r\n                    var letter = this.getCharAtPos( cursor );\r\n                    if( letter )\r\n                    {\r\n                        // Selecting chars\r\n                        if( e.shiftKey )\r\n                        {\r\n                            if( !cursor.selection )\r\n                                this.startSelection( cursor );\r\n\r\n                            this.cursorToRight( letter, cursor );\r\n                            this._processSelection( cursor, e, false, CodeEditor.SELECTION_X );\r\n                        }\r\n                        else\r\n                        {\r\n                            if( !cursor.selection )\r\n                            {\r\n                                this.cursorToRight( letter, cursor );\r\n                                if( this.useAutoComplete && this.isAutoCompleteActive )\r\n                                    this.showAutoCompleteBox( 'foo', cursor );\r\n                            }\r\n                            else\r\n                            {\r\n                                cursor.selection.invertIfNecessary();\r\n                                this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, cursor );\r\n                                this.cursorToLine( cursor, cursor.selection.toY );\r\n                                this.cursorToPosition( cursor, cursor.selection.toX, true );\r\n                                this.endSelection( cursor );\r\n                            }\r\n                        }\r\n                    }\r\n                    else if( this.code.lines[ cursor.line + 1 ] !== undefined )\r\n                    {\r\n                        if( e.shiftKey )\r\n                        {\r\n                            if( !cursor.selection ) this.startSelection( cursor );\r\n                        }\r\n                        else\r\n                        {\r\n                            this.endSelection();\r\n                        }\r\n\r\n                        this.lineDown( cursor, true );\r\n\r\n                        if( e.shiftKey ) this._processSelection( cursor, e, false );\r\n\r\n                        this.hideAutoCompleteBox();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // Default code tab\r\n\r\n        const onLoadAll = async () =>\r\n        {\r\n            // Create inspector panel when the initial state is complete\r\n            // and we have at least 1 tab opened\r\n            this.statusPanel = this._createStatusPanel( options );\r\n            if( this.statusPanel )\r\n            {\r\n                area.attach( this.statusPanel );\r\n            }\r\n\r\n            if( document.fonts.status == \"loading\" )\r\n            {\r\n                await document.fonts.ready;\r\n            }\r\n\r\n            // Load any font size from local storage\r\n            const savedFontSize = window.localStorage.getItem( \"lexcodeeditor-font-size\" );\r\n            if( savedFontSize )\r\n            {\r\n                this._setFontSize( parseInt( savedFontSize ) );\r\n            }\r\n            else // Use default size\r\n            {\r\n                const r: any = document.querySelector( ':root' );\r\n                const s = getComputedStyle( r );\r\n                this.fontSize = parseInt( s.getPropertyValue( \"--code-editor-font-size\" ) );\r\n                this.charWidth = this._measureChar() as number;\r\n            }\r\n\r\n            LX.emitSignal( \"@font-size\", this.fontSize );\r\n\r\n            // Get final sizes for editor elements based on Tabs and status bar offsets\r\n            LX.doAsync( () => {\r\n                this._verticalTopOffset = this.tabs?.root.getBoundingClientRect().height ?? 0;\r\n                this._verticalBottomOffset = this.statusPanel?.root.getBoundingClientRect().height ?? 0;\r\n                this._fullVerticalOffset = this._verticalTopOffset + this._verticalBottomOffset;\r\n\r\n                this.gutter.style.marginTop = `${ this._verticalTopOffset }px`;\r\n                this.gutter.style.height = `calc(100% - ${ this._fullVerticalOffset }px)`;\r\n                this.vScrollbar.root.style.marginTop = `${ this._verticalTopOffset }px`;\r\n                this.vScrollbar.root.style.height = `calc(100% - ${ this._fullVerticalOffset }px)`;\r\n                this.hScrollbar.root.style.bottom = `${ this._verticalBottomOffset }px`;\r\n                this.codeArea.root.style.height = `calc(100% - ${ this._fullVerticalOffset }px)`;\r\n\r\n                // Process lines on finish computing final sizes\r\n                this.processLines();\r\n            }, 50 );\r\n\r\n            if( options.callback )\r\n            {\r\n                options.callback.call( this, this );\r\n            }\r\n\r\n            g.editor = this;\r\n        };\r\n\r\n        if( options.allowAddScripts ?? true )\r\n        {\r\n            this.onCreateFile = options.onCreateFile;\r\n            this.addTab( \"+\", false, \"Create file\" );\r\n        }\r\n\r\n        if( options.files )\r\n        {\r\n            console.assert( options.files.constructor === Array, \"_files_ must be an Array!\" );\r\n            const numFiles = options.files.length;\r\n            const loadAsync = ( options.filesAsync !== undefined );\r\n            let filesLoaded = 0;\r\n            for( let url of options.files )\r\n            {\r\n                const finalUrl = url.constructor === Array ? url[ 0 ] : url;\r\n                const finalFileName = url.constructor === Array ? url[ 1 ] : undefined;\r\n\r\n                await this.loadFile( finalUrl, { filename: finalFileName, async: loadAsync, callback: ( name: string, text: string ) => {\r\n                    filesLoaded++;\r\n                    if( filesLoaded == numFiles )\r\n                    {\r\n                        onLoadAll();\r\n\r\n                        if( options.onFilesLoaded )\r\n                        {\r\n                            options.onFilesLoaded( this, this.loadedTabs, numFiles );\r\n                        }\r\n                    }\r\n                }});\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if( options.defaultTab ?? true )\r\n            {\r\n                this.addTab( options.name || \"untitled\", true, options.title, { language: options.highlight ?? \"Plain Text\" } );\r\n            }\r\n\r\n            onLoadAll();\r\n        }\r\n    }\r\n\r\n    // Clear signals\r\n    clear()\r\n    {\r\n        console.assert( this.rightStatusPanel && this.leftStatusPanel, \"No panels to clear.\" );\r\n        this.rightStatusPanel.clear();\r\n        this.leftStatusPanel.clear();\r\n    }\r\n\r\n    static getInstances()\r\n    {\r\n        return CodeEditor.__instances;\r\n    }\r\n\r\n    // This received key inputs from the entire document...\r\n    onKeyPressed( e: KeyboardEvent )\r\n    {\r\n        // Toggle visibility of the file explorer\r\n        if( e.key == 'b' && e.ctrlKey && this.useFileExplorer )\r\n        {\r\n            this.explorerArea.root.classList.toggle( \"hidden\" );\r\n            if( this._lastBaseareaWidth )\r\n            {\r\n                this.baseArea.root.style.width = this._lastBaseareaWidth;\r\n                delete this._lastBaseareaWidth;\r\n\r\n            } else\r\n            {\r\n                this._lastBaseareaWidth = this.baseArea.root.style.width;\r\n                this.baseArea.root.style.width = \"100%\";\r\n            }\r\n        }\r\n    }\r\n\r\n    getText( min: boolean = false )\r\n    {\r\n        return this.code.lines.join( min ? ' ' : '\\n' );\r\n    }\r\n\r\n    // This can be used to empty all text...\r\n    setText( text: string = \"\", langString?: string )\r\n    {\r\n        let newLines = text.split( '\\n' );\r\n        this.code.lines = ( [] as string[] ).concat( newLines );\r\n\r\n        this._removeSecondaryCursors();\r\n\r\n        let cursor = this.getCurrentCursor( true );\r\n        let lastLine = newLines.pop();\r\n\r\n        this.cursorToLine( cursor, newLines.length ); // Already substracted 1\r\n        this.cursorToPosition( cursor, lastLine?.length ?? 0, true );\r\n\r\n        this.mustProcessLines = true;\r\n\r\n        if( langString )\r\n        {\r\n            this._changeLanguage( langString );\r\n        }\r\n\r\n        this._processLinesIfNecessary();\r\n    }\r\n\r\n    appendText( text: string, cursor: Cursor )\r\n    {\r\n        let lidx = cursor.line;\r\n\r\n        if( cursor.selection )\r\n        {\r\n            this.deleteSelection( cursor );\r\n            lidx = cursor.line;\r\n        }\r\n\r\n        this.endSelection();\r\n\r\n        const newLines = text.replaceAll( '\\r', '' ).split( '\\n' );\r\n\r\n        // Pasting Multiline...\r\n        if( newLines.length != 1 )\r\n        {\r\n            let numLines = newLines.length;\r\n            console.assert( numLines > 0 );\r\n            const firstLine = newLines.shift();\r\n            numLines--;\r\n\r\n            const remaining = this.code.lines[ lidx ].slice( cursor.position );\r\n\r\n            // Add first line\r\n            this.code.lines[ lidx ] = [\r\n                this.code.lines[ lidx ].slice( 0, cursor.position ),\r\n                firstLine\r\n            ].join('');\r\n\r\n            this.cursorToPosition( cursor, ( cursor.position + ( firstLine?.length ?? 0 ) ) );\r\n\r\n            // Enter next lines...\r\n\r\n            let _text = null;\r\n\r\n            for( var i = 0; i < newLines.length; ++i ) {\r\n                _text = newLines[ i ];\r\n                this.cursorToLine( cursor, cursor.line++, true );\r\n                // Add remaining...\r\n                if( i == (newLines.length - 1) )\r\n                    _text += remaining;\r\n                this.code.lines.splice( 1 + lidx + i, 0, _text );\r\n            }\r\n\r\n            if( _text ) this.cursorToPosition( cursor, _text.length );\r\n            this.cursorToLine( cursor, cursor.line + numLines );\r\n            this.processLines();\r\n        }\r\n        // Pasting one line...\r\n        else\r\n        {\r\n            this.code.lines[ lidx ] = [\r\n                this.code.lines[ lidx ].slice( 0, cursor.position ),\r\n                newLines[ 0 ],\r\n                this.code.lines[ lidx ].slice( cursor.position )\r\n            ].join('');\r\n\r\n            this.cursorToPosition( cursor, ( cursor.position + newLines[ 0 ].length ) );\r\n            this.processLine( lidx );\r\n        }\r\n\r\n        this.resize( CodeEditor.RESIZE_SCROLLBAR_H_V, undefined, () => {\r\n            var viewportSizeX = ( this.codeScroller.clientWidth + this.getScrollLeft() ) - CodeEditor.LINE_GUTTER_WIDTH; // Gutter offset\r\n            if( ( cursor.position * this.charWidth ) >= viewportSizeX )\r\n            {\r\n                this.setScrollLeft( this.code.lines[ lidx ].length * this.charWidth );\r\n            }\r\n        } );\r\n    }\r\n\r\n    setCustomSuggestions( suggestions: string[] )\r\n    {\r\n        if( !suggestions || suggestions.constructor !== Array )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.customSuggestions = suggestions;\r\n    }\r\n\r\n    async loadFile( file: File, options: any = {} )\r\n    {\r\n        const _innerAddTab = ( text: string, name: string, title?: string ) =>\r\n        {\r\n            // Remove Carriage Return in some cases and sub tabs using spaces\r\n            text = text.replaceAll( '\\r', '' ).replaceAll( /\\t|\\\\t/g, ' '.repeat( this.tabSpaces ) );\r\n\r\n            // Set current text and language\r\n            const lines = text.split( '\\n' );\r\n\r\n            // Add item in the explorer if used\r\n            if( this.useFileExplorer || this.skipTabs )\r\n            {\r\n                this._tabStorage[ name ] = {\r\n                    lines: lines,\r\n                    options: options\r\n                };\r\n\r\n                const ext = CodeEditor.languages[ options.language ] ?. ext;\r\n\r\n                if( this.useFileExplorer )\r\n                {\r\n                    this.addExplorerItem( { id: name, skipVisibility: true, icon: this._getFileIcon( name, ext ) } );\r\n                    this.explorer.innerTree.frefresh( name );\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.addTab( name, true, title, options );\r\n                this.code.lines = lines;\r\n\r\n                // Default inferred language if not specified\r\n                if( !options.language )\r\n                {\r\n                    this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n                }\r\n            }\r\n\r\n            if( options.callback )\r\n            {\r\n                options.callback( name, text );\r\n            }\r\n        };\r\n\r\n        if( file.constructor == String )\r\n        {\r\n            const filename: string = file;\r\n            const name = options.filename ?? filename.substring(filename.lastIndexOf( '/' ) + 1);\r\n\r\n            if( options.async ?? false )\r\n            {\r\n                const text: string = ( await this._requestFileAsync( filename, \"text\" ) as string );\r\n                _innerAddTab( text, name, options.filename ?? filename );\r\n            }\r\n            else\r\n            {\r\n                LX.request({ url: filename, success: ( text: string ) => {\r\n                    _innerAddTab( text, name, options.filename ?? filename );\r\n                } });\r\n            }\r\n        }\r\n        else // File Blob\r\n        {\r\n            const fr = new FileReader();\r\n            fr.readAsText( file );\r\n            fr.onload = e => {\r\n                const text = ( e.currentTarget as any ).result;\r\n                _innerAddTab( text, file.name );\r\n            };\r\n        }\r\n    }\r\n\r\n    _addUndoStep( cursor: Cursor, force: boolean = false, deleteRedo: boolean = true )\r\n    {\r\n        // Only the mainc cursor stores undo steps\r\n        if( !cursor.isMain )\r\n            return;\r\n\r\n        const d = new Date();\r\n        const current = d.getTime();\r\n\r\n        if( !force )\r\n        {\r\n            if( !this._lastTime )\r\n            {\r\n                this._lastTime = current;\r\n            }\r\n            else\r\n            {\r\n                if( ( current - this._lastTime ) > 2000 )\r\n                {\r\n                    this._lastTime = null;\r\n                }\r\n                else\r\n                {\r\n                    // If time not enough, reset timer\r\n                    this._lastTime = current;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        if( deleteRedo )\r\n        {\r\n            // Remove all redo steps\r\n            this.code.redoSteps.length = 0;\r\n        }\r\n\r\n        this.code.undoSteps.push( {\r\n            lines: LX.deepCopy( this.code.lines ),\r\n            cursors: this.saveCursors()\r\n        } );\r\n    }\r\n\r\n    _doUndo( cursor: Cursor )\r\n    {\r\n        if( !this.code.undoSteps.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._addRedoStep( cursor );\r\n\r\n        // Extract info from the last code state\r\n        const step = this.code.undoSteps.pop();\r\n\r\n        // Set old state lines\r\n        this.code.lines = step.lines;\r\n        this.processLines();\r\n\r\n        this._removeSecondaryCursors();\r\n\r\n        for( let i = 0; i < step.cursors.length; ++i )\r\n        {\r\n            var currentCursor: Cursor | null = this.cursors[ i ];\r\n\r\n            // Generate new if needed\r\n            if( !currentCursor )\r\n            {\r\n                currentCursor = this._addCursor();\r\n            }\r\n\r\n            this.restoreCursor( currentCursor as Cursor, step.cursors[ i ] );\r\n        }\r\n\r\n        this._hideActiveLine();\r\n    }\r\n\r\n    _addRedoStep( cursor: Cursor )\r\n    {\r\n        // Only the mainc cursor stores redo steps\r\n        if( !cursor.isMain )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.code.redoSteps.push( {\r\n            lines: LX.deepCopy( this.code.lines ),\r\n            cursors: this.saveCursors()\r\n        } );\r\n    }\r\n\r\n    _doRedo( cursor: Cursor )\r\n    {\r\n        if( !this.code.redoSteps.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._addUndoStep( cursor, true, false);\r\n\r\n        // Extract info from the next saved code state\r\n        const step = this.code.redoSteps.pop();\r\n\r\n        // Set old state lines\r\n        this.code.lines = step.lines;\r\n        this.processLines();\r\n\r\n        this._removeSecondaryCursors();\r\n\r\n        for( let i = 0; i < step.cursors.length; ++i )\r\n        {\r\n            var currentCursor: Cursor | null  = this.cursors[ i ];\r\n\r\n            // Generate new if needed\r\n            if( !currentCursor )\r\n            {\r\n                currentCursor = this._addCursor();\r\n            }\r\n\r\n            this.restoreCursor( currentCursor as Cursor, step.cursors[ i ] );\r\n        }\r\n    }\r\n\r\n    _changeLanguage( langString: string, langExtension?: string, override: boolean = false )\r\n    {\r\n        this.code.language = langString;\r\n        this.highlight = langString;\r\n\r\n        if( override )\r\n        {\r\n            this.code.languageOverride = langString;\r\n        }\r\n\r\n        this._updateDataInfoPanel( \"@highlight\", langString );\r\n\r\n        this.mustProcessLines = true;\r\n\r\n        const ext = langExtension ?? CodeEditor.languages[ langString ].ext;\r\n        const icon = this._getFileIcon( null, ext );\r\n\r\n        // Update tab icon\r\n        if( !this.skipTabs )\r\n        {\r\n            const tab = this.tabs.tabDOMs[ this.code.tabName ];\r\n            tab.firstChild.remove();\r\n            console.assert( tab != undefined );\r\n            var iconEl;\r\n            if( !icon.includes( '.' ) ) // Not a file\r\n            {\r\n                const classes = icon.split( ' ' );\r\n                iconEl = LX.makeIcon( classes[ 0 ], { svgClass: classes.slice( 0 ).join( ' ' ) } );\r\n            } else\r\n            {\r\n                iconEl = document.createElement( 'img' );\r\n                iconEl.src = \"https://raw.githubusercontent.com/jxarco/lexgui.js/master/\" + icon;\r\n            }\r\n            tab.prepend( iconEl );\r\n        }\r\n\r\n        // Update explorer icon\r\n        if( this.useFileExplorer )\r\n        {\r\n            const item = this.explorer.innerTree.data.filter( ( v: HTMLElement ) => v.id === this.code.tabName )[ 0 ];\r\n            console.assert( item != undefined );\r\n            item.icon = icon;\r\n            this.explorer.innerTree.frefresh( this.code.tabName );\r\n        }\r\n    }\r\n\r\n    _changeLanguageFromExtension( ext: string )\r\n    {\r\n        if( !ext )\r\n        {\r\n            return this._changeLanguage( this.code.language );\r\n        }\r\n\r\n        for( let l in CodeEditor.languages )\r\n        {\r\n            const langExtension = CodeEditor.languages[ l ].ext;\r\n\r\n            if( langExtension.constructor == Array )\r\n            {\r\n                if( langExtension.indexOf( ext ) > -1 )\r\n                {\r\n                    return this._changeLanguage( l, ext );\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if( langExtension == ext )\r\n                {\r\n                    return this._changeLanguage( l );\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        this._changeLanguage( 'Plain Text' );\r\n    }\r\n\r\n    _createStatusPanel( options: any = {} )\r\n    {\r\n        if( this.skipInfo )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let panel = new LX.Panel({ className: \"lexcodetabinfo flex flex-row\", height: \"auto\" });\r\n\r\n        if( this.onCreateStatusPanel )\r\n        {\r\n            this.onCreateStatusPanel( panel, this );\r\n        }\r\n\r\n        let leftStatusPanel = this.leftStatusPanel = new LX.Panel( { id: \"FontSizeZoomStatusComponent\", height: \"auto\" } );\r\n        leftStatusPanel.sameLine();\r\n\r\n        if( this.skipTabs )\r\n        {\r\n            leftStatusPanel.addButton( null, \"ZoomOutButton\", this._decreaseFontSize.bind( this ), { icon: \"ZoomOut\", width: \"32px\", title: \"Zoom Out\", tooltip: true } );\r\n        }\r\n\r\n        leftStatusPanel.addButton( null, \"ZoomOutButton\", this._decreaseFontSize.bind( this ), { icon: \"ZoomOut\", width: \"32px\", title: \"Zoom Out\", tooltip: true } );\r\n        leftStatusPanel.addLabel( this.fontSize, { fit: true, signal: \"@font-size\" });\r\n        leftStatusPanel.addButton( null, \"ZoomInButton\", this._increaseFontSize.bind( this ), { icon: \"ZoomIn\", width: \"32px\", title: \"Zoom In\", tooltip: true } );\r\n        leftStatusPanel.endLine( \"justify-start\" );\r\n        panel.attach( leftStatusPanel.root );\r\n\r\n        let rightStatusPanel = this.rightStatusPanel = new LX.Panel( { height: \"auto\" } );\r\n        rightStatusPanel.sameLine();\r\n        rightStatusPanel.addLabel( this.code?.title ?? \"\", { id: \"EditorFilenameStatusComponent\", fit: true, signal: \"@tab-name\" });\r\n        rightStatusPanel.addButton( null, \"Ln 1, Col 1\", this.showSearchLineBox.bind( this ), { id: \"EditorSelectionStatusComponent\", fit: true, signal: \"@cursor-data\" });\r\n        rightStatusPanel.addButton( null, \"Spaces: \" + this.tabSpaces, ( value: any, event: any ) => {\r\n            LX.addContextMenu( \"Spaces\", event, ( m: typeof ContextMenu ) => {\r\n                const options = [ 2, 4, 8 ];\r\n                for( const n of options )\r\n                    m.add( n, ( v: any ) => {\r\n                        this.tabSpaces = v;\r\n                        this.processLines();\r\n                        this._updateDataInfoPanel( \"@tab-spaces\", \"Spaces: \" + this.tabSpaces );\r\n                    } );\r\n            });\r\n        }, { id: \"EditorIndentationStatusComponent\", nameWidth: \"15%\", signal: \"@tab-spaces\" });\r\n        rightStatusPanel.addButton( \"<b>{ }</b>\", this.highlight, ( value: any, event: any ) => {\r\n            LX.addContextMenu( \"Language\", event, ( m: typeof ContextMenu ) => {\r\n                for( const lang of Object.keys( CodeEditor.languages ) )\r\n                {\r\n                    m.add( lang, ( v: any ) => {\r\n                        this._changeLanguage( v, undefined, true );\r\n                        this.processLines();\r\n                    } );\r\n                }\r\n            });\r\n        }, { id: \"EditorLanguageStatusComponent\", nameWidth: \"15%\", signal: \"@highlight\" });\r\n        rightStatusPanel.endLine( \"justify-end\" );\r\n        panel.attach( rightStatusPanel.root );\r\n\r\n        const itemVisibilityMap: Record<string, boolean> = {\r\n            \"Font Size Zoom\": options.statusShowFontSizeZoom ?? true,\r\n            \"Editor Filename\": options.statusShowEditorFilename ?? true,\r\n            \"Editor Selection\": options.statusShowEditorSelection ?? true,\r\n            \"Editor Indentation\": options.statusShowEditorIndentation ?? true,\r\n            \"Editor Language\": options.statusShowEditorLanguage ?? true,\r\n        };\r\n\r\n        const _setVisibility = ( itemName: string ) => {\r\n            const b = panel.root.querySelector( `#${ itemName.replaceAll( \" \", \"\" ) }StatusComponent` );\r\n            console.assert( b, `${ itemName } has no status button!` );\r\n            b.classList.toggle( \"hidden\", !itemVisibilityMap[ itemName ] );\r\n        }\r\n\r\n        for( const [ itemName, v ] of Object.entries( itemVisibilityMap ) )\r\n        {\r\n            _setVisibility( itemName );\r\n        }\r\n\r\n        panel.root.addEventListener( \"contextmenu\", ( e: any ) => {\r\n\r\n            if( e.target && ( e.target.classList.contains( \"lexpanel\" ) || e.target.classList.contains( \"lexinlinecomponents\" ) ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            const menuOptions = Object.keys( itemVisibilityMap ).map( ( itemName, idx ) => {\r\n                const item: any = {\r\n                    name: itemName,\r\n                    icon: \"Check\",\r\n                    callback: () => {\r\n                        itemVisibilityMap[ itemName ] = !itemVisibilityMap[ itemName ];\r\n                        _setVisibility( itemName );\r\n                    }\r\n                }\r\n                if( !itemVisibilityMap[ itemName ] ) delete item.icon;\r\n                return item;\r\n            } );\r\n            new LX.DropdownMenu( e.target, menuOptions, { side: \"top\", align: \"start\" });\r\n        } );\r\n\r\n        return panel;\r\n    }\r\n\r\n    _getFileIcon( name: string | null, extension?: string, langString?: string )\r\n    {\r\n        const isNewTabButton = name ? ( name === '+' ) : false;\r\n        if( isNewTabButton )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( !langString )\r\n        {\r\n            if( !extension )\r\n            {\r\n                extension = LX.getExtension( name );\r\n            }\r\n            else\r\n            {\r\n                const possibleExtensions = ( [] as string[] ).concat( extension );\r\n\r\n                if( name )\r\n                {\r\n                    const fileExtension = LX.getExtension( name );\r\n                    const idx = possibleExtensions.indexOf( fileExtension );\r\n\r\n                    if( idx > -1)\r\n                    {\r\n                        extension = possibleExtensions[ idx ];\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    extension = possibleExtensions[ 0 ];\r\n                }\r\n            }\r\n\r\n            for( const [ l, lData ] of Object.entries( CodeEditor.languages ) )\r\n            {\r\n                const extensions = ( [] as string[] ).concat( ( lData as any ).ext );\r\n                if( extensions.includes( extension! ) )\r\n                {\r\n                    langString = l;\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if( langString === undefined )\r\n        {\r\n            return \"AlignLeft fg-neutral-500\";\r\n        }\r\n\r\n        const iconPlusClasses = CodeEditor.languages[ langString ]?.icon;\r\n        if( iconPlusClasses )\r\n        {\r\n            return iconPlusClasses[ extension! ] ?? iconPlusClasses;\r\n        }\r\n\r\n        return \"AlignLeft fg-neutral-500\";\r\n    }\r\n\r\n    _onNewTab( e: any )\r\n    {\r\n        this.processFocus( false );\r\n\r\n        if( this.onNewTab )\r\n        {\r\n            this.onNewTab( e );\r\n            return;\r\n        }\r\n\r\n        const dmOptions = this.newTabOptions ?? [\r\n            { name: \"Create file\", icon: \"FilePlus\", callback: this._onCreateNewFile.bind( this ) },\r\n            { name: \"Load file\", icon: \"FileUp\", disabled: !this.allowLoadingFiles, callback: this.loadTabFromFile.bind( this ) }\r\n        ];\r\n\r\n        new LX.DropdownMenu( e.target, dmOptions, { side: \"bottom\", align: \"start\" });\r\n    }\r\n\r\n    _onCreateNewFile()\r\n    {\r\n        let options: any = {};\r\n\r\n        if( this.onCreateFile )\r\n        {\r\n            options = this.onCreateFile( this );\r\n            if( !options ) // Skip adding new file\r\n            {\r\n                return;\r\n            }\r\n        }\r\n\r\n        const name = options.name ?? \"unnamed.js\";\r\n        this.addTab( name, true, name, { indexOffset: options.indexOffset, language: options.language ?? \"JavaScript\" } );\r\n    }\r\n\r\n    _onSelectTab( isNewTabButton: boolean, event: any, name: string )\r\n    {\r\n        if( this.disableEdition )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( isNewTabButton )\r\n        {\r\n            this._onNewTab( event );\r\n            return;\r\n        }\r\n\r\n        this._removeSecondaryCursors();\r\n\r\n        const cursor = this.getCurrentCursor( true );\r\n        const lastCode = this.code;\r\n\r\n        if( lastCode )\r\n        {\r\n            this.saveCursor( cursor, lastCode.cursorState );\r\n        }\r\n\r\n        this.code = this.loadedTabs[ name ];\r\n\r\n        this.restoreCursor( cursor, this.code.cursorState );\r\n\r\n        this.endSelection();\r\n\r\n        this.hideAutoCompleteBox();\r\n\r\n        this._updateDataInfoPanel( \"@tab-name\", name );\r\n\r\n        if( this.code.languageOverride )\r\n        {\r\n            this._changeLanguage( this.code.languageOverride );\r\n        }\r\n        else\r\n        {\r\n            this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n        }\r\n\r\n        this.processLines();\r\n\r\n        if( !isNewTabButton && this.onSelectTab )\r\n        {\r\n            this.onSelectTab( name, this );\r\n        }\r\n    }\r\n\r\n    _onContextMenuTab( isNewTabButton: boolean = false, event: any, name: string )\r\n    {\r\n        if( isNewTabButton )\r\n        {\r\n            return;\r\n        }\r\n\r\n        new LX.DropdownMenu( event.target, [\r\n            { name: \"Close\", kbd: \"MWB\", disabled: !this.allowClosingTabs, callback: () => { this.closeTab( name ) } },\r\n            { name: \"Close Others\", disabled: !this.allowClosingTabs, callback: () => {\r\n                for( const [ key, data ] of Object.entries( this.tabs.tabs ) )\r\n                {\r\n                    if( key === '+' || key === name ) continue;\r\n                    this.closeTab( key )\r\n                }\r\n            } },\r\n            { name: \"Close All\", disabled: !this.allowClosingTabs, callback: () => {\r\n                for( const [ key, data ] of Object.entries( this.tabs.tabs ) )\r\n                {\r\n                    if( key === '+' ) continue;\r\n                    this.closeTab( key )\r\n                }\r\n            } },\r\n            null,\r\n            { name: \"Copy Path\", icon: \"Copy\", callback: () => {\r\n                navigator.clipboard.writeText( this.openedTabs[ name ].path ?? \"\" );\r\n            } }\r\n        ], { side: \"bottom\", align: \"start\", event });\r\n    }\r\n\r\n    addTab( name: string, selected: boolean, title?: string, options: any = {} )\r\n    {\r\n        // If already loaded, set new name...\r\n        const repeats = Object.keys( this.loadedTabs ).slice( 1 ).reduce( ( v, key ) => {\r\n            const noRepeatName = key.replace( /[_\\d+]/g, '');\r\n            return v + ( noRepeatName == name ? 1 : 0 );\r\n        }, 0 );\r\n\r\n        if( repeats > 0 )\r\n        {\r\n            name = name.split( '.' ).join( '_' + repeats + '.' );\r\n        }\r\n\r\n        const isNewTabButton = ( name === '+' );\r\n\r\n        // Create code content\r\n        let code = document.createElement( 'div' );\r\n        let codeAny = ( code as any );\r\n        Object.assign( code, {\r\n            path: options.path ?? \"\",\r\n            className: 'code',\r\n            lines: [ \"\" ],\r\n            language: options.language ?? \"Plain Text\",\r\n            cursorState: {},\r\n            undoSteps: [],\r\n            redoSteps: [],\r\n            lineScopes: [],\r\n            lineSymbols: [],\r\n            lineSignatures: [],\r\n            symbolsTable: new Map(),\r\n            tabName: name,\r\n            title: title ?? name,\r\n            tokens: {}\r\n        } );\r\n\r\n        code.style.left = \"0px\",\r\n        code.style.top = \"0px\",\r\n\r\n        code.addEventListener( 'dragenter', function(e) {\r\n            e.preventDefault();\r\n            this.parentElement?.classList.add( 'dragging' );\r\n        });\r\n        code.addEventListener( 'dragleave', function(e) {\r\n            e.preventDefault();\r\n            this.parentElement?.classList.remove( 'dragging' );\r\n        });\r\n        code.addEventListener( 'drop', e => {\r\n            e.preventDefault();\r\n            code.parentElement?.classList.remove( 'dragging' );\r\n            if( e.dataTransfer?.files )\r\n            {\r\n                for( let i = 0; i < e.dataTransfer.files.length; ++i )\r\n                {\r\n                    this.loadFile( e.dataTransfer.files[ i ] );\r\n                }\r\n            }\r\n        });\r\n\r\n        this.loadedTabs[ name ] = code;\r\n        this.openedTabs[ name ] = code;\r\n\r\n        const lastCode = this.code;\r\n\r\n        this.code = code;\r\n\r\n        const tabIcon = this._getFileIcon( name );\r\n\r\n        if( this.useFileExplorer && !isNewTabButton )\r\n        {\r\n            this.addExplorerItem( { id: name, skipVisibility: true, icon: tabIcon } );\r\n            this.explorer.innerTree.frefresh( name );\r\n        }\r\n\r\n        if( !this.skipTabs )\r\n        {\r\n            this.tabs.add( name, code, {\r\n                selected: selected,\r\n                fixed: isNewTabButton,\r\n                title: code.title,\r\n                icon: tabIcon,\r\n                onSelect: this._onSelectTab.bind( this, isNewTabButton ),\r\n                onContextMenu: this._onContextMenuTab.bind( this, isNewTabButton ),\r\n                allowDelete: this.allowClosingTabs,\r\n                indexOffset: options.indexOffset\r\n            } );\r\n        }\r\n\r\n        // Move into the sizer..\r\n        this.codeSizer.appendChild( code );\r\n\r\n        this.endSelection();\r\n\r\n        if( options.language )\r\n        {\r\n            codeAny.languageOverride = options.language;\r\n            this._changeLanguage( codeAny.languageOverride );\r\n            this.mustProcessLines = true;\r\n        }\r\n\r\n        if( options.codeLines )\r\n        {\r\n            codeAny.lines = options.codeLines;\r\n            this.mustProcessLines = true;\r\n        }\r\n\r\n        if( selected )\r\n        {\r\n            this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, undefined, true );\r\n            this.mustProcessLines = true;\r\n        }\r\n        else\r\n        {\r\n            this.code = lastCode;\r\n        }\r\n\r\n        this._processLinesIfNecessary();\r\n\r\n        this._updateDataInfoPanel( \"@tab-name\", name );\r\n\r\n        // Bc it could be overrided..\r\n        return name;\r\n    }\r\n\r\n    loadCode( name: string )\r\n    {\r\n        // Hide all others\r\n        this.codeSizer.querySelectorAll( \".code\" ).forEach( ( c: HTMLElement ) => c.classList.add( \"hidden\" ) );\r\n\r\n        // Already open...\r\n        if( this.openedTabs[ name ] )\r\n        {\r\n            let code = this.openedTabs[ name ]\r\n            code.classList.remove( \"hidden\" );\r\n            return;\r\n        }\r\n\r\n        let code = this.loadedTabs[ name ]\r\n        if( !code )\r\n        {\r\n            this.addTab( name, true );\r\n\r\n            // Unload lines from storage...\r\n            const tabData = this._tabStorage[ name ];\r\n            if( tabData )\r\n            {\r\n                this.code.lines = tabData.lines;\r\n\r\n                if( tabData.options.language )\r\n                {\r\n                    this._changeLanguage( tabData.options.language, undefined, true );\r\n                }\r\n                else\r\n                {\r\n                    this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n                }\r\n\r\n                delete this._tabStorage[ name ];\r\n            }\r\n\r\n            this._processLinesIfNecessary();\r\n\r\n            return;\r\n        }\r\n\r\n        this.openedTabs[ name ] = code;\r\n\r\n        // Move into the sizer..\r\n        this.codeSizer.appendChild( code );\r\n\r\n        this.endSelection();\r\n\r\n        // Select as current...\r\n        this.code = code;\r\n        this.mustProcessLines = true;\r\n\r\n        this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, undefined, true );\r\n        this.processLines();\r\n        this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n        this._processLinesIfNecessary();\r\n        this._updateDataInfoPanel( \"@tab-name\", code.tabName );\r\n    }\r\n\r\n    loadTab( name: string )\r\n    {\r\n        // Already open...\r\n        if( this.openedTabs[ name ] )\r\n        {\r\n            this.tabs.select( name );\r\n            return;\r\n        }\r\n\r\n        let code = this.loadedTabs[ name ]\r\n\r\n        if( !code )\r\n        {\r\n            this.addTab( name, true );\r\n\r\n            // Unload lines from storage...\r\n            const tabData = this._tabStorage[ name ];\r\n            if( tabData )\r\n            {\r\n                this.code.lines = tabData.lines;\r\n\r\n                if( tabData.options.language )\r\n                {\r\n                    this._changeLanguage( tabData.options.language, undefined, true );\r\n                }\r\n                else\r\n                {\r\n                    this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n                }\r\n\r\n                delete this._tabStorage[ name ];\r\n            }\r\n\r\n            this._processLinesIfNecessary();\r\n\r\n            return;\r\n        }\r\n\r\n        // Reset visibility\r\n        code.style.display = \"block\";\r\n\r\n        this.openedTabs[ name ] = code;\r\n\r\n        const isNewTabButton = ( name === '+' );\r\n        const tabIcon = this._getFileIcon( name );\r\n\r\n        this.tabs.add(name, code, {\r\n            selected: true,\r\n            fixed: isNewTabButton,\r\n            title: code.title,\r\n            icon: tabIcon,\r\n            onSelect: this._onSelectTab.bind( this, isNewTabButton ),\r\n            onContextMenu: this._onContextMenuTab.bind( this, isNewTabButton ),\r\n            allowDelete: this.allowClosingTabs\r\n        });\r\n\r\n        // Move into the sizer..\r\n        this.codeSizer.appendChild( code );\r\n\r\n        this.endSelection();\r\n\r\n        // Select as current...\r\n        this.code = code;\r\n        this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, undefined, true );\r\n        this._changeLanguageFromExtension( LX.getExtension( name ) );\r\n        this._updateDataInfoPanel( \"@tab-name\", code.tabName );\r\n\r\n        this.processLines();\r\n    }\r\n\r\n    closeTab( name: string, eraseAll: boolean = false )\r\n    {\r\n        if( !this.allowClosingTabs )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.tabs.delete( name );\r\n\r\n        if( eraseAll )\r\n        {\r\n            delete this.openedTabs[ name ];\r\n            delete this.loadedTabs[ name ];\r\n            delete this._tabStorage[ name ];\r\n        }\r\n    }\r\n\r\n    getSelectedTabName()\r\n    {\r\n        return this.tabs.selected;\r\n    }\r\n\r\n    loadTabFromFile()\r\n    {\r\n        const input = document.createElement( 'input' );\r\n        input.type = 'file';\r\n        document.body.appendChild( input );\r\n        input.click();\r\n        input.addEventListener('change', e => {\r\n            const target = e.target as HTMLInputElement;\r\n            if( target.files && target.files[ 0 ] )\r\n            {\r\n                this.loadFile( target.files[ 0 ] );\r\n            }\r\n            input.remove();\r\n        });\r\n    }\r\n\r\n    processFocus( active: boolean = false )\r\n    {\r\n        if( active )\r\n        {\r\n            this.restartBlink();\r\n        }\r\n        else\r\n        {\r\n            clearInterval( this.blinker );\r\n            LX.removeClass( this.cursorsDOM, 'show' );\r\n        }\r\n    }\r\n\r\n    processMouse( e: MouseEvent )\r\n    {\r\n        const target = e.target as HTMLElement;\r\n        if( !target.classList.contains('code') && !target.classList.contains('lexcodearea') ) return;\r\n        if( !this.code ) return;\r\n\r\n        var cursor = this.getCurrentCursor();\r\n        var code_rect = this.code.getBoundingClientRect();\r\n        var mouse_pos = [(e.clientX - code_rect.x), (e.clientY - code_rect.y)];\r\n\r\n        // Discard out of lines click...\r\n        var ln = ( mouse_pos[ 1 ] / this.lineHeight ) | 0;\r\n        if( ln < 0 ) return;\r\n\r\n        if( e.type == 'mousedown' )\r\n        {\r\n            // Left click only...\r\n            if( e.button === 2 )\r\n            {\r\n                this.processClick( e );\r\n\r\n                this.canOpenContextMenu = !cursor.selection;\r\n\r\n                if( cursor.selection )\r\n                {\r\n                    this.canOpenContextMenu = this.canOpenContextMenu || ( (cursor.line >= cursor.selection.fromY && cursor.line <= cursor.selection.toY\r\n                                                && cursor.position >= cursor.selection.fromX && cursor.position <= cursor.selection.toX) );\r\n                    if( this.canOpenContextMenu )\r\n                        return;\r\n                }\r\n            }\r\n\r\n            this._mouseDown = true;\r\n            this._lastMouseDown = LX.getTime();\r\n            this.endSelection();\r\n            this.processClick( e );\r\n        }\r\n\r\n        else if( e.type == 'mouseup' )\r\n        {\r\n            this._onMouseUp( e );\r\n        }\r\n\r\n        else if( e.type == 'mousemove' )\r\n        {\r\n            if( this._mouseDown )\r\n            {\r\n                this.state.selectingText = true;\r\n                this.processSelections( e );\r\n            }\r\n        }\r\n\r\n        else if ( e.type == 'click' ) // trip\r\n        {\r\n            switch( e.detail )\r\n            {\r\n                case LX.MOUSE_DOUBLE_CLICK:\r\n                    const [word, from, to] = this.getWordAtPos( cursor );\r\n                    this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n                    this.cursorToPosition( cursor, from );\r\n                    this.startSelection( cursor );\r\n                    cursor.selection!.selectInline( cursor, from, cursor.line, this.measureString( word ) );\r\n                    this.cursorToString( cursor, word ); // Go to the end of the word\r\n                    break;\r\n                // Select entire line\r\n                case LX.MOUSE_TRIPLE_CLICK:\r\n                    this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n                    ( e as any )._shiftKey = true;\r\n                    this.actions['End'].callback( cursor.line, cursor, e );\r\n                    this._tripleClickSelection = true;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        else if ( e.type == 'contextmenu' )\r\n        {\r\n            e.preventDefault();\r\n\r\n            if( !this.canOpenContextMenu )\r\n            {\r\n                return;\r\n            }\r\n\r\n            LX.addContextMenu( null, e, ( m: typeof ContextMenu ) => {\r\n                m.add( \"Copy\", () => {  this._copyContent( cursor ); } );\r\n\r\n                if( !this.disableEdition )\r\n                {\r\n                    m.add( \"Cut\", () => {  this._cutContent( cursor ); } );\r\n                    m.add( \"Paste\", () => {  this._pasteContent( cursor ); } );\r\n                }\r\n\r\n                if( !this.onContextMenu )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                let content = null;\r\n\r\n                if( cursor.selection )\r\n                {\r\n                    // Some selections don't depend on mouse up..\r\n                    if( cursor.selection ) cursor.selection.invertIfNecessary();\r\n\r\n                    const separator = \"_NEWLINE_\";\r\n                    let code = this.code.lines.join( separator );\r\n\r\n                    // Get linear start index\r\n                    let index = 0;\r\n\r\n                    for( let i = 0; i <= cursor.selection.fromY; i++ )\r\n                    {\r\n                        index += ( i == cursor.selection.fromY ? cursor.selection.fromX : this.code.lines[ i ].length );\r\n                    }\r\n\r\n                    index += cursor.selection.fromY * separator.length;\r\n                    const num_chars = cursor.selection.chars + ( cursor.selection.toY - cursor.selection.fromY ) * separator.length;\r\n                    const text = code.substr( index, num_chars );\r\n                    content = text.split( separator ).join('\\n');\r\n                }\r\n\r\n                const options = this.onContextMenu( this, content, e );\r\n                if( options.length )\r\n                {\r\n                    m.add( \"\" );\r\n\r\n                    for( const o of options )\r\n                    {\r\n                        m.add( o.path, { disabled: o.disabled, callback: o.callback } );\r\n                    }\r\n\r\n                    // m.add( \"Format/JSON\", () => {\r\n                    //     let json = this.toJSONFormat( this.getText() );\r\n                    //     if( !json )\r\n                    //         return;\r\n                    //     this.code.lines = json.split( \"\\n\" );\r\n                    //     this.processLines();\r\n                    // } );\r\n                }\r\n            });\r\n\r\n            this.canOpenContextMenu = false;\r\n        }\r\n    }\r\n\r\n    _onMouseUp( e: MouseEvent )\r\n    {\r\n        if( ( LX.getTime() - this._lastMouseDown ) < 120 )\r\n        {\r\n            this.state.selectingText = false;\r\n            this.endSelection();\r\n        }\r\n\r\n        const cursor = this.getCurrentCursor();\r\n        if( cursor.selection )\r\n        {\r\n            cursor.selection.invertIfNecessary();\r\n\r\n            // If single line selection and no chars selected, remove selection\r\n            const deltaY = cursor.selection.toY - cursor.selection.fromY;\r\n            if( cursor.selection.chars == 0 && deltaY == 0 )\r\n            {\r\n                this.endSelection();\r\n            }\r\n        }\r\n\r\n        this._mouseDown = false;\r\n        this.state.selectingText = false;\r\n        delete this._lastSelectionKeyDir;\r\n    }\r\n\r\n    processClick( e: MouseEvent )\r\n    {\r\n        var cursor = this.getCurrentCursor();\r\n        var code_rect = this.codeScroller.getBoundingClientRect();\r\n        var position = [( e.clientX - code_rect.x ) + this.getScrollLeft(), (e.clientY - code_rect.y) + this.getScrollTop()];\r\n        var ln = (position[ 1 ] / this.lineHeight)|0;\r\n\r\n        // Check out of range line\r\n        const outOfRange = ln > this.code.lines.length - 1;\r\n        ln = Math.min( ln, this.code.lines.length - 1 );\r\n\r\n        var ch = ( ( position[ 0 ] - parseInt( this.xPadding ) + 3) / this.charWidth )|0;\r\n        var string = outOfRange ? this.code.lines[ ln ] : this.code.lines[ ln ].slice( 0, ch );\r\n\r\n        // Move main cursor there...\r\n        if( !e.altKey )\r\n        {\r\n            // Make sure we only keep the main cursor..\r\n            this._removeSecondaryCursors();\r\n            this.cursorToLine( cursor, ln );\r\n            this.cursorToPosition( cursor, string.length );\r\n        }\r\n\r\n        // Add new cursor\r\n        else\r\n        {\r\n            this._addCursor( ln, string.length );\r\n        }\r\n\r\n        this.hideAutoCompleteBox();\r\n    }\r\n\r\n    updateSelections( e: any, keepRange: boolean = false, flags: number = CodeEditor.SELECTION_X_Y )\r\n    {\r\n        for( let cursor of this.cursors )\r\n        {\r\n            if( !cursor.selection )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            this._processSelection( cursor, e, keepRange, flags );\r\n        }\r\n    }\r\n\r\n    processSelections( e: any, keepRange: boolean = false, flags: number = CodeEditor.SELECTION_X_Y )\r\n    {\r\n        for( let cursor of this.cursors )\r\n        {\r\n            this._processSelection( cursor, e, keepRange, flags );\r\n        }\r\n    }\r\n\r\n    _processSelection( cursor: Cursor, e?: any, keepRange: boolean = false, flags: number = CodeEditor.SELECTION_X_Y )\r\n    {\r\n        const isMouseEvent = e && ( e.constructor == MouseEvent );\r\n\r\n        if( isMouseEvent )\r\n        {\r\n            this.processClick( e );\r\n        }\r\n\r\n        if( !cursor.selection )\r\n        {\r\n            this.startSelection( cursor );\r\n        }\r\n\r\n        const selection = cursor.selection!;\r\n\r\n        this._hideActiveLine();\r\n\r\n        // Update selection\r\n        if( !keepRange )\r\n        {\r\n            let ccw = true;\r\n\r\n            // Check if we must change ccw or not ... (not with mouse)\r\n            if( !isMouseEvent && cursor.line >= selection.fromY &&\r\n                (cursor.line == selection.fromY ? cursor.position >= selection.fromX : true) )\r\n            {\r\n                ccw = ( e && this._lastSelectionKeyDir && ( e.key == 'ArrowRight' || e.key == 'ArrowDown' || e.key == 'End' ) );\r\n            }\r\n\r\n            if( ccw )\r\n            {\r\n                if( flags & CodeEditor.SELECTION_X ) selection.fromX = cursor.position;\r\n                if( flags & CodeEditor.SELECTION_Y ) selection.fromY = cursor.line;\r\n            }\r\n            else\r\n            {\r\n                if( flags & CodeEditor.SELECTION_X ) selection.toX = cursor.position;\r\n                if( flags & CodeEditor.SELECTION_Y ) selection.toY = cursor.line;\r\n            }\r\n\r\n            this._lastSelectionKeyDir = ccw;\r\n        }\r\n\r\n        // Only leave if not a mouse selection...\r\n        if( !isMouseEvent && selection.isEmpty() )\r\n        {\r\n            this.endSelection();\r\n            return;\r\n        }\r\n\r\n        selection.chars = 0;\r\n\r\n        const fromX = selection.fromX,\r\n                fromY = selection.fromY,\r\n                toX = selection.toX,\r\n                toY = selection.toY;\r\n        const deltaY = toY - fromY;\r\n\r\n        let cursorSelections = this.selections[ cursor.name ];\r\n\r\n        // Selection goes down...\r\n        if( deltaY >= 0 )\r\n        {\r\n            while( deltaY < ( cursorSelections.childElementCount - 1 ) )\r\n                LX.deleteElement( cursorSelections.lastChild );\r\n\r\n            for(let i = fromY; i <= toY; i++){\r\n\r\n                const sId = i - fromY;\r\n                const isVisible = i >= this.visibleLinesViewport.x && i <= this.visibleLinesViewport.y;\r\n                let domEl = null;\r\n\r\n                if( isVisible )\r\n                {\r\n                    // Make sure that the line selection is generated...\r\n                    domEl = cursorSelections.childNodes[ sId ];\r\n                    if(!domEl)\r\n                    {\r\n                        domEl = document.createElement( 'div' );\r\n                        domEl.className = \"lexcodeselection\";\r\n                        cursorSelections.appendChild( domEl );\r\n                    }\r\n                }\r\n\r\n                // Compute new width and selection margins\r\n                let string = \"\";\r\n\r\n                if( sId == 0 ) // First line 2 cases (single line, multiline)\r\n                {\r\n                    const reverse = fromX > toX;\r\n                    if(deltaY == 0) string = !reverse ? this.code.lines[ i ].substring( fromX, toX ) : this.code.lines[ i ].substring(toX, fromX);\r\n                    else string = this.code.lines[ i ].substr( fromX );\r\n                    const pixels = ( reverse && deltaY == 0 ? toX : fromX ) * this.charWidth;\r\n                    if( isVisible ) domEl.style.left = `calc(${ pixels }px + ${ this.xPadding })`;\r\n                }\r\n                else\r\n                {\r\n                    string = ( i == toY ) ? this.code.lines[ i ].substring( 0, toX ) : this.code.lines[ i ]; // Last line, any multiple line...\r\n                    if( isVisible ) domEl.style.left = this.xPadding;\r\n                }\r\n\r\n                const stringWidth = this.measureString( string );\r\n                selection.chars += stringWidth / this.charWidth;\r\n\r\n                if( isVisible )\r\n                {\r\n                    domEl.style.width = ( stringWidth || ( deltaY == 0 ? 0 : 8 ) ) + \"px\";\r\n                    domEl._top = i * this.lineHeight;\r\n                    domEl.style.top = domEl._top + \"px\";\r\n                }\r\n            }\r\n        }\r\n        else // Selection goes up...\r\n        {\r\n            while( Math.abs( deltaY ) < ( cursorSelections.childElementCount - 1 ) )\r\n                LX.deleteElement( cursorSelections.firstChild );\r\n\r\n            for( let i = toY; i <= fromY; i++ ){\r\n\r\n                const sId = i - toY;\r\n                const isVisible = i >= this.visibleLinesViewport.x && i <= this.visibleLinesViewport.y;\r\n                let domEl = null;\r\n\r\n                if( isVisible )\r\n                {\r\n                    // Make sure that the line selection is generated...\r\n                    domEl = cursorSelections.childNodes[ sId ];\r\n                    if( !domEl )\r\n                    {\r\n                        domEl = document.createElement( 'div' );\r\n                        domEl.className = \"lexcodeselection\";\r\n                        cursorSelections.appendChild( domEl );\r\n                    }\r\n                }\r\n\r\n                // Compute new width and selection margins\r\n                let string;\r\n\r\n                if( sId == 0 )\r\n                {\r\n                    string = this.code.lines[ i ].substr(toX);\r\n                    const pixels = toX * this.charWidth;\r\n                    if( isVisible ) domEl.style.left = \"calc(\" + pixels + \"px + \" + this.xPadding + \")\";\r\n                }\r\n                else\r\n                {\r\n                    string = (i == fromY) ? this.code.lines[ i ].substring(0, fromX) : this.code.lines[ i ]; // Last line, any multiple line...\r\n                    if( isVisible ) domEl.style.left = this.xPadding;\r\n                }\r\n\r\n                const stringWidth = this.measureString( string );\r\n                selection.chars += stringWidth / this.charWidth;\r\n\r\n                if( isVisible )\r\n                {\r\n                    domEl.style.width = (stringWidth || 8) + \"px\";\r\n                    domEl._top = i * this.lineHeight;\r\n                    domEl.style.top = domEl._top + \"px\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async processKey( e: KeyboardEvent )\r\n    {\r\n        const numCursors = this.cursors.length;\r\n\r\n        if( !this.code || e.srcElement?.constructor != HTMLDivElement )\r\n        return;\r\n\r\n        const detail = ( e as any ).detail ?? {};\r\n        const key = e.key ?? detail.key;\r\n\r\n        // Do not propagate \"space to scroll\" event\r\n        if( key == ' ' )\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        const target = detail.targetCursor;\r\n\r\n        // Global keys\r\n\r\n        if( this._processGlobalKeys( e, key ) ) {\r\n            // Stop propagation..\r\n            return;\r\n        }\r\n\r\n        // By cursor keys\r\n\r\n        if( target !== undefined )\r\n        {\r\n            this.processKeyAtTargetCursor( e, key, target );\r\n            return;\r\n        }\r\n\r\n        this._lastProcessedCursorIndex = null;\r\n\r\n        var lastProcessedCursor = null;\r\n        var cursorOffset = new LX.vec2( 0, 0 );\r\n\r\n        for( var i = 0; i < numCursors; i++ )\r\n        {\r\n            let cursor = this.cursors[ i ];\r\n\r\n            // We could delete secondary cursor while iterating..\r\n            if( !cursor )\r\n                break;\r\n\r\n            // Arrows don't modify code lines.. And only add offset if in the same line\r\n            if( lastProcessedCursor && lastProcessedCursor.line == cursor.line && !key.includes( 'Arrow' ) )\r\n            {\r\n                cursor.position += cursorOffset.x;\r\n                cursor.line += cursorOffset.y;\r\n\r\n                this.relocateCursors();\r\n            }\r\n\r\n            lastProcessedCursor = this.saveCursor( cursor );\r\n            this._lastProcessedCursorIndex = i;\r\n\r\n            this._processKeyAtCursor( e, key, cursor );\r\n\r\n            cursorOffset.x += ( cursor.position - lastProcessedCursor.position );\r\n            cursorOffset.y += ( cursor.line - lastProcessedCursor.line );\r\n\r\n            // Set active line in case it's blurred\r\n            if( !cursor.selection )\r\n            {\r\n                cursor.line = cursor.line;\r\n            }\r\n        }\r\n\r\n        // Clear tmp\r\n        delete this._lastProcessedCursorIndex;\r\n    }\r\n\r\n    async processKeyAtTargetCursor( e: KeyboardEvent, key: string, targetIdx: number )\r\n    {\r\n        let cursor = this.cursors[ targetIdx ];\r\n\r\n        // We could delete secondary cursor while iterating..\r\n        if( !cursor )\r\n            return;\r\n\r\n        this._processKeyAtCursor( e, key, cursor );\r\n        this._processGlobalKeys( e, key );\r\n    }\r\n\r\n    _processGlobalKeys( e: KeyboardEvent, key: string )\r\n    {\r\n        let cursor = this.getCurrentCursor();\r\n\r\n        if( e.ctrlKey || e.metaKey )\r\n        {\r\n            switch( key.toLowerCase() )\r\n            {\r\n            case 'a': // select all\r\n                e.preventDefault();\r\n                this.selectAll();\r\n                return true;\r\n            case 'b': // k+b comment block\r\n                e.preventDefault();\r\n                if( this.state.keyChain == 'k' ) {\r\n                    this._commentLines( cursor, true );\r\n                    return true;\r\n                }\r\n                return false;\r\n            case 'c': // k+c, comment line\r\n                e.preventDefault();\r\n                if( this.state.keyChain == 'k' ) {\r\n                    this._commentLines( cursor );\r\n                    return true;\r\n                }\r\n                return false;\r\n            case 'd': // next ocurrence\r\n                e.preventDefault();\r\n                this.selectNextOcurrence( cursor );\r\n                return true;\r\n            case 'f': // find/search\r\n                e.preventDefault();\r\n                this.showSearchBox();\r\n                return true;\r\n            case 'g': // find line\r\n                e.preventDefault();\r\n                this.showSearchLineBox();\r\n                return true;\r\n            case 'k': // shortcut chain\r\n                e.preventDefault();\r\n                this.state.keyChain = 'k';\r\n                return true;\r\n            case 's': // save\r\n                e.preventDefault();\r\n                if( this.onSave )\r\n                {\r\n                    this.onSave( this.getText() );\r\n                }\r\n                return true;\r\n            case 'u': // k+u, uncomment line\r\n                e.preventDefault();\r\n                if( this.state.keyChain == 'k' ) {\r\n                    this._uncommentLines( cursor );\r\n                    return true;\r\n                }\r\n                return false;\r\n            case 'y': // redo\r\n                e.preventDefault();\r\n                this._doRedo( cursor );\r\n                return true;\r\n            case 'z': // undo\r\n                e.preventDefault();\r\n                this._doUndo( cursor );\r\n                return true;\r\n            case '+': // increase size\r\n                e.preventDefault();\r\n                this._increaseFontSize();\r\n                return true;\r\n            case '-': // decrease size\r\n                e.preventDefault();\r\n                this._decreaseFontSize();\r\n                return true;\r\n            case ' ': // custom event\r\n                if( this.onCtrlSpace )\r\n                {\r\n                    e.preventDefault();\r\n                    this.onCtrlSpace( cursor );\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.state.keyChain = null;\r\n        return false;\r\n    }\r\n\r\n    async _processKeyAtCursor( e: KeyboardEvent, key: string, cursor: Cursor )\r\n    {\r\n        const detail = ( e as any ).detail ?? {};\r\n        const skipUndo = detail.skipUndo ?? false;\r\n        const skipDeleteSelection = detail.skipDeleteSelection ?? false;\r\n\r\n        // keys with length > 1 are probably special keys\r\n        if( key.length > 1 && this.specialKeys.indexOf( key ) == -1 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let lidx = cursor.line;\r\n        this.code.lines[ lidx ] = this.code.lines[ lidx ] ?? \"\";\r\n\r\n        // Check combinations\r\n\r\n        const isLastCursor = cursor.isLast();\r\n\r\n        if( e.ctrlKey || e.metaKey )\r\n        {\r\n            switch( key.toLowerCase() ) {\r\n            case 'c': // copy\r\n                this._copyContent( cursor );\r\n                return;\r\n            case 'v': // paste\r\n                this._pasteContent( cursor );\r\n                return;\r\n            case 'x': // cut line\r\n                this._cutContent( cursor );\r\n                this.hideAutoCompleteBox();\r\n                return;\r\n            case 'arrowdown': // add cursor below only for the main cursor..\r\n                // Make sure shift is not pressed..\r\n                if( !e.shiftKey && isLastCursor && this.code.lines[ lidx + 1 ] != undefined )\r\n                {\r\n                    var newCursor: Cursor | null = this._addCursor( cursor.line, cursor.position, true );\r\n                    if( !newCursor ) return;\r\n                    this.lineDown( newCursor );\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        else if( e.altKey )\r\n        {\r\n            switch( key )\r\n            {\r\n            case 'd': // duplicate line\r\n                e.preventDefault();\r\n                this._duplicateLine( lidx, cursor );\r\n                return;\r\n            case 'ArrowUp':\r\n                this.swapLines( lidx, -1, cursor );\r\n                return;\r\n            case 'ArrowDown':\r\n                this.swapLines( lidx, 1, cursor );\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Apply binded actions...\r\n\r\n        for( const actKey in this.actions ) {\r\n\r\n            if( key != actKey )\r\n                continue;\r\n\r\n            e.preventDefault();\r\n\r\n            if( this._actionMustDelete( cursor, this.actions[ key ], e ) )\r\n            {\r\n                this.actions['Backspace'].callback( lidx, cursor, e );\r\n            }\r\n\r\n            return this.actions[ key ].callback( lidx, cursor, e );\r\n        }\r\n\r\n        // From now on, don't allow ctrl, shift or meta (mac) combinations\r\n        if( e.ctrlKey || e.metaKey )\r\n            return;\r\n\r\n        // Add undo steps\r\n\r\n        if( !skipUndo && this.code.lines.length )\r\n        {\r\n            this._addUndoStep( cursor );\r\n        }\r\n\r\n        //  Some custom cases for word enclosing (), {}, \"\", '', ...\r\n\r\n        const enclosableKeys = [ \"\\\"\", \"'\", \"(\", \"{\" ];\r\n        if( enclosableKeys.indexOf( key ) > -1 )\r\n        {\r\n            if( this._encloseSelectedWordWithKey( key, lidx, cursor ) )\r\n                return;\r\n        }\r\n\r\n        // Until this point, if there was a selection, we need\r\n        // to delete the content..\r\n\r\n        if( cursor.selection && !skipDeleteSelection )\r\n        {\r\n            this.actions['Backspace'].callback( lidx, cursor, e );\r\n            lidx = cursor.line;\r\n        }\r\n\r\n        // Append key\r\n\r\n        const isPairKey = ( Object.values( this.pairKeys ).indexOf( key ) > -1 ) && !this.wasKeyPaired;\r\n        const sameKeyNext = isPairKey && ( this.code.lines[ lidx ][ cursor.position ] === key );\r\n\r\n        if( !sameKeyNext )\r\n        {\r\n            this.code.lines[ lidx ] = [\r\n                this.code.lines[ lidx ].slice( 0, cursor.position ),\r\n                key,\r\n                this.code.lines[ lidx ].slice( cursor.position )\r\n            ].join('');\r\n        }\r\n\r\n        this.cursorToRight( key, cursor );\r\n\r\n        //  Some custom cases for auto key pair (), {}, \"\", '', ...\r\n\r\n        const keyMustPair = (this.pairKeys[ key ] !== undefined);\r\n        if( keyMustPair && !this.wasKeyPaired )\r\n        {\r\n            // Make sure to detect later that the key is paired automatically to avoid loops...\r\n            this.wasKeyPaired = true;\r\n\r\n            if( sameKeyNext ) return;\r\n\r\n            this.root.dispatchEvent(new KeyboardEvent('keydown', { 'key': this.pairKeys[ key ] }));\r\n            this.cursorToLeft( key, cursor );\r\n            return;\r\n        }\r\n\r\n        // Once here we can pair keys again\r\n        delete this.wasKeyPaired;\r\n\r\n        // Update only the current line, since it's only an appended key\r\n        this.processLine( lidx );\r\n\r\n        // We are out of the viewport and max length is different? Resize scrollbars...\r\n        this.resizeIfNecessary( cursor );\r\n\r\n        // Manage autocomplete\r\n\r\n        if( this.useAutoComplete )\r\n        {\r\n            this.showAutoCompleteBox( key, cursor );\r\n        }\r\n    }\r\n\r\n    async _pasteContent( cursor: Cursor )\r\n    {\r\n        const mustDetectLanguage = ( !this.getText().length );\r\n\r\n        let text = await navigator.clipboard.readText();\r\n\r\n        // Remove any possible tabs (\\t) and add spaces\r\n        text = text.replaceAll( /\\t|\\\\t/g, ' '.repeat( this.tabSpaces ) );\r\n\r\n        this._addUndoStep( cursor, true );\r\n\r\n        this.appendText( text, cursor );\r\n\r\n        const currentScroll = this.getScrollTop();\r\n        const scroll = Math.max( cursor.line * this.lineHeight - this.codeScroller.offsetWidth, 0 );\r\n\r\n        if( currentScroll < scroll )\r\n        {\r\n            this.codeScroller.scrollTo( 0, cursor.line * this.lineHeight );\r\n        }\r\n\r\n        if( mustDetectLanguage )\r\n        {\r\n            const detectedLang = this._detectLanguage( text );\r\n            if( detectedLang )\r\n            {\r\n                this._changeLanguage( detectedLang );\r\n            }\r\n        }\r\n    }\r\n\r\n    async _copyContent( cursor: Cursor )\r\n    {\r\n        let textToCopy = \"\";\r\n\r\n        if( !cursor.selection )\r\n        {\r\n            textToCopy = \"\\n\" + this.code.lines[ cursor.line ];\r\n        }\r\n        else\r\n        {\r\n            // Some selections don't depend on mouse up..\r\n            if( cursor.selection ) cursor.selection.invertIfNecessary();\r\n\r\n            const separator = \"_NEWLINE_\";\r\n            let code = this.code.lines.join( separator );\r\n\r\n            // Get linear start index\r\n            let index = 0;\r\n\r\n            for( let i = 0; i <= cursor.selection.fromY; i++ )\r\n            {\r\n                index += ( i == cursor.selection.fromY ? cursor.selection.fromX : this.code.lines[ i ].length );\r\n            }\r\n\r\n            index += cursor.selection.fromY * separator.length;\r\n            const num_chars = cursor.selection.chars + ( cursor.selection.toY - cursor.selection.fromY ) * separator.length;\r\n            const text = code.substr( index, num_chars );\r\n            const lines = text.split( separator );\r\n            textToCopy = lines.join('\\n');\r\n        }\r\n\r\n        navigator.clipboard.writeText( textToCopy );\r\n            // .then(() => console.log(\"Successfully copied\"), (err) => console.error(\"Error\"));\r\n    }\r\n\r\n    async _cutContent( cursor: Cursor )\r\n    {\r\n        let lidx = cursor.line;\r\n        let textToCut = \"\";\r\n\r\n        this._addUndoStep( cursor, true );\r\n\r\n        if( !cursor.selection )\r\n        {\r\n            textToCut = \"\\n\" + this.code.lines[ cursor.line ];\r\n            this.code.lines.splice( lidx, 1 );\r\n            this.processLines();\r\n            this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n            if( this.code.lines[ lidx ] == undefined )\r\n            {\r\n                this.lineUp( cursor );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            // Some selections don't depend on mouse up..\r\n            if( cursor.selection ) cursor.selection.invertIfNecessary();\r\n\r\n            const separator = \"_NEWLINE_\";\r\n            let code = this.code.lines.join( separator );\r\n\r\n            // Get linear start index\r\n            let index = 0;\r\n\r\n            for( let i = 0; i <= cursor.selection.fromY; i++ )\r\n            {\r\n                index += (i == cursor.selection.fromY ? cursor.selection.fromX : this.code.lines[ i ].length);\r\n            }\r\n\r\n            index += cursor.selection.fromY * separator.length;\r\n            const numChars = cursor.selection.chars + (cursor.selection.toY - cursor.selection.fromY) * separator.length;\r\n            const text = code.substr( index, numChars );\r\n            const lines = text.split( separator );\r\n            textToCut = lines.join('\\n');\r\n\r\n            this.deleteSelection( cursor );\r\n        }\r\n\r\n        navigator.clipboard.writeText( textToCut );\r\n            // .then(() => console.log(\"Successfully cut\"), (err) => console.error(\"Error\"));\r\n    }\r\n\r\n    _duplicateLine( lidx: number, cursor: Cursor )\r\n    {\r\n        this.endSelection();\r\n        this._addUndoStep( cursor, true );\r\n        this.code.lines.splice( lidx, 0, this.code.lines[ lidx ] );\r\n        this.lineDown( cursor );\r\n        this.processLines();\r\n        this.hideAutoCompleteBox();\r\n    }\r\n\r\n    _commentLines( cursor: Cursor, useCommentBlock: boolean = false )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n\r\n        this.state.keyChain = null;\r\n\r\n        cursor = cursor ?? this.getCurrentCursor();\r\n\r\n        if( cursor.selection )\r\n        {\r\n            if( !( ( useCommentBlock ? lang.blockComments : lang.singleLineComments ) ?? true ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            this._addUndoStep( cursor, true );\r\n\r\n            const selectedLines = this.code.lines.slice( cursor.selection.fromY, cursor.selection.toY + 1 );\r\n            const minIdx = Math.min(...selectedLines.map( ( v: string ) => {\r\n                var idx = firstNonspaceIndex( v );\r\n                return idx < 0 ? 1e10 : idx;\r\n            } ));\r\n\r\n            if( useCommentBlock )\r\n            {\r\n                const tokens = ( lang.blockCommentsTokens ?? this.defaultBlockCommentTokens );\r\n\r\n                const fromString = this.code.lines[ cursor.selection.fromY ];\r\n                let fromIdx = firstNonspaceIndex( fromString );\r\n                if( fromIdx == -1 )\r\n                {\r\n                    fromIdx = 0;\r\n                }\r\n\r\n                this.code.lines[ cursor.selection.fromY ] = [\r\n                    fromString.substring( 0, fromIdx ),\r\n                    tokens[ 0 ] + \" \",\r\n                    fromString.substring( fromIdx )\r\n                ].join( '' );\r\n\r\n                this.code.lines[ cursor.selection.toY ] += \" \" + tokens[ 1 ];\r\n\r\n                cursor.selection.fromX += ( tokens[ 0 ].length + 1 );\r\n                this._processSelection( cursor );\r\n            }\r\n            else\r\n            {\r\n                for( let i = cursor.selection.fromY; i <= cursor.selection.toY; ++i )\r\n                {\r\n                    this._commentLine( cursor, i, minIdx, false );\r\n                }\r\n\r\n                const token = ( lang.singleLineCommentToken ?? this.defaultSingleLineCommentToken ) + ' ';\r\n                this.cursorToString( cursor, token );\r\n\r\n                cursor.selection.fromX += token.length;\r\n                cursor.selection.toX += token.length;\r\n                this._processSelection( cursor );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if( !( lang.singleLineComments ?? true ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            for( const cr of this.cursors )\r\n            {\r\n                this._addUndoStep( cr, true );\r\n                this._commentLine( cr, cr.line );\r\n            }\r\n        }\r\n\r\n        this.processLines();\r\n        this._hideActiveLine();\r\n    }\r\n\r\n    _commentLine( cursor: Cursor, line: number, minNonspaceIdx?: number, updateCursor = true )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        if( !( lang.singleLineComments ?? true ) )\r\n            return;\r\n\r\n        const token = ( lang.singleLineCommentToken ?? this.defaultSingleLineCommentToken ) + ' ';\r\n        const string = this.code.lines[ line ];\r\n\r\n        let idx = firstNonspaceIndex( string );\r\n        if( idx == -1 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        // Update idx using min of the selected lines (if necessary..)\r\n        idx = minNonspaceIdx ?? idx;\r\n\r\n        this.code.lines[ line ] = [\r\n            string.substring( 0, idx ),\r\n            token,\r\n            string.substring( idx )\r\n        ].join( '' );\r\n\r\n        if( updateCursor )\r\n        {\r\n            this.cursorToString( cursor, token );\r\n        }\r\n    }\r\n\r\n    _uncommentLines( cursor: Cursor )\r\n    {\r\n        this.state.keyChain = null;\r\n\r\n        const currCursor = this.getCurrentCursor();\r\n\r\n        if( currCursor.selection !== null )\r\n        {\r\n            this._addUndoStep( cursor, true );\r\n\r\n            for( var i = currCursor.selection.fromY; i <= currCursor.selection.toY; ++i )\r\n            {\r\n                this._uncommentLine( cursor, i );\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for( let cursor of this.cursors )\r\n            {\r\n                this._addUndoStep( cursor, true );\r\n                this._uncommentLine( cursor, cursor.line );\r\n            }\r\n        }\r\n\r\n        this.processLines();\r\n        this._hideActiveLine();\r\n    }\r\n\r\n    _uncommentLine( cursor: Cursor, line: number )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n\r\n        if( !( lang.singleLineComments ?? true ))\r\n            return;\r\n\r\n        const token = lang.singleLineCommentToken ?? this.defaultSingleLineCommentToken;\r\n        const string = this.code.lines[ line ];\r\n\r\n        if( string.includes( token ) )\r\n        {\r\n            this.code.lines[ line ] = string.replace( token + ' ', '' );\r\n\r\n            // try deleting token + space, and then if not, delete only the token\r\n            if( string.length == this.code.lines[ line ].length )\r\n                this.code.lines[ line ] = string.replace( token, '' );\r\n\r\n            this.cursorToString( cursor, 'X'.repeat( Math.abs( string.length - this.code.lines[ line ].length ) ), true );\r\n        }\r\n    }\r\n\r\n    action( key: string, deleteSelection: boolean = false, fn?: ( l: number, cursor: Cursor, e: any ) => void, eventSkipDeleteFn?: any )\r\n    {\r\n        this.actions[ key ] = {\r\n            \"key\": key,\r\n            \"callback\": fn,\r\n            \"deleteSelection\": deleteSelection,\r\n            \"eventSkipDeleteFn\": eventSkipDeleteFn\r\n        };\r\n    }\r\n\r\n    _actionMustDelete( cursor: Cursor, action: any, e: any )\r\n    {\r\n        return cursor.selection && action.deleteSelection &&\r\n            !( action.eventSkipDeleteFn ? action.eventSkipDeleteFn( cursor, e ) : false );\r\n    }\r\n\r\n    scanWordSuggestions()\r\n    {\r\n        this.code.tokens = {};\r\n\r\n        for( let i = 0; i < this.code.lines.length; ++i )\r\n        {\r\n            const lineString = this.code.lines[ i ];\r\n            const tokens = this._getTokensFromLine( lineString, true );\r\n            tokens.forEach( ( t: string ) => this.code.tokens[ t ] = 1 );\r\n        }\r\n    }\r\n\r\n    toLocalLine( line: number )\r\n    {\r\n        const d = Math.max( this.firstLineInViewport - this.lineScrollMargin.x, 0 );\r\n        return Math.min( Math.max( line - d, 0 ), this.code.lines.length - 1 );\r\n    }\r\n\r\n    getMaxLineLength()\r\n    {\r\n        return Math.max(...this.code.lines.map( ( v: string ) => v.length ));\r\n    }\r\n\r\n    _processLinesIfNecessary()\r\n    {\r\n        if( this.mustProcessLines )\r\n        {\r\n            this.mustProcessLines = false;\r\n            this.processLines();\r\n        }\r\n    }\r\n\r\n    processLines( mode?: number )\r\n    {\r\n        if( !this.code )\r\n        {\r\n            return;\r\n        }\r\n\r\n        var htmlCode = \"\";\r\n        this._blockCommentCache.length = 0;\r\n        this.mustProcessLines = false;\r\n\r\n        // Reset all lines content\r\n        this.code.innerHTML = \"\";\r\n\r\n        // Get info about lines in viewport\r\n        const lastScrollTop = this.getScrollTop();\r\n        this.firstLineInViewport = ( mode ?? CodeEditor.KEEP_VISIBLE_LINES ) & CodeEditor.UPDATE_VISIBLE_LINES ?\r\n                                    ( (lastScrollTop / this.lineHeight)|0 ) : this.firstLineInViewport;\r\n        const totalLinesInViewport = ( ( this.codeScroller.offsetHeight ) / this.lineHeight )|0;\r\n        this.visibleLinesViewport = new LX.vec2(\r\n            Math.max( this.firstLineInViewport - this.lineScrollMargin.x, 0 ),\r\n            Math.min( this.firstLineInViewport + totalLinesInViewport + this.lineScrollMargin.y, this.code.lines.length )\r\n        );\r\n\r\n        // Add remaining lines if we are near the end of the scroll\r\n        {\r\n            const diff = Math.max( this.code.lines.length - this.visibleLinesViewport.y, 0 );\r\n            if( diff <= this.lineScrollMargin.y )\r\n            {\r\n                this.visibleLinesViewport.y += diff;\r\n            }\r\n        }\r\n\r\n        this._scopeStack = [ { name: \"\", type: \"global\" } ];\r\n\r\n        // Process visible lines\r\n        for( let i = this.visibleLinesViewport.x; i < this.visibleLinesViewport.y; ++i )\r\n        {\r\n            htmlCode += this.processLine( i, true );\r\n        }\r\n\r\n        this.code.innerHTML = htmlCode;\r\n\r\n        // Update scroll data\r\n        this.codeScroller.scrollTop = lastScrollTop;\r\n        this.code.style.top = ( this.visibleLinesViewport.x * this.lineHeight ) + \"px\";\r\n\r\n        // Update selections\r\n        this.updateSelections( null, true );\r\n\r\n        this._clearTmpVariables();\r\n        this._setActiveLine();\r\n        this.resize();\r\n    }\r\n\r\n    processLine( lineNumber: number, force: boolean = false, skipPropagation: boolean = false )\r\n    {\r\n        if( this._scopeStack )\r\n        {\r\n            this.code.lineScopes[ lineNumber ] = [ ...this._scopeStack ];\r\n        }\r\n        else\r\n        {\r\n            this.code.lineScopes[ lineNumber ] = this.code.lineScopes[ lineNumber ] ?? [];\r\n            this._scopeStack = [ ...this.code.lineScopes[ lineNumber ] ];\r\n        }\r\n\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        const localLineNum =  this.toLocalLine( lineNumber );\r\n        const lineString = this.code.lines[ lineNumber ];\r\n        if( lineString === undefined )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._lastProcessedLine = lineNumber;\r\n\r\n        // multi-line strings not supported by now\r\n        delete this._buildingString;\r\n        delete this._pendingString;\r\n        delete this._markdownHeader;\r\n\r\n        // Single line\r\n        if( !force )\r\n        {\r\n            LX.deleteElement( this.code.childNodes[ localLineNum ] );\r\n            LX.insertChildAtIndex( this.code, document.createElement( 'pre' ), localLineNum );\r\n        }\r\n\r\n        // Early out check for no highlighting languages\r\n        if( this.highlight == 'Plain Text' )\r\n        {\r\n            const plainTextHtml = lineString.replaceAll('<', '&lt;').replaceAll('>', '&gt;');\r\n            return this._updateLine( force, lineNumber, plainTextHtml, skipPropagation );\r\n        }\r\n\r\n        this._currentLineNumber = lineNumber;\r\n        this._currentLineString = lineString;\r\n\r\n        const tokensToEvaluate = this._getTokensFromLine( lineString );\r\n        if( !tokensToEvaluate.length )\r\n        {\r\n            return this._updateLine( force, lineNumber, \"\", skipPropagation );\r\n        }\r\n\r\n        let lineInnerHtml = \"\";\r\n        let pushedScope = false;\r\n\r\n        const newSignature = this._getLineSignatureFromTokens( tokensToEvaluate );\r\n        const cachedSignature = this.code.lineSignatures[ lineNumber ];\r\n        const mustUpdateScopes = ( cachedSignature !== newSignature ) && !force;\r\n        const blockComments = lang.blockComments ?? true;\r\n        const blockCommentsTokens = lang.blockCommentsTokens ?? this.defaultBlockCommentTokens;\r\n\r\n        // Reset scope stack if structural changes in current line\r\n        if( mustUpdateScopes )\r\n        {\r\n            this._scopeStack = [ { name: \"\", type: \"global\" } ];\r\n        }\r\n\r\n        // Process all tokens\r\n        for( let i = 0; i < tokensToEvaluate.length; ++i )\r\n        {\r\n            let it = i - 1;\r\n            let prev = tokensToEvaluate[ it ];\r\n            while( prev == ' ' )\r\n            {\r\n                it--;\r\n                prev = tokensToEvaluate[ it ];\r\n            }\r\n\r\n            it = i + 1;\r\n            let next = tokensToEvaluate[ it ];\r\n            while( next == ' ' || next == '\"' )\r\n            {\r\n                it++;\r\n                next = tokensToEvaluate[ it ];\r\n            }\r\n\r\n            const token = tokensToEvaluate[ i ];\r\n            const tokenIndex = i;\r\n            const tokenStartIndex = this._currentTokenPositions[ tokenIndex ];\r\n\r\n            if( blockComments )\r\n            {\r\n                if( token.substr( 0, blockCommentsTokens[ 0 ].length ) == blockCommentsTokens[ 0 ] )\r\n                {\r\n                    this._buildingBlockComment = [ lineNumber, tokenStartIndex ];\r\n                }\r\n            }\r\n\r\n            // Compare line signature for structural changes\r\n            // to pop current scope if necessary\r\n            if( token === \"}\" && this._scopeStack.length > 1 )\r\n            {\r\n                this._scopeStack.pop();\r\n            }\r\n\r\n            lineInnerHtml += this._evaluateToken( {\r\n                token,\r\n                prev,\r\n                prevWithSpaces: tokensToEvaluate[ i - 1 ],\r\n                next,\r\n                nextWithSpaces: tokensToEvaluate[ i + 1 ],\r\n                tokenIndex,\r\n                isFirstToken: ( tokenIndex == 0 ),\r\n                isLastToken: ( tokenIndex == tokensToEvaluate.length - 1 ),\r\n                tokens: tokensToEvaluate\r\n            } );\r\n\r\n            if( blockComments && this._buildingBlockComment != undefined\r\n                && token.substr( 0, blockCommentsTokens[ 1 ].length ) == blockCommentsTokens[ 1 ] )\r\n            {\r\n                const [ commentLineNumber, tokenPos ] = this._buildingBlockComment;\r\n                this._blockCommentCache.push( [ new LX.vec2( commentLineNumber, lineNumber ), new LX.vec2( tokenPos, tokenStartIndex ) ] );\r\n                delete this._buildingBlockComment;\r\n            }\r\n\r\n            if( token !== \"{\" )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            // Store current scopes\r\n\r\n            let contextTokens = [\r\n                ...this._getTokensFromLine( this.code.lines[ lineNumber ].substring( 0, tokenStartIndex ) )\r\n            ];\r\n\r\n            // Add token context from above lines in case we don't have information\r\n            // in the same line to get the scope data\r\n            if( !prev )\r\n            {\r\n                for( let k = 1; k < 50; k++ )\r\n                {\r\n                    let kLineString = this.code.lines[ lineNumber - k ];\r\n                    if( !kLineString )\r\n                    {\r\n                        break;\r\n                    }\r\n\r\n                    const openIdx = kLineString.lastIndexOf( '{' );\r\n                    const closeIdx = kLineString.lastIndexOf( '}' );\r\n                    if( openIdx > -1 )\r\n                    {\r\n                        kLineString = kLineString.substr( openIdx );\r\n                    }\r\n                    else if( closeIdx > -1 )\r\n                    {\r\n                        kLineString = kLineString.substr( closeIdx );\r\n                    }\r\n\r\n                    contextTokens = [ ...this._getTokensFromLine( kLineString ), ...contextTokens ];\r\n\r\n                    if( kLineString.length !== this.code.lines[ lineNumber - k ] )\r\n                    {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTokens = contextTokens.reverse().filter( v => v.length && v != ' ' );\r\n\r\n            // Keywords that can open a *named* scope\r\n            // TODO: Do this per language\r\n            const scopeKeywords = [\"class\", \"enum\", \"function\", \"interface\", \"type\", \"struct\", \"namespace\"];\r\n\r\n            let scopeType = null; // This is the type of scope (function, class, enum, etc)\r\n            let scopeName = null;\r\n\r\n            for( let i = 0; i < contextTokens.length; i++ )\r\n            {\r\n                const t = contextTokens[ i ];\r\n\r\n                if ( scopeKeywords.includes( t ) )\r\n                {\r\n                    scopeType = t;\r\n                    scopeName = contextTokens[ i - 1 ];  // usually right before the keyword in reversed array\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Special case: enum type specification `enum Foo : int {`\r\n            if( scopeType === \"enum\" && contextTokens.includes( \":\" ) )\r\n            {\r\n                const colonIndex = contextTokens.indexOf( \":\" );\r\n                scopeName = contextTokens[ colonIndex + 1 ] || scopeName;\r\n            }\r\n\r\n            if( !scopeType )\r\n            {\r\n                const parOpenIndex = contextTokens.indexOf( \"(\" );\r\n                scopeName = contextTokens[ parOpenIndex + 1 ] || scopeName;\r\n\r\n                if( scopeName )\r\n                {\r\n                    scopeType = \"method\";\r\n                }\r\n            }\r\n\r\n            // Only push if it's not already reflected in the cached scopes\r\n            const lastScope = this._scopeStack.at( -1 );\r\n            if( lastScope?.lineNumber !== lineNumber )\r\n            {\r\n                this._scopeStack.push( { name: scopeName ?? \"\", type: scopeType ?? \"anonymous\", lineNumber } );\r\n            }\r\n\r\n            pushedScope = true;\r\n        }\r\n\r\n        // Update scopes cache\r\n        this.code.lineScopes[ lineNumber ] = [ ...this._scopeStack ];\r\n\r\n        const symbols = this._parseLineForSymbols( lineNumber, lineString, tokensToEvaluate, pushedScope );\r\n\r\n        return this._updateLine( force, lineNumber, lineInnerHtml, skipPropagation, symbols, tokensToEvaluate );\r\n    }\r\n\r\n    _getLineSignatureFromTokens( tokens: string[] )\r\n    {\r\n        const structuralChars = new Set( [ '{',  '}'] );\r\n        const sign = tokens.filter( t => structuralChars.has( t ) );\r\n        return sign.join( \"_\" );\r\n    }\r\n\r\n    _updateBlockComments( section: any, lineNumber: number, tokens: string[] )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        const blockCommentsTokens = lang.blockCommentsTokens ?? this.defaultBlockCommentTokens;\r\n        const lineOpensBlock = ( section[ 0 ].x === lineNumber );\r\n        const lineClosesBlock = ( section[ 0 ].y === lineNumber );\r\n        const lineInsideBlock = ( section[ 0 ].x !== lineNumber ) && ( section[ 0 ].y !== lineNumber );\r\n\r\n        delete this._buildingBlockComment;\r\n\r\n        /*\r\n            Check if delimiters have been removed and process lines backwards/forward\r\n            until reaching new delimiters\r\n        */\r\n\r\n        if( lineOpensBlock )\r\n        {\r\n            const r = tokens.filter( t => t.substr( 0, blockCommentsTokens[ 0 ].length ) == blockCommentsTokens[ 0 ] );\r\n            if( !r.length )\r\n            {\r\n                this._buildingBlockComment = [ lineNumber - 1, 0 ];\r\n\r\n                this.mustProcessPreviousLine = ( tokens ) => {\r\n                    const idx = tokens.indexOf( blockCommentsTokens[ 0 ] );\r\n                    return ( idx === -1 );\r\n                }\r\n\r\n                this.processLine( lineNumber - 1, false, true );\r\n\r\n                section[ 0 ].x = this._lastProcessedLine;\r\n\r\n                const lastProcessedString = this.code.lines[ this._lastProcessedLine ];\r\n                const idx = lastProcessedString.indexOf( blockCommentsTokens[ 0 ] );\r\n                section[ 1 ].x = idx > 0 ? idx : 0;\r\n            }\r\n            else\r\n            {\r\n                const tokenIndex = tokens.indexOf( blockCommentsTokens[ 0 ] );\r\n                const tokenStartIndex = this._currentTokenPositions[ tokenIndex ];\r\n                section[ 1 ].x = tokenStartIndex;\r\n                // Process current line to update new sections\r\n                this.processLine( lineNumber, false, true );\r\n            }\r\n        }\r\n        else if( lineClosesBlock )\r\n        {\r\n            const r = tokens.filter( t => t.substr( 0, blockCommentsTokens[ 1 ].length ) == blockCommentsTokens[ 1 ] );\r\n            if( !r.length )\r\n            {\r\n                this._buildingBlockComment = [ section[ 0 ].x, section[ 1 ].x ];\r\n\r\n                this.mustProcessNextLine = ( tokens ) => {\r\n                    const idx = tokens.indexOf( blockCommentsTokens[ 1 ] );\r\n                    return ( idx === -1 );\r\n                }\r\n\r\n                this.processLine( lineNumber + 1, false, true );\r\n\r\n                section[ 0 ].y = this._lastProcessedLine;\r\n\r\n                const lastProcessedString = this.code.lines[ this._lastProcessedLine ];\r\n                const idx = lastProcessedString.indexOf( blockCommentsTokens[ 1 ] );\r\n                section[ 1 ].y = idx > 0 ? idx : ( lastProcessedString.length - 1 );\r\n            }\r\n            else\r\n            {\r\n                const tokenIndex = tokens.indexOf( blockCommentsTokens[ 1 ] );\r\n                const tokenStartIndex = this._currentTokenPositions[ tokenIndex ];\r\n                section[ 1 ].y = tokenStartIndex;\r\n                // Process current line to update new sections\r\n                this.processLine( lineNumber, false, true );\r\n            }\r\n        }\r\n        else if( lineInsideBlock )\r\n        {\r\n            // Here it can't modify delimiters..\r\n        }\r\n    }\r\n\r\n    _processExtraLineIfNecessary( lineNumber: number, tokens: string[], oldSymbols: any[], skipPropagation: boolean = false )\r\n    {\r\n        if( !this._scopeStack )\r\n        {\r\n            console.warn( \"CodeEditor: No scope available\" );\r\n            return;\r\n        }\r\n\r\n        // Update block comments if necessary\r\n        {\r\n            const commentBlockSection = this._inBlockCommentSection( lineNumber, 1e10, -1e10 );\r\n            if( tokens && commentBlockSection !== undefined )\r\n            {\r\n                this._updateBlockComments( commentBlockSection, lineNumber, tokens );\r\n\r\n                // Get again correct scope\r\n                this._scopeStack = [ ...this.code.lineScopes[ lineNumber ] ];\r\n            }\r\n        }\r\n\r\n        if( ( (lineNumber + 1) === this.code.lines.length ) || !this.code.lineScopes[ lineNumber + 1 ] )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const newSignature = this._getLineSignatureFromTokens( tokens );\r\n        const cachedSignature = this.code.lineSignatures[ lineNumber ];\r\n        const mustUpdateScopes = ( cachedSignature !== newSignature );\r\n        const sameScopes = codeScopesEqual( this._scopeStack, this.code.lineScopes[ lineNumber + 1 ] );\r\n\r\n        // Only update scope stack if something changed when editing a single line\r\n        // Compare line signature for structural changes\r\n        if( ( mustUpdateScopes || this._scopesUpdated ) && ( !sameScopes && !skipPropagation ) )\r\n        {\r\n            if( mustUpdateScopes )\r\n            {\r\n                this._scopesUpdated = true;\r\n            }\r\n\r\n            this.code.lineScopes[ lineNumber + 1 ] = [ ...this._scopeStack ];\r\n            this.processLine( lineNumber + 1 );\r\n\r\n            delete this._scopesUpdated;\r\n        }\r\n        else if( sameScopes )\r\n        {\r\n            // In case of same scope, check for occurrencies of the old symbols, to reprocess that lines\r\n            for( const sym of oldSymbols )\r\n            {\r\n                const tableSymbol = this.code.symbolsTable.get( sym.name );\r\n                if( tableSymbol === undefined )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                for( const occ of tableSymbol )\r\n                {\r\n                    if( occ.line === lineNumber )\r\n                    {\r\n                        continue;\r\n                    }\r\n\r\n                    this.processLine( occ.line, false, true );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _updateLine( force: boolean = false, lineNumber: number, html: string, skipPropagation: boolean = false, symbols: any[] = [], tokens: any[] = [] )\r\n    {\r\n        const gutterLineHtml = `<span class='line-gutter'>${ lineNumber + 1 }</span>`;\r\n        const oldSymbols = this._updateLineSymbols( lineNumber, symbols );\r\n        const lineScope = CodeEditor.debugScopes && this.code.lineScopes[ lineNumber ] ? this.code.lineScopes[ lineNumber ].map( ( s: any ) => `${ s.type }` ).join( \", \" ) : \"\";\r\n        const lineSymbols = CodeEditor.debugSymbols && this.code.lineSymbols[ lineNumber ] ? this.code.lineSymbols[ lineNumber ].map( ( s: any ) => `${ s.name }(${ s.kind })` ).join( \", \" ) : \"\";\r\n        const debugString = lineScope + ( lineScope.length ? \" - \" : \"\" ) + lineSymbols;\r\n\r\n        if( !force ) // Single line update\r\n        {\r\n            this.code.childNodes[ this.toLocalLine( lineNumber ) ].innerHTML = ( gutterLineHtml + html + debugString );\r\n\r\n            if( !skipPropagation )\r\n            {\r\n                this._processExtraLineIfNecessary( lineNumber, tokens, oldSymbols, skipPropagation );\r\n            }\r\n\r\n            if( this.mustProcessNextLine )\r\n            {\r\n                if( this.mustProcessNextLine( tokens ) && ( ( lineNumber + 1 ) < this.code.lines.length ) )\r\n                {\r\n                    this.processLine( lineNumber + 1, false, true );\r\n                }\r\n                else\r\n                {\r\n                    delete this.mustProcessNextLine;\r\n                }\r\n            }\r\n\r\n            if( this.mustProcessPreviousLine )\r\n            {\r\n                if( this.mustProcessPreviousLine( tokens ) && ( ( lineNumber - 1 ) >= 0 ) )\r\n                {\r\n                    this.processLine( lineNumber - 1, false, true );\r\n                }\r\n                else\r\n                {\r\n                    delete this.mustProcessPreviousLine;\r\n                }\r\n            }\r\n\r\n            if( CodeEditor.debugProcessedLines )\r\n            {\r\n                this.code.childNodes[ lineNumber ]?.classList.add( \"debug\" );\r\n            }\r\n\r\n            this._setActiveLine( lineNumber );\r\n            this._clearTmpVariables();\r\n        }\r\n\r\n        this.code.lineSignatures[ lineNumber ] = this._getLineSignatureFromTokens( tokens );\r\n\r\n        // Update all lines at once\r\n        return force ? `<pre>${ ( gutterLineHtml + html + debugString ) }</pre>` : undefined;\r\n    }\r\n\r\n    /**\r\n     * Parses a single line of code and extract declared symbols\r\n     */\r\n    _parseLineForSymbols( lineNumber: number, lineString: string, tokens: string[], pushedScope: boolean = false )\r\n    {\r\n        const scope = this._scopeStack.at( pushedScope ? -2 : -1 );\r\n\r\n        if( !scope || this._inBlockCommentSection( lineNumber ) )\r\n        {\r\n            return [];\r\n        }\r\n\r\n        const scopeName = scope.name;\r\n        const scopeType = scope.type;\r\n        const symbols: any[] = [];\r\n        const symbolsMap = new Map();\r\n        const text = lineString.trim();\r\n        const previousLineScope = this.code.lineScopes[ lineNumber - 1 ];\r\n\r\n        const _pushSymbol = ( s: any ) => {\r\n            const signature = `${ s.name }_${ s.kind }_${ s.scope }_${ s.line }`;\r\n            if( symbolsMap.has( signature ) )\r\n            {\r\n                return;\r\n            }\r\n            symbolsMap.set( signature, s );\r\n            symbols.push( s );\r\n        };\r\n\r\n        // Don't make symbols from preprocessor lines\r\n        if( text.startsWith( \"#\" ) )\r\n        {\r\n            return [];\r\n        }\r\n\r\n        const nativeTypes = CodeEditor.nativeTypes[ this.highlight ];\r\n\r\n        const topLevelRegexes: any = [\r\n            [/^class\\s+([A-Za-z0-9_]+)/, \"class\"],\r\n            [/^struct\\s+([A-Za-z0-9_]+)/, \"struct\"],\r\n            [/^enum\\s+([A-Za-z0-9_]+)/, \"enum\"],\r\n            [/^interface\\s+([A-Za-z0-9_]+)/, \"interface\"],\r\n            [/^type\\s+([A-Za-z0-9_]+)/, \"type\"],\r\n            [/^function\\s+([A-Za-z0-9_]+)/, \"method\"],\r\n            [/^fn\\s+([A-Za-z0-9_]+)/, \"method\"],\r\n            [/^def\\s+([A-Za-z0-9_]+)/, \"method\"],\r\n            [/^([A-Za-z0-9_]+)\\s*=\\s*\\(?.*\\)?\\s*=>/, \"method\"] // arrow functions\r\n        ];\r\n\r\n        // Add regexes to detect methods, variables ( including \"id : nativeType\" )\r\n        {\r\n            if( nativeTypes )\r\n            {\r\n                topLevelRegexes.push( [ new RegExp( `^(?:${nativeTypes.join('|')})\\\\s+([A-Za-z0-9_]+)\\s*[\\(]+` ), 'method' ] );\r\n\r\n                if( this.highlight === \"WGSL\" )\r\n                {\r\n                    topLevelRegexes.push( [ new RegExp( `[A-Za-z0-9]+(\\\\s*)+:(\\\\s*)+(${nativeTypes.join('|')})` ), 'variable', ( m: string[] ) => m[ 0 ].split( \":\" )[ 0 ].trim() ] );\r\n                }\r\n            }\r\n\r\n            const declarationKeywords = CodeEditor.declarationKeywords[ this.highlight ] ?? [ \"const\", \"let\", \"var\" ];\r\n            topLevelRegexes.push( [ new RegExp( `^(?:${ declarationKeywords.join('|') })\\\\s+([A-Za-z0-9_]+)` ), 'variable' ] );\r\n        }\r\n\r\n        for( let [ regex, kind, fn ] of topLevelRegexes )\r\n        {\r\n            const m = text.match( regex );\r\n            if( m )\r\n            {\r\n                _pushSymbol( { name: fn ? fn( m ) : m[ 1 ], kind, scope: scopeName, line: lineNumber } );\r\n            }\r\n        }\r\n\r\n        const usageRegexes: any = [\r\n            [/new\\s+([A-Za-z0-9_]+)\\s*\\(/, \"constructor-call\"],\r\n            [/this.([A-Za-z_][A-Za-z0-9_]*)\\s*\\=/, \"class-property\"],\r\n        ];\r\n\r\n        for( let [ regex, kind, fn ] of usageRegexes )\r\n        {\r\n            const m = text.match( regex );\r\n            if( m )\r\n            {\r\n                _pushSymbol( { name: fn ? fn( m ) : m[ 1 ], kind, scope: scopeName, line: lineNumber } );\r\n            }\r\n        }\r\n\r\n        // Detect method calls\r\n        const regex = /([A-Za-z0-9_]+)\\s*\\(/g;\r\n        let match;\r\n        while( match = regex.exec( text ) )\r\n        {\r\n            const name = match[ 1 ];\r\n            const before = text.slice( 0, match.index );\r\n            if( /(new|function|fn|def)\\s+$/.test( before ) ) continue; // skip constructor calls\r\n            if( [ \"constructor\", \"location\", ...( nativeTypes ?? [] ) ].indexOf( name ) > -1 ) continue; // skip hardcoded non method symbol\r\n            if( previousLineScope && previousLineScope.at( -1 )?.type === \"class\" ) continue; // skip class methods\r\n            _pushSymbol( { name, kind: \"method-call\", scope: scopeName, line: lineNumber } );\r\n        }\r\n\r\n        // Stop after matches for top-level declarations and usage symbols\r\n        if( symbols.length )\r\n        {\r\n            return symbols;\r\n        }\r\n\r\n        const nonWhiteSpaceTokens = tokens.filter( t => t.trim().length );\r\n\r\n        for( let i = 0; i < nonWhiteSpaceTokens.length; i++ )\r\n        {\r\n            const prev = nonWhiteSpaceTokens[ i - 1 ];\r\n            const token = nonWhiteSpaceTokens[ i ];\r\n            const next = nonWhiteSpaceTokens[ i + 1 ];\r\n\r\n            if( scopeType.startsWith(\"class\") )\r\n            {\r\n                if( next === \"(\" && /^[a-zA-Z_]\\w*$/.test( token ) && prev === undefined )\r\n                {\r\n                    if( token === \"constructor\" ) continue; // skip constructor symbol\r\n                    _pushSymbol( { name: token, kind: \"method\", scope: scopeName, line: lineNumber } );\r\n                }\r\n            }\r\n            else if( scopeType.startsWith(\"enum\") )\r\n            {\r\n                if( !isSymbol( token ) && !this._isNumber( token ) && !this._mustHightlightWord( token, CodeEditor.statements ) )\r\n                {\r\n                    _pushSymbol({ name: token, kind: \"enum_value\", scope: scopeName, line: lineNumber });\r\n                }\r\n            }\r\n        }\r\n\r\n        return symbols;\r\n    }\r\n\r\n    /**\r\n     * Updates the symbol table for a single line\r\n     * - Removes old symbols from that line\r\n     * - Inserts the new symbols\r\n     */\r\n    _updateLineSymbols( lineNumber: number, newSymbols: any[] )\r\n    {\r\n        this.code.lineSymbols[ lineNumber ] = this.code.lineSymbols[ lineNumber ] ?? [];\r\n        const oldSymbols = LX.deepCopy( this.code.lineSymbols[ lineNumber ] );\r\n\r\n        // Clean old symbols from current line\r\n        for( let sym of this.code.lineSymbols[ lineNumber ] )\r\n        {\r\n            let array = this.code.symbolsTable.get( sym.name );\r\n            if( !array )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            array = array.filter( ( s: any ) => s.line !== lineNumber );\r\n\r\n            if( array.length )\r\n            {\r\n                this.code.symbolsTable.set( sym.name, array );\r\n            }\r\n            else\r\n            {\r\n                this.code.symbolsTable.delete( sym.name );\r\n            }\r\n        }\r\n\r\n        // Add new symbols to table\r\n        for( let sym of newSymbols )\r\n        {\r\n            let arr = this.code.symbolsTable.get( sym.name ) ?? [];\r\n            arr.push(sym);\r\n            this.code.symbolsTable.set( sym.name, arr );\r\n        }\r\n\r\n        // Keep lineSymbols in sync\r\n        this.code.lineSymbols[ lineNumber ] = newSymbols;\r\n\r\n        return oldSymbols;\r\n    }\r\n\r\n    _lineHasComment( lineString: string )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n\r\n        if( !(lang.singleLineComments ?? true) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const singleLineCommentToken = lang.singleLineCommentToken ?? this.defaultSingleLineCommentToken;\r\n        const idx = lineString.indexOf( singleLineCommentToken );\r\n\r\n        if( idx > -1 )\r\n        {\r\n            const stringKeys = Object.values( this.stringKeys );\r\n            // Count times we started a string BEFORE the comment\r\n            var err = false;\r\n            err = err || ( stringKeys.some( function(v) {\r\n                var re = new RegExp( v, \"g\" );\r\n                var matches = (lineString.substring( 0, idx ).match( re ) || []);\r\n                return (matches.length % 2) !== 0;\r\n            } ) );\r\n            return err ? undefined : idx;\r\n        }\r\n    }\r\n\r\n    _getTokensFromLine( lineString: string, skipNonWords: boolean = false )\r\n    {\r\n        if( !lineString || !lineString.length )\r\n        {\r\n            return [];\r\n        }\r\n\r\n        // Check if line comment\r\n        const ogLine = lineString;\r\n        const hasCommentIdx = this._lineHasComment( lineString );\r\n\r\n        if( hasCommentIdx != undefined )\r\n        {\r\n            lineString = ogLine.substring( 0, hasCommentIdx );\r\n        }\r\n\r\n        let tokensToEvaluate: string[] = []; // store in a temp array so we know prev and next tokens...\r\n        let charCounterList: number[] = [];\r\n        let charCounter = 0;\r\n\r\n        const pushToken = function( t: string )\r\n        {\r\n            if( (skipNonWords && ( t.includes('\"') || t.length < 3 )) )\r\n                return;\r\n            tokensToEvaluate.push( t );\r\n            charCounterList.push( charCounter );\r\n            // Update positions\r\n            charCounter += t.length;\r\n        };\r\n\r\n        let iter = lineString.matchAll(/(<!--|-->|\\*\\/|\\/\\*|::|[\\[\\](){}<>.,;:*\"'`%@$!/= ])/g);\r\n        let subtokens = iter.next();\r\n        if( subtokens.value )\r\n        {\r\n            let idx = 0;\r\n            while( subtokens.value != undefined )\r\n            {\r\n                const _pt = lineString.substring( idx, subtokens.value.index );\r\n                if( _pt.length ) pushToken( _pt );\r\n                pushToken( subtokens.value[ 0 ] );\r\n                idx = subtokens.value.index + subtokens.value[ 0 ].length;\r\n                subtokens = iter.next();\r\n                if( !subtokens.value )\r\n                {\r\n                    const _at = lineString.substring( idx );\r\n                    if( _at.length ) pushToken( _at );\r\n                }\r\n            }\r\n        }\r\n        else pushToken( lineString );\r\n\r\n        if( hasCommentIdx != undefined )\r\n        {\r\n            pushToken( ogLine.substring( hasCommentIdx ) );\r\n        }\r\n\r\n        this._currentTokenPositions = charCounterList;\r\n\r\n        return this._processTokens( tokensToEvaluate );\r\n    }\r\n\r\n    _processTokens( tokens: string[], offset: number = 0 ): string[]\r\n    {\r\n        if( this.highlight == 'C++' || this.highlight == 'CSS' )\r\n        {\r\n            var idx = tokens.slice( offset ).findIndex( ( value, index ) => this._isNumber( value ) );\r\n            if( idx > -1 )\r\n            {\r\n                idx += offset; // Add offset to compute within the whole array of tokens\r\n                let data = tokens[ idx ] + tokens[ ++idx ];\r\n                while( this._isNumber( data ) )\r\n                {\r\n                    tokens[ idx - 1 ] += tokens[ idx ];\r\n                    tokens.splice( idx, 1 );\r\n                    data += tokens[ idx ];\r\n                }\r\n                // Scan for numbers again\r\n                return this._processTokens( tokens, idx );\r\n            }\r\n\r\n            const importantIdx = tokens.indexOf( 'important' );\r\n            if( this.highlight == 'CSS' && importantIdx > -1 && tokens[ importantIdx - 1 ] === '!' )\r\n            {\r\n                tokens[ importantIdx - 1 ] = \"!important\";\r\n                tokens.splice( importantIdx, 1 );\r\n            }\r\n        }\r\n        else if( this.highlight == 'PHP' )\r\n        {\r\n            let offset = 0;\r\n            let dollarIdx = tokens.indexOf( '$' );\r\n\r\n            while( dollarIdx > -1 )\r\n            {\r\n                const offsetIdx = dollarIdx + offset;\r\n\r\n                if( tokens[ offsetIdx + 1 ] === 'this-' )\r\n                {\r\n                    tokens[ offsetIdx ] = \"$this\";\r\n                    tokens[ offsetIdx + 1 ] = \"-\";\r\n                }\r\n                else\r\n                {\r\n                    tokens[ offsetIdx ] += ( tokens[ offsetIdx + 1 ] ?? \"\" );\r\n                    tokens.splice( offsetIdx + 1, 1 );\r\n                }\r\n\r\n                dollarIdx = tokens.slice( offsetIdx ).indexOf( '$' );\r\n                offset = offsetIdx;\r\n            }\r\n        }\r\n        else if( this.highlight == 'WGSL' )\r\n        {\r\n            let offset = 0;\r\n            let atIdx = tokens.indexOf( '@' );\r\n\r\n            while( atIdx > -1 )\r\n            {\r\n                const offsetIdx = atIdx + offset;\r\n\r\n                tokens[ offsetIdx ] += ( tokens[ offsetIdx + 1 ] ?? \"\" );\r\n                tokens.splice( offsetIdx + 1, 1 );\r\n\r\n                atIdx = tokens.slice( offsetIdx ).indexOf( '$' );\r\n                offset = offsetIdx;\r\n            }\r\n        }\r\n\r\n        return tokens;\r\n    }\r\n\r\n    _mustHightlightWord( token: string, wordCategory: any, lang?: any ): boolean\r\n    {\r\n        if( !lang )\r\n        {\r\n            lang = CodeEditor.languages[ this.highlight ];\r\n        }\r\n\r\n        let t = token;\r\n\r\n        if( lang.ignoreCase )\r\n        {\r\n            t = t.toLowerCase();\r\n        }\r\n\r\n        return wordCategory[ this.highlight ] && wordCategory[ this.highlight ].has( t );\r\n    }\r\n\r\n    _getTokenHighlighting( ctx: any, highlight: string )\r\n    {\r\n        const rules = [ ...HighlightRules.common, ...( HighlightRules[ highlight ] || [] ), ...HighlightRules.post_common ];\r\n\r\n        for( const rule of rules )\r\n        {\r\n            if( !rule.test( ctx, this ) )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            const r = rule.action ? rule.action( ctx, this ) : undefined;\r\n            if( rule.discard ) ctx.discardToken = r;\r\n            return rule.className;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    _evaluateToken( ctxData: any )\r\n    {\r\n        let { token, prev, next, tokenIndex, isFirstToken, isLastToken } = ctxData;\r\n\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        const highlight = this.highlight.replace( /\\s/g, '' ).replaceAll( \"+\", \"p\" ).toLowerCase();\r\n        const customStringKeys = Object.assign( {}, this.stringKeys );\r\n        const lineNumber = this._currentLineNumber;\r\n        const tokenStartIndex = this._currentTokenPositions[ tokenIndex ];\r\n        const inBlockComment = ( this._buildingBlockComment ?? this._inBlockCommentSection( lineNumber!, tokenStartIndex, token.length ) ) !== undefined;\r\n\r\n        var usePreviousTokenToCheckString = false;\r\n\r\n        if( [ 'cpp', 'c' ].indexOf( highlight ) > -1 && prev && prev.includes( '#' ) ) // preprocessor code..\r\n        {\r\n            customStringKeys['@<'] = '>';\r\n        }\r\n        else if( highlight == 'markdown' && ( ctxData.prevWithSpaces == '[' || ctxData.nextWithSpaces == ']' ) )\r\n        {\r\n            // console.warn(prev, token, next)\r\n            usePreviousTokenToCheckString = true;\r\n            customStringKeys['@['] = ']';\r\n        }\r\n        else if( highlight == 'javascript' || highlight == 'typescript' )\r\n        {\r\n            customStringKeys[\"@`\"] = \"`\";\r\n        }\r\n\r\n        // Manage strings\r\n        this._stringEnded = false;\r\n\r\n        if( usePreviousTokenToCheckString || ( !inBlockComment && ( lang.tags ?? false ? ( this._enclosedByTokens( token, tokenIndex, '<', '>' ) ) : true ) ) )\r\n        {\r\n            const _checkIfStringEnded = ( t: string ) =>\r\n            {\r\n                if( this._stringInterpolation )\r\n                {\r\n                    if( token == \"$\" && next == \"{\" )\r\n                    {\r\n                        delete this._stringInterpolation;\r\n                        this._stringInterpolationOpened = true;\r\n                        this._stringEnded = true;\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                const idx = Object.values( customStringKeys ).indexOf( t );\r\n                this._stringEnded = (idx > -1) && (idx == Object.values(customStringKeys).indexOf( customStringKeys[ '@' + this._buildingString ] ));\r\n            };\r\n\r\n            if( this._buildingString != undefined )\r\n            {\r\n                _checkIfStringEnded( usePreviousTokenToCheckString ? ctxData.nextWithSpaces : token );\r\n            }\r\n            else if( customStringKeys[ '@' + ( usePreviousTokenToCheckString ? ctxData.prevWithSpaces : token ) ] )\r\n            {\r\n                // Start new string\r\n                this._buildingString = ( usePreviousTokenToCheckString ? ctxData.prevWithSpaces : token );\r\n\r\n                if( ( highlight == 'javascript' || highlight == 'typescript' ) && token == \"`\" )\r\n                {\r\n                    this._stringInterpolation = true;\r\n                }\r\n\r\n                // Check if string ended in same token using next...\r\n                if( usePreviousTokenToCheckString )\r\n                {\r\n                    _checkIfStringEnded( ctxData.nextWithSpaces );\r\n                }\r\n            }\r\n            else if( this._stringInterpolationOpened && prev == \"}\" )\r\n            {\r\n                delete this._stringInterpolationOpened;\r\n                this._stringInterpolation = true;\r\n                this._buildingString = \"`\";\r\n            }\r\n        }\r\n\r\n        // Update context data for next tests\r\n        ctxData.discardToken = false;\r\n        ctxData.inBlockComment = inBlockComment;\r\n        ctxData.markdownHeader = this._markdownHeader;\r\n        ctxData.inString = ( this._buildingString !== undefined );\r\n        ctxData.singleLineCommentToken = lang.singleLineCommentToken ?? this.defaultSingleLineCommentToken;\r\n        ctxData.lang = lang;\r\n        ctxData.scope = this._scopeStack.at( -1 );\r\n\r\n        // Add utils functions for the rules\r\n        ctxData.isVariableSymbol = ( token: string ) => this.code.symbolsTable.has( token ) && this.code.symbolsTable.get( token )[ 0 ].kind === \"variable\";\r\n        ctxData.isEnumValueSymbol = ( token: string ) => this.code.symbolsTable.has( token ) && this.code.symbolsTable.get( token )[ 0 ].kind === \"enum_value\";\r\n        ctxData.isClassSymbol = ( token: string ) => this.code.symbolsTable.has( token ) && this.code.symbolsTable.get( token )[ 0 ].kind === \"class\";\r\n        ctxData.isStructSymbol = ( token: string ) => this.code.symbolsTable.has( token ) && this.code.symbolsTable.get( token )[ 0 ].kind === \"struct\";\r\n        ctxData.isEnumSymbol = ( token: string ) => this.code.symbolsTable.has( token ) && this.code.symbolsTable.get( token )[ 0 ].kind === \"enum\";\r\n\r\n        // Get highlighting class based on language common and specific rules\r\n        let tokenClass = this._getTokenHighlighting( ctxData, highlight );\r\n\r\n        if( this._stringInterpolationOpened && this._pendingString )\r\n        {\r\n            this._pendingString = this._pendingString.substring( 0, this._pendingString.indexOf( \"$\" ) );\r\n\r\n            if( ctxData.tokens[ tokenIndex + 1 ] == \"{\" )\r\n            {\r\n                ctxData.tokens[ tokenIndex + 1 ] = \"${\";\r\n            }\r\n        }\r\n\r\n        // We finished constructing a string\r\n        if( this._buildingString && ( this._stringEnded || isLastToken ) && !inBlockComment )\r\n        {\r\n            token = this._getCurrentString();\r\n            tokenClass = \"cm-str\";\r\n            ctxData.discardToken = false;\r\n        }\r\n\r\n        // Update state\r\n        this._buildingString = this._stringEnded ? undefined : this._buildingString;\r\n\r\n        if( ctxData.discardToken )\r\n        {\r\n            return \"\";\r\n        }\r\n\r\n        // Replace html chars\r\n        token = token.replace( \"<\", \"&lt;\" ).replace( \">\", \"&gt;\" );\r\n\r\n        // No highlighting, no need to put it inside another span..\r\n        if( !tokenClass )\r\n        {\r\n            return token;\r\n        }\r\n\r\n        return `<span class=\"${ highlight } ${ tokenClass }\">${ token }</span>`;\r\n    }\r\n\r\n    _appendStringToken( token: string ): boolean\r\n    {\r\n        if( !this._pendingString )\r\n        {\r\n            this._pendingString = \"\";\r\n        }\r\n\r\n        this._pendingString += token;\r\n\r\n        return true;\r\n    }\r\n\r\n    _getCurrentString()\r\n    {\r\n        const chars = this._pendingString;\r\n        delete this._pendingString;\r\n        return chars;\r\n    }\r\n\r\n    _enclosedByTokens( token: string, tokenIndex: number, tagStart: string, tagEnd: string ): number[] | undefined\r\n    {\r\n        const tokenStartIndex = this._currentTokenPositions[ tokenIndex ];\r\n        const tagStartIndex = indexOfFrom( this._currentLineString!, tagStart, tokenStartIndex, true );\r\n        if( tagStartIndex < 0 ) // Not found..\r\n            return;\r\n        const tagStartIndexOpposite = indexOfFrom( this._currentLineString!, tagEnd, tokenStartIndex, true );\r\n        if( tagStartIndexOpposite >= 0  && tagStartIndexOpposite > tagStartIndex ) // Found the opposite first while reversing..\r\n            return;\r\n        const tagEndIndex = indexOfFrom( this._currentLineString!, tagEnd, tokenStartIndex );\r\n        if( tagEndIndex < 0 ) // Not found..\r\n            return;\r\n\r\n        if( ( tagStartIndex < tokenStartIndex ) && ( tagEndIndex >= ( tokenStartIndex + token.length ) ) && !this._mustHightlightWord( token, CodeEditor.symbols ) )\r\n        {\r\n            return [ tagStartIndex, tagEndIndex ];\r\n        }\r\n    }\r\n\r\n    _inBlockCommentSection( lineNumber: number, tokenPosition: number = -1, tokenLength: number = -1 )\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        const blockCommentsTokens = lang.blockCommentsTokens ?? this.defaultBlockCommentTokens;\r\n\r\n        for( let section of this._blockCommentCache )\r\n        {\r\n            const lineRange = section[ 0 ];\r\n            const posRange = section[ 1 ];\r\n\r\n            // Outside the lines range\r\n            const meetsLineRange = ( lineNumber >= lineRange.x && lineNumber <= lineRange.y );\r\n            if( !meetsLineRange )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            if( ( lineNumber != lineRange.x && lineNumber != lineRange.y ) || // Inside the block, not first nor last line\r\n                ( lineNumber == lineRange.x && tokenPosition >= posRange.x &&\r\n                    (( lineNumber == lineRange.y && ( tokenPosition + tokenLength ) <= ( posRange.y + blockCommentsTokens[ 1 ].length ) ) || lineNumber !== lineRange.y) ) ||\r\n                ( lineNumber == lineRange.y && ( ( tokenPosition + tokenLength ) <= ( posRange.y + blockCommentsTokens[ 1 ].length ) ) ) &&\r\n                    (( lineNumber == lineRange.x && tokenPosition >= posRange.x ) || lineNumber !== lineRange.x) )\r\n            {\r\n                return section;\r\n            }\r\n        }\r\n    }\r\n\r\n    _isKeyword( ctxData: any ): boolean\r\n    {\r\n        const { token, tokenIndex, tokens, lang } = ctxData;\r\n\r\n        let isKwd = this._mustHightlightWord( token, CodeEditor.keywords ) || this.highlight == 'XML';\r\n\r\n        if( this.highlight == 'CMake' )\r\n        {\r\n            // Highlight $ symbol\r\n            if( token == '$' && this._enclosedByTokens( tokens[ tokenIndex + 2 ], tokenIndex + 2, '{', '}' ) )\r\n            {\r\n                isKwd = true;\r\n            }\r\n            // Highlight what is between the { }\r\n            else if( this._enclosedByTokens( token, tokenIndex, '{', '}' ) )\r\n            {\r\n                isKwd = isKwd || ( ctxData.tokens[ tokenIndex - 2 ] == '$' );\r\n            }\r\n        }\r\n        if( this.highlight == 'Markdown' )\r\n        {\r\n            isKwd = ( this._markdownHeader !== undefined );\r\n        }\r\n        else if( lang.tags )\r\n        {\r\n            isKwd = isKwd && ( this._enclosedByTokens( token, tokenIndex, '<', '>' ) != undefined );\r\n        }\r\n\r\n\r\n        return isKwd;\r\n    }\r\n\r\n    _isNumber( token: string ): boolean\r\n    {\r\n        const lang = CodeEditor.languages[ this.highlight ];\r\n        if( !( lang.numbers ?? true ) )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        const subToken = token.substring( 0, token.length - 1 );\r\n\r\n        if( this.highlight == 'C++' )\r\n        {\r\n            if( LX.lastChar( token ) == 'f' )\r\n            {\r\n                return this._isNumber( subToken )\r\n            }\r\n            else if( LX.lastChar( token ) == 'u' )\r\n            {\r\n                return !(token.includes('.')) && this._isNumber( subToken );\r\n            }\r\n        }\r\n        else if( this.highlight == 'WGSL' )\r\n        {\r\n            if( LX.lastChar( token ) == 'u' )\r\n            {\r\n                return !(token.includes('.')) && this._isNumber( subToken );\r\n            }\r\n        }\r\n        else if( this.highlight == 'CSS' )\r\n        {\r\n            if( LX.lastChar( token ) == '%' )\r\n            {\r\n                return this._isNumber( subToken )\r\n            }\r\n        }\r\n\r\n        return ( token.length > 0 ) && token != ' ' && !Number.isNaN( +token );\r\n    }\r\n\r\n    _encloseSelectedWordWithKey( key: string, lidx: number, cursor: Cursor ): boolean\r\n    {\r\n        if( !cursor.selection || ( cursor.selection.fromY != cursor.selection.toY ) )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        cursor.selection.invertIfNecessary();\r\n\r\n        // Insert first..\r\n        this.code.lines[ lidx ] = [\r\n            this.code.lines[ lidx ].slice( 0, cursor.selection.fromX ),\r\n            key,\r\n            this.code.lines[ lidx ].slice( cursor.selection.fromX )\r\n        ].join('');\r\n\r\n        // Go to the end of the word\r\n        this.cursorToPosition( cursor, cursor.selection.toX + 1 );\r\n\r\n        // Change next key?\r\n        switch( key )\r\n        {\r\n            case \"'\":\r\n            case \"\\\"\":\r\n                break;\r\n            case \"(\": key = \")\"; break;\r\n            case \"{\": key = \"}\"; break;\r\n        }\r\n\r\n        // Insert the other\r\n        this.code.lines[ lidx ] = [\r\n            this.code.lines[ lidx ].slice(0, cursor.position),\r\n            key,\r\n            this.code.lines[ lidx ].slice(cursor.position)\r\n        ].join('');\r\n\r\n        // Recompute and reposition current selection\r\n\r\n        cursor.selection.fromX++;\r\n        cursor.selection.toX++;\r\n\r\n        this._processSelection( cursor );\r\n        this.processLine( lidx );\r\n\r\n        // Stop propagation\r\n        return true;\r\n    }\r\n\r\n    _detectLanguage( text: string ): string | undefined\r\n    {\r\n        const tokenSet = new Set( this._getTokensFromLine( text, true ) );\r\n        const scores: any = {};\r\n\r\n        // Check strong indicators first\r\n        const strongIndicators = {\r\n            \"JavaScript\": [\"import \", \"export default\", \"console.\", \"=>\", \"document.\", \"window.\"],\r\n            \"TypeScript\": [\"import \", \"export default\", \"console.\", \"=>\", \"document.\", \"window.\"],\r\n            \"C++\": [\"#include\", \"::\", \"std::\", \"template <\", \"using namespace\"],\r\n            \"Python\": [\"def \", \"import \", \"print(\", \"self\", \"None\", \"True\", \"False\"],\r\n            \"HTML\": [\"<html\", \"<div\", \"<body\", \"<script\", \"<style\"],\r\n            \"CSS\": [\"@media\"],\r\n            \"Markdown\": [\"#\", \"##\", \"###\", \"](\", \"![\", \"**\"],\r\n        };\r\n\r\n        for( const [ lang, indicators ] of Object.entries( strongIndicators ) )\r\n        {\r\n            scores[ lang ] = scores[ lang ] ?? 0;\r\n            for( const key of indicators )\r\n            {\r\n                if( text.includes( key ) ) scores[ lang ] += 20;\r\n            }\r\n        }\r\n\r\n        // Check groups' words now with less importance score\r\n        const groups = [\r\n            CodeEditor.keywords,\r\n            CodeEditor.statements,\r\n            CodeEditor.utils,\r\n            CodeEditor.types,\r\n            CodeEditor.builtIn,\r\n        ];\r\n\r\n        for( const group of groups )\r\n        {\r\n            for( let [ lang, wordList ] of Object.entries( group ) )\r\n            {\r\n                scores[ lang ] = scores[ lang ] ?? 0;\r\n                for( let kw of ( wordList as any ) )\r\n                    if( tokenSet.has( kw ) ) scores[ lang ]++;\r\n            }\r\n        }\r\n\r\n        const sorted = ( Object.entries( scores ) as any ).sort( ( a: any[], b: any[] ) => b[ 1 ] - a[ 1 ] );\r\n        return sorted[0][1] > 0 ? sorted[0][0] : undefined;\r\n    }\r\n\r\n    lineUp( cursor: Cursor, resetLeft: boolean = false )\r\n    {\r\n        if( this.code.lines[ cursor.line - 1 ] == undefined )\r\n            return false;\r\n\r\n        cursor.line--;\r\n        cursor.line = Math.max( 0, cursor.line );\r\n        this.cursorToTop( cursor, resetLeft );\r\n\r\n        return true;\r\n    }\r\n\r\n    lineDown( cursor: Cursor, resetLeft: boolean = false )\r\n    {\r\n        if( this.code.lines[ cursor.line + 1 ] == undefined )\r\n            return false;\r\n\r\n        cursor.line++;\r\n\r\n        this.cursorToBottom( cursor, resetLeft );\r\n\r\n        return true;\r\n    }\r\n\r\n    swapLines( lidx: number, offset: number, cursor: Cursor )\r\n    {\r\n        if( this.code.lines[ lidx + offset ] == undefined )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._addUndoStep( cursor, true );\r\n\r\n        swapArrayElements( this.code.lines, lidx + offset, lidx );\r\n\r\n        // Process both lines\r\n        this.processLine( lidx + offset );\r\n        this.processLine( lidx );\r\n\r\n        if( offset > 0 )\r\n        {\r\n            this.lineDown( cursor );\r\n        }\r\n        else\r\n        {\r\n            this.lineUp( cursor );\r\n        }\r\n\r\n        this.hideAutoCompleteBox();\r\n    }\r\n\r\n    restartBlink()\r\n    {\r\n        if( !this.code ) return;\r\n\r\n        clearInterval( this.blinker );\r\n        LX.addClass( this.cursorsDOM, 'show' );\r\n\r\n        if( this.cursorBlinkRate > 0 )\r\n            this.blinker = setInterval(() => {\r\n                LX.toggleClass( this.cursorsDOM, 'show' );\r\n            }, this.cursorBlinkRate);\r\n        else if( this.cursorBlinkRate < 0 )\r\n            LX.removeClass( this.cursorsDOM, 'show' );\r\n    }\r\n\r\n    startSelection( cursor: Cursor )\r\n    {\r\n        // Show elements\r\n        let selectionContainer = document.createElement( 'div' );\r\n        selectionContainer.className = 'selections';\r\n        selectionContainer.classList.add( 'show' );\r\n\r\n        LX.insertChildAtIndex( this.codeSizer, selectionContainer, 2 );\r\n        this.selections[ cursor.name ] = selectionContainer;\r\n\r\n        // Create new selection instance\r\n        cursor.selection = new CodeSelection( this, cursor );\r\n    }\r\n\r\n    deleteSelection( cursor: Cursor )\r\n    {\r\n        // I think it's not necessary but...\r\n        if( this.disableEdition )\r\n        {\r\n            return;\r\n        }\r\n\r\n        // Some selections don't depend on mouse up..\r\n        if( cursor.selection ) cursor.selection.invertIfNecessary();\r\n\r\n        const selection = cursor.selection!;\r\n        const separator = \"_NEWLINE_\";\r\n        let code = this.code.lines.join( separator );\r\n\r\n        // Get linear start index\r\n        let index = 0;\r\n        for( let i = 0; i <= selection.fromY; i++ )\r\n            index += (i == selection.fromY ? selection.fromX : this.code.lines[ i ].length);\r\n\r\n        index += selection.fromY * separator.length;\r\n\r\n        const num_chars = selection.chars + (selection.toY - selection.fromY) * separator.length;\r\n        const pre = code.slice( 0, index );\r\n        const post = code.slice( index + num_chars );\r\n\r\n        this.code.lines = ( pre + post ).split( separator );\r\n\r\n        this.cursorToLine( cursor, selection.fromY, true );\r\n        this.cursorToPosition( cursor, selection.fromX );\r\n        this.endSelection( cursor );\r\n        this.processLines();\r\n    }\r\n\r\n    endSelection( cursor?: Cursor )\r\n    {\r\n        delete this._tripleClickSelection;\r\n        delete this._lastSelectionKeyDir;\r\n        delete this._currentOcurrences;\r\n        delete this._lastResult;\r\n\r\n        if( cursor )\r\n        {\r\n            LX.deleteElement( this.selections[ cursor.name ] );\r\n            delete this.selections[ cursor.name ];\r\n            cursor.selection = null;\r\n            cursor.line = cursor.line; // Update current line\r\n        }\r\n        else\r\n        {\r\n            for( let cursor of this.cursors )\r\n            {\r\n                cursor.line = cursor.line; // Update current line\r\n                LX.deleteElement( this.selections[ cursor.name ] );\r\n                delete this.selections[ cursor.name ];\r\n                cursor.selection = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    selectAll()\r\n    {\r\n        this.endSelection();\r\n\r\n        // Use main cursor\r\n        this._removeSecondaryCursors();\r\n\r\n        var cursor = this.getCurrentCursor();\r\n        this.resetCursorPos( CodeEditor.CURSOR_LEFT_TOP, cursor, true );\r\n\r\n        this.startSelection( cursor );\r\n\r\n        const selection = cursor.selection!;\r\n        const nlines = this.code.lines.length - 1;\r\n        selection.toX = this.code.lines[ nlines ].length;\r\n        selection.toY = nlines;\r\n\r\n        this.cursorToPosition( cursor, selection.toX );\r\n        this.cursorToLine( cursor, selection.toY );\r\n\r\n        this._processSelection( cursor, null, true );\r\n\r\n        this.hideAutoCompleteBox();\r\n    }\r\n\r\n    cursorToRight( text: string, cursor: Cursor )\r\n    {\r\n        if( !text || !text.length ) return;\r\n\r\n        const chars = text.length;\r\n        const offset = chars * this.charWidth;\r\n\r\n        cursor.left += offset;\r\n        cursor.root.style.left = `calc( ${ cursor.left }px + ${ this.xPadding } )`;\r\n        cursor.position += chars;\r\n\r\n        this.restartBlink();\r\n\r\n        this.updateScrollLeft( cursor );\r\n    }\r\n\r\n    cursorToLeft( text: string, cursor: Cursor )\r\n    {\r\n        if( !text || !text.length ) return;\r\n\r\n        const chars = text.length;\r\n        const offset = chars * this.charWidth;\r\n\r\n        cursor.left -= offset;\r\n        cursor.left = Math.max( cursor.left, 0 );\r\n        cursor.root.style.left = `calc( ${ cursor.left }px + ${ this.xPadding } )`;\r\n        cursor.position -= chars;\r\n        cursor.position = Math.max( cursor.position, 0 );\r\n\r\n        this.restartBlink();\r\n\r\n        // Check if we need to add scroll; if not then we might have to reduce it\r\n        if( !this.updateScrollLeft( cursor ) )\r\n        {\r\n            const leftMargin = this.charWidth;\r\n            const cursorX = ( cursor.position * this.charWidth );\r\n            const currentScrollLeft = this.getScrollLeft();\r\n            if( cursorX < ( currentScrollLeft + leftMargin ) )\r\n            {\r\n                const scroll = Math.max( cursorX - leftMargin, 0 );\r\n                this.setScrollLeft( scroll );\r\n            }\r\n        }\r\n    }\r\n\r\n    cursorToTop( cursor: Cursor, resetLeft = false )\r\n    {\r\n        cursor.top -= this.lineHeight;\r\n        cursor.top = Math.max( cursor.top, 0 );\r\n        cursor.root.style.top = `calc(${ cursor.top }px)`;\r\n        this.restartBlink();\r\n\r\n        if( resetLeft )\r\n        {\r\n            this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor, true );\r\n        }\r\n\r\n        const currentScrollTop = this.getScrollTop();\r\n        var firstLine = ( currentScrollTop / this.lineHeight )|0;\r\n        if( (cursor.line - 1) < firstLine )\r\n        {\r\n            this.setScrollTop( currentScrollTop - this.lineHeight );\r\n        }\r\n    }\r\n\r\n    cursorToBottom( cursor: Cursor, resetLeft = false )\r\n    {\r\n        cursor.top += this.lineHeight;\r\n        cursor.root.style.top = `calc(${ cursor.top }px)`;\r\n\r\n        this.restartBlink();\r\n\r\n        if( resetLeft )\r\n        {\r\n            this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor, true );\r\n        }\r\n\r\n        const currentScrollTop = this.getScrollTop();\r\n        const scrollerHeight = this.codeScroller.offsetHeight - this._fullVerticalOffset;\r\n        const lastLine = ( ( scrollerHeight + currentScrollTop ) / this.lineHeight )|0;\r\n        if( cursor.line >= lastLine )\r\n        {\r\n            this.setScrollTop( currentScrollTop + this.lineHeight );\r\n        }\r\n    }\r\n\r\n    cursorToString( cursor: Cursor, text: string, reverse: boolean = false )\r\n    {\r\n        if( !text.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( reverse )\r\n        {\r\n            this.cursorToLeft( text, cursor )\r\n        }\r\n        else\r\n        {\r\n            this.cursorToRight( text, cursor );\r\n        }\r\n    }\r\n\r\n    cursorToPosition( cursor: Cursor, position: number, updateScroll = false )\r\n    {\r\n        cursor.position = position;\r\n        cursor.left = position * this.charWidth;\r\n        cursor.root.style.left = `calc( ${ cursor.left }px + ${ this.xPadding } )`;\r\n\r\n        if( updateScroll )\r\n        {\r\n            this.updateScrollLeft( cursor );\r\n        }\r\n    }\r\n\r\n    cursorToLine( cursor: Cursor, line: number, resetLeft: boolean = false )\r\n    {\r\n        cursor.line = line;\r\n        cursor.top = this.lineHeight * line;\r\n        cursor.root.style.top = cursor.top + \"px\";\r\n        if( resetLeft ) this.resetCursorPos( CodeEditor.CURSOR_LEFT, cursor );\r\n    }\r\n\r\n    saveCursor( cursor: Cursor, state: any = {} )\r\n    {\r\n        state.position = cursor.position;\r\n        state.line = cursor.line;\r\n        state.selection = cursor.selection ? cursor.selection.save() : undefined;\r\n        return state;\r\n    }\r\n\r\n    saveCursors()\r\n    {\r\n        var cursors = [];\r\n\r\n        for( let cursor of this.cursors )\r\n        {\r\n            cursors.push( this.saveCursor( cursor ) );\r\n        }\r\n\r\n        return cursors;\r\n    }\r\n\r\n    getCurrentCursor( removeOthers: boolean = false ): Cursor\r\n    {\r\n        if( removeOthers )\r\n        {\r\n            this._removeSecondaryCursors();\r\n        }\r\n\r\n        return this.cursors[ 0 ];\r\n    }\r\n\r\n    relocateCursors()\r\n    {\r\n        for( let cursor of this.cursors )\r\n        {\r\n            cursor.set( cursor.position, cursor.line, false );\r\n        }\r\n    }\r\n\r\n    mergeCursors( line: number )\r\n    {\r\n        console.assert( line >= 0 );\r\n        const cursorsInLine = this.cursors.filter( ( v: any ) => v.line == line );\r\n\r\n        while( cursorsInLine.length > 1 )\r\n        {\r\n            this.removeCursor( cursorsInLine.pop() );\r\n        }\r\n    }\r\n\r\n    restoreCursor( cursor: Cursor, state: any )\r\n    {\r\n        cursor.set( state.position, state.line );\r\n\r\n        if( state.selection )\r\n        {\r\n            this.endSelection();\r\n\r\n            this.startSelection( cursor );\r\n\r\n            cursor.selection?.load( state.selection );\r\n\r\n            this._processSelection( cursor, null, true );\r\n        }\r\n    }\r\n\r\n    removeCursor( cursor: Cursor | undefined )\r\n    {\r\n        if( !cursor )\r\n        {\r\n            return;\r\n        }\r\n\r\n        LX.deleteElement( this.selections[ cursor.name ] );\r\n        delete this.selections[ cursor.name ];\r\n        LX.deleteElement( cursor );\r\n    }\r\n\r\n    resetCursorPos( flag: number, cursor?: Cursor, resetScroll = false )\r\n    {\r\n        cursor = cursor ?? this.getCurrentCursor();\r\n\r\n        if( flag & CodeEditor.CURSOR_LEFT )\r\n        {\r\n            cursor.left = 0;\r\n            cursor.root.style.left = \"calc(\" + this.xPadding + \")\";\r\n            cursor.position = 0;\r\n\r\n            if( resetScroll )\r\n            {\r\n                this.setScrollLeft( 0 );\r\n            }\r\n        }\r\n\r\n        if( flag & CodeEditor.CURSOR_TOP )\r\n        {\r\n            cursor.top = 0;\r\n            cursor.root.style.top = \"0px\";\r\n            cursor.line = 0;\r\n\r\n            if( resetScroll )\r\n            {\r\n                this.setScrollTop( 0 );\r\n            }\r\n        }\r\n    }\r\n\r\n    _addCursor( line: number = 0, position: number = 0, force: boolean = false, isMain: boolean = false )\r\n    {\r\n        // If cursor in that position exists, remove it instead..\r\n        const exists: any = this.cursors.find( ( v: any ) => v.position == position && v.line == line );\r\n        if( exists && !force )\r\n        {\r\n            if( !exists.isMain )\r\n                exists.remove();\r\n\r\n            return null;\r\n        }\r\n\r\n        let cursor: Cursor = new Cursor(\r\n            \"cursor\" + this.cursors.length,\r\n            position,\r\n            line,\r\n            isMain,\r\n            this\r\n        );\r\n\r\n        this.cursors.push( cursor );\r\n        this.cursorsDOM.appendChild( cursor.root );\r\n\r\n        return cursor;\r\n    }\r\n\r\n    _removeSecondaryCursors()\r\n    {\r\n        while( this.cursors.length > 1 )\r\n        {\r\n            const r = this.cursors.pop();\r\n            r?.root.remove();\r\n        }\r\n    }\r\n\r\n    _getLastCursor()\r\n    {\r\n        return this.cursors.at( -1 );\r\n    }\r\n\r\n    _isLastCursor( cursor: Cursor )\r\n    {\r\n        return cursor === this._getLastCursor();\r\n    }\r\n\r\n    _logCursors()\r\n    {\r\n        for( let cursor of this.cursors )\r\n        {\r\n            cursor.print();\r\n        }\r\n    }\r\n\r\n    _addSpaceTabs( cursor: Cursor, n: number )\r\n    {\r\n        for( var i = 0; i < n; ++i )\r\n        {\r\n            this.actions[ 'Tab' ].callback( cursor.line, cursor, null );\r\n        }\r\n    }\r\n\r\n    _addSpaces( cursor: Cursor, n: number )\r\n    {\r\n        if( cursor.selection && !cursor.selection.sameLine() )\r\n        {\r\n            cursor.selection.invertIfNecessary();\r\n\r\n            for( let lidx = cursor.selection.fromY; lidx <= cursor.selection.toY; ++lidx )\r\n            {\r\n                const lineString: string = this.code.lines[ lidx ];\r\n                if( !lineString.length )\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                // Remove indentation\r\n                let lineStart = firstNonspaceIndex( lineString );\r\n\r\n                // Only tabs/spaces in the line...\r\n                if( lineStart == -1 )\r\n                {\r\n                    lineStart = lineString.length;\r\n                }\r\n\r\n                let indentSpaces = lineStart % this.tabSpaces;\r\n                indentSpaces = indentSpaces == 0 ? this.tabSpaces : this.tabSpaces - indentSpaces;\r\n\r\n                const spacesString = \" \".repeat( indentSpaces );\r\n\r\n                this.code.lines[ lidx ] = [\r\n                    lineString.slice( 0, lineStart ),\r\n                    spacesString,\r\n                    lineString.slice( lineStart )\r\n                ].join('');\r\n\r\n                this.processLine( lidx );\r\n\r\n                if( cursor.line === lidx )\r\n                {\r\n                    this.cursorToString( cursor, spacesString );\r\n                }\r\n\r\n                if( cursor.selection.fromY === lidx )\r\n                {\r\n                    cursor.selection.fromX = Math.max( cursor.selection.fromX + indentSpaces, 0 );\r\n                }\r\n                if( cursor.selection.toY === lidx )\r\n                {\r\n                    cursor.selection.toX = Math.max( cursor.selection.toX + indentSpaces, 0 );\r\n                }\r\n\r\n                this._processSelection( cursor, undefined, true );\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        for( var i = 0; i < n; ++i )\r\n        {\r\n            this.root.dispatchEvent( new CustomEvent( 'keydown', { 'detail': {\r\n                skipUndo: true,\r\n                key: ' ',\r\n                targetCursor: this._lastProcessedCursorIndex\r\n            }}));\r\n        }\r\n    }\r\n\r\n    _removeSpaces( cursor: Cursor )\r\n    {\r\n        if( cursor.selection )\r\n        {\r\n            cursor.selection.invertIfNecessary();\r\n        }\r\n\r\n        const lCount = cursor.selection ? 1 + ( cursor.selection.toY - cursor.selection.fromY  ) : 1;\r\n\r\n        for( let i = 0; i < lCount; ++i )\r\n        {\r\n            const lidx = ( cursor.selection ? cursor.selection.fromY : cursor.line ) + i;\r\n            const lineString: string = this.code.lines[ lidx ];\r\n\r\n            // Remove indentation\r\n            let lineStart = firstNonspaceIndex( lineString );\r\n\r\n            // Nothing to remove... we are at the start of the line\r\n            if( lineStart == 0 )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            // Only tabs/spaces in the line...\r\n            if( lineStart == -1 )\r\n            {\r\n                lineStart = lineString.length;\r\n            }\r\n\r\n            let indentSpaces = lineStart % this.tabSpaces;\r\n            indentSpaces = indentSpaces == 0 ? this.tabSpaces : indentSpaces;\r\n            const newStart = Math.max( lineStart - indentSpaces, 0 );\r\n\r\n            this.code.lines[ lidx ] = [\r\n                lineString.slice( 0, newStart ),\r\n                lineString.slice( lineStart )\r\n            ].join('');\r\n\r\n            this.processLine( lidx );\r\n\r\n            if( cursor.line === lidx )\r\n            {\r\n                this.cursorToString( cursor, \" \".repeat( indentSpaces ), true );\r\n            }\r\n\r\n            if( cursor.selection )\r\n            {\r\n                if( cursor.selection.fromY === lidx )\r\n                {\r\n                    cursor.selection.fromX = Math.max( cursor.selection.fromX - indentSpaces, 0 );\r\n                }\r\n                if( cursor.selection.toY === lidx )\r\n                {\r\n                    cursor.selection.toX = Math.max( cursor.selection.toX - indentSpaces, 0 );\r\n                }\r\n\r\n                this._processSelection( cursor, undefined, true );\r\n            }\r\n        }\r\n    }\r\n\r\n    updateScrollLeft( cursor: Cursor )\r\n    {\r\n        cursor = cursor ?? this.getCurrentCursor();\r\n\r\n        const rightMargin = this.charWidth;\r\n        const cursorX = ( cursor.position * this.charWidth );\r\n        const currentScrollLeft = this.getScrollLeft();\r\n        const viewportSizeX = this.codeScroller.clientWidth - CodeEditor.LINE_GUTTER_WIDTH; // Gutter offset\r\n        const viewportX = viewportSizeX + currentScrollLeft;\r\n\r\n        if( cursorX >= ( viewportX - rightMargin ) )\r\n        {\r\n            const scroll = Math.max( cursorX - ( viewportSizeX - rightMargin ), 0 );\r\n            this.setScrollLeft( scroll );\r\n            return true;\r\n        }\r\n    }\r\n\r\n    getScrollLeft()\r\n    {\r\n        if( !this.codeScroller ) return 0;\r\n        return this.codeScroller.scrollLeft;\r\n    }\r\n\r\n    getScrollTop()\r\n    {\r\n        if( !this.codeScroller ) return 0;\r\n        return this.codeScroller.scrollTop;\r\n    }\r\n\r\n    setScrollLeft( value: number )\r\n    {\r\n        if( !this.codeScroller ) return;\r\n        LX.doAsync( () => {\r\n            this.codeScroller.scrollLeft = value;\r\n            this.setScrollBarValue( 'horizontal', 0 );\r\n        }, 10 );\r\n    }\r\n\r\n    setScrollTop( value: number )\r\n    {\r\n        if( !this.codeScroller ) return;\r\n        LX.doAsync( () => {\r\n            this.codeScroller.scrollTop = value;\r\n            this.setScrollBarValue( 'vertical' );\r\n        }, 10 );\r\n    }\r\n\r\n    resize( flag: number = CodeEditor.RESIZE_SCROLLBAR_H_V, pMaxLength?: number, onResize?: any )\r\n    {\r\n        setTimeout( () => {\r\n\r\n            let scrollWidth, scrollHeight;\r\n\r\n            if( flag & CodeEditor.RESIZE_SCROLLBAR_H )\r\n            {\r\n                // Update max viewport\r\n                const maxLineLength = pMaxLength ?? this.getMaxLineLength();\r\n                this._lastMaxLineLength = maxLineLength;\r\n                scrollWidth = maxLineLength * this.charWidth + CodeEditor.LINE_GUTTER_WIDTH;\r\n                this.codeSizer.style.minWidth = scrollWidth + \"px\";\r\n            }\r\n\r\n            if( flag & CodeEditor.RESIZE_SCROLLBAR_V )\r\n            {\r\n                scrollHeight = this.code.lines.length * this.lineHeight;\r\n                this.codeSizer.style.minHeight = scrollHeight + \"px\";\r\n            }\r\n\r\n            this.resizeScrollBars( flag );\r\n\r\n            if( onResize )\r\n            {\r\n                onResize( scrollWidth, scrollHeight );\r\n            }\r\n\r\n        }, 10 );\r\n    }\r\n\r\n    resizeIfNecessary( cursor: Cursor, force: boolean = false )\r\n    {\r\n        const maxLineLength = this.getMaxLineLength();\r\n        const numViewportChars = Math.floor( ( this.codeScroller.clientWidth - CodeEditor.LINE_GUTTER_WIDTH ) / this.charWidth );\r\n        if( force || ( maxLineLength >= numViewportChars && maxLineLength != this._lastMaxLineLength ) )\r\n        {\r\n            this.resize( CodeEditor.RESIZE_SCROLLBAR_H, maxLineLength, () => {\r\n                if( cursor.position > numViewportChars )\r\n                {\r\n                    this.setScrollLeft( cursor.position * this.charWidth );\r\n                }\r\n            } );\r\n        }\r\n    }\r\n\r\n    resizeScrollBars( flag = CodeEditor.RESIZE_SCROLLBAR_H_V )\r\n    {\r\n        if( flag & CodeEditor.RESIZE_SCROLLBAR_V )\r\n        {\r\n            const totalLinesInViewport = (( this.codeScroller.offsetHeight ) / this.lineHeight)|0;\r\n            const needsVerticalScrollbar = ( this.code.lines.length >= totalLinesInViewport );\r\n            if( needsVerticalScrollbar )\r\n            {\r\n                this.vScrollbar.thumb.size = ( totalLinesInViewport / this.code.lines.length );\r\n                this.vScrollbar.thumb.style.height = (this.vScrollbar.thumb.size * 100.0) + \"%\";\r\n            }\r\n\r\n            this.vScrollbar.root.classList.toggle( 'hidden', !needsVerticalScrollbar );\r\n            this.hScrollbar.root.style.width = `calc(100% - ${ 48 + ( needsVerticalScrollbar ? ScrollBar.SCROLLBAR_VERTICAL_WIDTH : 0 ) }px)`; // 48 is the line gutter\r\n            this.codeArea.root.style.width = `calc(100% - ${ needsVerticalScrollbar ? ScrollBar.SCROLLBAR_VERTICAL_WIDTH : 0 }px)`;\r\n        }\r\n\r\n        if( flag & CodeEditor.RESIZE_SCROLLBAR_H )\r\n        {\r\n            const numViewportChars = Math.floor( ( this.codeScroller.clientWidth - CodeEditor.LINE_GUTTER_WIDTH ) / this.charWidth );\r\n            const maxLineLength = this._lastMaxLineLength!;\r\n            const needsHorizontalScrollbar = maxLineLength >= numViewportChars;\r\n\r\n            if( needsHorizontalScrollbar )\r\n            {\r\n                this.hScrollbar.thumb.size = ( numViewportChars / maxLineLength );\r\n                this.hScrollbar.thumb.style.width = ( this.hScrollbar.thumb.size * 100.0 ) + \"%\";\r\n            }\r\n\r\n            this.hScrollbar.root.classList.toggle( 'hidden', !needsHorizontalScrollbar );\r\n            this.codeArea.root.style.height = `calc(100% - ${ this._fullVerticalOffset + ( needsHorizontalScrollbar ? ScrollBar.SCROLLBAR_HORIZONTAL_HEIGHT : 0 ) }px)`;\r\n        }\r\n    }\r\n\r\n    setScrollBarValue( type: string = 'vertical', value?: number )\r\n    {\r\n        if( type == 'vertical' )\r\n        {\r\n            const scrollHeight = this.codeScroller.scrollHeight - this.codeScroller.clientHeight;\r\n\r\n            if( scrollHeight > 0 )\r\n            {\r\n                const scrollBarHeight = this.vScrollbar.thumb.parentElement.offsetHeight;\r\n                const scrollThumbHeight = this.vScrollbar.thumb.offsetHeight;\r\n                const currentScroll = this.codeScroller.scrollTop;\r\n                this.vScrollbar.thumb._top = ( currentScroll / scrollHeight ) * ( scrollBarHeight - scrollThumbHeight );\r\n                this.vScrollbar.thumb.style.top = this.vScrollbar.thumb._top + \"px\";\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if( value !== undefined )\r\n            {\r\n                this.codeScroller.scrollLeft += value;\r\n            }\r\n\r\n            // Only when scroll is needed\r\n            const scrollWidth = this.codeScroller.scrollWidth - this.codeScroller.clientWidth;\r\n            if( scrollWidth > 0 )\r\n            {\r\n                const scrollBarWidth = this.hScrollbar.thumb.parentElement.offsetWidth;\r\n                const scrollThumbWidth = this.hScrollbar.thumb.offsetWidth;\r\n                const currentScroll = this.codeScroller.scrollLeft;\r\n                this.hScrollbar.thumb._left = ( currentScroll / scrollWidth ) * ( scrollBarWidth - scrollThumbWidth );\r\n                this.hScrollbar.thumb.style.left = this.hScrollbar.thumb._left + \"px\";\r\n            }\r\n        }\r\n    }\r\n\r\n    updateHorizontalScrollFromScrollBar( value: number )\r\n    {\r\n        value = this.hScrollbar.thumb._left - value;\r\n\r\n        // Move scrollbar thumb\r\n\r\n        const scrollBarWidth = this.hScrollbar.thumb.parentElement.offsetWidth;\r\n        const scrollThumbWidth = this.hScrollbar.thumb.offsetWidth;\r\n\r\n        this.hScrollbar.thumb._left = LX.clamp( value, 0, ( scrollBarWidth - scrollThumbWidth ) );\r\n        this.hScrollbar.thumb.style.left = this.hScrollbar.thumb._left + \"px\";\r\n\r\n        // Scroll code\r\n\r\n        const scrollWidth = this.codeScroller.scrollWidth - this.codeScroller.clientWidth;\r\n        const currentScroll = (this.hScrollbar.thumb._left * scrollWidth) / ( scrollBarWidth - scrollThumbWidth );\r\n        this.codeScroller.scrollLeft = currentScroll;\r\n\r\n        this._discardScroll = true;\r\n    }\r\n\r\n    updateVerticalScrollFromScrollBar( value: number ): void\r\n    {\r\n        value = this.vScrollbar.thumb._top - value;\r\n\r\n        // Move scrollbar thumb\r\n\r\n        const scrollBarHeight = this.vScrollbar.thumb.parentElement.offsetHeight;\r\n        const scrollThumbHeight = this.vScrollbar.thumb.offsetHeight;\r\n\r\n        this.vScrollbar.thumb._top = LX.clamp( value, 0, ( scrollBarHeight - scrollThumbHeight ) );\r\n        this.vScrollbar.thumb.style.top = this.vScrollbar.thumb._top + \"px\";\r\n\r\n        // Scroll code\r\n\r\n        const scrollHeight = this.codeScroller.scrollHeight - this.codeScroller.clientHeight;\r\n        const currentScroll = (this.vScrollbar.thumb._top * scrollHeight) / ( scrollBarHeight - scrollThumbHeight );\r\n        this.codeScroller.scrollTop = currentScroll;\r\n    }\r\n\r\n    getCharAtPos( cursor: Cursor, offset: number = 0 )\r\n    {\r\n        return this.code.lines[ cursor.line ][ cursor.position + offset ];\r\n    }\r\n\r\n    getWordAtPos( cursor: Cursor, offset: number = 0 )\r\n    {\r\n        const col = cursor.line;\r\n        const words = this.code.lines[ col ];\r\n\r\n        const isChar = ( char: string ) => {\r\n            const exceptions = [ '_', '#', '!' ];\r\n            const code = char.charCodeAt( 0 );\r\n            return (exceptions.indexOf( char ) > - 1) || (code > 47 && code < 58) || (code > 64 && code < 91) || (code > 96 && code < 123);\r\n        }\r\n\r\n        let from = cursor.position + offset;\r\n        let to = cursor.position + offset;\r\n\r\n        // Check left ...\r\n\r\n        while( words[ from ] && isChar( words[ from ] ) )\r\n            from--;\r\n\r\n        from++;\r\n\r\n        // Check right ...\r\n\r\n        while( words[ to ] && isChar( words[ to ] ) )\r\n            to++;\r\n\r\n        // Skip spaces ...\r\n\r\n        let word = words.substring( from, to );\r\n        if( word == ' ' )\r\n        {\r\n            if( offset < 0 )\r\n            {\r\n                while( words[ from - 1 ] != undefined && words[ from - 1 ] == ' ' )\r\n                    from--;\r\n                to++;\r\n                word = words.substring( from, to + 1 );\r\n            }\r\n            else\r\n            {\r\n                while( words[ to ] != undefined && words[ to ] == ' ' )\r\n                    to++;\r\n                from--;\r\n                word = words.substring( from, to );\r\n            }\r\n        }\r\n\r\n        return [ word, from, to ];\r\n    }\r\n\r\n    _measureChar( char: string = \"M\", useFloating: boolean = true, getBB: boolean = false )\r\n    {\r\n        const parentContainer = LX.makeContainer( null, \"lexcodeeditor\", \"\", document.body );\r\n        const container = LX.makeContainer( null, \"code\", \"\", parentContainer );\r\n        const line = document.createElement( \"pre\" );\r\n        container.appendChild( line );\r\n        const text = document.createElement( \"span\" );\r\n        line.appendChild( text );\r\n        text.innerText = char;\r\n        var rect = text.getBoundingClientRect();\r\n        LX.deleteElement( parentContainer );\r\n        const bb = [ useFloating ? rect.width : Math.floor( rect.width ), useFloating ? rect.height : Math.floor( rect.height ) ];\r\n        return getBB ? bb : bb[ 0 ];\r\n    }\r\n\r\n    measureString( str: string )\r\n    {\r\n        return str.length * this.charWidth;\r\n    }\r\n\r\n    runScript( code: string )\r\n    {\r\n        const script = document.createElement( 'script' );\r\n        script.type = 'module';\r\n        script.innerHTML = code;\r\n        // script.src = url[ i ] + ( version ? \"?version=\" + version : \"\" );\r\n        script.async = false;\r\n        // script.onload = function(e) { };\r\n        document.getElementsByTagName( 'head' )[ 0 ].appendChild( script );\r\n    }\r\n\r\n    toJSONFormat( text: string )\r\n    {\r\n        let params = text.split( ':' );\r\n\r\n        for(let i = 0; i < params.length; i++) {\r\n            let key: any = params[ i ].split( ',' );\r\n            if( key.length > 1 )\r\n            {\r\n                if( key[ key.length - 1 ].includes( ']' ))\r\n                    continue;\r\n                key = key[ key.length - 1 ];\r\n            }\r\n            else if( key[ 0 ].includes( '}' ) )\r\n                continue;\r\n            else\r\n                key = key[ 0 ];\r\n            key = key.replaceAll( /[{}\\n\\r]/g, '' ).replaceAll( ' ', '' )\r\n            if( key[ 0 ] != '\"' && key[ key.length - 1 ] != '\"')\r\n            {\r\n                params[ i ] = params[ i ].replace( key, '\"' + key + '\"' );\r\n            }\r\n        }\r\n\r\n        text = params.join( ':' );\r\n\r\n        try {\r\n            let json = JSON.parse( text );\r\n            return JSON.stringify( json, undefined, 4 );\r\n        }\r\n        catch( e ) {\r\n            alert( \"Invalid JSON format\" );\r\n            return;\t\r\n        }\r\n    }\r\n\r\n    showAutoCompleteBox( key: string, cursor: Cursor )\r\n    {\r\n        if( !cursor.isMain )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const [ word, start, end ] = this.getWordAtPos( cursor, -1 );\r\n        if( key == ' ' || !word.length )\r\n        {\r\n            this.hideAutoCompleteBox();\r\n            return;\r\n        }\r\n\r\n        this.autocomplete.innerHTML = \"\"; // Clear all suggestions\r\n\r\n        // Add language special keys...\r\n        let suggestions = [\r\n            ...Array.from( CodeEditor.keywords[ this.highlight ] ?? [] ),\r\n            ...Array.from( CodeEditor.builtIn[ this.highlight ] ?? [] ),\r\n            ...Array.from( CodeEditor.statements[ this.highlight ] ?? [] ),\r\n            ...Array.from( CodeEditor.types[ this.highlight ] ?? [] ),\r\n            ...Array.from( CodeEditor.utils[ this.highlight ] ?? [] )\r\n        ];\r\n\r\n        const scopeStack = [ ...this.code.lineScopes[ cursor.line ] ];\r\n        const scope = scopeStack.at( -1 );\r\n        if( scope.type.startsWith( \"enum\" ) )\r\n        {\r\n            const enumValues = Array.from( this.code.symbolsTable ).filter( ( s: any ) => s[ 1 ][ 0 ].kind === \"enum_value\" && s[ 1 ][ 0 ].scope === scope.name ).map( ( s: any ) => s[ 0 ] );\r\n            suggestions = suggestions.concat( enumValues.slice( 0, -1 ) );\r\n        }\r\n        else\r\n        {\r\n            const otherValues = Array.from( this.code.symbolsTable ).map( ( s: any ) => s[ 0 ] );\r\n            suggestions = suggestions.concat( otherValues.slice( 0, -1 ) );\r\n        }\r\n\r\n        // Add custom suggestions...\r\n        suggestions = suggestions.concat( this.customSuggestions );\r\n\r\n        // Remove 1/2 char words and duplicates...\r\n        suggestions = ( Array.from( new Set( suggestions )) as string[] ).filter( ( s: string ) => s.length > 2 && s.toLowerCase().includes( word.toLowerCase() ) );\r\n\r\n        // Order...\r\n\r\n        function scoreSuggestion( s: string, prefix: string ) {\r\n            if( s.startsWith( prefix ) ) return 0; // best option\r\n            if( s.includes( prefix ))  return 1;\r\n            return 2; // worst\r\n        }\r\n\r\n        suggestions = ( suggestions as string[] ).sort( ( a, b ) => ( scoreSuggestion( a, word ) - scoreSuggestion( b, word ) ) || a.localeCompare( b ) );\r\n\r\n        for( let s of suggestions )\r\n        {\r\n            const currSuggestion = s as string;\r\n            const pre = document.createElement( 'pre' );\r\n            this.autocomplete.appendChild( pre );\r\n\r\n            const symbol = this.code.symbolsTable.get( s );\r\n\r\n            let iconName = \"CaseLower\";\r\n            let iconClass = \"foo\";\r\n\r\n            if( symbol )\r\n            {\r\n                switch( symbol[ 0 ].kind )  // Get first occurrence\r\n                {\r\n                    case \"variable\":\r\n                        iconName = \"Cuboid\";\r\n                        iconClass = \"fg-blue-400\";\r\n                        break;\r\n                    case \"method\":\r\n                        iconName = \"Box\";\r\n                        iconClass = \"fg-fuchsia-500\";\r\n                        break;\r\n                    case \"class\":\r\n                        iconName = \"CircleNodes\";\r\n                        iconClass = \"fg-orange-500\";\r\n                        break;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if( this._mustHightlightWord( currSuggestion, CodeEditor.utils ) )\r\n                    iconName = \"ToolCase\";\r\n                else if( this._mustHightlightWord( currSuggestion, CodeEditor.types ) )\r\n                {\r\n                    iconName = \"Type\";\r\n                    iconClass = \"fg-blue-400\";\r\n                }\r\n            }\r\n\r\n            pre.appendChild( LX.makeIcon( iconName, { iconClass: \"mr-1\", svgClass: \"sm \" + iconClass } ) );\r\n            pre.addEventListener( 'click', () => {\r\n                this.autoCompleteWord( currSuggestion );\r\n            } );\r\n\r\n            // Highlight the written part\r\n            const index = currSuggestion.toLowerCase().indexOf( word.toLowerCase() );\r\n\r\n            var preWord = document.createElement( 'span' );\r\n            preWord.innerHTML = currSuggestion.substring( 0, index );\r\n            pre.appendChild( preWord );\r\n\r\n            var actualWord = document.createElement('span');\r\n            actualWord.innerHTML = currSuggestion.substr( index, word.length );\r\n            actualWord.classList.add( 'word-highlight' );\r\n            pre.appendChild( actualWord );\r\n\r\n            var postWord = document.createElement('span');\r\n            postWord.innerHTML = currSuggestion.substring( index + word.length );\r\n            pre.appendChild( postWord );\r\n        }\r\n\r\n        if( !this.autocomplete.childElementCount )\r\n        {\r\n            this.hideAutoCompleteBox();\r\n            return;\r\n        }\r\n\r\n        const maxX = this.codeScroller.clientWidth - 256; // Viewport - box width\r\n\r\n        // Select always first option\r\n        ( this.autocomplete.firstChild as any ).classList.add( 'selected' );\r\n\r\n        // Show box\r\n        this.autocomplete.classList.toggle( 'show', true );\r\n        this.autocomplete.classList.toggle( 'no-scrollbar', !( this.autocomplete.scrollHeight > this.autocomplete.offsetHeight ) );\r\n        this.autocomplete.style.left = `${ Math.min( cursor.left + CodeEditor.LINE_GUTTER_WIDTH - this.getScrollLeft(), maxX ) }px`;\r\n        this.autocomplete.style.top = `${ ( cursor.top + this._verticalTopOffset + this.lineHeight - this.getScrollTop() ) }px`;\r\n\r\n        this.isAutoCompleteActive = true;\r\n    }\r\n\r\n    hideAutoCompleteBox()\r\n    {\r\n        if( !this.autocomplete )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const isActive = this.isAutoCompleteActive;\r\n        this.isAutoCompleteActive = false;\r\n        this.autocomplete.classList.remove( 'show' );\r\n        this.autocomplete.innerHTML = \"\"; // Clear all suggestions\r\n\r\n        return isActive != this.isAutoCompleteActive;\r\n    }\r\n\r\n    autoCompleteWord( suggestion?: string )\r\n    {\r\n        if( !this.isAutoCompleteActive )\r\n            return;\r\n\r\n        let [ suggestedWord, idx ] = this._getSelectedAutoComplete();\r\n        suggestedWord = suggestion ?? suggestedWord;\r\n\r\n        for( let cursor of this.cursors )\r\n        {\r\n            const [ word, start, end ] = this.getWordAtPos( cursor, -1 );\r\n\r\n            const lineString = this.code.lines[ cursor.line ];\r\n            this.code.lines[ cursor.line ] =\r\n                lineString.slice( 0, start ) + suggestedWord + lineString.slice( end );\r\n\r\n            // Process lines and remove suggestion box\r\n            this.cursorToPosition( cursor, start + suggestedWord.length );\r\n            this.processLine( cursor.line );\r\n        }\r\n\r\n        // Only the main cursor autocompletes, skip the \"Tab\" event for the rest\r\n        this._skipTabs = this.cursors.length - 1;\r\n\r\n        this.hideAutoCompleteBox();\r\n    }\r\n\r\n    _getSelectedAutoComplete(): any[]\r\n    {\r\n        for( let i = 0; i < this.autocomplete.childElementCount; ++i )\r\n        {\r\n            const child: any = this.autocomplete.childNodes[ i ];\r\n            if( child.classList.contains('selected') )\r\n            {\r\n                var word = \"\";\r\n                for( let childSpan of child.childNodes )\r\n                {\r\n                    if( childSpan.constructor != HTMLSpanElement )\r\n                    {\r\n                        continue;\r\n                    }\r\n                    word += childSpan.innerHTML;\r\n                }\r\n\r\n                return [ word, i ]; // Get text of the span inside the 'pre' element\r\n            }\r\n        }\r\n\r\n        return [ null, -1 ];\r\n    }\r\n\r\n    _moveArrowSelectedAutoComplete( dir: string )\r\n    {\r\n        if( !this.isAutoCompleteActive )\r\n            return;\r\n\r\n        const [ word, idx ] = this._getSelectedAutoComplete();\r\n        const offset = dir == 'down' ? 1 : -1;\r\n        const fIdx = idx + offset;\r\n\r\n        const autocompleteRowHeight = 22;\r\n        const autocompleteHeight = 132;\r\n\r\n        if( dir == 'down' )\r\n        {\r\n            if( fIdx >= this.autocomplete.childElementCount ) return;\r\n\r\n            if( ( ( idx + offset * 2 ) * autocompleteRowHeight ) - this.autocomplete.scrollTop > autocompleteHeight )\r\n            {\r\n                this.autocomplete.scrollTop += autocompleteRowHeight;\r\n            }\r\n        }\r\n        else if( dir == 'up')\r\n        {\r\n            if( fIdx < 0 ) return;\r\n\r\n            if( ( fIdx * autocompleteRowHeight ) < this.autocomplete.scrollTop )\r\n            {\r\n                this.autocomplete.scrollTop -= autocompleteRowHeight;\r\n            }\r\n        }\r\n\r\n        // Remove selected from the current word and add it to the next one\r\n        LX.removeClass( this.autocomplete.childNodes[ idx ], \"selected\" );\r\n        LX.addClass( this.autocomplete.childNodes[ idx + offset ], \"selected\" );\r\n    }\r\n\r\n    showSearchBox( clear: boolean = false )\r\n    {\r\n        this.hideSearchLineBox();\r\n\r\n        LX.addClass( this.searchbox, 'opened' );\r\n        this.isSearchboxActive = true;\r\n\r\n        const input: any = this.searchbox.querySelector( 'input' );\r\n\r\n        if( clear )\r\n        {\r\n            input.value = \"\";\r\n        }\r\n        else\r\n        {\r\n            const cursor = this.getCurrentCursor();\r\n\r\n            if( cursor.selection )\r\n            {\r\n                input.value = cursor.selection.getText() ?? input.value;\r\n            }\r\n        }\r\n\r\n        input.selectionStart = 0;\r\n        input.selectionEnd = input.value.length;\r\n\r\n        input.focus();\r\n    }\r\n\r\n    hideSearchBox()\r\n    {\r\n        const active = this.isSearchboxActive;\r\n\r\n        if( this.isSearchboxActive )\r\n        {\r\n            this.searchbox.classList.remove( 'opened' );\r\n            this.isSearchboxActive = false;\r\n        }\r\n\r\n        else if( this._lastResult )\r\n        {\r\n            LX.deleteElement( this._lastResult.dom );\r\n            delete this._lastResult;\r\n        }\r\n\r\n        this.searchResultSelections.classList.remove( 'show' );\r\n\r\n        return ( active != this.isSearchboxActive );\r\n    }\r\n\r\n    search( text?: string | null, reverse: boolean = false, callback?: any, skipAlert: boolean = false, forceFocus: boolean = true )\r\n    {\r\n        text = text ?? this._lastTextFound;\r\n\r\n        if( !text )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let cursor = this.getCurrentCursor();\r\n        let cursorData = new LX.vec2( cursor.position, cursor.line );\r\n        let line = null;\r\n        let char = -1;\r\n\r\n        if( this._lastResult )\r\n        {\r\n            LX.deleteElement( this._lastResult.dom );\r\n            cursorData = this._lastResult.pos;\r\n            cursorData.x += text.length * ( reverse ? -1 : 1 );\r\n            delete this._lastResult;\r\n        }\r\n\r\n        const getIndex = ( l: number ) => {\r\n\r\n            var string = this.code.lines[ l ];\r\n\r\n            if( reverse )\r\n            {\r\n                string = string.substr( 0, l == cursorData.y ? cursorData.x : string.length );\r\n                var reversed = strReverse( string );\r\n                var reversedIdx = reversed.indexOf( strReverse( text ) );\r\n                return reversedIdx == -1 ? -1 : string.length - reversedIdx - text.length;\r\n            }\r\n            else\r\n            {\r\n                return string.substr( l == cursorData.y ? cursorData.x : 0 ).indexOf( text );\r\n            }\r\n        };\r\n\r\n        if( reverse )\r\n        {\r\n            for( var j = cursorData.y; j >= 0; --j )\r\n            {\r\n                char = getIndex( j );\r\n                if( char > -1 )\r\n                {\r\n                    line = j;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for( var j = cursorData.y; j < this.code.lines.length; ++j )\r\n            {\r\n                char = getIndex( j );\r\n                if( char > -1 )\r\n                {\r\n                    line = j;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if( line == null )\r\n        {\r\n            if( !skipAlert )\r\n            {\r\n                alert( \"No results!\" );\r\n            }\r\n\r\n            const lastLine = this.code.lines.length - 1;\r\n\r\n            this._lastResult = {\r\n                'dom': this.searchResultSelections.lastChild,\r\n                'pos': reverse ? new LX.vec2( this.code.lines[ lastLine ].length, lastLine ) : new LX.vec2( 0, 0 )\r\n            };\r\n\r\n            return;\r\n        }\r\n\r\n        /*\r\n            Position idx is computed from last pos, which could be in same line,\r\n            so we search in the substring (first_ocurrence, end). That's why we\r\n            have to add the length of the substring (0, first_ocurrence)\r\n        */\r\n\r\n        if( !reverse )\r\n        {\r\n            char += ( line == cursorData.y ? cursorData.x : 0 );\r\n        }\r\n\r\n\r\n        // Text found..\r\n\r\n        this._lastTextFound = text;\r\n\r\n        this.codeScroller.scrollTo(\r\n            Math.max( char * this.charWidth - this.codeScroller.clientWidth, 0 ),\r\n            Math.max( line - 10, 0 ) * this.lineHeight\r\n        );\r\n\r\n        if( callback )\r\n        {\r\n            callback( char, line );\r\n        }\r\n        else\r\n        {\r\n            // Show elements\r\n            this.searchResultSelections.classList.add( 'show' );\r\n\r\n            // Create new selection instance\r\n            cursor.selection = new CodeSelection( this, cursor, \"lexcodesearchresult\" );\r\n            cursor.selection.selectInline( cursor, char, line, this.measureString( text ), true );\r\n        }\r\n\r\n        this._lastResult = {\r\n            'dom': this.searchResultSelections.lastChild,\r\n            'pos': new LX.vec2( char , line ),\r\n            reverse\r\n        };\r\n\r\n        // Force focus back to search box\r\n        if( forceFocus )\r\n        {\r\n            const input: any = this.searchbox.querySelector( 'input' );\r\n            input.focus();\r\n        }\r\n    }\r\n\r\n    showSearchLineBox()\r\n    {\r\n        this.hideSearchBox();\r\n\r\n        this.searchlinebox.classList.add( 'opened' );\r\n        this.isSearchlineboxActive = true;\r\n\r\n        const input: any = this.searchlinebox.querySelector( 'input' );\r\n        input.value = \":\";\r\n        input.focus();\r\n    }\r\n\r\n    hideSearchLineBox()\r\n    {\r\n        if( this.isSearchlineboxActive )\r\n        {\r\n            this.searchlinebox.classList.remove( 'opened' );\r\n            this.isSearchlineboxActive = false;\r\n        }\r\n    }\r\n\r\n    goToLine( line: any )\r\n    {\r\n        if( !this._isNumber( line ) )\r\n            return;\r\n\r\n        this.codeScroller.scrollTo( 0, Math.max( line - 15 ) * this.lineHeight );\r\n\r\n        // Select line ?\r\n        var cursor = this.getCurrentCursor( true );\r\n        this.cursorToLine( cursor, line - 1, true );\r\n    }\r\n\r\n    selectNextOcurrence( cursor: Cursor )\r\n    {\r\n        if( !cursor.selection )\r\n            return;\r\n\r\n        const text = cursor.selection.getText();\r\n        if( !text )\r\n            return;\r\n\r\n        if( !this._currentOcurrences )\r\n        {\r\n            const currentKey = [ cursor.position - text.length, cursor.line ].join( '_' );\r\n            this._currentOcurrences = { };\r\n            this._currentOcurrences[ currentKey ] = true;\r\n        }\r\n\r\n        this.search( text, false, ( col: number, ln: number ) =>\r\n        {\r\n            const key = [ col, ln ].join( '_' );\r\n\r\n            if( this._currentOcurrences[ key ] )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var newCursor = this._addCursor( ln, col, true );\r\n            if( newCursor )\r\n            {\r\n                this.startSelection( newCursor );\r\n                newCursor?.root.selection.selectInline( newCursor, col, ln, this.measureString( text ) );\r\n                this.cursorToString( newCursor, text );\r\n            }\r\n\r\n            this._currentOcurrences[ key ] = true;\r\n\r\n        }, true, false );\r\n    }\r\n\r\n    _updateDataInfoPanel( signal: string, value: any )\r\n    {\r\n        if( !this.skipInfo )\r\n        {\r\n            if( this.cursors.length > 1 )\r\n            {\r\n                value = \"\";\r\n            }\r\n\r\n            LX.emitSignal( signal, value );\r\n        }\r\n    }\r\n\r\n    _setActiveLine( n?: number )\r\n    {\r\n        n = n ?? this.state.activeLine;\r\n        if( n === undefined )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const cursor = this.getCurrentCursor();\r\n        this._updateDataInfoPanel( \"@cursor-data\", `Ln ${ n + 1 }, Col ${ cursor.position + 1 }` );\r\n\r\n        const oldLocal = this.toLocalLine( this.state.activeLine );\r\n        let line = this.code.childNodes[ oldLocal ];\r\n\r\n        if( !line )\r\n        {\r\n            return;\r\n        }\r\n\r\n        line.classList.remove( 'active-line' );\r\n\r\n        // Set new active\r\n        {\r\n            this.state.activeLine = n;\r\n\r\n            const newLocal = this.toLocalLine( n );\r\n            line = this.code.childNodes[ newLocal ];\r\n            if( line ) line.classList.add( 'active-line' );\r\n        }\r\n    }\r\n\r\n    _hideActiveLine()\r\n    {\r\n        this.code.querySelectorAll( '.active-line' ).forEach( ( e: HTMLElement ) => e.classList.remove( 'active-line' ) );\r\n    }\r\n\r\n    _setFontSize( size: number )\r\n    {\r\n        // Change font size\r\n        this.fontSize = size;\r\n        const r: any = document.querySelector( ':root' );\r\n        r.style.setProperty( \"--code-editor-font-size\", `${ this.fontSize }px` );\r\n        this.charWidth = this._measureChar() as number;\r\n\r\n        window.localStorage.setItem( \"lexcodeeditor-font-size\", `${ this.fontSize }` );\r\n\r\n        // Change row size\r\n        const rowPixels = this.fontSize + 6;\r\n        r.style.setProperty( \"--code-editor-row-height\", `${ rowPixels }px` );\r\n        this.lineHeight = rowPixels;\r\n\r\n        // Relocate cursors\r\n        this.relocateCursors();\r\n\r\n        // Resize the code area\r\n        this.processLines();\r\n\r\n        // Emit event\r\n        LX.emitSignal( \"@font-size\", this.fontSize );\r\n    }\r\n\r\n    _applyFontSizeOffset( offset = 0 )\r\n    {\r\n        const newFontSize = LX.clamp( this.fontSize + offset, CodeEditor.CODE_MIN_FONT_SIZE, CodeEditor.CODE_MAX_FONT_SIZE );\r\n        this._setFontSize( newFontSize );\r\n    }\r\n\r\n    _increaseFontSize()\r\n    {\r\n        this._applyFontSizeOffset( 1 );\r\n    }\r\n\r\n    _decreaseFontSize()\r\n    {\r\n        this._applyFontSizeOffset( -1 );\r\n    }\r\n\r\n    _clearTmpVariables()\r\n    {\r\n        delete this._currentLineString;\r\n        delete this._currentLineNumber;\r\n        delete this._buildingString;\r\n        delete this._pendingString;\r\n        delete this._buildingBlockComment;\r\n        delete this._markdownHeader;\r\n        delete this._lastResult;\r\n        delete this._scopeStack;\r\n    }\r\n\r\n    async _requestFileAsync( url: string, dataType?: string, nocache: boolean = false )\r\n    {\r\n        return new Promise( (resolve, reject) => {\r\n            dataType = dataType ?? \"arraybuffer\";\r\n            const mimeType = dataType === \"arraybuffer\" ? \"application/octet-stream\" : undefined;\r\n            var xhr: any = new XMLHttpRequest();\r\n            xhr.open( 'GET', url, true );\r\n            xhr.responseType = dataType;\r\n            if( mimeType )\r\n                xhr.overrideMimeType( mimeType );\r\n            if( nocache )\r\n                xhr.setRequestHeader('Cache-Control', 'no-cache');\r\n            xhr.onload = function()\r\n            {\r\n                var response = this.response;\r\n                if( this.status != 200)\r\n                {\r\n                    var err = \"Error \" + this.status;\r\n                    reject(err);\r\n                    return;\r\n                }\r\n                resolve( response );\r\n            };\r\n            xhr.onerror = function(err: any) {\r\n                reject(err);\r\n            };\r\n            xhr.send();\r\n            return xhr;\r\n        });\r\n    }\r\n}\r\n\r\nconst CE = ( CodeEditor as any );\r\n\r\nCE.languages =\r\n{\r\n    'Plain Text': { ext: \"txt\", blockComments: false, singleLineComments: false, numbers: false, icon: \"AlignLeft fg-neutral-500\" },\r\n    'JavaScript': { ext: \"js\", icon: \"Js fg-yellow-500\" },\r\n    'TypeScript': { ext: \"ts\", icon: \"Ts fg-blue-600\" },\r\n    'C': { ext: [ 'c', 'h' ], usePreprocessor: true, icon: { 'c': \"C fg-sky-400\", 'h': \"C fg-fuchsia-500\" } },\r\n    'C++': { ext: [ \"cpp\", \"hpp\" ], usePreprocessor: true, icon: { 'cpp': \"CPlusPlus fg-sky-400\", 'hpp': \"CPlusPlus fg-fuchsia-500\" } },\r\n    'CSS': { ext: \"css\", icon: \"Hash fg-blue-700\" },\r\n    'CMake': { ext: \"cmake\", singleLineCommentToken: '#', blockComments: false, ignoreCase: true },\r\n    'GLSL': { ext: \"glsl\", usePreprocessor: true },\r\n    'WGSL': { ext: \"wgsl\", usePreprocessor: true },\r\n    'JSON': { ext: \"json\", blockComments: false, singleLineComments: false, icon: \"Json fg-yellow-400\" },\r\n    'XML': { ext: \"xml\", tags: true, icon: \"Rss fg-orange-500\" },\r\n    'Rust': { ext: \"rs\", icon: \"Rust fg-primary\" },\r\n    'Python': { ext: \"py\", singleLineCommentToken: '#', icon: \"Python fg-cyan-600\" },\r\n    'HTML': { ext: \"html\", tags: true, singleLineComments: false, blockCommentsTokens: [ '<!--', '-->' ], numbers: false, icon: \"Code fg-orange-500\" },\r\n    'Batch': { ext: \"bat\", blockComments: false, singleLineCommentToken: '::', ignoreCase: true, icon: \"Windows fg-blue-400\" },\r\n    'Markdown': { ext: \"md\", blockComments: false, singleLineCommentToken: '::', tags: true, numbers: false, icon: \"Markdown fg-primary\" },\r\n    'PHP': { ext: \"php\", icon: \"Php fg-purple-700\" },\r\n};\r\n\r\nCE.nativeTypes =\r\n{\r\n    'C++': ['int', 'float', 'double', 'bool', 'long', 'short', 'char', 'wchar_t', 'void'],\r\n    'WGSL': ['bool', 'u32', 'i32', 'f16', 'f32', 'vec2', 'vec3', 'vec4', 'vec2f', 'vec3f', 'vec4f', 'mat2x2f', 'mat3x3f', 'mat4x4f', 'array', 'vec2u', 'vec3u', 'vec4u', 'ptr', 'sampler']\r\n};\r\n\r\nCE.declarationKeywords =\r\n{\r\n    'JavaScript': ['var', 'let', 'const', 'this', 'static', 'class'],\r\n    'C++': [...CE.nativeTypes[\"C++\"], 'const', 'auto', 'class', 'struct', 'namespace', 'enum', 'extern']\r\n};\r\n\r\nCE.keywords =\r\n{\r\n    'JavaScript': ['var', 'let', 'const', 'this', 'in', 'of', 'true', 'false', 'new', 'function', 'NaN', 'static', 'class', 'constructor', 'null', 'typeof', 'debugger', 'abstract',\r\n                  'arguments', 'extends', 'instanceof', 'Infinity', 'get'],\r\n    'TypeScript': ['var', 'let', 'const', 'this', 'in', 'of', 'true', 'false', 'new', 'function', 'class', 'extends', 'instanceof', 'Infinity', 'private', 'public', 'protected', 'interface',\r\n                  'enum', 'type', 'get'],\r\n    'C': ['int', 'float', 'double', 'long', 'short', 'char', 'const', 'void', 'true', 'false', 'auto', 'struct', 'typedef', 'signed', 'volatile', 'unsigned', 'static', 'extern', 'enum', 'register',\r\n        'union'],\r\n    'C++': [...CE.nativeTypes[\"C++\"], 'const', 'static_cast', 'dynamic_cast', 'new', 'delete', 'true', 'false', 'auto', 'class', 'struct', 'typedef', 'nullptr',\r\n            'NULL', 'signed', 'unsigned', 'namespace', 'enum', 'extern', 'union', 'sizeof', 'static', 'private', 'public'],\r\n    'CMake': ['cmake_minimum_required', 'set', 'not', 'if', 'endif', 'exists', 'string', 'strequal', 'add_definitions', 'macro', 'endmacro', 'file', 'list', 'source_group', 'add_executable',\r\n        'target_include_directories', 'set_target_properties', 'set_property', 'add_compile_options', 'add_link_options', 'include_directories', 'add_library', 'target_link_libraries',\r\n        'target_link_options', 'add_subdirectory', 'add_compile_definitions', 'project', 'cache'],\r\n    'JSON': ['true', 'false'],\r\n    'GLSL': ['true', 'false', 'function', 'int', 'float', 'vec2', 'vec3', 'vec4', 'mat2x2', 'mat3x3', 'mat4x4', 'struct'],\r\n    'CSS': ['body', 'html', 'canvas', 'div', 'input', 'span', '.', 'table', 'tr', 'td', 'th', 'label', 'video', 'img', 'code', 'button', 'select', 'option', 'svg', 'media', 'all',\r\n            'i', 'a', 'li', 'h1', 'h2', 'h3', 'h4', 'h5', 'last-child', 'tbody', 'pre', 'monospace', 'font-face'],\r\n    'WGSL': [...CE.nativeTypes[\"WGSL\"], 'var', 'let', 'true', 'false', 'fn', 'atomic', 'struct', 'sampler_comparison', 'texture_depth_2d', 'texture_depth_2d_array', 'texture_depth_cube',\r\n            'texture_depth_cube_array', 'texture_depth_multisampled_2d', 'texture_external', 'texture_1d', 'texture_2d', 'texture_2d_array', 'texture_3d', 'texture_cube', 'texture_cube_array',\r\n            'texture_storage_1d', 'texture_storage_2d', 'texture_storage_2d_array', 'texture_storage_3d'],\r\n    'Rust': ['as', 'const', 'crate', 'enum', 'extern', 'false', 'fn', 'impl', 'in', 'let', 'mod', 'move', 'mut', 'pub', 'ref', 'self', 'Self', 'static', 'struct', 'super', 'trait', 'true',\r\n             'type', 'unsafe', 'use', 'where', 'abstract', 'become', 'box', 'final', 'macro', 'override', 'priv', 'typeof', 'unsized', 'virtual'],\r\n    'Python': ['False', 'def', 'None', 'True', 'in', 'is', 'and', 'lambda', 'nonlocal', 'not', 'or'],\r\n    'Batch': ['set', 'echo', 'off', 'del', 'defined', 'setlocal', 'enabledelayedexpansion', 'driverquery', 'print'],\r\n    'HTML': ['html', 'meta', 'title', 'link', 'script', 'body', 'DOCTYPE', 'head', 'br', 'i', 'a', 'li', 'img', 'tr', 'td', 'h1', 'h2', 'h3', 'h4', 'h5'],\r\n    'Markdown': ['br', 'i', 'a', 'li', 'img', 'table', 'title', 'tr', 'td', 'h1', 'h2', 'h3', 'h4', 'h5'],\r\n    'PHP': ['const', 'function', 'array', 'new', 'int', 'string', '$this', 'public', 'null', 'private', 'protected', 'implements', 'class', 'use', 'namespace', 'abstract', 'clone', 'final',\r\n            'enum'],\r\n};\r\n\r\n// These ones don't have hightlight, used as suggestions to autocomplete only...\r\nCE.utils =\r\n{\r\n    'JavaScript': ['querySelector', 'body', 'addEventListener', 'removeEventListener', 'remove', 'sort', 'keys', 'filter', 'isNaN', 'parseFloat', 'parseInt', 'EPSILON', 'isFinite',\r\n                  'bind', 'prototype', 'length', 'assign', 'entries', 'values', 'concat', 'substring', 'substr', 'splice', 'slice', 'buffer', 'appendChild', 'createElement', 'prompt',\r\n                  'alert'],\r\n    'WGSL': ['textureSample'],\r\n    'Python': ['abs', 'all', 'any', 'ascii', 'bin', 'bool', 'bytearray', 'bytes', 'callable', 'chr', 'classmethod', 'compile', 'complex', 'delattr', 'dict', 'dir', 'divmod',\r\n              'enumerate', 'eval', 'exec', 'filter', 'float', 'format', 'frozenset', 'getattr', 'globals', 'hasattr', 'hash', 'help', 'hex', 'id', 'input', 'int', 'isinstance',\r\n              'issubclass', 'iter', 'len', 'list', 'locals', 'map', 'max', 'memoryview', 'min', 'next', 'object', 'oct', 'open', 'ord', 'pow', 'print', 'property', 'range', 'repr',\r\n              'reversed', 'round', 'set', 'setattr', 'slice', 'sorted', 'staticmethod', 'str', 'sum', 'super', 'tuple', 'type', 'vars', 'zip'],\r\n    'CSS': [ ...Object.keys( document.body.style ).map( LX.toKebabCase ), 'block', 'inline', 'inline-block', 'flex', 'grid', 'none', 'inherit', 'initial', 'unset', 'revert', 'sticky',\r\n            'relative', 'absolute', 'fixed', 'static', 'auto', 'visible', 'hidden', 'scroll', 'clip', 'ellipsis', 'nowrap', 'wrap', 'break-word', 'solid', 'dashed', 'dotted', 'double',\r\n            'groove', 'ridge', 'inset', 'outset', 'left', 'right', 'center', 'top', 'bottom', 'start', 'end', 'justify', 'stretch', 'space-between', 'space-around', 'space-evenly',\r\n            'baseline', 'middle', 'normal', 'bold', 'lighter', 'bolder', 'italic', 'blur', 'uppercase', 'lowercase', 'capitalize', 'transparent', 'currentColor', 'pointer', 'default',\r\n            'move', 'grab', 'grabbing', 'not-allowed', 'none', 'cover', 'contain', 'repeat', 'no-repeat', 'repeat-x', 'repeat-y', 'round', 'space', 'linear-gradient', 'radial-gradient',\r\n            'conic-gradient', 'url', 'calc', 'min', 'max', 'clamp', 'red', 'blue', 'green', 'black', 'white', 'gray', 'silver', 'yellow', 'orange', 'purple', 'pink', 'cyan', 'magenta',\r\n            'lime', 'teal', 'navy', 'transparent', 'currentcolor', 'inherit', 'initial', 'unset', 'revert', 'none', 'auto', 'fit-content', 'min-content', 'max-content']\r\n};\r\n\r\nCE.types =\r\n{\r\n    'JavaScript': ['Object', 'String', 'Function', 'Boolean', 'Symbol', 'Error', 'Number', 'TextEncoder', 'TextDecoder', 'Array', 'ArrayBuffer', 'InputEvent', 'MouseEvent',\r\n                   'Int8Array', 'Int16Array', 'Int32Array', 'Float32Array', 'Float64Array', 'Element'],\r\n    'TypeScript': ['arguments', 'constructor', 'null', 'typeof', 'debugger', 'abstract', 'Object', 'string', 'String', 'Function', 'Boolean', 'boolean', 'Error', 'Number', 'number', 'TextEncoder',\r\n                  'TextDecoder', 'Array', 'ArrayBuffer', 'InputEvent', 'MouseEvent', 'Int8Array', 'Int16Array', 'Int32Array', 'Float32Array', 'Float64Array', 'Element', 'bigint', 'unknown', 'any',\r\n                  'Record'],\r\n    'Rust': ['u128'],\r\n    'Python': ['int', 'type', 'float', 'map', 'list', 'ArithmeticError', 'AssertionError', 'AttributeError', 'Exception', 'EOFError', 'FloatingPointError', 'GeneratorExit',\r\n              'ImportError', 'IndentationError', 'IndexError', 'KeyError', 'KeyboardInterrupt', 'LookupError', 'MemoryError', 'NameError', 'NotImplementedError', 'OSError',\r\n              'OverflowError', 'ReferenceError', 'RuntimeError', 'StopIteration', 'SyntaxError', 'TabError', 'SystemError', 'SystemExit', 'TypeError', 'UnboundLocalError',\r\n              'UnicodeError', 'UnicodeEncodeError', 'UnicodeDecodeError', 'UnicodeTranslateError', 'ValueError', 'ZeroDivisionError'],\r\n    'C++': ['uint8_t', 'uint16_t', 'uint32_t'],\r\n    'PHP': ['Exception', 'DateTime', 'JsonSerializable'],\r\n};\r\n\r\nCE.builtIn =\r\n{\r\n    'JavaScript': ['document', 'console', 'window', 'navigator', 'performance'],\r\n    'CSS': ['*', '!important'],\r\n    'C++': ['vector', 'list', 'map'],\r\n    'WGSL': ['@vertex', '@fragment'],\r\n    'HTML': ['type', 'xmlns', 'PUBLIC', 'http-equiv', 'src', 'style', 'lang', 'href', 'rel', 'content', 'xml', 'alt'], // attributes\r\n    'Markdown': ['type', 'src', 'style', 'lang', 'href', 'rel', 'content', 'valign', 'alt'], // attributes\r\n    'PHP': ['echo', 'print'],\r\n};\r\n\r\nCE.statements =\r\n{\r\n    'JavaScript': ['for', 'if', 'else', 'case', 'switch', 'return', 'while', 'continue', 'break', 'do', 'import', 'default', 'export', 'from', 'throw', 'async', 'try', 'catch', 'await', 'as'],\r\n    'TypeScript': ['for', 'if', 'else', 'case', 'switch', 'return', 'while', 'continue', 'break', 'do', 'import', 'default', 'export', 'from', 'throw', 'async', 'try', 'catch', 'await', 'as'],\r\n    'CSS': ['@', 'import'],\r\n    'C': ['for', 'if', 'else', 'return', 'continue', 'break', 'case', 'switch', 'while', 'using', 'default', 'goto', 'do'],\r\n    'C++': ['std', 'for', 'if', 'else', 'return', 'continue', 'break', 'case', 'switch', 'while', 'using', 'glm', 'spdlog', 'default'],\r\n    'GLSL': ['for', 'if', 'else', 'return', 'continue', 'break'],\r\n    'WGSL': ['const','for', 'if', 'else', 'return', 'continue', 'break', 'storage', 'read', 'read_write', 'uniform', 'function', 'workgroup', 'bitcast'],\r\n    'Rust': ['break', 'else', 'continue', 'for', 'if', 'loop', 'match', 'return', 'while', 'do', 'yield'],\r\n    'Python': ['if', 'raise', 'del', 'import', 'return', 'elif', 'try', 'else', 'while', 'as', 'except', 'with', 'assert', 'finally', 'yield', 'break', 'for', 'class', 'continue',\r\n              'global', 'pass', 'from'],\r\n    'Batch': ['if', 'IF', 'for', 'FOR', 'in', 'IN', 'do', 'DO', 'call', 'CALL', 'goto', 'GOTO', 'exit', 'EXIT'],\r\n    'PHP': ['declare', 'enddeclare', 'foreach', 'endforeach', 'if', 'else', 'elseif', 'endif', 'for', 'endfor', 'while', 'endwhile', 'switch', 'case', 'default', 'endswitch', 'return', 'break', 'continue',\r\n            'try', 'catch', 'die', 'do', 'exit', 'finally'],\r\n};\r\n\r\nCE.symbols =\r\n{\r\n    'JavaScript': ['<', '>', '[', ']', '{', '}', '(', ')', ';', '=', '|', '||', '&', '&&', '?', '??'],\r\n    'TypeScript': ['<', '>', '[', ']', '{', '}', '(', ')', ';', '=', '|', '||', '&', '&&', '?', '??'],\r\n    'C': ['<', '>', '[', ']', '{', '}', '(', ')', ';', '=', '|', '||', '&', '&&', '?', '*', '-', '+'],\r\n    'C++': ['<', '>', '[', ']', '{', '}', '(', ')', ';', '=', '|', '||', '&', '&&', '?', '::', '*', '-', '+'],\r\n    'CMake': ['{', '}'],\r\n    'JSON': ['[', ']', '{', '}', '(', ')'],\r\n    'GLSL': ['[', ']', '{', '}', '(', ')'],\r\n    'WGSL': ['[', ']', '{', '}', '(', ')', '->'],\r\n    'CSS': ['{', '}', '(', ')', '*'],\r\n    'Rust': ['<', '>', '[', ']', '(', ')', '='],\r\n    'Python': ['<', '>', '[', ']', '(', ')', '='],\r\n    'Batch': ['[', ']', '(', ')', '%'],\r\n    'HTML': ['<', '>', '/'],\r\n    'XML': ['<', '>', '/'],\r\n    'PHP': ['[', ']', '{', '}', '(', ')'],\r\n};\r\n\r\nCE.REGISTER_LANGUAGE = function( name: string, options: any = {}, def: any, rules?: any[] )\r\n{\r\n    CE.languages[ name ] = options;\r\n\r\n    if( def?.keywords ) CE.keywords[ name ] = new Set( def.keywords );\r\n    if( def?.utils ) CE.utils[ name ] = new Set( def.utils );\r\n    if( def?.types ) CE.types[ name ] = new Set( def.types );\r\n    if( def?.builtIn ) CE.builtIn[ name ] = new Set( def.builtIn );\r\n    if( def?.statements ) CE.statements[ name ] = new Set( def.statements );\r\n    if( def?.symbols ) CE.symbols[ name ] = new Set( def.symbols );\r\n\r\n    if( rules ) HighlightRules[ name ] = rules;\r\n};\r\n\r\nLX.CodeEditor = CodeEditor;","// DocMaker.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'DocMaker' );\r\n\r\nconst CPP_KEY_WORDS = ['int', 'float', 'double', 'bool', 'char', 'wchar_t', 'const', 'static_cast', 'dynamic_cast', 'new', 'delete', 'void', 'true', 'false', 'auto', 'struct', 'typedef', 'nullptr', 'NULL', 'unsigned', 'namespace', 'auto'];\r\nconst CLASS_WORDS = ['uint32_t', 'uint64_t', 'uint8_t'];\r\nconst STATEMENT_WORDS = ['for', 'if', 'else', 'return', 'continue', 'break', 'case', 'switch', 'while', 'import', 'from', 'await'];\r\n\r\nconst JS_KEY_WORDS = ['var', 'let', 'const', 'static', 'function', 'null', 'undefined', 'new', 'delete', 'true', 'false', 'NaN', 'this'];\r\nconst HTML_ATTRIBUTES = ['html', 'charset', 'rel', 'src', 'href', 'crossorigin', 'type', 'lang'];\r\nconst HTML_TAGS = ['html', 'DOCTYPE', 'head', 'meta', 'title', 'link', 'script', 'body', 'style'];\r\n\r\nexport class DocMaker\r\n{\r\n    root: Element;\r\n    _listQueued: Element | undefined = undefined;\r\n\r\n    constructor( element?: Element )\r\n    {\r\n        this.root = element ?? document.body;\r\n    }\r\n\r\n    setDomTarget( element: Element )\r\n    {\r\n        this.root = element;\r\n    }\r\n\r\n    lineBreak( target?: Element )\r\n    {\r\n        target = target ?? this.root;\r\n        target.appendChild( document.createElement('br') );\r\n    }\r\n\r\n    header( string: string, type: string, id: string )\r\n    {\r\n        console.assert( string !== undefined && type !== undefined );\r\n        let header = document.createElement( type );\r\n        header.innerHTML = string;\r\n        if( id ) header.id = id;\r\n        this.root.appendChild( header );\r\n    }\r\n\r\n    paragraph( string: string, sup: boolean = false, className?: string )\r\n    {\r\n        console.assert( string !== undefined );\r\n        let paragraph = document.createElement(sup ? 'sup' : 'p');\r\n        paragraph.className = \"leading-relaxed \" + ( className ?? \"\" );\r\n        paragraph.innerHTML = string;\r\n        this.root.appendChild( paragraph );\r\n    }\r\n\r\n    code( text: string, language: string = \"js\" )\r\n    {\r\n        console.assert( text !== undefined );\r\n\r\n        text.replaceAll('<', '&lt;');\r\n        text.replaceAll('>', '&gt;');\r\n\r\n        let highlight = \"\";\r\n        let content = \"\";\r\n\r\n        const getHTML = ( h: string, c: string ) =>\r\n        {\r\n            return `<span class=\"${ h }\">${ c }</span>`;\r\n        };\r\n\r\n        for( let i = 0; i < text.length; ++i )\r\n        {\r\n            const char = text[ i ];\r\n            const string = text.substr( i );\r\n\r\n            const endLineIdx = string.indexOf( '\\n' );        \r\n            const line = string.substring( 0, endLineIdx > -1 ? endLineIdx : undefined );\r\n            \r\n            if( char == '@' )\r\n            {\r\n                const str = line.substr( 1 );\r\n                \r\n                if ( !( str.indexOf( '@' ) > -1 ) && !( str.indexOf( '[' ) > -1 ) )\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                let html = null;\r\n\r\n                const tagIndex = str.indexOf( '@' );\r\n                const skipTag = ( str[ tagIndex - 1 ] == '|' );\r\n\r\n                // Highlight is specified\r\n                if( text[ i + 1 ] == '[' )\r\n                {\r\n                    highlight = str.substr( 1, 3 );\r\n                    content = str.substring( 5, tagIndex );\r\n\r\n                    if( skipTag )\r\n                    {\r\n                        const newString = str.substring( 6 + content.length );\r\n                        const preContent = content;\r\n                        const postContent = newString.substring( 0, newString.indexOf( '@' ) );\r\n                        const finalContent = preContent.substring( 0, preContent.length - 1 ) + '@' + postContent;\r\n                        html = getHTML( highlight, finalContent );\r\n\r\n                        const ogContent = preContent + '@' + postContent;\r\n                        text = text.replace( `@[${ highlight }]${ ogContent }@`, html );\r\n                    }\r\n                    else\r\n                    {\r\n                        html = getHTML( highlight, content );\r\n                        text = text.replace( `@[${ highlight }]${ content }@`, html );\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    content = str.substring( 0, tagIndex );\r\n                    if( skipTag )\r\n                    {\r\n                        const preContent = str.substring( 0, str.indexOf( '@' ) - 1 );\r\n                        content = str.substring( preContent.length + 1 );\r\n                        content = preContent + content.substring( 0, content.substring( 1 ).indexOf( '@' ) + 1 );\r\n                        text = text.substr( 0, i ) + '@' + content + '@' + text.substr( i + content.length + 3 );\r\n                    }\r\n\r\n                    if( language == \"cpp\" && CPP_KEY_WORDS.includes( content ) )\r\n                    {\r\n                        highlight = \"kwd\";\r\n                    }\r\n                    else if( language == \"js\" && JS_KEY_WORDS.includes( content ) )\r\n                    {\r\n                        highlight = \"kwd\";\r\n                    }\r\n                    else if( CLASS_WORDS.includes( content ) )\r\n                    {\r\n                        highlight = \"cls\";\r\n                    }\r\n                    else if( STATEMENT_WORDS.includes( content ) )\r\n                    {\r\n                        highlight = \"lit\";    \r\n                    }\r\n                    else if( HTML_TAGS.includes( content ) )\r\n                    {\r\n                        highlight = \"tag\";    \r\n                    }\r\n                    else if( HTML_ATTRIBUTES.includes( content ) )\r\n                    {\r\n                        highlight = \"atn\";    \r\n                    }\r\n                    else if( ( content[ 0 ] == '\"' && content[ content.length - 1 ] == '\"' ) ||\r\n                            ( content[ 0 ] == \"'\" && content[ content.length - 1 ] == \"'\" ) ||\r\n                            ( content[ 0 ] == \"`\" && content[ content.length - 1 ] == \"`\" ) )\r\n                    {\r\n                        highlight = \"str\";\r\n                    }\r\n                    else if( !Number.isNaN( parseFloat( content ) ) )\r\n                    {\r\n                        highlight = \"dec\";    \r\n                    }\r\n                    else\r\n                    {\r\n                        console.error( \"ERROR[Code Parsing]: Unknown highlight type: \" + content );\r\n                        return;\r\n                    }\r\n\r\n                    html = getHTML( highlight, content );\r\n                    text = text.replace( `@${ content }@`, html );\r\n                }\r\n\r\n                i += ( html.length - 1 );\r\n            }\r\n        }\r\n        \r\n        let container = document.createElement('div');\r\n        container.className = \"code-container\";\r\n        let pre = document.createElement('pre');\r\n        let code = document.createElement('code');\r\n        code.innerHTML = text;\r\n\r\n        let button = document.createElement('button');\r\n        button.title = \"Copy code sample\";\r\n        button.appendChild(LX.makeIcon( \"Copy\" ));\r\n        button.addEventListener('click', this._copySnippet.bind( this, button ));\r\n        container.appendChild( button );\r\n\r\n        pre.appendChild( code );\r\n        container.appendChild( pre );\r\n        this.root.appendChild( container );\r\n    }\r\n\r\n    list( list: any[], type: string, target?: Element )\r\n    {\r\n        const validTypes = [ 'bullet', 'numbered' ];\r\n        console.assert( list && list.length > 0 && validTypes.includes(type), \"Invalid list type or empty list\" + type );\r\n        const typeString = type == 'bullet' ? 'ul' : 'ol';\r\n        let ul = document.createElement( typeString );\r\n        target = target ?? this.root;\r\n        target.appendChild( ul );\r\n        for( var el of list )\r\n        {\r\n            if( el.constructor === Array ) {\r\n                this.list( el, type, ul );\r\n                return;\r\n            }\r\n            let li = document.createElement( 'li' );\r\n            li.className = \"leading-loose\";\r\n            li.innerHTML = el;\r\n            ul.appendChild( li );\r\n        }\r\n    }\r\n\r\n    bulletList( list: any[] )\r\n    {\r\n        this.list( list, 'bullet' );\r\n    }\r\n\r\n    numberedList( list: any[] )\r\n    {\r\n        this.list( list, 'numbered' );\r\n    }\r\n\r\n    startCodeBulletList()\r\n    {\r\n        let ul = document.createElement('ul');\r\n        this._listQueued = ul;\r\n    }\r\n\r\n    endCodeBulletList()\r\n    {\r\n        if( this._listQueued === undefined) return;\r\n        console.assert( this._listQueued !== undefined );\r\n        this.root.appendChild( this._listQueued );\r\n        this._listQueued = undefined;\r\n    }\r\n\r\n    codeListItem( item: any, target?: Element )\r\n    {\r\n        target = target ?? this._listQueued;\r\n        let split = (item.constructor === Array);\r\n        if( split && item[0].constructor === Array ) {\r\n            this.codeBulletList( item, target );\r\n            return;\r\n        }\r\n        let li = document.createElement('li');\r\n        li.className = \"leading-loose\";\r\n        li.innerHTML = split ? ( item.length == 2 ? this.iCode( item[0] ) + \": \" + item[1] : this.iCode( item[0] + \" <span class='desc'>(\" + item[1] + \")</span>\" ) + \": \" + item[2] ) : this.iCode( item );\r\n        target?.appendChild( li );\r\n    }\r\n\r\n    codeBulletList( list: any[], target?: Element )\r\n    {\r\n        console.assert( list !== undefined && list.length > 0 );\r\n        let ul = document.createElement('ul');\r\n        for( var el of list )\r\n        {\r\n            this.codeListItem( el, ul );\r\n        }\r\n\r\n        if( target )\r\n        {\r\n            target.appendChild( ul );\r\n        }\r\n        else\r\n        {\r\n            this.root.appendChild( ul );\r\n        }\r\n    }\r\n\r\n    image( src: string, caption: string = \"\", parent?: Element )\r\n    {\r\n        let img = document.createElement('img');\r\n        img.src = src;\r\n        img.alt = caption;\r\n        img.className = \"my-1\";\r\n        parent = parent ?? this.root;\r\n        parent.appendChild( img );\r\n    }\r\n\r\n    images( sources: string[], captions: string[] = [], width?: string, height?: string )\r\n    {\r\n        const mobile = navigator && /Android|iPhone/i.test(navigator.userAgent);\r\n\r\n        if( !mobile )\r\n        {\r\n            let div: HTMLElement = document.createElement('div');\r\n            div.style.width = width ?? \"auto\";\r\n            div.style.height = height ?? \"256px\";\r\n            div.className = \"flex flex-row justify-center\";\r\n\r\n            for( let i = 0; i < sources.length; ++i )\r\n            {\r\n                this.image( sources[ i ], captions[ i ], div );\r\n            }\r\n\r\n            this.root.appendChild( div );\r\n        }\r\n        else\r\n        {\r\n            for( let i = 0; i < sources.length; ++i )\r\n            {\r\n                this.image( sources[ i ], captions[ i ] );\r\n            }\r\n        }\r\n    }\r\n\r\n    video( src: string, caption: string = \"\", controls: boolean = true, autoplay: boolean = false )\r\n    {\r\n        let video: any = document.createElement( 'video' );\r\n        video.src = src;\r\n        video.controls = controls;\r\n        video.autoplay = autoplay;\r\n        if( autoplay )\r\n        {\r\n            video.muted = true;\r\n        }\r\n        video.loop = true;\r\n        video.alt = caption;\r\n        this.root.appendChild( video  );\r\n    }\r\n\r\n    note( text: string, warning: boolean = false, title?: string, icon?: string )\r\n    {\r\n        console.assert( text !== undefined );\r\n\r\n        const note = LX.makeContainer( [], \"border rounded-lg overflow-hidden text-md fg-secondary my-6\", \"\", this.root );\r\n\r\n        let header = document.createElement( 'div' );\r\n        header.className = \"flex bg-tertiary font-semibold px-3 py-2 gap-2 fg-secondary\";\r\n        header.appendChild( LX.makeIcon( icon ?? ( warning ? \"MessageSquareWarning\" : \"NotepadText\" ) ) );\r\n        header.innerHTML += ( title ?? ( warning ? \"Important\" : \"Note\" ) );\r\n        note.appendChild( header );\r\n\r\n        // Node body\r\n        LX.makeContainer( [], \"leading-6 p-3\", text, note );\r\n    }\r\n\r\n    classCtor( name: string, params: any[], language: string = \"js\" )\r\n    {\r\n        let paramsHTML = \"\";    \r\n        for( var p of params )\r\n        {\r\n            const str1 = p[ 0 ]; // cpp: param          js: name\r\n            const str2 = p[ 1 ]; // cpp: defaultValue   js: type\r\n            if( language == \"cpp\" )\r\n            {\r\n                paramsHTML += str1 + ( str2 ? \" = <span class='desc'>\" + str2 + \"</span>\" : \"\" ) + ( params.indexOf( p ) != (params.length - 1) ? ', ' : '' );\r\n            }\r\n            else if( language == \"js\" )\r\n            {\r\n                paramsHTML += str1 + \": <span class='desc'>\" + str2 + \"</span>\" + ( params.indexOf( p ) != (params.length - 1) ? ', ' : '' );\r\n            }\r\n        }\r\n        let pr = document.createElement('p');\r\n        pr.innerHTML = this.iCode( \"<span class='constructor'>\" + name + \"(\" + paramsHTML + \")\" + \"</span>\" );\r\n        this.root.appendChild( pr );\r\n    }\r\n\r\n    classMethod( name: string, desc: string, params: any[], ret?: string )\r\n    {\r\n        this.startCodeBulletList();\r\n\r\n        let paramsHTML = \"\";    \r\n        for( var p of params )\r\n        {\r\n            const name = p[ 0 ];\r\n            const type = p[ 1 ];\r\n            paramsHTML += name + \": <span class='desc'>\" + type + \"</span>\" + ( params.indexOf( p ) != (params.length - 1) ? ', ' : '' );\r\n        }\r\n        let li = document.createElement('li');\r\n        li.innerHTML = this.iCode( \"<span class='method'>\" + name + \" (\" + paramsHTML + \")\" + ( ret ? (\": \" + ret) : \"\" ) + \"</span>\" );\r\n        this._listQueued?.appendChild( li );\r\n        \r\n        this.endCodeBulletList();\r\n        \r\n        this.paragraph( desc );\r\n    }\r\n\r\n    iLink( text: string, href: string )\r\n    {\r\n        console.assert( text !== undefined && href !== undefined );\r\n        return `<a href=\"${ href }\">${ text }</a>`;\r\n    }\r\n\r\n    iPage( text: string, page: string )\r\n    {\r\n        console.assert( text !== undefined && page !== undefined );\r\n        const startPage = page.replace( \".html\", \"\" );\r\n        const g = globalThis as any;\r\n        if( g.setPath && g.loadPage )\r\n        {\r\n            const tabName = g.setPath( startPage );\r\n            return `<a onclick=\"loadPage('${ page }', true, '${ tabName }')\">${ text }</a>`;\r\n        }\r\n        else\r\n        {\r\n            console.warn( \"[DocMaker] Create globalThis.setPath and globalThis.loadPage to use inline pages!\" )\r\n        }\r\n    }\r\n\r\n    iCode( text: string, codeClass?: string )\r\n    {\r\n        console.assert( text !== undefined );\r\n        return `<code class=\"inline ${ codeClass ?? \"\" }\">${ text }</code>`;\r\n    }\r\n\r\n    _copySnippet( b: any )\r\n    {\r\n        b.innerHTML = \"\";\r\n        b.appendChild(LX.makeIcon( \"Check\" ));\r\n        b.classList.add('copied');\r\n\r\n        setTimeout( () => {\r\n            b.innerHTML = \"\";\r\n            b.appendChild(LX.makeIcon( \"Copy\" ));\r\n            b.classList.remove('copied');\r\n        }, 2000 );\r\n\r\n        navigator.clipboard.writeText( b.dataset['snippet'] ?? b.parentElement.innerText );\r\n        console.log(\"Copied!\");\r\n    }\r\n}","// ImUI.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'ImUI' );\r\n\r\nconst vec2 = LX.vec2;\r\n\r\n/**\r\n * @class ImUI\r\n */\r\n\r\nexport class ImUI\r\n{\r\n    root: any;\r\n    canvas: any;\r\n\r\n    // Components\r\n    components: any = {};\r\n\r\n    // Mouse state\r\n    mouseDown: boolean = false;\r\n    mousePosition: typeof vec2 = new vec2();\r\n    usePointerCursor: boolean = false;\r\n    eventClick: MouseEvent | undefined = undefined;\r\n\r\n\r\n    constructor( canvas: HTMLCanvasElement, options: any = {} )\r\n    {\r\n        console.assert( canvas !== undefined );\r\n        \r\n        // To capture key events\r\n        canvas.tabIndex = -1;\r\n        \r\n        canvas.addEventListener( 'keydown', this._processKey.bind(this), true);\r\n        canvas.addEventListener( 'mousedown', this._processMouse.bind(this) );\r\n        canvas.addEventListener( 'mouseup', this._processMouse.bind(this) );\r\n        canvas.addEventListener( 'mousemove', this._processMouse.bind(this) );\r\n        canvas.addEventListener( 'click', this._processMouse.bind(this) );\r\n        \r\n        // this.font = new FontFace(\"Ubuntu\", \"url(../data/Ubuntu-Bold.ttf)\");\r\n        // this.font.load().then(\r\n        //     ( font ) => {\r\n        //         document.fonts.add( font );\r\n        //         if( options.onready ) options.onready();\r\n        //     },\r\n        //     (err) => {\r\n        //         console.error(err);\r\n        //     },\r\n        // );\r\n\r\n        this.root = this.canvas = canvas;\r\n    }\r\n\r\n    _processKey( e: KeyboardEvent )\r\n    {\r\n        const detail: any = e.detail;\r\n        const key = e.key ?? detail.key;\r\n        console.log( key );\r\n    }\r\n\r\n    _processMouse( e: MouseEvent )\r\n    {\r\n        if( e.type == 'mousedown' )\r\n        {\r\n            this.mouseDown = true;\r\n        }\r\n        \r\n        else if( e.type == 'mouseup' )\r\n        {\r\n            this._processClick(e);\r\n            this.mouseDown = false;\r\n        }\r\n\r\n        else if( e.type == 'mousemove' )\r\n        {\r\n            this.mousePosition.set( e.clientX, e.clientY );\r\n        }\r\n    }\r\n\r\n    _processClick( e: MouseEvent )\r\n    {\r\n        this.eventClick = e;\r\n    }\r\n\r\n    /**\r\n     * @method Button\r\n     * @param {String} text\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     */\r\n\r\n    Button( text: string, x: number, y: number, callback: any )\r\n    {\r\n        const ctx = this.canvas.getContext(\"2d\");\r\n\r\n        // Element properties\r\n\r\n        let fontSize = 16;\r\n        ctx.font = fontSize + \"px Arial\";\r\n\r\n        let padding = new LX.vec2( 12, 8 );\r\n        let position = new LX.vec2( x, y );\r\n\r\n        const metrics = ctx.measureText( text );\r\n        let size = new LX.vec2( metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent );\r\n\r\n        // Get mouse state\r\n\r\n        const hovered = this.mousePosition.x >= position.x && this.mousePosition.x <= (position.x + size.x + padding.x * 2.0)\r\n        && this.mousePosition.y >= position.y && this.mousePosition.y <= (position.y + size.y + padding.y * 2.0);\r\n\r\n        const active = hovered && this.mouseDown;\r\n\r\n        // Draw button\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = active ? \"#666\" : (hovered ? \"#444\" : \"#222\");\r\n        ctx.roundRect( position.x, position.y, size.x + padding.x * 2.0, size.y + padding.y * 2.0, [8, 8, 8, 8] );\r\n        ctx.fill();\r\n\r\n        // Draw text\r\n\r\n        ctx.fillStyle = hovered ? \"#fff\" : \"#ddd\";\r\n        ctx.fillText( text, position.x + padding.x, position.y + metrics.actualBoundingBoxAscent + padding.y );\r\n\r\n        this.usePointerCursor = this.usePointerCursor || hovered;\r\n\r\n        if( this.eventClick )\r\n        {\r\n            if(callback) callback();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @method Slider\r\n     * @param {String} text\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @param {Number} value\r\n     */\r\n\r\n    Slider( text: string, x: number, y: number, value: number = 0, callback: any )\r\n    {\r\n        const ctx = this.canvas.getContext(\"2d\");\r\n\r\n        // Store slider value\r\n        \r\n        if( !this.components[ text ] )\r\n        {\r\n            this.components[ text ] = { value: value };\r\n        }\r\n        else\r\n        {\r\n            value = this.components[ text ].value;\r\n        }\r\n\r\n        // Element properties\r\n\r\n        let fontSize = 16;\r\n        ctx.font = fontSize + \"px Arial\";\r\n\r\n        let padding = new LX.vec2( 12, 8 );\r\n        let position = new LX.vec2( x, y );\r\n\r\n        const metrics = ctx.measureText( text );\r\n        let size = new LX.vec2( metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent );\r\n        let fullSize = size.add( padding.mul( 2.0 ) );\r\n\r\n        // Get mouse state\r\n\r\n        const hovered = this.mousePosition.x >= position.x && this.mousePosition.x <= (position.x + fullSize.x)\r\n            && this.mousePosition.y >= position.y && this.mousePosition.y <= (position.y + fullSize.y);\r\n\r\n        const active = hovered && this.mouseDown;\r\n\r\n        // Draw box\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = hovered ? \"#444\" : \"#222\";\r\n        ctx.roundRect( position.x, position.y, fullSize.x, fullSize.y, [8, 8, 8, 8] );\r\n        ctx.fill();\r\n\r\n        // Draw value\r\n\r\n        const min = position.x;\r\n        const max = position.x + fullSize.x;\r\n\r\n        if( active )\r\n        {\r\n            value = LX.clamp((this.mousePosition.x - min) / (max - min), 0.0, 1.0);\r\n            this.components[ text ].value = value;\r\n        }\r\n        \r\n        let valueSize = new LX.vec2( fullSize.x * value, size.y );\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = hovered ? \"#6074e7\" : \"#3e57e4\";\r\n        if( valueSize.x > ( fullSize.x - 8 ) ) // 8: radius\r\n        {\r\n            ctx.roundRect( position.x, position.y, valueSize.x, valueSize.y + padding.y * 2.0, [8, 8, 8, 8] );\r\n            ctx.fill();    \r\n        }\r\n        else\r\n        {\r\n            ctx.fillRect( position.x, position.y, valueSize.x, valueSize.y + padding.y * 2.0 );\r\n        }\r\n\r\n        // Draw text\r\n\r\n        ctx.fillStyle = hovered ? \"#fff\" : \"#ddd\";\r\n        ctx.fillText( text, position.x + padding.x, position.y + metrics.actualBoundingBoxAscent + padding.y );\r\n\r\n        this.usePointerCursor = this.usePointerCursor || hovered;\r\n\r\n        if( active )\r\n        {\r\n            if(callback) callback( value );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method Checkbox\r\n     * @param {String} text\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @param {Number} value\r\n     */\r\n\r\n    Checkbox( text: string, x: number, y: number, value: boolean = false, callback: any )\r\n    {\r\n        const ctx = this.canvas.getContext(\"2d\");\r\n\r\n        // Store slider value\r\n        \r\n        if( !this.components[ text ] )\r\n        {\r\n            this.components[ text ] = { value: value };\r\n        }\r\n        else\r\n        {\r\n            value = this.components[ text ].value;\r\n        }\r\n\r\n        // Element properties\r\n\r\n        let fontSize = 16;\r\n        ctx.font = fontSize + \"px Arial\";\r\n\r\n        let padding = new LX.vec2( 12, 8 );\r\n        let position = new LX.vec2( x, y );\r\n\r\n        const metrics = ctx.measureText( text );\r\n        let size = new LX.vec2( metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent );\r\n\r\n        let boxMargin = 12;\r\n        let fullSize = new LX.vec2(boxMargin * 2.0, 0);\r\n        fullSize.add( size, fullSize );\r\n\r\n        // Get mouse state\r\n\r\n        const boxStartX = position.x + size.x + padding.x + boxMargin;\r\n        const boxStartY = position.y + padding.y;\r\n        const hovered = this.mousePosition.x >= boxStartX && this.mousePosition.x <= (boxStartX + size.y)\r\n        && this.mousePosition.y >= boxStartY && this.mousePosition.y <= (boxStartY + size.y);\r\n\r\n        const active = hovered && this.mouseDown;\r\n        const pressed = hovered && this.eventClick;\r\n\r\n        // Draw button\r\n\r\n        ctx.fillStyle = active ? \"#666\" : (hovered ? \"#444\" : \"#222\");\r\n        ctx.fillRect( position.x, position.y, fullSize.x + padding.x * 2.0, fullSize.y + padding.y * 2.0 );\r\n\r\n        // Draw checkbox\r\n\r\n        if( pressed )\r\n        {\r\n            value = !value;\r\n            this.components[ text ].value = value;\r\n            if( callback )\r\n            {\r\n                callback( value );\r\n            }\r\n        }\r\n\r\n        ctx.fillStyle = value ? (active ? \"#ddd\" : (hovered ? \"#6074e7\" : \"#3e57e4\")) : \r\n                            (active ? \"#bbb\" : (hovered ? \"#777\" : \"#888\"));\r\n        ctx.fillRect( position.x + size.x + padding.x + boxMargin, position.y + padding.y, size.y, size.y );\r\n\r\n        // Draw text\r\n\r\n        ctx.fillStyle = hovered ? \"#fff\" : \"#ddd\";\r\n        ctx.fillText( text, position.x + padding.x, position.y + metrics.actualBoundingBoxAscent + padding.y );\r\n\r\n        this.usePointerCursor = this.usePointerCursor || hovered;\r\n    }\r\n\r\n    /**\r\n     * @method endFrame\r\n     * @description Clears the information stored during the last frame\r\n     */\r\n\r\n    endFrame() {\r\n\r\n        delete this.eventClick;\r\n\r\n        // Pointer cursor on hover\r\n        document.body.style.cursor = this.usePointerCursor ? \"pointer\" : \"default\";\r\n\r\n        // Clear info\r\n        this.usePointerCursor = false;\r\n    }\r\n}\r\n\r\nLX.ImUI = ImUI;","// GraphEditor.ts @jxarco\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'GraphEditor' );\r\n\r\nconst g = ( globalThis as any );\r\nconst vec2 = LX.vec2;\r\nconst Area = LX.Area;\r\nconst Panel = LX.Panel;\r\nconst Sidebar = LX.Sidebar;\r\nconst ContextMenu = LX.ContextMenu;\r\nconst PocketDialog = LX.PocketDialog;\r\n\r\nexport class BoundingBox\r\n{\r\n    origin: typeof vec2;\r\n    size: typeof vec2;\r\n\r\n    constructor( o : typeof vec2, s: typeof vec2 )\r\n    {\r\n        this.origin = o ?? new vec2( 0, 0 );\r\n        this.size = s ?? new vec2( 0, 0 );\r\n    }\r\n\r\n    merge( bb: BoundingBox )\r\n    {\r\n        console.assert( bb.constructor == BoundingBox );\r\n\r\n        const min0 = this.origin;\r\n        const max0 = this.origin.add( this.size );\r\n\r\n        const min1 = bb.origin;\r\n        const max1 = bb.origin.add( bb.size );\r\n\r\n        const mergeMin = new vec2( Math.min( min0.x, min1.x ), Math.min( min0.y, min1.y ) );\r\n        const mergeMax = new vec2( Math.max( max0.x, max1.x ), Math.max( max0.y, max1.y ) );\r\n\r\n        this.origin = mergeMin;\r\n        this.size = mergeMax.sub( mergeMin );\r\n    }\r\n\r\n    inside( bb: BoundingBox, full: boolean = true )\r\n    {\r\n        const min0 = this.origin;\r\n        const max0 = this.origin.add( this.size );\r\n\r\n        const min1 = bb.origin;\r\n        const max1 = bb.origin.add( bb.size );\r\n\r\n        if( full )\r\n        {\r\n            return min1.x >= min0.x && max1.x <= max0.x\r\n                    && min1.y >= min0.y && max1.y <= max0.y;\r\n        }\r\n        else\r\n        {\r\n            return max1.x >= min0.x && min1.x <= max0.x\r\n                && max1.y >= min0.y && min1.y <= max0.y;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @class GraphEditor\r\n */\r\n\r\nexport class GraphEditor\r\n{\r\n\r\n    static __instances: GraphEditor[] = [];\r\n\r\n    // Editor\r\n\r\n    static MIN_SCALE: number            = 0.25;\r\n    static MAX_SCALE: number            = 4.0;\r\n\r\n    static EVENT_MOUSEMOVE: number      = 0;\r\n    static EVENT_MOUSEWHEEL: number     = 1;\r\n\r\n    static LAST_GROUP_ID: number        = 0;\r\n    static LAST_FUNCTION_ID: number     = 0;\r\n\r\n    static STOPPED: number              = 0;\r\n    static RUNNING: number              = 1;\r\n\r\n    // Node Drawing\r\n\r\n    static NODE_IO_INPUT: number        = 0;\r\n    static NODE_IO_OUTPUT: number       = 1;\r\n\r\n    static NODE_TYPES: Record<string, GraphNode> = {};\r\n\r\n    static onCustomNodeRegistered: ( s: string, n: GraphNode ) => void = () => {};\r\n    static onNodeTypeReplaced: ( s: string, n: GraphNode, p: GraphNode )=> void = () => {}\r\n\r\n    root: HTMLElement;\r\n    area: typeof Area;\r\n    propertiesDialog: typeof PocketDialog;\r\n    \r\n    currentGraph: Graph | null = null;\r\n    keys: any = {};\r\n    graphs: Record<string, any> = {};\r\n    nodes: Record<string, any> = {};\r\n    variables: Record<string, any> = {};\r\n    groups: any = {};\r\n    supportedCastTypes: any = {};\r\n    selectedNodes: any[] = [];\r\n    main: string = \"\";\r\n    mustStop: boolean = false;\r\n    state: number = GraphEditor.STOPPED;\r\n    isFocused: boolean = false;\r\n    \r\n    _graphContainer: HTMLElement;\r\n    _sidebarDom: HTMLElement;\r\n    _sidebarActive: boolean = true;\r\n    _sidebar: typeof Sidebar;\r\n    _domLinks: HTMLElement;\r\n    _domNodes: HTMLElement;\r\n    _mousePosition: typeof vec2 = new vec2( 0, 0 );\r\n    _deltaMousePosition: typeof vec2 = new vec2( 0, 0 );\r\n    _snappedDeltaMousePosition: typeof vec2 = new vec2( 0, 0 );\r\n    _lastMousePosition: typeof vec2 = new vec2( 0, 0 );\r\n    _lastSnappedMousePosition: typeof vec2 = new vec2( 0, 0 );\r\n    _generatingLink: any;\r\n    _snapToGrid: boolean = false;\r\n    _snapValue: number = 1.0;\r\n    _nodeBackgroundOpacity: number = 0.8;\r\n    _patternSizeF: number = 15.0;\r\n    _patternSize: typeof vec2 = new vec2( this._patternSizeF );\r\n    _circlePatternSize = this._patternSizeF * 0.04;\r\n    _circlePatternColor: string = '#71717a9c';\r\n    _background: SVGSVGElement | undefined;\r\n    _undoSteps: any[] = [];\r\n    _redoSteps: any[] = [];\r\n    _clipboardData: any;\r\n    _lastMouseDown: number = 0.0;\r\n    _boxSelecting: any;\r\n    _boxSelectRemoving: any;\r\n    _currentBoxSelectionSVG: SVGSVGElement | undefined;\r\n\r\n    constructor( area: typeof Area, options: any = {} )\r\n    {\r\n        GraphEditor.__instances.push( this );\r\n\r\n        this._sidebar = area.addSidebar( ( m: typeof Sidebar ) => {\r\n\r\n        }, {\r\n            displaySelected: true,\r\n            headerIcon: \"EllipsisVertical\",\r\n            headerTitle: \"Create\",\r\n            headerSubtitle: \"Press to rename\",\r\n            onHeaderPressed: () => this._showRenameGraphDialog(),\r\n            footerIcon: \"Plus\",\r\n            footerTitle: \"Create\",\r\n            footerSubtitle: \"Graph or Function\",\r\n            onFooterPressed: ( e: any ) => this._onSidebarCreate( e )\r\n        });\r\n\r\n        this.area = new Area( { className: \"lexgraph\" } );\r\n\r\n        area.root.classList.add( 'grapharea' );\r\n\r\n        this.root = this.area.root;\r\n        this.root.tabIndex = -1;\r\n\r\n        area.attach( this.root );\r\n\r\n        this._graphContainer = area.sections[ 1 ].root;\r\n        this._sidebarDom = area.sections[ 0 ].root;\r\n        this._sidebarActive = options.sidebar ?? this._sidebarActive;\r\n\r\n        // Set sidebar state depending on options..\r\n        LX.doAsync( () => {\r\n            this._sidebar.toggleCollapsed( !this._sidebarActive );\r\n        }, 50 );\r\n\r\n        // Bind resize\r\n\r\n        area.onresize = ( bb: any ) => {\r\n\r\n        };\r\n\r\n        area.addOverlayButtons( [\r\n            [\r\n                {\r\n                    name: \"Start Graph\",\r\n                    icon: \"Play@solid\",\r\n                    callback: () => this.start(),\r\n                    selectable: true\r\n                },\r\n                {\r\n                    name: \"Stop Graph\",\r\n                    icon: \"Stop@solid\",\r\n                    callback: () => this.stop(),\r\n                    selectable: true\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    name: \"Enable Snapping\",\r\n                    icon: \"Frame\",\r\n                    callback: () => this._toggleSnapping(),\r\n                    selectable: true\r\n                },\r\n                {\r\n                    name: 1,\r\n                    options: [1, 2, 3],\r\n                    callback: ( value: number ) => this._setSnappingValue( value ),\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    name: \"Import\",\r\n                    icon: \"Upload\",\r\n                    callback: () => { this.loadGraph( \"../../data/graph_sample.json\" ); }\r\n                },\r\n                {\r\n                    name: \"Export\",\r\n                    icon: \"ArrowRightFromLine\",\r\n                    callback: () => this.currentGraph?.export()\r\n                }\r\n            ]\r\n        ], { float: \"htc\" } );\r\n\r\n        this.root.addEventListener( 'keydown', this._processKeyDown.bind( this ), true );\r\n        this.root.addEventListener( 'keyup', this._processKeyUp.bind( this ), true );\r\n        this.root.addEventListener( 'mousedown', this._processMouse.bind( this ) );\r\n        this.root.addEventListener( 'mouseup', this._processMouse.bind( this ) );\r\n        this.root.addEventListener( 'mousemove', this._processMouse.bind( this ) );\r\n        this.root.addEventListener( 'mousewheel', this._processMouse.bind(this) );\r\n        this.root.addEventListener( 'mouseleave', this._processMouse.bind(this) );\r\n        this.root.addEventListener( 'click', this._processMouse.bind( this ) );\r\n        this.root.addEventListener( 'contextmenu', this._processMouse.bind( this ) );\r\n        this.root.addEventListener( 'focus', this._processFocus.bind( this, true) );\r\n        this.root.addEventListener( 'focusout', this._processFocus.bind( this, false ) );\r\n\r\n        this.propertiesDialog = new PocketDialog( \"Properties\", null, {\r\n            size: [ \"350px\", null ],\r\n            position: [ \"8px\", \"8px\" ],\r\n            float: \"left\",\r\n            class: 'lexgraphpropdialog'\r\n        } );\r\n\r\n        // Avoid closing the dialog on click..\r\n\r\n        this.propertiesDialog.root.addEventListener( \"mousedown\", function( e: MouseEvent ) {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n        });\r\n\r\n        this.propertiesDialog.root.addEventListener( \"mouseup\", function( e: MouseEvent ) {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // Move to root..\r\n        this.root.appendChild( this.propertiesDialog.root );\r\n\r\n        this.addCastType( 'float', 'vec2', ( v: number ) => { return [ v, v ]; } );\r\n        this.addCastType( 'float', 'vec3', ( v: number ) => { return [ v, v, v ]; } );\r\n        this.addCastType( 'float', 'vec4', ( v: number ) => { return [ v, v, v, v ]; } );\r\n        this.addCastType( 'float', 'bool', ( v: number ) => { return !!v; } );\r\n\r\n        this.addCastType( 'vec4', 'vec3', ( v: number[] ) => { v.slice( 0, 3 ); return v; } );\r\n        this.addCastType( 'vec4', 'vec2', ( v: number[] ) => { v.slice( 0, 2 ); return v; } );\r\n        this.addCastType( 'vec3', 'vec2', ( v: number[] ) => { v.slice( 0, 2 ); return v; } );\r\n\r\n        this.addCastType( 'vec3', 'vec4', ( v: number[] ) => { v.push( 1 ); return v; } );\r\n        this.addCastType( 'vec2', 'vec3', ( v: number[] ) => { v.push( 1 ); return v; } );\r\n        this.addCastType( 'vec2', 'vec4', ( v: number[] ) => { v.push( 0, 1 ); return v; } );\r\n\r\n        this._nodeBackgroundOpacity = options.disableNodeOpacity ? 1.0 : this._nodeBackgroundOpacity;\r\n\r\n        // Back pattern\r\n        this._generatePattern();\r\n\r\n        // Links\r\n\r\n        this._domLinks = document.createElement( 'div' );\r\n        this._domLinks.classList.add( 'lexgraphlinks' );\r\n        this.root.appendChild( this._domLinks );\r\n\r\n        // Nodes\r\n\r\n        this._domNodes = document.createElement( 'div' );\r\n        this._domNodes.classList.add( 'lexgraphnodes' );\r\n        this.root.appendChild( this._domNodes );\r\n\r\n        g.ge = this;\r\n    }\r\n\r\n    static getInstances()\r\n    {\r\n        return GraphEditor.__instances;\r\n    }\r\n\r\n    /**\r\n     * Register a node class so it can be listed when the user wants to create a new one\r\n     * @method registerCustomNode\r\n     * @param {String} type: name of the node and path\r\n     * @param {Class} baseClass class containing the structure of the custom node\r\n     */\r\n\r\n    static registerCustomNode( type: string, baseClass: any )\r\n    {\r\n        if ( !baseClass.prototype )\r\n        {\r\n            throw \"Cannot register a simple object, it must be a class with a prototype!\";\r\n        }\r\n\r\n        // Get info from path\r\n        const pos = type.lastIndexOf( \"/\" );\r\n\r\n        baseClass.category = type.substring( 0, pos );\r\n        baseClass.title = baseClass.title ?? type.substring( pos + 1 );\r\n        baseClass.type = type;\r\n\r\n        if( !baseClass.prototype.onExecute )\r\n        {\r\n            console.warn( `GraphNode [${ baseClass.title }] does not have a callback attached.` );\r\n        }\r\n\r\n        const prev = GraphEditor.NODE_TYPES[ type ];\r\n        if( prev )\r\n        {\r\n            console.warn( `Replacing node type [${ type }]` );\r\n        }\r\n\r\n        GraphEditor.NODE_TYPES[ type ] = baseClass;\r\n\r\n        // Some callbacks..\r\n\r\n        if ( GraphEditor.onCustomNodeRegistered )\r\n        {\r\n            GraphEditor.onCustomNodeRegistered( type, baseClass );\r\n        }\r\n\r\n        if ( prev && GraphEditor.onNodeTypeReplaced )\r\n        {\r\n            GraphEditor.onNodeTypeReplaced( type, baseClass, prev );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a node of a given type with a name. The node is not attached to any graph yet.\r\n     * @method createNode\r\n     * @param {String} type full name of the node class. p.e. \"math/sin\"\r\n     * @param {String} title a name to distinguish from other nodes\r\n     * @param {Object} options Store node options\r\n     */\r\n\r\n    static addNode( type: string, title?: string, options: any = {} )\r\n    {\r\n        var baseClass: any = GraphEditor.NODE_TYPES[ type ];\r\n\r\n        if( !baseClass )\r\n        {\r\n            console.warn( `GraphNode type [${ type }] not registered.` );\r\n            return null;\r\n        }\r\n\r\n        title = title ?? baseClass.title;\r\n\r\n        const node = new baseClass( title );\r\n\r\n        if( node.onCreate )\r\n        {\r\n            node.onCreate();\r\n        }\r\n\r\n        node.type = type;\r\n        node.title = title;\r\n        node.position = new vec2( 0, 0 );\r\n        node.color = null;\r\n\r\n        if( baseClass.name == 'NodeFunction' )\r\n        {\r\n            node.gid = baseClass.gid;\r\n        }\r\n\r\n        // Extra options\r\n        if ( options )\r\n        {\r\n            for (var i in options) {\r\n                node[ i ] = options[ i ];\r\n            }\r\n        }\r\n\r\n        if ( node.onNodeCreated )\r\n        {\r\n            node.onNodeCreated();\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * @method setGraph\r\n     * @param {Graph} graph\r\n     */\r\n\r\n    setGraph( graph: Graph )\r\n    {\r\n        // Nothing to do, already there...\r\n        if( this.currentGraph && graph.id == this.currentGraph.id )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.clear();\r\n\r\n        graph.id = graph.id ?? graph.constructor.name  + '-' + LX.guidGenerator();\r\n\r\n        this.graphs[ graph.id ] = graph;\r\n\r\n        if( !graph.nodes )\r\n        {\r\n            console.warn( 'Graph does not contain any node!' );\r\n            return;\r\n        }\r\n\r\n        this.currentGraph = graph;\r\n\r\n        this._updatePattern();\r\n\r\n        for( let node of graph.nodes )\r\n        {\r\n            this._createNodeDOM( node );\r\n        }\r\n\r\n        for( let group of graph.groups )\r\n        {\r\n            const groupDom: any = this._createGroup( group );\r\n            groupDom.querySelector( '.lexgraphgrouptitle' ).value = group.name;\r\n            this._domNodes.prepend( groupDom );\r\n        }\r\n\r\n        for( let linkId in graph.links )\r\n        {\r\n            const links = graph.links[ linkId ];\r\n\r\n            for( let link of links )\r\n            {\r\n                this._createLink( link );\r\n            }\r\n        }\r\n\r\n        this._updateGraphName( graph.name );\r\n        this._togglePropertiesDialog( false );\r\n    }\r\n\r\n    /**\r\n     * @method loadGraph\r\n     * @param {String} url\r\n     * @param {Function} callback Function to call once the graph is loaded\r\n     */\r\n\r\n    loadGraph( url: string, callback?: ( g: Graph ) => void )\r\n    {\r\n        const onComplete = ( json: any ) => {\r\n\r\n            let graph: Graph | GraphFunction = ( json.type == 'Graph' ) ? this.addGraph( json ) : this.addGraphFunction( json );\r\n\r\n            if( callback )\r\n                callback( graph );\r\n        }\r\n\r\n        const onError = ( v: any ) => console.error(v);\r\n\r\n        LX.requestJSON( url, onComplete, onError );\r\n    }\r\n\r\n    /**\r\n     * @method addGraph\r\n     * @param {Object} o Options to configure the graph\r\n     */\r\n\r\n    addGraph( o?: any )\r\n    {\r\n        let graph = new Graph();\r\n        graph.editor = this;\r\n\r\n        if( o )\r\n        {\r\n            // Load functions first if any..\r\n\r\n            for( let fn of o.functions ?? [] )\r\n            {\r\n                this.addGraphFunction( fn );\r\n            }\r\n\r\n            graph.configure( o );\r\n        }\r\n\r\n        this.setGraph( graph );\r\n\r\n        this._sidebar.add( graph.name, { icon: \"CircleNodes\", className: graph.id, callback: () => { this.setGraph( graph ) } } );\r\n        this._sidebar.update();\r\n        this._sidebar.select( graph.name );\r\n\r\n        return graph;\r\n    }\r\n\r\n    /**\r\n     * @method addGraphFunction\r\n     * @param {Object} o Options to configure the graph\r\n     */\r\n\r\n    addGraphFunction( o?: any )\r\n    {\r\n        let func = new GraphFunction();\r\n        func.editor = this;\r\n\r\n        if( o )\r\n        {\r\n            // Load other inner functions first if any..\r\n\r\n            for( let fn of o.functions ?? [] )\r\n            {\r\n                this.addGraphFunction( fn );\r\n            }\r\n\r\n            func.configure( o );\r\n        }\r\n\r\n        this.setGraph( func );\r\n\r\n        // Add a new node to use this function..\r\n\r\n        class NodeFunction extends GraphNode\r\n        {\r\n            static func: GraphFunction;\r\n            static gid: string;\r\n\r\n            onCreate() {\r\n                this.addInput( null, \"float\" );\r\n                this.addOutput( null, \"any\" );\r\n            }\r\n\r\n            onExecute() {\r\n                const func = NodeFunction.func;\r\n                const value = func.getOutputData( this.getInput( 0 ) );\r\n                this.setOutput( 0, value );\r\n            }\r\n        }\r\n\r\n        NodeFunction.func = func;\r\n        NodeFunction.gid = func.id;\r\n        GraphEditor.registerCustomNode( \"function/\" + func.name, NodeFunction );\r\n\r\n        this._sidebar.add( func.name, { icon: \"Function\", className: func.id, callback: () => { this.setGraph( func ) } } );\r\n        this._sidebar.update();\r\n        this._sidebar.select( func.name );\r\n\r\n        return func;\r\n    }\r\n\r\n    /**\r\n     * @method clear\r\n     */\r\n\r\n    clear()\r\n    {\r\n        this._domNodes.innerHTML = \"\";\r\n        this._domLinks.innerHTML = \"\";\r\n\r\n        this.nodes = {};\r\n    }\r\n\r\n    setVariable( name: string, value: any )\r\n    {\r\n        this.variables[ name ] = value;\r\n    }\r\n\r\n    getVariable( name: string )\r\n    {\r\n        return this.variables[ name ];\r\n    }\r\n\r\n    propagateEventToAllNodes( eventName: string, params?: any )\r\n    {\r\n        if( !this.currentGraph )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const nodes = ( this.currentGraph.nodes as any[] );\r\n        for ( let node of nodes )\r\n        {\r\n            if( !node[ eventName ] )\r\n                continue;\r\n\r\n            node[ eventName ].apply( this, params );\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @method addCastType\r\n     * @param {String} type: Type to cast\r\n     * @param {String} targetType: Types to be casted from original type\r\n     * @param {Function} fn: Function to know how to cast\r\n     */\r\n\r\n    addCastType( type: string, targetType: string, fn: any )\r\n    {\r\n        this.supportedCastTypes[ type + '@' + targetType ] = fn;\r\n    }\r\n\r\n    /**\r\n     * @method unSelectAll\r\n     */\r\n\r\n    unSelectAll( keepPropDialog: boolean = false )\r\n    {\r\n        this._domNodes.querySelectorAll( '.lexgraphnode' ).forEach( v => v.classList.remove( 'selected' ) );\r\n\r\n        this.selectedNodes.length = 0;\r\n\r\n        if( !keepPropDialog )\r\n        {\r\n            this._togglePropertiesDialog( false );\r\n        }\r\n    }\r\n\r\n    _createNodeDOM( node: any )\r\n    {\r\n        node.editor = this;\r\n        node.graphID = this.currentGraph?.id;\r\n\r\n        var nodeContainer = document.createElement( 'div' );\r\n        nodeContainer.classList.add( 'lexgraphnode' );\r\n        nodeContainer.style.left = \"0\";\r\n        nodeContainer.style.top = \"0\";\r\n\r\n        this._translateNode( nodeContainer, node.position );\r\n\r\n        var color;\r\n\r\n        // Get color from type if color if not manually specified\r\n        if( node.type && GraphEditor.NODE_TYPES[ node.type ] )\r\n        {\r\n            const category = node.constructor.category;\r\n            nodeContainer.classList.add( category );\r\n        }\r\n        else\r\n        {\r\n            const pos = node.type.lastIndexOf( \"/\" );\r\n            const category = node.type.substring( 0, pos );\r\n            nodeContainer.classList.add( category );\r\n        }\r\n\r\n        // Update with manual color\r\n\r\n        color = node.color ?? color;\r\n\r\n        if( color )\r\n        {\r\n            // RGB\r\n            if( color.constructor == Array )\r\n            {\r\n                color = color.join( ',' );\r\n            }\r\n            // Hex color..\r\n            else\r\n            {\r\n                color = LX.hexToRgb( color );\r\n                color.forEach( ( v: number, i: number ) => color[ i ] = v * 255 );\r\n            }\r\n\r\n            nodeContainer.style.backgroundColor = \"rgba(\" + color + \", \" + this._nodeBackgroundOpacity + \")\";\r\n        }\r\n\r\n        nodeContainer.addEventListener( 'mousedown', ( e: MouseEvent ) => {\r\n\r\n            // Only for left click..\r\n            if( e.button != LX.MOUSE_LEFT_CLICK )\r\n                return;\r\n\r\n            if( e.altKey )\r\n            {\r\n                this._unSelectNode( nodeContainer );\r\n            }\r\n            else\r\n            {\r\n                if( this.selectedNodes.length > 1 && ( !e.ctrlKey && !e.shiftKey ) )\r\n                {\r\n                    this.unSelectAll( true );\r\n                }\r\n\r\n                if( !nodeContainer.classList.contains( 'selected' ) )\r\n                {\r\n                    this._selectNode( nodeContainer, ( e.ctrlKey || e.shiftKey ) );\r\n                }\r\n            }\r\n        } );\r\n\r\n        nodeContainer.addEventListener( 'contextmenu', e => {\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n\r\n            LX.addContextMenu(null, e, ( m: typeof ContextMenu ) => {\r\n\r\n                m.add( \"Copy\", () => {\r\n                    this._clipboardData = {\r\n                        id: node.id,\r\n                        gid: this.currentGraph?.id\r\n                    };\r\n                } );\r\n\r\n                // TODO\r\n                // m.add( \"Paste\", () => {\r\n\r\n                // } );\r\n\r\n                m.add( \"\" );\r\n\r\n                m.add( \"Delete\", () => {\r\n                    this._deleteNode( nodeContainer.dataset[ 'id' ] as string );\r\n                } );\r\n            });\r\n        } );\r\n\r\n        nodeContainer.addEventListener( 'dblclick', e => {\r\n\r\n            // Only for left click..\r\n            if( e.button != LX.MOUSE_LEFT_CLICK )\r\n                return;\r\n\r\n            // Open graph function..\r\n            if( node.constructor.func )\r\n            {\r\n                this._sidebar.select( node.constructor.func.name )\r\n            }\r\n\r\n        } );\r\n\r\n        // Title header\r\n        var nodeHeader = document.createElement( 'div' );\r\n        nodeHeader.classList.add( 'lexgraphnodeheader' );\r\n        nodeHeader.innerText = node.title;\r\n        nodeContainer.appendChild( nodeHeader );\r\n\r\n        // Properties\r\n        // if( node.properties.length  )\r\n        // {\r\n        //     var nodeProperties = document.createElement( 'div' );\r\n        //     nodeProperties.classList.add( 'lexgraphnodeproperties' );\r\n\r\n        //     for( let p of node.properties )\r\n        //     {\r\n        //         var panel = new LX.Panel();\r\n\r\n        //         p.signal = \"@\" + LX.guidGenerator() + node.title;\r\n\r\n        //         switch( p.type )\r\n        //         {\r\n        //         case 'float':\r\n        //         case 'int':\r\n        //             panel.addNumber( p.name, p.value, (v) => p.value = v, { signal: p.signal } );\r\n        //             break;\r\n        //         case 'string':\r\n        //             panel.addText( p.name, p.value, (v) => p.value = v, { signal: p.signal } );\r\n        //         break;\r\n        //         }\r\n\r\n        //         // var prop = document.createElement( 'div' );\r\n        //         // prop.innerText = p.type;\r\n        //         // prop.classList.add( 'lexgraphnodeproperty' );\r\n        //         nodeProperties.appendChild( panel.root );\r\n        //     }\r\n\r\n        //     nodeContainer.appendChild( nodeProperties );\r\n        // }\r\n\r\n        // Inputs and outputs\r\n        var nodeIO = document.createElement( 'div' );\r\n        nodeIO.classList.add( 'lexgraphnodeios' );\r\n        nodeContainer.appendChild( nodeIO );\r\n\r\n        const hasInputs = node.inputs && node.inputs.length;\r\n        const hasOutputs = node.outputs && node.outputs.length;\r\n\r\n        // Inputs\r\n        if( hasInputs )\r\n        {\r\n            const nodeInputs = document.createElement( 'div' );\r\n            nodeInputs.classList.add( 'lexgraphnodeinputs' );\r\n            nodeInputs.style.width = hasOutputs ? \"50%\" : \"100%\";\r\n            nodeIO.appendChild( nodeInputs );\r\n\r\n            for( let i of node.inputs )\r\n            {\r\n                if( !i.type )\r\n                {\r\n                    console.warn( `Missing type for node [${ node.title }], skipping...` );\r\n                    continue;\r\n                }\r\n\r\n                var input = document.createElement( 'div' );\r\n                input.className = 'lexgraphnodeio ioinput';\r\n                input.dataset[ 'index' ] = nodeInputs.childElementCount.toString();\r\n\r\n                var type = document.createElement( 'span' );\r\n                type.className = 'io__type input ' + i.type;\r\n                type.dataset[ 'type' ] = i.type;\r\n                type.innerHTML = '<span>' + i.type[ 0 ].toUpperCase() + '</span>';\r\n                input.appendChild( type );\r\n\r\n                var typeDesc = document.createElement( 'span' );\r\n                typeDesc.className = 'io__typedesc input ' + i.type;\r\n                typeDesc.innerHTML = i.type;\r\n                input.appendChild( typeDesc );\r\n\r\n                if( i.name )\r\n                {\r\n                    var name = document.createElement( 'span' );\r\n                    name.classList.add( 'io__name' );\r\n                    name.innerText = i.name;\r\n                    input.appendChild( name );\r\n                }\r\n\r\n                nodeInputs.appendChild( input );\r\n            }\r\n        }\r\n\r\n        // Outputs\r\n        if( hasOutputs )\r\n        {\r\n            const nodeOutputs = document.createElement( 'div' );\r\n            nodeOutputs.classList.add( 'lexgraphnodeoutputs' );\r\n            nodeOutputs.style.width = hasInputs ? \"50%\" : \"100%\";\r\n            nodeIO.appendChild( nodeOutputs );\r\n\r\n            for( let o of node.outputs )\r\n            {\r\n                if( !o.type  )\r\n                {\r\n                    console.warn( `Missing type for node [${ node.title }], skipping...` );\r\n                }\r\n\r\n                var output = document.createElement( 'div' );\r\n                output.className = 'lexgraphnodeio iooutput';\r\n                output.dataset[ 'index' ] = nodeOutputs.childElementCount.toString();\r\n\r\n                if( o.name )\r\n                {\r\n                    var name = document.createElement( 'span' );\r\n                    name.classList.add( 'io__name' );\r\n                    name.innerText = o.name;\r\n                    output.appendChild( name );\r\n                }\r\n\r\n                var type = document.createElement( 'span' );\r\n                type.className = 'io__type output ' + o.type;\r\n                type.dataset[ 'type' ] = o.type;\r\n                type.innerHTML = '<span>' + o.type[ 0 ].toUpperCase() + '</span>';\r\n                output.appendChild( type );\r\n\r\n                var typeDesc = document.createElement( 'span' );\r\n                typeDesc.className = 'io__typedesc output ' + o.type;\r\n                typeDesc.innerHTML = o.type;\r\n                output.appendChild( typeDesc );\r\n\r\n                nodeOutputs.appendChild( output );\r\n            }\r\n        }\r\n\r\n        // Move nodes\r\n\r\n        LX.makeDraggable( nodeContainer, {\r\n            onMove: this._onMoveNodes.bind( this ),\r\n            onDragStart: this._onDragNode.bind( this )\r\n        } );\r\n\r\n        this._addNodeIOEvents( nodeContainer );\r\n\r\n        const id = node.id ?? node.title.toLowerCase().replaceAll( /\\s/g, '-' ) + '-' + LX.guidGenerator();\r\n        this.nodes[ id ] = { data: node, dom: nodeContainer };\r\n\r\n        node.id = id;\r\n        nodeContainer.dataset[ 'id' ] = id;\r\n\r\n        this._domNodes.appendChild( nodeContainer );\r\n\r\n        // Only 1 main per graph!\r\n        if( node.title == 'Main' )\r\n        {\r\n            this.main = id;\r\n        }\r\n\r\n        node.size = new vec2( nodeContainer.offsetWidth, nodeContainer.offsetHeight );\r\n\r\n        node.resizeObserver = new ResizeObserver( entries => {\r\n\r\n            for( const entry of entries ) {\r\n                const bb = entry.contentRect;\r\n                if( !bb.width || !bb.height )\r\n                    continue;\r\n                node.size = new vec2( nodeContainer.offsetWidth, nodeContainer.offsetHeight );\r\n            }\r\n        });\r\n\r\n        node.resizeObserver.observe( nodeContainer );\r\n\r\n        return nodeContainer;\r\n    }\r\n\r\n    _updateNodeDOMIOs( dom: HTMLElement, node: GraphNode )\r\n    {\r\n        // Inputs and outputs\r\n        var nodeIO = dom.querySelector( '.lexgraphnodeios' );\r\n\r\n        const hasInputs = node.inputs && node.inputs.length;\r\n        const hasOutputs = node.outputs && node.outputs.length;\r\n\r\n        // Inputs\r\n        if( hasInputs )\r\n        {\r\n            const nodeInputs = nodeIO?.querySelector( '.lexgraphnodeinputs' )!;\r\n            nodeInputs.innerHTML = \"\";\r\n\r\n            for( let i of node.inputs )\r\n            {\r\n                if( !i.type )\r\n                {\r\n                    console.warn( `Missing type for node [${ node.constructor.name }], skipping...` );\r\n                    continue;\r\n                }\r\n\r\n                var input = document.createElement( 'div' );\r\n                input.className = 'lexgraphnodeio ioinput';\r\n                input.dataset[ 'index' ] = nodeInputs.childElementCount.toString();\r\n\r\n                var type = document.createElement( 'span' );\r\n                type.className = 'io__type input ' + i.type;\r\n                type.innerHTML = '<span>' + i.type[ 0 ].toUpperCase() + '</span>';\r\n                input.appendChild( type );\r\n\r\n                var typeDesc = document.createElement( 'span' );\r\n                typeDesc.className = 'io__typedesc input ' + i.type;\r\n                typeDesc.innerHTML = i.type;\r\n                input.appendChild( typeDesc );\r\n\r\n                if( i.name )\r\n                {\r\n                    var name = document.createElement( 'span' );\r\n                    name.classList.add( 'io__name' );\r\n                    name.innerText = i.name;\r\n                    input.appendChild( name );\r\n                }\r\n\r\n                nodeInputs.appendChild( input );\r\n            }\r\n        }\r\n\r\n        // Outputs\r\n        if( hasOutputs )\r\n        {\r\n            const nodeOutputs = nodeIO?.querySelector( '.lexgraphnodeoutputs' )!;\r\n            nodeOutputs.innerHTML = \"\";\r\n\r\n            for( let o of node.outputs )\r\n            {\r\n                if( !o.type  )\r\n                {\r\n                    console.warn( `Missing type for node [${ node.constructor.name }], skipping...` );\r\n                }\r\n\r\n                var output = document.createElement( 'div' );\r\n                output.className = 'lexgraphnodeio iooutput';\r\n                output.dataset[ 'index' ] = nodeOutputs.childElementCount.toString();\r\n\r\n                if( o.name )\r\n                {\r\n                    var name = document.createElement( 'span' );\r\n                    name.classList.add( 'io__name' );\r\n                    name.innerText = o.name;\r\n                    output.appendChild( name );\r\n                }\r\n\r\n                var type = document.createElement( 'span' );\r\n                type.className = 'io__type output ' + o.type;\r\n                type.innerHTML = '<span>' + o.type[ 0 ].toUpperCase() + '</span>';\r\n                output.appendChild( type );\r\n\r\n                var typeDesc = document.createElement( 'span' );\r\n                typeDesc.className = 'io__typedesc output ' + o.type;\r\n                typeDesc.innerHTML = o.type;\r\n                output.appendChild( typeDesc );\r\n\r\n                nodeOutputs.appendChild( output );\r\n            }\r\n        }\r\n\r\n        this._addNodeIOEvents( dom );\r\n    }\r\n\r\n    _addNodeIOEvents( nodeContainer: HTMLElement )\r\n    {\r\n        const nodeIO = nodeContainer.querySelector( '.lexgraphnodeios' );\r\n\r\n        // Manage links\r\n\r\n        nodeIO?.querySelectorAll( '.lexgraphnodeio' ).forEach( ( el: any ) => {\r\n\r\n            el.addEventListener( 'mousedown', ( e: MouseEvent ) => {\r\n\r\n                // Only for left click..\r\n                if( e.button != LX.MOUSE_LEFT_CLICK )\r\n                    return;\r\n\r\n                this._lastMouseDown = LX.getTime();\r\n\r\n                this._generatingLink = {\r\n                    index: parseInt( el.dataset[ 'index' ] ),\r\n                    io: el,\r\n                    ioType: el.classList.contains( 'ioinput' ) ? GraphEditor.NODE_IO_INPUT : GraphEditor.NODE_IO_OUTPUT,\r\n                    domEl: nodeContainer\r\n                };\r\n\r\n                e.stopPropagation();\r\n                e.stopImmediatePropagation();\r\n            } );\r\n\r\n            el.addEventListener( 'mouseup', ( e: MouseEvent ) => {\r\n\r\n                e.stopPropagation();\r\n                e.stopImmediatePropagation();\r\n\r\n                // Single click..\r\n                if( ( LX.getTime() - this._lastMouseDown ) < 200 ) {\r\n                    delete this._generatingLink;\r\n                    return;\r\n                }\r\n\r\n                if( this._generatingLink )\r\n                {\r\n                    // Check for IO\r\n                    if( !this._onLink( e ) )\r\n                    {\r\n                        // Delete entire SVG if not a successful connection..\r\n                        LX.deleteElement( this._generatingLink.path ? this._generatingLink.path.parentElement : null );\r\n                    }\r\n\r\n                    delete this._generatingLink;\r\n                }\r\n            } );\r\n\r\n            el.addEventListener( 'click', ( e: MouseEvent ) => {\r\n\r\n                if( !el.links )\r\n                    return;\r\n\r\n                const nodeId = nodeContainer.dataset[ 'id' ] as string;\r\n                this._deleteLinks( nodeId, el );\r\n            } );\r\n\r\n        } );\r\n    }\r\n\r\n    _getAllDOMNodes( includeGroups: boolean = false, exclude?: HTMLElement )\r\n    {\r\n        var elements = null;\r\n\r\n        if( includeGroups )\r\n        {\r\n            elements = Array.from( this._domNodes.childNodes );\r\n        }\r\n        else\r\n        {\r\n            elements = Array.from( this._domNodes.childNodes ).filter( ( v: any ) => v.classList.contains( 'lexgraphnode' ) );\r\n        }\r\n\r\n        if( exclude )\r\n        {\r\n            elements = elements.filter( v => v != exclude );\r\n        }\r\n\r\n        return elements;\r\n    }\r\n\r\n    _onMoveNodes( target: HTMLElement )\r\n    {\r\n        let dT = this._snapToGrid ? this._snappedDeltaMousePosition : this._deltaMousePosition;\r\n        dT.div( this.currentGraph?.scale, dT);\r\n\r\n        for( let nodeId of this.selectedNodes )\r\n        {\r\n            const el = this._getNodeDOMElement( nodeId );\r\n\r\n            this._translateNode( el, dT );\r\n\r\n            this._updateNodeLinks( nodeId );\r\n        }\r\n    }\r\n\r\n    _onDragNode( target: HTMLElement, e: DragEvent )\r\n    {\r\n\r\n        if( !e.shiftKey )\r\n            return;\r\n\r\n        this._cloneNodes();\r\n    }\r\n\r\n    _onMoveGroup( target: any )\r\n    {\r\n        // Move nodes inside the group\r\n\r\n        const groupNodeIds = target.nodes;\r\n\r\n        if( !groupNodeIds )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let dT = this._snapToGrid ? this._snappedDeltaMousePosition : this._deltaMousePosition;\r\n        dT.div( this.currentGraph?.scale, dT);\r\n\r\n        this._translateNode( target, dT );\r\n\r\n        for( let nodeId of groupNodeIds )\r\n        {\r\n            const isGroup = nodeId.constructor !== String;\r\n\r\n            const el = isGroup ? nodeId : this._getNodeDOMElement( nodeId as string );\r\n\r\n            this._translateNode( el, dT, !isGroup );\r\n\r\n            if( !isGroup )\r\n            {\r\n                this._updateNodeLinks( nodeId as string );\r\n            }\r\n        }\r\n    }\r\n\r\n    _onDragGroup( target: any )\r\n    {\r\n        // Get nodes inside the group to be moved\r\n\r\n        const group_bb = this._getBoundingFromGroup( target );\r\n\r\n        const groupNodeIds = [ ];\r\n\r\n        for( let dom of ( this._getAllDOMNodes( true, target ) as HTMLElement[] ) )\r\n        {\r\n            const x = parseFloat( dom.style.left );\r\n            const y = parseFloat( dom.style.top );\r\n            const node_bb = new BoundingBox( new vec2( x, y ), new vec2( dom.offsetWidth - 6, dom.offsetHeight - 6 ) );\r\n\r\n            if( !group_bb.inside( node_bb ) )\r\n                continue;\r\n\r\n            groupNodeIds.push( dom.dataset[ 'id' ] ?? dom );\r\n        }\r\n\r\n        target.nodes = groupNodeIds;\r\n    }\r\n\r\n    _selectNode( dom: HTMLElement, multiSelection: boolean = false, forceOrder: boolean = true )\r\n    {\r\n        if( !multiSelection )\r\n        {\r\n            this.unSelectAll( true );\r\n        }\r\n\r\n        dom.classList.add( 'selected' );\r\n\r\n        const id = dom.dataset[ 'id' ] as string;\r\n\r\n        this.selectedNodes.push( id );\r\n\r\n        if( forceOrder )\r\n        {\r\n            // Reorder nodes to draw on top..\r\n            this._domNodes.appendChild( dom );\r\n        }\r\n\r\n        const node = this.nodes[ id ].data;\r\n\r\n        this.propertiesDialog.setTitle( node.title );\r\n\r\n        var panel = this.propertiesDialog.panel;\r\n        panel.clear();\r\n\r\n        // Add description\r\n        if( node.constructor.description )\r\n        {\r\n            panel.addText( null, node.constructor.description, null, { disabled: true } );\r\n        }\r\n\r\n        // Allow change name if input\r\n        if( node.constructor.category == 'inputs' )\r\n        {\r\n            panel.addText( 'Name', node.title, ( v: string ) => {\r\n                node.title = v;\r\n                const header: any = dom.querySelector( '.lexgraphnodeheader' );\r\n                header.innerText = v;\r\n            } );\r\n        }\r\n\r\n        for( let p of node.properties )\r\n        {\r\n            switch( p.type )\r\n            {\r\n            case 'float':\r\n            case 'int':\r\n                panel.addNumber( p.name, p.value, ( v: number ) => { p.value = v } );\r\n                break;\r\n            case 'string':\r\n                panel.addText( p.name, p.value, ( v: string ) => { p.value = v } );\r\n                break;\r\n            case 'vec2':\r\n                panel.addVector2( p.name, p.value, ( v: number[] ) => { p.value = v } );\r\n                break;\r\n            case 'vec3':\r\n                panel.addVector3( p.name, p.value, ( v: number[] ) => { p.value = v } );\r\n                break;\r\n            case 'vec4':\r\n                panel.addVector4( p.name, p.value, ( v: number[] ) => { p.value = v } );\r\n                break;\r\n            case 'select':\r\n                panel.addSelect( p.name, p.options, p.value, ( v: any ) => { p.value = v } );\r\n                break;\r\n            case 'array':\r\n                panel.addArray( p.name, p.value, ( v: any[] ) => {\r\n                    p.value = v;\r\n                    if( node.type == \"function/Input\" )\r\n                    {\r\n                        node.setOutputs( v );\r\n                        this._updateNodeDOMIOs( dom, node );\r\n                    }\r\n                }, { innerValues: p.options } );\r\n                break;\r\n            }\r\n        }\r\n\r\n        this._togglePropertiesDialog( true );\r\n    }\r\n\r\n    _unSelectNode( dom: HTMLElement )\r\n    {\r\n        dom.classList.remove( 'selected' );\r\n\r\n        // Delete from selected..\r\n        const idx = this.selectedNodes.indexOf( dom.dataset[ 'id' ] );\r\n        this.selectedNodes.splice( idx, 1 );\r\n\r\n        if( !this.selectedNodes.length )\r\n            this._togglePropertiesDialog( false );\r\n    }\r\n\r\n    _translateNode( dom: any, deltaTranslation: typeof vec2, updateBasePosition: boolean = true )\r\n    {\r\n        const translation = deltaTranslation.add( new vec2( parseFloat( dom.style.left ), parseFloat( dom.style.top ) ) );\r\n\r\n        if( this._snapToGrid && dom.mustSnap )\r\n        {\r\n            const snapSize = this._patternSize.x * this._snapValue * this._snapValue;\r\n            translation.x = Math.floor( translation.x / snapSize ) * snapSize;\r\n            translation.y = Math.floor( translation.y / snapSize ) * snapSize;\r\n            dom.mustSnap = false;\r\n        }\r\n\r\n        dom.style.left = ( translation.x ) + \"px\";\r\n        dom.style.top = ( translation.y ) + \"px\";\r\n\r\n        // Update base node position..\r\n        if( updateBasePosition && dom.dataset[ 'id' ] )\r\n        {\r\n            let baseNode = this.nodes[ dom.dataset[ 'id' ] ];\r\n            baseNode.data.position = translation;\r\n        }\r\n    }\r\n\r\n    _deleteNode( nodeId: string )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const nodeInfo = this.nodes[ nodeId ];\r\n        const node = nodeInfo.data;\r\n        const el = nodeInfo.dom;\r\n\r\n        console.assert( el );\r\n\r\n        if( node.constructor.blockDelete )\r\n        {\r\n            console.warn( `Can't delete node!` );\r\n            return;\r\n        }\r\n\r\n        LX.deleteElement( el );\r\n\r\n        // Delete from the editor\r\n\r\n        delete this.nodes[ nodeId ];\r\n\r\n        // Delete from the graph data\r\n\r\n        const idx = this.currentGraph.nodes.findIndex( v => v.id === nodeId );\r\n        console.assert( idx >= 0 );\r\n        this.currentGraph.nodes.splice( idx, 1 );\r\n\r\n        // Delete connected links..\r\n\r\n        for( let key in this.currentGraph.links )\r\n        {\r\n            if( !key.includes( nodeId ) )\r\n                continue;\r\n\r\n            const aIdx = key.indexOf( '@' );\r\n            const targetIsInput = key.substring( aIdx + 1 ) != nodeId;\r\n\r\n            // Remove the connection from the other before deleting..\r\n\r\n            const numLinks = this.currentGraph.links[ key ].length;\r\n\r\n            for( var i = 0; i < numLinks; ++i )\r\n            {\r\n                var link = this.currentGraph.links[ key ][ i ];\r\n\r\n                LX.deleteElement( link.path.parentElement );\r\n\r\n                const targetNodeId = targetIsInput ? link.inputNode : link.outputNode;\r\n\r\n                const targetNodeDOM = this._getNodeDOMElement( targetNodeId );\r\n                const ios = targetNodeDOM.querySelector( targetIsInput ? '.lexgraphnodeinputs' : '.lexgraphnodeoutputs' );\r\n                const io = ios.childNodes[ targetIsInput ? link.inputIdx : link.outputIdx ];\r\n\r\n                const ioIndex = targetIsInput ? link.outputIdx : link.inputIdx;\r\n                const nodelinkidx = io.links[ ioIndex ].indexOf( nodeId );\r\n                io.links[ ioIndex ].splice( nodelinkidx, 1 );\r\n\r\n                // Unique link, so it's done..\r\n                if( targetIsInput )\r\n                {\r\n                    delete io.dataset[ 'active' ];\r\n                }\r\n\r\n                // Check if any link left in case of output\r\n                else\r\n                {\r\n                    var active = false;\r\n                    for( var links of  io.links )\r\n                    {\r\n                        if( !links )\r\n                            continue;\r\n                        for( var j of links ) {\r\n                            active = active || ( !!j );\r\n                        }\r\n                    }\r\n                    if( !active )\r\n                        delete io.dataset[ 'active' ];\r\n                }\r\n            }\r\n\r\n            delete this.currentGraph.links[ key ];\r\n        }\r\n    }\r\n\r\n    _deleteGroup( groupId: string )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const dom = this.groups[ groupId ];\r\n        LX.deleteElement( dom );\r\n\r\n        // Delete from the editor\r\n\r\n        delete this.groups[ groupId ];\r\n\r\n        // Delete from the graph data\r\n\r\n        const idx = this.currentGraph.groups.findIndex( v => v.id === groupId );\r\n        console.assert( idx >= 0 );\r\n        this.currentGraph.groups.splice( idx, 1 );\r\n    }\r\n\r\n    _cloneNode( nodeId: string, graphId?: string, position?: typeof vec2 )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const graph = this.graphs[ graphId ?? this.currentGraph.id ];\r\n\r\n        const nodeData = graph.getNodeById( nodeId );\r\n\r\n        if( !nodeData )\r\n            return;\r\n\r\n        const el = this._getNodeDOMElement( nodeId );\r\n        const newNode = GraphEditor.addNode( nodeData.type );\r\n        newNode.properties = LX.deepCopy( nodeData.properties );\r\n\r\n        const newDom = this._createNodeDOM( newNode );\r\n\r\n        this._translateNode( newDom, position ?? this._getNodePosition( el ) );\r\n\r\n        this._selectNode( newDom, true );\r\n\r\n        this.currentGraph.nodes.push( newNode );\r\n    }\r\n\r\n    _cloneNodes()\r\n    {\r\n        // Clone all selected nodes\r\n        const selectedIds = LX.deepCopy( this.selectedNodes );\r\n\r\n        this.unSelectAll();\r\n\r\n        for( let nodeId of selectedIds )\r\n        {\r\n            this._cloneNode( nodeId );\r\n        }\r\n    }\r\n\r\n    // This is in pattern space!\r\n    _getNodePosition( dom: HTMLElement )\r\n    {\r\n        return new vec2( parseFloat( dom.style.left ), parseFloat( dom.style.top ) );\r\n    }\r\n\r\n    _getNodeDOMElement( nodeId: string )\r\n    {\r\n        return this.nodes[ nodeId ] ? this.nodes[ nodeId ].dom : null;\r\n    }\r\n\r\n    _getLinks( nodeSrcId: string, nodeDstId: string )\r\n    {\r\n        const str = nodeSrcId + '@' + nodeDstId;\r\n        return this.currentGraph?.links[ str ];\r\n    }\r\n\r\n    _deleteLinks( nodeId: string, io: any )\r\n    {\r\n        const isInput = io.classList.contains( 'ioinput' );\r\n        const srcIndex = parseInt( io.dataset[ 'index' ] );\r\n\r\n        if( isInput ) // Only one \"link to output\" to delete\r\n        {\r\n            let targetIndex: number = -1;\r\n\r\n            const targets = io.links.filter( ( v: any, i: number ) => { targetIndex = i; return v !== undefined; } )[ 0 ];\r\n            const targetId = targets[ 0 ];\r\n\r\n            // It has been deleted..\r\n            if( !targetId )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var links = this._getLinks( targetId, nodeId );\r\n\r\n            var linkIdx = links.findIndex( ( i: any ) => ( i.inputIdx == srcIndex && i.outputIdx == targetIndex ) );\r\n            LX.deleteElement( links[ linkIdx ].path.parentElement );\r\n            links.splice( linkIdx, 1 );\r\n\r\n            // Input has no longer any connected link\r\n\r\n            delete io.links;\r\n            delete io.dataset[ 'active' ];\r\n\r\n            // Remove a connection from the target connections\r\n\r\n            const targetDOM = this._getNodeDOMElement( targetId );\r\n            const ios = targetDOM.querySelector( '.lexgraphnodeoutputs' );\r\n            const targetIO = ios.childNodes[ targetIndex ];\r\n\r\n            const idx = targetIO.links[ srcIndex ].findIndex( ( v: any ) => v == nodeId );\r\n            targetIO.links[ srcIndex ].splice( idx, 1 );\r\n\r\n            let active = false;\r\n\r\n            for( var ls of targetIO.links )\r\n            {\r\n                if( !ls ) continue;\r\n                // Check links left per io\r\n                active = active || ls.reduce( ( c: any ) => c !== undefined, 0 );\r\n            }\r\n\r\n            if( !active )\r\n            {\r\n                delete targetIO.links;\r\n                delete targetIO.dataset[ 'active' ];\r\n            }\r\n        }\r\n        else // Delete ALL \"to input links\"\r\n        {\r\n\r\n            const numLinks = io.links.length;\r\n\r\n            for( let targetIndex = 0; targetIndex < numLinks; ++targetIndex )\r\n            {\r\n                const targets = io.links[ targetIndex ];\r\n\r\n                if( !targets )\r\n                    continue;\r\n\r\n                for( let it = ( targets.length - 1 ); it >= 0 ; --it )\r\n                {\r\n                    const targetId = targets[ it ];\r\n                    var links = this._getLinks( nodeId, targetId );\r\n\r\n                    var linkIdx = links.findIndex( ( i: any ) => ( i.inputIdx == targetIndex && i.outputIdx == srcIndex ) );\r\n                    LX.deleteElement( links[ linkIdx ].path.parentElement );\r\n                    links.splice( linkIdx, 1 );\r\n\r\n                    // Remove a connection from the output connections\r\n\r\n                    io.links[ targetIndex ].splice( it, 1 );\r\n\r\n                    // Input has no longer any connected link\r\n\r\n                    const targetDOM = this._getNodeDOMElement( targetId );\r\n                    const ios = targetDOM.querySelector( '.lexgraphnodeinputs' );\r\n                    const targetIO = ios.childNodes[ targetIndex ];\r\n\r\n                    delete targetIO.links;\r\n                    delete targetIO.dataset[ 'active' ];\r\n                }\r\n            }\r\n\r\n            delete io.links;\r\n            delete io.dataset[ 'active' ];\r\n        }\r\n    }\r\n\r\n    _processFocus( active: boolean = false )\r\n    {\r\n        this.isFocused = active;\r\n    }\r\n\r\n    _processKeyDown( e: KeyboardEvent )\r\n    {\r\n        // Prevent processing keys on inputs and others\r\n        if( document.activeElement != this.root )\r\n            return;\r\n\r\n        const detail: any = e.detail;\r\n        var key = e.key ?? detail.key;\r\n\r\n        switch( key ) {\r\n            case 'Escape':\r\n                this.unSelectAll();\r\n                break;\r\n            case 'Delete':\r\n            case 'Backspace':\r\n                e.preventDefault();\r\n                this._deleteSelection( e );\r\n                break;\r\n            case 'g':\r\n                if( e.ctrlKey )\r\n                {\r\n                    e.preventDefault();\r\n                    this._createGroup();\r\n                }\r\n                break;\r\n            case 'y':\r\n                if( e.ctrlKey )\r\n                {\r\n                    e.preventDefault();\r\n                    this._doRedo();\r\n                }\r\n                break;\r\n            case 'z':\r\n                if( e.ctrlKey )\r\n                {\r\n                    e.preventDefault();\r\n                    this._doUndo();\r\n                }\r\n                break;\r\n        }\r\n\r\n        this.keys[ key ] = true;\r\n    }\r\n\r\n    _processKeyUp( e: KeyboardEvent )\r\n    {\r\n        // Prevent processing keys on inputs and others\r\n        if( document.activeElement != this.root )\r\n            return;\r\n\r\n        const detail: any = e.detail;\r\n        const key = e.key ?? detail.key;\r\n\r\n        delete this.keys[ key ];\r\n    }\r\n\r\n    _processMouse( e: any )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const rect = this.root.getBoundingClientRect();\r\n\r\n        this._mousePosition = new vec2( e.clientX - rect.x , e.clientY - rect.y );\r\n\r\n        const snapPosition = new vec2( this._mousePosition.x, this._mousePosition.y );\r\n\r\n        if( this._snapToGrid )\r\n        {\r\n            const snapSize = this._patternSize.x * this._snapValue * this.currentGraph.scale;\r\n            snapPosition.x = Math.floor( snapPosition.x / snapSize ) * snapSize;\r\n            snapPosition.y = Math.floor( snapPosition.y / snapSize ) * snapSize;\r\n            this._snappedDeltaMousePosition = snapPosition.sub( this._lastSnappedMousePosition );\r\n        }\r\n\r\n        this._deltaMousePosition = this._mousePosition.sub( this._lastMousePosition );\r\n\r\n        if( e.type == 'mousedown' )\r\n        {\r\n            this._lastMouseDown = LX.getTime();\r\n\r\n            this._processMouseDown( e );\r\n        }\r\n\r\n        else if( e.type == 'mouseup' )\r\n        {\r\n            if( ( LX.getTime() - this._lastMouseDown ) < 200 ) {\r\n\r\n                this._processClick( e );\r\n            }\r\n\r\n            this._processMouseUp( e );\r\n        }\r\n\r\n        else if( e.type == 'mousemove' )\r\n        {\r\n            this._processMouseMove( e );\r\n        }\r\n\r\n        else if ( e.type == 'click' ) // trick\r\n        {\r\n            switch( e.detail )\r\n            {\r\n                case LX.MOUSE_DOUBLE_CLICK:\r\n                    break;\r\n                case LX.MOUSE_TRIPLE_CLICK:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        else if ( e.type == 'mousewheel' ) {\r\n            e.preventDefault();\r\n            this._processWheel( e );\r\n        }\r\n\r\n        else if ( e.type == 'contextmenu' ) {\r\n\r\n            e.preventDefault();\r\n\r\n            if( ( LX.getTime() - this._lastMouseDown ) < 300 ) {\r\n                this._processContextMenu( e );\r\n            }\r\n        }\r\n\r\n        else if ( e.type == 'mouseleave' ) {\r\n\r\n            if( this._generatingLink )\r\n            {\r\n                this._processMouseUp( e );\r\n            }\r\n        }\r\n\r\n        if( this._snapToGrid )\r\n        {\r\n            this._lastSnappedMousePosition = snapPosition;\r\n        }\r\n\r\n        this._lastMousePosition = this._mousePosition;\r\n    }\r\n\r\n    _processClick( e: MouseEvent ) {\r\n\r\n        const target: any = e.target;\r\n        if( target.classList.contains( 'lexgraphnodes' ) || target.classList.contains( 'lexgraphgroup' ) )\r\n        {\r\n            this._processBackgroundClick( e );\r\n            return;\r\n        }\r\n    }\r\n\r\n    _processBackgroundClick( e: MouseEvent )\r\n    {\r\n        this.unSelectAll();\r\n    }\r\n\r\n    _processMouseDown( e: MouseEvent )\r\n    {\r\n        const target: any = e.target;\r\n\r\n        // Don't box select over a node..\r\n        if( !target.classList.contains( 'lexgraphnode' ) && !target.classList.contains( 'lexgraphgroup' )\r\n            && e.button == LX.MOUSE_LEFT_CLICK )\r\n        {\r\n            this._boxSelecting = this._mousePosition;\r\n            this._boxSelectRemoving = e.altKey;\r\n        }\r\n    }\r\n\r\n    _processMouseUp( e: MouseEvent )\r\n    {\r\n        // It the event reaches this, the link isn't valid..\r\n        if( this._generatingLink )\r\n        {\r\n            const linkInfo = Object.assign( { }, this._generatingLink );\r\n\r\n            // Delete old link\r\n            LX.deleteElement( this._generatingLink.path ? this._generatingLink.path.parentElement : null );\r\n            delete this._generatingLink;\r\n\r\n            // Open contextmenu to auto-connect something..\r\n            this._processContextMenu( e, linkInfo );\r\n        }\r\n\r\n        else if( this._boxSelecting )\r\n        {\r\n            if( !e.ctrlKey && !e.altKey )\r\n                this.unSelectAll();\r\n\r\n            this._selectNodesInBox( this._boxSelecting, this._mousePosition, e.altKey );\r\n\r\n            LX.deleteElement( this._currentBoxSelectionSVG );\r\n\r\n            delete this._currentBoxSelectionSVG;\r\n            delete this._boxSelecting;\r\n            delete this._boxSelectRemoving;\r\n        }\r\n    }\r\n\r\n    _processMouseMove( e: MouseEvent ) {\r\n\r\n        if( !this.currentGraph )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const rightPressed = ( e.which == 3 );\r\n\r\n        if( rightPressed )\r\n        {\r\n            this.currentGraph.translation.add( this._deltaMousePosition.div( this.currentGraph.scale ), this.currentGraph.translation );\r\n\r\n            this._updatePattern();\r\n\r\n            return;\r\n        }\r\n\r\n        else if( this._generatingLink )\r\n        {\r\n            this._updatePreviewLink( e );\r\n\r\n            return;\r\n        }\r\n\r\n        else if( this._boxSelecting )\r\n        {\r\n            this._drawBoxSelection( e );\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n    _processWheel( e: WheelEvent )\r\n    {\r\n        if( this._boxSelecting || !this.currentGraph )\r\n            return;\r\n\r\n        // Compute zoom center in pattern space using current scale\r\n\r\n        const rect = this.root.getBoundingClientRect();\r\n        const zoomCenter = this._mousePosition ?? new vec2( rect.width * 0.5, rect.height * 0.5 );\r\n\r\n        const center = this._getPatternPosition( zoomCenter );\r\n\r\n        const delta = e.deltaY;\r\n\r\n        if( delta > 0.0 ) this.currentGraph.scale *= 0.9;\r\n        else this.currentGraph.scale *= ( 1.0 / 0.9 );\r\n\r\n        this.currentGraph.scale = LX.clamp( this.currentGraph.scale, GraphEditor.MIN_SCALE, GraphEditor.MAX_SCALE );\r\n\r\n        // Compute zoom center in pattern space using new scale\r\n        // and get delta..\r\n\r\n        const newCenter = this._getPatternPosition( zoomCenter );\r\n\r\n        const deltaCenter = newCenter.sub( center );\r\n\r\n        this.currentGraph.translation.add( deltaCenter, this.currentGraph.translation );\r\n\r\n        this._updatePattern();\r\n    }\r\n\r\n    _processContextMenu( e: any, autoConnect?: any )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        LX.addContextMenu( null, e, ( m: typeof ContextMenu ) => {\r\n \r\n            var eventPosition: any = null;\r\n\r\n            if( e )\r\n            {\r\n                const rect = this.root.getBoundingClientRect();\r\n\r\n                const localPosition = new vec2( e.clientX - rect.x, e.clientY - rect.y );\r\n\r\n                eventPosition = this._getPatternPosition( localPosition );\r\n            }\r\n\r\n            if( this._clipboardData )\r\n            {\r\n                m.add( \"Paste\", () => {\r\n\r\n                    const nodeId = this._clipboardData.id;\r\n                    const graphId = this._clipboardData.gid;\r\n\r\n                    this._cloneNode( nodeId, graphId, eventPosition );\r\n\r\n                } );\r\n                m.add( \"\" );\r\n            }\r\n\r\n            for( let type in GraphEditor.NODE_TYPES )\r\n            {\r\n                const baseClass: any = GraphEditor.NODE_TYPES[ type ];\r\n\r\n                if( baseClass.blockAdd )\r\n                    continue;\r\n\r\n                m.add( type, () => {\r\n\r\n                    const newNode = GraphEditor.addNode( type );\r\n\r\n                    const dom: any = this._createNodeDOM( newNode );\r\n\r\n                    if( this._snapToGrid )\r\n                    {\r\n                        dom.mustSnap = true;\r\n                    }\r\n\r\n                    if( eventPosition )\r\n                    {\r\n                        this._translateNode( dom, eventPosition );\r\n                    }\r\n\r\n                    this.currentGraph?.nodes.push( newNode );\r\n\r\n                    if( autoConnect && newNode.inputs.length )\r\n                    {\r\n                        const srcId = autoConnect.domEl.dataset[ 'id' ];\r\n                        const srcType = autoConnect.io.childNodes[ autoConnect.index ].dataset[ 'type' ];\r\n                        const srcIsInput = autoConnect.ioType == GraphEditor.NODE_IO_INPUT;\r\n\r\n                        const newLink = {\r\n                            inputNode: srcIsInput ? srcId : newNode.id,\r\n                            inputIdx: srcIsInput ? autoConnect.index : 0,\r\n                            inputType: srcIsInput ? srcType : newNode.inputs[ 0 ].type,\r\n                            outputNode: srcIsInput ? newNode.id : srcId,\r\n                            outputIdx: srcIsInput ? 0 : autoConnect.index,\r\n                            outputType: srcIsInput ? newNode.inputs[ 0 ].type : srcType,\r\n                        }\r\n\r\n                        // Store link\r\n\r\n                        const pathId = newLink.outputNode + '@' + newLink.inputNode;\r\n\r\n                        if( !this.currentGraph?.links[ pathId ] ) this.currentGraph!.links[ pathId ] = [];\r\n\r\n                        this.currentGraph?.links[ pathId ].push( newLink );\r\n\r\n                        this._createLink( newLink );\r\n                    }\r\n\r\n                } );\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @method start\r\n     */\r\n\r\n    start()\r\n    {\r\n        this.mustStop = false;\r\n        this.state = GraphEditor.RUNNING;\r\n\r\n        this.propagateEventToAllNodes( 'onStart' );\r\n\r\n        requestAnimationFrame( this._frame.bind(this) );\r\n    }\r\n\r\n    /**\r\n     * @method stop\r\n     */\r\n\r\n    stop()\r\n    {\r\n        this.mustStop = true;\r\n        this.state = GraphEditor.STOPPED;\r\n\r\n        this.propagateEventToAllNodes( 'onStop' );\r\n    }\r\n\r\n    /**\r\n     * @method _frame\r\n     */\r\n\r\n    _frame()\r\n    {\r\n        if( this.mustStop || !this.currentGraph )\r\n        {\r\n            return;\r\n        }\r\n\r\n        requestAnimationFrame( this._frame.bind(this) );\r\n\r\n        // Only run here main graph!\r\n        this.currentGraph._runStep( this.main );\r\n    }\r\n\r\n    _generatePattern() {\r\n\r\n        // Generate pattern\r\n        {\r\n            var pattern = document.createElementNS( 'http://www.w3.org/2000/svg', 'pattern' );\r\n            pattern.setAttribute( 'id', 'pattern-0' );\r\n            pattern.setAttribute( 'x', `${ 0.0 }` );\r\n            pattern.setAttribute( 'y', `${ 0.0 }` );\r\n            pattern.setAttribute( 'width', this._patternSize.x.toString() )\r\n            pattern.setAttribute( 'height', this._patternSize.y.toString() );\r\n            pattern.setAttribute( 'patternUnits', 'userSpaceOnUse' );\r\n\r\n            var circle = document.createElementNS( 'http://www.w3.org/2000/svg', 'circle' );\r\n            circle.setAttribute( 'cx', this._circlePatternSize.toString() );\r\n            circle.setAttribute( 'cy', this._circlePatternSize.toString() );\r\n            circle.setAttribute( 'r', this._circlePatternSize.toString() );\r\n            circle.setAttribute( 'fill', this._circlePatternColor );\r\n\r\n            pattern.appendChild( circle );\r\n        }\r\n\r\n        var svg = document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' );\r\n        svg.classList.add( \"background-svg\" );\r\n        svg.style.width = \"100%\";\r\n        svg.style.height = \"100%\";\r\n        svg.style.stroke = \"none\";\r\n\r\n        svg.appendChild( pattern );\r\n\r\n        var rect = document.createElementNS( 'http://www.w3.org/2000/svg', 'rect' );\r\n        rect.setAttribute( 'x', '0' );\r\n        rect.setAttribute( 'y', '0' );\r\n        rect.setAttribute( 'width', '100%' );\r\n        rect.setAttribute( 'height', '100%' );\r\n        rect.setAttribute( 'fill', 'url(#pattern-0)' );\r\n\r\n        svg.appendChild( rect );\r\n\r\n        this._background = svg;\r\n\r\n        this.root.appendChild( this._background );\r\n    }\r\n\r\n    _updatePattern()\r\n    {\r\n        if( !this._background || !this.currentGraph )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const patternSize = this._patternSize.mul( this.currentGraph.scale );\r\n        const circlePatternSize = this._circlePatternSize * this.currentGraph.scale;\r\n        const patternPosition = this.currentGraph.translation.mul( this.currentGraph.scale );\r\n\r\n        let pattern = this._background.querySelector( 'pattern' )!;\r\n        pattern.setAttribute( 'x', patternPosition.x.toString() );\r\n        pattern.setAttribute( 'y', patternPosition.y.toString() );\r\n        pattern.setAttribute( 'width', patternSize.x.toString() )\r\n        pattern.setAttribute( 'height', patternSize.y.toString() );\r\n\r\n        var circle = this._background.querySelector( 'circle' )!;\r\n        circle.setAttribute( 'cx', circlePatternSize.toString() );\r\n        circle.setAttribute( 'cy', circlePatternSize.toString() );\r\n        circle.setAttribute( 'r', circlePatternSize.toString() );\r\n\r\n        // Nodes\r\n\r\n        const w = this._domNodes.offsetWidth * 0.5;\r\n        const h = this._domNodes.offsetHeight * 0.5;\r\n\r\n        const dw = w - w * this.currentGraph.scale;\r\n        const dh = h - h * this.currentGraph.scale;\r\n\r\n        this._domNodes.style.transform = `\r\n            translate(` + ( patternPosition.x - dw ) + `px, ` + ( patternPosition.y - dh ) + `px)\r\n            scale(` + this.currentGraph.scale + `)\r\n        `;\r\n        this._domLinks.style.transform = this._domNodes.style.transform;\r\n\r\n        // Hide nodes outside the viewport\r\n\r\n        const nodesOutsideViewport = this._getNonVisibleNodes();\r\n\r\n        for( let node of nodesOutsideViewport )\r\n        {\r\n            let dom = this._getNodeDOMElement( node.id );\r\n            dom.classList.toggle( 'hidden-opacity', true );\r\n        }\r\n    }\r\n\r\n    _getPatternPosition( renderPosition: typeof vec2 )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n        return renderPosition.div( this.currentGraph.scale ).sub( this.currentGraph.translation );\r\n    }\r\n\r\n    _getRenderPosition( patternPosition: typeof vec2 )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n        return patternPosition.add( this.currentGraph.translation ).mul( this.currentGraph.scale );\r\n    }\r\n\r\n    _onLink( e: any )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const linkData = this._generatingLink;\r\n        const ioType = e.target.classList.contains( 'input' ) ? GraphEditor.NODE_IO_INPUT : GraphEditor.NODE_IO_OUTPUT;\r\n\r\n        // Discard same IO type\r\n        if( linkData.ioType == ioType )\r\n        {\r\n            console.warn( `Can't link same type of data` );\r\n            return;\r\n        }\r\n\r\n        // Info about src node\r\n        const src_nodeContainer = linkData.domEl;\r\n        const src_nodeId = src_nodeContainer.dataset[ 'id' ];\r\n        const src_node = this.nodes[ src_nodeId ].data;\r\n        const src_ioIndex = this._generatingLink.index\r\n\r\n        // Info about dst node\r\n        const dst_nodeContainer = e.target.offsetParent;\r\n        const dst_nodeId = dst_nodeContainer.dataset[ 'id' ];\r\n        const dst_node = this.nodes[ dst_nodeId ].data;\r\n        const dst_ioIndex = parseInt( e.target.parentElement.dataset[ 'index' ] );\r\n\r\n        // Discard different types\r\n        const srcIsInput = ( linkData.ioType ==  GraphEditor.NODE_IO_INPUT );\r\n        const src_ios = src_node[ srcIsInput ? 'inputs' : 'outputs' ];\r\n        const src_ioType = src_ios[ src_ioIndex ].type;\r\n\r\n        const dst_ios = dst_node[ ioType ==  GraphEditor.NODE_IO_INPUT ? 'inputs' : 'outputs' ];\r\n        const dst_ioType = dst_ios[ dst_ioIndex ].type;\r\n\r\n        if( src_ioType != dst_ioType && src_ioType != \"any\" && dst_ioType != \"any\"  )\r\n        {\r\n            // Different types, but it might be possible to cast types\r\n\r\n            const inputType = srcIsInput ? src_ioType : dst_ioType;\r\n            const outputType = srcIsInput ? dst_ioType : src_ioType;\r\n\r\n            if( !this.supportedCastTypes[ outputType + '@' + inputType ] )\r\n            {\r\n                console.warn( `Can't link ${ src_ioType } to ${ dst_ioType }.` );\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Check if target it's an active input and remove the old link\r\n\r\n        if( ioType == GraphEditor.NODE_IO_INPUT && e.target.parentElement.dataset[ 'active' ] )\r\n        {\r\n            this._deleteLinks( dst_nodeId, e.target.parentElement );\r\n        }\r\n\r\n        // Check if source it's an active input and remove the old link\r\n\r\n        else if( linkData.ioType == GraphEditor.NODE_IO_INPUT && linkData.io.dataset[ 'active' ] )\r\n        {\r\n            this._deleteLinks( src_nodeId, linkData.io );\r\n        }\r\n\r\n        // Store the end io..\r\n\r\n        var srcDom = linkData.io;\r\n        srcDom.links = srcDom.links ?? [ ];\r\n        srcDom.links[ dst_ioIndex ] = srcDom.links[ dst_ioIndex ] ?? [ ];\r\n        srcDom.links[ dst_ioIndex ].push( dst_nodeId );\r\n\r\n        var dstDom = e.target.parentElement;\r\n        dstDom.links = dstDom.links ?? [ ];\r\n        dstDom.links[ src_ioIndex ] = dstDom.links[ src_ioIndex ] ?? [ ];\r\n        dstDom.links[ src_ioIndex ].push( src_nodeId );\r\n\r\n        // Call this using the io target to set the connection to the center of the input DOM element..\r\n\r\n        let path = this._updatePreviewLink( null, e.target.parentElement );\r\n\r\n        // Store link\r\n\r\n        const pathId = ( srcIsInput ? dst_nodeId : src_nodeId ) + '@' + ( srcIsInput ? src_nodeId : dst_nodeId );\r\n\r\n        if( !this.currentGraph.links[ pathId ] ) this.currentGraph.links[ pathId ] = [];\r\n\r\n        this.currentGraph.links[ pathId ].push( {\r\n            path: path,\r\n            inputNode: srcIsInput ? src_nodeId : dst_nodeId,\r\n            inputIdx: srcIsInput ? src_ioIndex : dst_ioIndex,\r\n            inputType: srcIsInput ? src_ioType : dst_ioType,\r\n            outputNode: srcIsInput ? dst_nodeId : src_nodeId,\r\n            outputIdx: srcIsInput ? dst_ioIndex : src_ioIndex,\r\n            outputType: srcIsInput ? dst_ioType : src_ioType,\r\n        } );\r\n\r\n        path.dataset[ 'id' ] = pathId;\r\n\r\n        // Mark as active links...\r\n\r\n        linkData.io.dataset[ 'active' ] = true;\r\n        e.target.parentElement.dataset[ 'active' ] = true;\r\n\r\n        // Successful link..\r\n        return true;\r\n    }\r\n\r\n    _updatePreviewLink( e: any, endIO?: any ) {\r\n\r\n        var path = this._generatingLink.path;\r\n\r\n        if( !path )\r\n        {\r\n            var svg = document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' );\r\n            svg.classList.add( \"link-svg\" );\r\n            svg.style.width = \"100%\";\r\n            svg.style.height = \"100%\";\r\n            this._domLinks.appendChild( svg );\r\n\r\n            path = document.createElementNS( 'http://www.w3.org/2000/svg', 'path' );\r\n            path.setAttribute( 'fill', 'none' );\r\n            svg.appendChild( path );\r\n            this._generatingLink.path = path;\r\n        }\r\n\r\n        // Generate bezier curve\r\n\r\n        const index = this._generatingLink.index;\r\n        const type = this._generatingLink.ioType;\r\n        const domEl = this._generatingLink.domEl;\r\n\r\n        const offsetX = this.root.getBoundingClientRect().x;\r\n        const offsetY = this.root.getBoundingClientRect().y;\r\n\r\n        const ios = domEl.querySelector( type == GraphEditor.NODE_IO_INPUT ? '.lexgraphnodeinputs' : '.lexgraphnodeoutputs' );\r\n        const ioEl = ios.childNodes[ index ].querySelector( '.io__type' );\r\n        const startRect = ioEl.getBoundingClientRect();\r\n\r\n        let startPos = new vec2( startRect.x - offsetX, startRect.y - offsetY );\r\n        let endPos = null;\r\n        let endioEl = null;\r\n\r\n        if( e )\r\n        {\r\n            endPos = new vec2( e.offsetX, e.offsetY );\r\n\r\n            // Add node position, since I can't get the correct position directly from the event..\r\n            if( LX.hasClass( e.target, [ 'lexgraphnode', 'lexgraphgroup' ] ) )\r\n            {\r\n                endPos.add( this._getNodePosition( e.target ), endPos );\r\n                endPos.add( new vec2( 3, 3 ), endPos );\r\n            }\r\n            else if( LX.hasClass( e.target, [ 'io__type', 'lexgraphgroupresizer' ] ) )\r\n            {\r\n                var parent = e.target.offsetParent;\r\n                // Add parent offset\r\n                endPos.add( this._getNodePosition( parent ), endPos );\r\n                // Add own offset\r\n                endPos.add( new vec2( e.target.offsetLeft, e.target.offsetTop ), endPos );\r\n                endPos.add( new vec2( 3, 3 ), endPos );\r\n            }\r\n\r\n            endPos = this._getRenderPosition( endPos );\r\n        }\r\n        else\r\n        {\r\n            endioEl = endIO.querySelector( '.io__type' );\r\n            const ioRect = endioEl.getBoundingClientRect();\r\n            endPos = new vec2( ioRect.x - offsetX, ioRect.y - offsetY );\r\n        }\r\n\r\n        if( type == GraphEditor.NODE_IO_INPUT )\r\n        {\r\n            var tmp = endPos;\r\n            endPos = startPos;\r\n            startPos = tmp;\r\n        }\r\n\r\n        let color = getComputedStyle( ioEl ).backgroundColor;\r\n\r\n        if( type == GraphEditor.NODE_IO_OUTPUT && endioEl )\r\n            color = getComputedStyle( endioEl ).backgroundColor;\r\n\r\n        this._createLinkPath( path, startPos, endPos, color, !!e );\r\n\r\n        return path;\r\n    }\r\n\r\n    _createLink( link: any )\r\n    {\r\n        var svg = document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' );\r\n        svg.classList.add( \"link-svg\" );\r\n        svg.style.width = \"100%\";\r\n        svg.style.height = \"100%\";\r\n        this._domLinks.appendChild( svg );\r\n\r\n        var path = document.createElementNS( 'http://www.w3.org/2000/svg', 'path' );\r\n        path.setAttribute( 'fill', 'none' );\r\n        svg.appendChild( path );\r\n\r\n        const inputNodeDom = this._getNodeDOMElement( link.inputNode );\r\n        const outputNodeDom = this._getNodeDOMElement( link.outputNode );\r\n\r\n        // Start pos\r\n\r\n        const offsetX = this.root.getBoundingClientRect().x;\r\n        const offsetY = this.root.getBoundingClientRect().y;\r\n\r\n        const outputs = outputNodeDom.querySelector( '.lexgraphnodeoutputs' );\r\n        const io0 = outputs.childNodes[ link.outputIdx ];\r\n        const startRect = io0.querySelector( '.io__type' ).getBoundingClientRect();\r\n\r\n        let startPos = new vec2( startRect.x - offsetX, startRect.y - offsetY + 6 );\r\n\r\n        // End pos\r\n\r\n        const inputs = inputNodeDom.querySelector( '.lexgraphnodeinputs' );\r\n        const io1 = inputs.childNodes[ link.inputIdx ];\r\n        const endRect = io1.querySelector( '.io__type' ).getBoundingClientRect();\r\n\r\n        let endPos = new vec2( endRect.x - offsetX, endRect.y - offsetY + 6 );\r\n\r\n        // Generate bezier curve\r\n\r\n        const color = getComputedStyle( io1.querySelector( '.io__type' ) ).backgroundColor;\r\n        this._createLinkPath( path, startPos, endPos, color );\r\n\r\n        link.path = path;\r\n\r\n        // Store data in each IO\r\n\r\n        io0.links = [ ];\r\n        io0.links[ link.inputIdx ] = io0.links[ link.inputIdx ] ?? [ ];\r\n        io0.links[ link.inputIdx ].push( link.inputNode );\r\n\r\n        io1.links = [ ];\r\n        io1.links[ link.outputIdx ] = io1.links[ link.outputIdx ] ?? [ ];\r\n        io1.links[ link.outputIdx ].push( link.outputNode );\r\n\r\n        io0.dataset[ 'active' ] = true;\r\n        io1.dataset[ 'active' ] = true;\r\n    }\r\n\r\n    _createLinkPath( path: any, startPos: typeof vec2, endPos: typeof vec2, color?: any, exactEnd: boolean = false )\r\n    {\r\n        if( !this.currentGraph )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const dist = 6 * this.currentGraph.scale;\r\n        startPos.add( new vec2( dist, dist ), startPos );\r\n\r\n        if( !exactEnd )\r\n        {\r\n            endPos.add( new vec2( dist, dist ), endPos );\r\n        }\r\n\r\n        startPos = this._getPatternPosition( startPos );\r\n        endPos = this._getPatternPosition( endPos );\r\n\r\n        const distanceX = LX.clamp( Math.abs( startPos.x - endPos.x ), 0.0, 256.0 );\r\n        const cPDistance = 128.0 * Math.pow( distanceX / 256.0, 0.5 );\r\n\r\n        let cPoint1 = startPos.add( new vec2( cPDistance, 0 ) );\r\n        let cPoint2 = endPos.sub( new vec2( cPDistance, 0 ) );\r\n\r\n        path.setAttribute( 'd', `\r\n            M ${ startPos.x },${ startPos.y }\r\n            C ${ cPoint1.x },${ cPoint1.y } ${ cPoint2.x },${ cPoint2.y } ${ endPos.x },${ endPos.y }\r\n        ` );\r\n\r\n        path.parentElement.style.color = color;\r\n    }\r\n\r\n    _updateNodeLinks( nodeId: string )\r\n    {\r\n        var node = this.nodes[ nodeId ] ? this.nodes[ nodeId ].data : null;\r\n\r\n        if( !node ) {\r\n            console.warn( `Can't finde node [${ nodeId }]` );\r\n            return;\r\n        }\r\n\r\n        const nodeDOM = this._getNodeDOMElement( nodeId );\r\n\r\n        // Update input links\r\n\r\n        for( let input of nodeDOM.querySelectorAll( '.ioinput' ) )\r\n        {\r\n            if( !input.links )\r\n                continue;\r\n\r\n            // Get first and only target output..\r\n            const targets = input.links.filter( ( v: any ) => v !== undefined )[ 0 ];\r\n            const targetNodeId = targets[ 0 ];\r\n\r\n            // It has been deleted..\r\n            if( !targetNodeId )\r\n                continue;\r\n\r\n            const ioIndex = parseInt( input.dataset[ 'index' ] );\r\n\r\n            var links = this._getLinks( targetNodeId, nodeId );\r\n\r\n            // Inputs only have 1 possible output connected\r\n            var link = links.find( ( i: any ) => ( i.inputIdx == ioIndex ) );\r\n\r\n            this._generatingLink = {\r\n                index: ioIndex,\r\n                io: input,\r\n                ioType: GraphEditor.NODE_IO_INPUT,\r\n                domEl: nodeDOM,\r\n                path: link.path\r\n            };\r\n\r\n            // Get end io\r\n\r\n            const outputNode = this._getNodeDOMElement( targetNodeId );\r\n            const io = outputNode.querySelector( '.lexgraphnodeoutputs' ).childNodes[ link.outputIdx ]\r\n\r\n            this._updatePreviewLink( null, io );\r\n        }\r\n\r\n        // Update output links\r\n\r\n\r\n        for( let output of nodeDOM.querySelectorAll( '.iooutput' ) )\r\n        {\r\n            if( !output.links )\r\n            continue;\r\n\r\n            const srcIndex = parseInt( output.dataset[ 'index' ] );\r\n\r\n            for( let targetIndex = 0; targetIndex < output.links.length; ++targetIndex )\r\n            {\r\n                const targets = output.links[ targetIndex ];\r\n\r\n                if( !targets )\r\n                continue;\r\n\r\n                for( let targetId of targets )\r\n                {\r\n                    var links = this._getLinks( nodeId, targetId );\r\n                    var link = links.find( ( i: any ) => ( i.inputIdx == targetIndex && i.outputIdx == srcIndex ) );\r\n\r\n                    // Outputs can have different inputs connected\r\n                    this._generatingLink = {\r\n                        index: link.outputIdx,\r\n                        io: output,\r\n                        ioType: GraphEditor.NODE_IO_OUTPUT,\r\n                        domEl: nodeDOM,\r\n                        path: link.path\r\n                    };\r\n\r\n                    // Get end io\r\n\r\n                    const inputNode = this._getNodeDOMElement( targetId );\r\n                    const io = inputNode.querySelector( '.lexgraphnodeinputs' ).childNodes[ link.inputIdx ]\r\n\r\n                    this._updatePreviewLink( null, io );\r\n                }\r\n            }\r\n        }\r\n\r\n        delete this._generatingLink;\r\n    }\r\n\r\n    _drawBoxSelection( e: MouseEvent )\r\n    {\r\n        var svg = this._currentBoxSelectionSVG;\r\n\r\n        if( !svg )\r\n        {\r\n            var svg: SVGSVGElement | undefined = document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' );\r\n            svg.classList.add( \"box-selection-svg\" );\r\n            if( this._boxSelectRemoving )\r\n            {\r\n                svg.classList.add( \"removing\" );\r\n            }\r\n            svg.style.width = \"100%\";\r\n            svg.style.height = \"100%\";\r\n            this._domLinks.appendChild( svg );\r\n            this._currentBoxSelectionSVG = svg;\r\n        }\r\n\r\n        // Generate box\r\n\r\n        let startPos = this._getPatternPosition( this._boxSelecting );\r\n        let size = this._getPatternPosition( this._mousePosition ).sub( startPos );\r\n\r\n        if( size.x < 0 ) startPos.x += size.x;\r\n        if( size.y < 0 ) startPos.y += size.y;\r\n\r\n        size = size.abs();\r\n\r\n        svg.innerHTML = `<rect\r\n            x=\"${ startPos.x }\" y=\"${ startPos.y }\"\r\n            rx=\"${ 6 }\" ry=\"${ 6 }\"\r\n            width=\"${ size.x }\" height=\"${ size.y }\"\r\n        \"/>`;\r\n    }\r\n\r\n    _getNonVisibleNodes()\r\n    {\r\n        const nonVisibleNodes = [];\r\n\r\n        if( !this.currentGraph )\r\n        {\r\n            console.warn( \"No graph set\" );\r\n            return [];\r\n        }\r\n\r\n        const graph_bb = new BoundingBox( new vec2( 0, 0 ), new vec2( this.root.offsetWidth, this.root.offsetHeight ) );\r\n\r\n        for( let node of this.currentGraph.nodes )\r\n        {\r\n            let pos = this._getRenderPosition( node.position );\r\n            let dom = this._getNodeDOMElement( node.id );\r\n            if( !dom )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            const node_bb = new BoundingBox( pos, node.size.mul( this.currentGraph.scale ) );\r\n\r\n            if( graph_bb.inside( node_bb, false ) )\r\n            {\r\n                // Show if node in viewport..\r\n                dom.classList.toggle( 'hidden-opacity', false );\r\n\r\n                // And hide content if scale is very small..\r\n                dom.childNodes[ 1 ].classList.toggle( 'hidden-opacity', this.currentGraph.scale < 0.5 );\r\n\r\n                continue;\r\n            }\r\n\r\n            nonVisibleNodes.push( node );\r\n        }\r\n\r\n        return nonVisibleNodes;\r\n    }\r\n\r\n    _selectNodesInBox( lt: typeof vec2, rb: typeof vec2, remove: boolean = false )\r\n    {\r\n        lt = this._getPatternPosition( lt );\r\n        rb = this._getPatternPosition( rb );\r\n\r\n        let size = rb.sub( lt );\r\n\r\n        if( size.x < 0 )\r\n        {\r\n            var tmp = lt.x;\r\n            lt.x = rb.x;\r\n            rb.x = tmp;\r\n        }\r\n\r\n        if( size.y < 0 )\r\n        {\r\n            var tmp = lt.y;\r\n            lt.y = rb.y;\r\n            rb.y = tmp;\r\n        }\r\n\r\n        const nodes = this._getAllDOMNodes() as HTMLElement[];\r\n        for( let nodeEl of nodes )\r\n        {\r\n            let pos = this._getNodePosition( nodeEl );\r\n            let size = new vec2( nodeEl.offsetWidth, nodeEl.offsetHeight );\r\n\r\n            if( ( !( pos.x < lt.x && ( pos.x + size.x ) < lt.x ) && !( pos.x > rb.x && ( pos.x + size.x ) > rb.x ) ) &&\r\n                ( !( pos.y < lt.y && ( pos.y + size.y ) < lt.y ) && !( pos.y > rb.y && ( pos.y + size.y ) > rb.y ) ) )\r\n            {\r\n                if( remove )\r\n                    this._unSelectNode( nodeEl );\r\n                else\r\n                    this._selectNode( nodeEl, true, false );\r\n            }\r\n        }\r\n    }\r\n\r\n    _deleteSelection( e?: any )\r\n    {\r\n        const lastNodeCount = this._domNodes.childElementCount;\r\n\r\n        for( let nodeId of this.selectedNodes )\r\n        {\r\n            this._deleteNode( nodeId );\r\n        }\r\n\r\n        this.selectedNodes.length = 0;\r\n\r\n        // We delete something, so add undo step..\r\n\r\n        if( this._domNodes.childElementCount != lastNodeCount )\r\n        {\r\n            this._addUndoStep();\r\n        }\r\n    }\r\n\r\n    _getBoundingFromGroup( groupDOM: HTMLElement )\r\n    {\r\n        const x = parseFloat( groupDOM.style.left );\r\n        const y = parseFloat( groupDOM.style.top );\r\n\r\n        return new BoundingBox( new vec2( x, y ), new vec2( groupDOM.offsetWidth - 2, groupDOM.offsetHeight - 2 ) );\r\n    }\r\n\r\n    _getBoundingFromNodes( nodeIds: string[] )\r\n    {\r\n        let group_bb = null;\r\n\r\n        for( let nodeId of nodeIds )\r\n        {\r\n            const node = this.nodes[ nodeId ].data;\r\n            const node_bb = new BoundingBox( node.position, node.size );\r\n\r\n            if( group_bb )\r\n            {\r\n                group_bb.merge( node_bb );\r\n            }\r\n            else\r\n            {\r\n                group_bb = node_bb;\r\n            }\r\n        }\r\n\r\n        if( group_bb )\r\n        {\r\n            // Add padding\r\n\r\n            const groupContentPadding = 8;\r\n\r\n            group_bb.origin.sub( new vec2( groupContentPadding ), group_bb.origin );\r\n            group_bb.origin.sub( new vec2( groupContentPadding ), group_bb.origin );\r\n\r\n            group_bb.size.add( new vec2( groupContentPadding * 2.0 ), group_bb.size );\r\n            group_bb.size.add( new vec2( groupContentPadding * 2.0 ), group_bb.size );\r\n        }\r\n\r\n        return group_bb;\r\n    }\r\n\r\n    /**\r\n     * @method _createGroup\r\n     * @description Creates a node group from the bounding box of the selected nodes\r\n     * @returns JSON data from the serialized graph\r\n     */\r\n\r\n    _createGroup( bb?: BoundingBox )\r\n    {\r\n        const group_bb: any = bb ?? this._getBoundingFromNodes( this.selectedNodes );\r\n        if( !group_bb )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const group_id = group_bb.id ?? `group-${ LX.guidGenerator() }`;\r\n\r\n        let groupDOM = document.createElement( 'div' );\r\n        groupDOM.id = group_id;\r\n        groupDOM.classList.add( 'lexgraphgroup' );\r\n        groupDOM.style.left = group_bb.origin.x + \"px\";\r\n        groupDOM.style.top = group_bb.origin.y + \"px\";\r\n        groupDOM.style.width = group_bb.size.x + \"px\";\r\n        groupDOM.style.height = group_bb.size.y + \"px\";\r\n\r\n        let groupResizer = document.createElement( 'div' );\r\n        groupResizer.classList.add( 'lexgraphgroupresizer' );\r\n\r\n        groupResizer.addEventListener( 'mousedown', inner_mousedown );\r\n\r\n        this.groups[ group_id ] = groupDOM;\r\n\r\n        var that = this;\r\n        var lastPos = [ 0,0 ];\r\n\r\n        function inner_mousedown( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.addEventListener( 'mousemove', inner_mousemove );\r\n            doc.addEventListener( 'mouseup', inner_mouseup );\r\n            lastPos[0] = e.x;\r\n            lastPos[1] = e.y;\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            document.body.classList.add( 'nocursor' );\r\n            groupResizer.classList.add( 'nocursor' );\r\n        }\r\n\r\n        function inner_mousemove( e: MouseEvent )\r\n        {\r\n            let dt = new vec2( lastPos[ 0 ] - e.x, lastPos[ 1 ] - e.y );\r\n            dt.div( that.currentGraph?.scale, dt);\r\n\r\n            groupDOM.style.width = ( parseFloat( groupDOM.style.width ) - dt.x ) + \"px\";\r\n            groupDOM.style.height = ( parseFloat( groupDOM.style.height ) - dt.y ) + \"px\";\r\n\r\n            lastPos[0] = e.x;\r\n            lastPos[1] = e.y;\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n\r\n        function inner_mouseup( e: MouseEvent )\r\n        {\r\n            var doc = that.root.ownerDocument;\r\n            doc.removeEventListener( 'mousemove', inner_mousemove );\r\n            doc.removeEventListener( 'mouseup', inner_mouseup );\r\n            document.body.classList.remove( 'nocursor' );\r\n            groupResizer.classList.remove( 'nocursor' );\r\n        }\r\n\r\n        let groupTitle = document.createElement( 'input' );\r\n        let defaultName = `Group ${ GraphEditor.LAST_GROUP_ID }`;\r\n        groupTitle.value = defaultName;\r\n        groupTitle.classList.add( 'lexgraphgrouptitle' );\r\n        groupTitle.disabled = true;\r\n\r\n        // Dbl click to rename\r\n\r\n        groupTitle.addEventListener( 'mousedown', e => {\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n        } );\r\n\r\n        groupTitle.addEventListener( 'focusout', e => {\r\n            groupTitle.disabled = true;\r\n            if( !groupTitle.value.length )\r\n                groupTitle.value = defaultName;\r\n        } );\r\n\r\n        groupTitle.addEventListener( 'keyup', e => {\r\n            if( e.key == 'Enter' ) {\r\n                groupTitle.blur();\r\n            }\r\n            else if( e.key == 'Escape' ) {\r\n                groupTitle.value = \"\";\r\n                groupTitle.blur();\r\n            }\r\n        });\r\n\r\n        groupDOM.addEventListener( 'dblclick', e => {\r\n            // Only for left click..\r\n            if( e.button != LX.MOUSE_LEFT_CLICK )\r\n                return;\r\n            groupTitle.disabled = false;\r\n            groupTitle.focus();\r\n        } );\r\n\r\n        groupDOM.addEventListener( 'contextmenu', e => {\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n\r\n            LX.addContextMenu( null, e, ( m: typeof ContextMenu ) => {\r\n                m.add( \"Delete\", () => {\r\n                    this._deleteGroup( group_id );\r\n                } );\r\n            });\r\n        } );\r\n\r\n        groupDOM.appendChild( groupResizer );\r\n        groupDOM.appendChild( groupTitle );\r\n\r\n        this._domNodes.prepend( groupDOM );\r\n\r\n        // Move group!!\r\n\r\n        LX.makeDraggable( groupDOM, {\r\n            onMove: this._onMoveGroup.bind( this ),\r\n            onDragStart: this._onDragGroup.bind( this ),\r\n            updateLayers: false\r\n        } );\r\n\r\n        GraphEditor.LAST_GROUP_ID++;\r\n\r\n        return groupDOM;\r\n    }\r\n\r\n    _addUndoStep( deleteRedo = true )\r\n    {\r\n        if( deleteRedo )\r\n        {\r\n            // Remove all redo steps\r\n            this._redoSteps.length = 0;\r\n        }\r\n\r\n        this._undoSteps.push( {\r\n            // TODO: Add graph state\r\n        } );\r\n    }\r\n\r\n    _doUndo()\r\n    {\r\n        if( !this._undoSteps.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._addRedoStep();\r\n\r\n        // Extract info from the last state\r\n        const step = this._undoSteps.pop();\r\n\r\n        // Set old state\r\n        // TODO\r\n\r\n        console.log( \"Undo!!\" );\r\n    }\r\n\r\n    _addRedoStep()\r\n    {\r\n        this._redoSteps.push( {\r\n            // TODO: Add graph state\r\n        } );\r\n    }\r\n\r\n    _doRedo()\r\n    {\r\n        if( !this._redoSteps.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._addUndoStep( false );\r\n\r\n        // Extract info from the next saved code state\r\n        const step = this._redoSteps.pop();\r\n\r\n        // Set old state\r\n        // TODO\r\n\r\n        console.log( \"Redo!!\" );\r\n    }\r\n\r\n    _togglePropertiesDialog( force: boolean = false )\r\n    {\r\n        this.propertiesDialog.root.classList.toggle( 'opened', force );\r\n\r\n        if( !force )\r\n        {\r\n            this.propertiesDialog.panel.clear();\r\n        }\r\n    }\r\n\r\n    _setSnappingValue( value: number )\r\n    {\r\n        this._snapValue = value;\r\n    }\r\n\r\n    _toggleSnapping()\r\n    {\r\n        this._snapToGrid = !this._snapToGrid;\r\n\r\n        // Trigger position snapping for each node if needed\r\n\r\n        if( this._snapToGrid )\r\n        {\r\n            for( let nodeDom of ( this._getAllDOMNodes( true ) as any[] ) )\r\n            {\r\n                nodeDom.mustSnap = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    _onSidebarCreate( e: Event )\r\n    {\r\n        new LX.DropdownMenu( e.target, [\r\n            { name: \"Create Graph\", icon: \"Workflow\", callback: () => this.addGraph() },\r\n            { name: \"Create Function\", icon: \"Function\", callback: () => this.addGraphFunction() },\r\n        ], { side: \"right\", align: \"start\" });\r\n    }\r\n\r\n    _showRenameGraphDialog()\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const dialog = new LX.Dialog( this.currentGraph.constructor.name, ( p: typeof Panel ) => {\r\n            p.addText( \"Name\", this.currentGraph?.name, ( v: string ) => {\r\n                this._updateGraphName( v );\r\n                dialog.close();\r\n            } );\r\n        }, { modal: true, size: [ \"350px\", null ] } );\r\n    }\r\n\r\n    _updateGraphName( name: string )\r\n    {\r\n        if( !this.currentGraph ) return;\r\n\r\n        const newNameKey = name.replace( /\\s/g, '' ).replaceAll( '.', '' );\r\n\r\n        // Change graph name button\r\n        const nameDom = this._sidebar.root.querySelectorAll(\".lexsidebarheader span\")[ 1 ];\r\n        console.assert( nameDom );\r\n        nameDom.innerText = name;\r\n\r\n        // Change name in sidebar\r\n        const sidebarItem = this._sidebar.items.find( ( v: any ) => v.name === this.currentGraph?.name );\r\n        if( sidebarItem )\r\n        {\r\n            const oldName = sidebarItem.name;\r\n            sidebarItem.name = name;\r\n            sidebarItem.dom.id = newNameKey;\r\n            sidebarItem.dom.innerHTML = sidebarItem.dom.innerHTML.replace( oldName, name );\r\n        }\r\n\r\n        // Change registered nodes function\r\n        const oldType = 'function/' + this.currentGraph.name;\r\n        const nodeClass = GraphEditor.NODE_TYPES[ oldType ];\r\n\r\n        if( nodeClass )\r\n        {\r\n            delete GraphEditor.NODE_TYPES[ oldType ];\r\n\r\n            nodeClass.title = name;\r\n\r\n            GraphEditor.registerCustomNode( \"function/\" + name, nodeClass );\r\n        }\r\n\r\n        this.currentGraph.name = name;\r\n    }\r\n\r\n    _addGlobalActions()\r\n    {\r\n\r\n    }\r\n}\r\n\r\nLX.GraphEditor = GraphEditor;\r\n\r\n\r\n/**\r\n * @class Graph\r\n */\r\n\r\nclass Graph {\r\n\r\n    name: string = \"Unnamed Graph\";\r\n    type: string = 'Graph';\r\n    id: string = \"\";\r\n\r\n    editor: GraphEditor | undefined;\r\n    nodes: GraphNode[] = [ ];\r\n    groups: any[] = [];\r\n    variables: any = {};\r\n    links: any = {};\r\n\r\n    scale: number = 1.0;\r\n    translation: typeof vec2 = new vec2( 0, 0 );\r\n\r\n    _executionNodes: string[] = [];\r\n\r\n    constructor( name?: string, options: any = {} )\r\n    {\r\n        this.name = name ?? this.name;\r\n    }\r\n\r\n    configure( o: any )\r\n    {\r\n        this.id = o.id;\r\n        this.name = o.name;\r\n\r\n        this.nodes.length = 0;\r\n\r\n        for( let node of o.nodes )\r\n        {\r\n            const newNode = GraphEditor.addNode( node.type );\r\n\r\n            newNode.id = node.id;\r\n            newNode.title = node.title;\r\n            newNode.color = node.color;\r\n            newNode.position = new vec2( node.position.x, node.position.y );\r\n            newNode.type = node.type;\r\n            newNode.properties = node.properties;\r\n\r\n            this.nodes.push( newNode );\r\n        }\r\n\r\n        this.groups = o.groups;\r\n        this.links = o.links;\r\n\r\n        // editor options?\r\n\r\n        // zoom/translation ??\r\n    }\r\n\r\n    /**\r\n     * @method getNodeById\r\n     */\r\n\r\n    getNodeById( id: string )\r\n    {\r\n        for( let node of this.nodes )\r\n        {\r\n            if( node.id == id ) return node;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method _runStep\r\n     */\r\n\r\n    _runStep( mainId: string )\r\n    {\r\n        if( !mainId )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const nodes: any = this.nodes.reduce( ( ac, a ) => ( {...ac, [ a.id ] : a } ), {} );\r\n\r\n        // Not main graph..\r\n        if( !nodes[ mainId ] )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const visitedNodes: any = {};\r\n\r\n        this._executionNodes = [];\r\n\r\n        // Reser variables each step?\r\n        this.variables = { };\r\n\r\n        const addNode = ( id: string ) => {\r\n\r\n            if( visitedNodes[ id ] )\r\n                return;\r\n\r\n            visitedNodes[ id ] = true;\r\n\r\n            for( let linkId in this.links )\r\n            {\r\n                const idx = linkId.indexOf( '@' + id );\r\n\r\n                if( idx < 0 )\r\n                    continue;\r\n\r\n                const preNodeId = linkId.substring( 0, idx );\r\n\r\n                this._executionNodes.push( preNodeId );\r\n\r\n                addNode( preNodeId );\r\n            }\r\n        };\r\n\r\n        // TODO: Search \"no output\" nodes and add to the executable list (same as main)..\r\n        // ...\r\n\r\n        this._executionNodes.push( mainId );\r\n\r\n        addNode( mainId );\r\n\r\n        for( var i = this._executionNodes.length - 1; i >= 0; --i )\r\n        {\r\n            const node = nodes[ this._executionNodes[ i ] ];\r\n\r\n            if( node.onBeforeStep )\r\n                node.onBeforeStep();\r\n\r\n            node.execute();\r\n\r\n            if( node.onBeforeStep )\r\n                node.onAfterStep();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method serialize\r\n     * @param {Boolean} prettify\r\n     * @returns JSON data from the serialized graph\r\n     */\r\n\r\n    serialize( prettify = true )\r\n    {\r\n        var o: any = {};\r\n\r\n        o.id = this.id;\r\n        o.name = this.name;\r\n        o.type = this.type;\r\n\r\n        o.nodes     = [];\r\n        o.groups    = [];\r\n        o.functions = [];\r\n        o.links     = {};\r\n\r\n        for( let node of ( this.nodes as any[] ) )\r\n        {\r\n            o.nodes.push( node.serialize() );\r\n\r\n            const fnOrigin = this.editor?.graphs[ node.gid ];\r\n\r\n            if( fnOrigin )\r\n            {\r\n                o.functions.push( JSON.parse( fnOrigin.serialize() ) );\r\n            }\r\n        }\r\n\r\n        for( let linkId in this.links )\r\n        {\r\n            const ioLinks = LX.deepCopy( this.links[ linkId ] );\r\n            ioLinks.forEach( ( v: any ) => delete v.path );\r\n            o.links[ linkId ] = ioLinks;\r\n        }\r\n\r\n        for( let group of this.groups )\r\n        {\r\n            const groupDom = this.editor?.groups[ group.id ];\r\n            const group_bb: any = this.editor?._getBoundingFromGroup( groupDom );\r\n            group_bb.id = group.id;\r\n            group_bb.name = group.name\r\n            o.groups.push( group_bb );\r\n        }\r\n\r\n        // editor options?\r\n\r\n        // zoom/translation ??\r\n\r\n        try\r\n        {\r\n            o = JSON.stringify( o, undefined, prettify ? 2 : undefined );\r\n        }\r\n        catch( e )\r\n        {\r\n            o = null;\r\n            console.error( `Can't export Graph [${ this.name }] of type [${ this.type }].` );\r\n        }\r\n\r\n        return o;\r\n    }\r\n\r\n    /**\r\n     * @method export\r\n     */\r\n\r\n    export()\r\n    {\r\n        const o = this.serialize();\r\n        LX.downloadFile( this.name + \".json\", o );\r\n    }\r\n}\r\n\r\nLX.Graph = Graph;\r\n\r\n/**\r\n * @class GraphNode\r\n */\r\n\r\nexport class GraphNode\r\n{\r\n    static title: string;\r\n    static blockDelete: boolean = false;\r\n    static blockAdd: boolean = false;\r\n    static description: string = \"\";\r\n\r\n    id: string = \"\";\r\n    type: string = \"\";\r\n    title: string = \"\";\r\n    inputs: any[] = [];\r\n    outputs: any[] = [];\r\n    properties: any[] = [];\r\n    position: typeof vec2 = new vec2( 0, 0 );\r\n    size: typeof vec2 = new vec2( 0, 0 );\r\n    color: any;\r\n\r\n    editor: GraphEditor | undefined;\r\n    graphID: string | undefined;\r\n\r\n    constructor()\r\n    {\r\n        \r\n    }\r\n\r\n    _hasOutputsConnected()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        // This should be empty\r\n    }\r\n\r\n    execute()\r\n    {\r\n        if( !this._hasOutputsConnected() )\r\n            return;\r\n\r\n        if( this.onExecute )\r\n        {\r\n            this.onExecute();\r\n        }\r\n    }\r\n\r\n    addInput( name: string | null, type: string )\r\n    {\r\n        this.inputs.push( { name: name, type: type } );\r\n    }\r\n\r\n    addOutput( name: string | null, type: string )\r\n    {\r\n        this.outputs.push( { name: name, type: type } );\r\n    }\r\n\r\n    addProperty( name: string | null, type: string, value: any, selectOptions?: any )\r\n    {\r\n        this.properties.push( { name, type, value, options: selectOptions } );\r\n    }\r\n\r\n    getInput( index: number )\r\n    {\r\n        if( !this.inputs || !this.inputs.length || !this.inputs[ index ] )\r\n            return;\r\n\r\n        const graph = this.editor?.graphs[ this.graphID as string ];\r\n\r\n        // Get data from link\r\n\r\n        for( let linkId in graph.links )\r\n        {\r\n            const idx = linkId.indexOf( '@' + this.id );\r\n\r\n            if( idx < 0 )\r\n                continue;\r\n\r\n            const nodeLinks = graph.links[ linkId ];\r\n\r\n            for ( var link of nodeLinks )\r\n            {\r\n                if( link.inputIdx != index )\r\n                    continue;\r\n\r\n                // This is the value!!\r\n                return link.data;\r\n            }\r\n        }\r\n    }\r\n\r\n    setOutput( index: number, data: any )\r\n    {\r\n        if( !this.outputs || !this.outputs.length || !this.outputs[ index ] )\r\n            return;\r\n\r\n        const graph = this.editor?.graphs[ this.graphID as string ];\r\n\r\n        // Set data in link\r\n\r\n        for( let linkId in graph.links )\r\n        {\r\n            const idx = linkId.indexOf( this.id + '@' );\r\n\r\n            if( idx < 0 )\r\n                continue;\r\n\r\n            const nodeLinks = graph.links[ linkId ];\r\n\r\n            for ( var link of nodeLinks )\r\n            {\r\n                if( link.outputIdx != index )\r\n                    continue;\r\n\r\n                let innerData = data;\r\n\r\n                if( innerData != undefined && link.inputType != link.outputType && link.inputType != \"any\" && link.outputType != \"any\"  )\r\n                {\r\n                    // In case of supported casting, use function to cast..\r\n\r\n                    var fn = this.editor?.supportedCastTypes[ link.outputType + '@' + link.inputType ];\r\n\r\n                    // Use function if it's possible to cast!\r\n\r\n                    innerData = fn ? fn( LX.deepCopy( innerData ) ) : null;\r\n                }\r\n\r\n                link.data = innerData;\r\n            }\r\n        }\r\n    }\r\n\r\n    serialize()\r\n    {\r\n        var o: any = {};\r\n        o.id = this.id;\r\n        o.title = this.title;\r\n        o.color = this.color;\r\n        o.position = this.position;\r\n        o.type = this.type;\r\n        o.inputs = this.inputs;\r\n        o.outputs = this.outputs;\r\n        o.properties = this.properties;\r\n        return o;\r\n    }\r\n}\r\n\r\nLX.GraphNode = GraphNode;\r\n\r\n/**\r\n * @class GraphFunction\r\n */\r\n\r\nclass GraphFunction extends Graph {\r\n\r\n    constructor( name?: string, options: any = {} ) {\r\n\r\n        super();\r\n\r\n        this.name = name ?? ( \"GraphFunction\" + GraphEditor.LAST_FUNCTION_ID );\r\n        this.type = 'GraphFunction';\r\n\r\n        GraphEditor.LAST_FUNCTION_ID++\r\n\r\n        const nodeInput = GraphEditor.addNode( \"function/Input\" );\r\n        nodeInput.position = new vec2( 150, 250 );\r\n\r\n        const nodeOutput = GraphEditor.addNode( \"function/Output\" );\r\n        nodeOutput.position = new vec2( 650, 350 );\r\n\r\n        this.nodes.push( nodeInput, nodeOutput );\r\n    }\r\n\r\n    getOutputData( inputValue: any )\r\n    {\r\n        const inputNode = this.nodes[ 0 ];\r\n        inputNode.setOutput( 0, inputValue );\r\n\r\n        const outputNode = this.nodes[ 1 ];\r\n\r\n        this._runStep( outputNode.id );\r\n\r\n        return outputNode.getInput( 0 );\r\n    }\r\n}\r\n\r\nLX.GraphFunction = GraphFunction;\r\n\r\n/*\r\n    ************ PREDEFINED NODES ************\r\n\r\n    Nodes can override the following methods:\r\n\r\n        - onCreate: Add inputs, outputs and properties\r\n        - onStart: Callback on graph starts\r\n        - onStop: Callback on graph stops\r\n        - onExecute: Callback for node execution\r\n*/\r\n\r\n/*\r\n    Function nodes\r\n*/\r\n\r\nclass NodeFuncInput extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"Outputs\", \"array\", [ \"float\" ], [ 'float', 'int', 'bool', 'vec2', 'vec3', 'vec4', 'mat44' ] );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        // var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        // var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        // this.setOutput( 0, a + b );\r\n    }\r\n\r\n    setOutputs( v: any[] )\r\n    {\r\n        this.outputs.length = 0;\r\n\r\n        for( var i of v )\r\n        {\r\n            this.outputs.push( { name: null, type: i } );\r\n        }\r\n    }\r\n}\r\n\r\nNodeFuncInput.blockDelete = true;\r\nNodeFuncInput.blockAdd = true;\r\nGraphEditor.registerCustomNode( \"function/Input\", NodeFuncInput );\r\n\r\nclass NodeFuncOutput extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"any\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        // var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        // var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        // this.setOutput( 0, a + b );\r\n    }\r\n}\r\n\r\nNodeFuncOutput.blockDelete = true;\r\nNodeFuncOutput.blockAdd = true;\r\nGraphEditor.registerCustomNode( \"function/Output\", NodeFuncOutput );\r\n\r\n/*\r\n    Math nodes\r\n*/\r\n\r\nclass NodeAdd extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"A\", \"float\", 0 );\r\n        this.addProperty( \"B\", \"float\", 0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        this.setOutput( 0, a + b );\r\n    }\r\n}\r\n\r\nNodeAdd.description = \"Addition of 2 values (A+B).\"\r\nGraphEditor.registerCustomNode( \"math/Add\", NodeAdd );\r\n\r\nclass NodeSubstract extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"A\", \"float\", 0 );\r\n        this.addProperty( \"B\", \"float\", 0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        this.setOutput( 0, a - b );\r\n    }\r\n}\r\n\r\nNodeSubstract.description = \"Substraction of 2 values (A-B).\"\r\nGraphEditor.registerCustomNode( \"math/Substract\", NodeSubstract );\r\n\r\nclass NodeMultiply extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"A\", \"float\", 0 );\r\n        this.addProperty( \"B\", \"float\", 0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        this.setOutput( 0, a * b );\r\n    }\r\n}\r\n\r\nNodeMultiply.description = \"Multiplication of 2 values (A*B).\"\r\nGraphEditor.registerCustomNode( \"math/Multiply\", NodeMultiply );\r\n\r\nclass NodeDivide extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"A\", \"float\", 0 );\r\n        this.addProperty( \"B\", \"float\", 0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        var b = this.getInput( 1 ) ?? this.properties[ 1 ].value;\r\n        this.setOutput( 0, a / b );\r\n    }\r\n}\r\n\r\nNodeDivide.description = \"Division of 2 values (A/B).\"\r\nGraphEditor.registerCustomNode( \"math/Divide\", NodeDivide );\r\n\r\nclass NodeSqrt extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( \"Value\", \"float\", 0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ) ?? this.properties[ 0 ].value;\r\n        this.setOutput( 0, Math.sqrt( a ) );\r\n    }\r\n}\r\n\r\nNodeSqrt.description = \"Square root of a scalar.\"\r\nGraphEditor.registerCustomNode( \"math/SQRT\", NodeSqrt );\r\n\r\n/*\r\nMath Missing:\r\n- abs\r\n- ceil\r\n- clamp\r\n- floor\r\n- fract\r\n- lerp\r\n- log\r\n- max\r\n- min\r\n- negate\r\n- pow\r\n- remainder\r\n- round\r\n- remap range\r\n- saturate\r\n- step\r\n*/\r\n\r\n\r\n/*\r\n    Logical operator nodes\r\n*/\r\n\r\nclass NodeAnd extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"bool\" );\r\n        this.addInput( null, \"bool\" );\r\n        this.addOutput( null, \"bool\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ), b = this.getInput( 1 );\r\n        if( a == undefined || b == undefined )\r\n            return;\r\n        this.setOutput( 0, !!( a ) && !!( b ) );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/And\", NodeAnd );\r\n\r\nclass NodeOr extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"bool\" );\r\n        this.addInput( null, \"bool\" );\r\n        this.addOutput( null, \"bool\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ), b = this.getInput( 1 );\r\n        if( a == undefined || b == undefined )\r\n            return;\r\n        this.setOutput( 0, !!( a ) || !!( b ) );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/Or\", NodeOr );\r\n\r\nclass NodeEqual extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"float\" );\r\n        this.addInput( null, \"float\" );\r\n        this.addOutput( null, \"bool\" );\r\n    }\r\n\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a == b;\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ), b = this.getInput( 1 );\r\n        if( a == undefined || b == undefined )\r\n            return;\r\n        this.setOutput( 0, this.logicOp( a, b ) );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/Equal\", NodeEqual );\r\n\r\nclass NodeNotEqual extends NodeEqual\r\n{\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a != b;\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/NotEqual\", NodeNotEqual );\r\n\r\nclass NodeLess extends NodeEqual\r\n{\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a < b;\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/Less\", NodeLess );\r\n\r\nclass NodeLessEqual extends NodeEqual\r\n{\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a <= b;\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/LessEqual\", NodeLessEqual );\r\n\r\nclass NodeGreater extends NodeEqual\r\n{\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a > b;\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/Greater\", NodeGreater );\r\n\r\nclass NodeGreaterEqual extends NodeEqual\r\n{\r\n    logicOp( a: number, b: number )\r\n    {\r\n        return a >= b;\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/GreaterEqual\", NodeGreaterEqual );\r\n\r\nclass NodeSelect extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( \"True\", \"any\" );\r\n        this.addInput( \"False\", \"any\" );\r\n        this.addInput( \"Condition\", \"bool\" );\r\n        this.addOutput( null, \"any\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ), b = this.getInput( 1 ), cond = this.getInput( 2 );\r\n        if( a == undefined || b == undefined || cond == undefined )\r\n            return;\r\n        this.setOutput( 0, cond ? a : b );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"logic/Select\", NodeSelect );\r\n\r\nclass NodeCompare extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( \"A\", \"any\" );\r\n        this.addInput( \"B\", \"any\" );\r\n        this.addInput( \"True\", \"any\" );\r\n        this.addInput( \"False\", \"any\" );\r\n        this.addProperty( \"Condition\", \"select\", 'Equal', [ 'Equal', 'Not Equal', 'Less', 'Less Equal', 'Greater', 'Greater Equal' ] );\r\n        this.addOutput( null, \"any\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var a = this.getInput( 0 ), b = this.getInput( 1 ), TrueVal = this.getInput( 2 ), FalseVal = this.getInput( 3 );;\r\n        var cond = this.properties[ 0 ].value;\r\n        if( a == undefined || b == undefined || TrueVal == undefined || FalseVal == undefined )\r\n            return;\r\n        var output;\r\n        switch( cond )\r\n        {\r\n            case 'Equal': output = ( a == b ? TrueVal : FalseVal ); break;\r\n            case 'Not Equal': output = ( a != b ? TrueVal : FalseVal ); break;\r\n            case 'Less': output = ( a < b ? TrueVal : FalseVal ); break;\r\n            case 'Less Equal': output = ( a <= b ? TrueVal : FalseVal ); break;\r\n            case 'Greater': output = ( a > b ? TrueVal : FalseVal ); break;\r\n            case 'Greater Equal': output = ( a >= b ? TrueVal : FalseVal ); break;\r\n        }\r\n        this.setOutput( 0, output );\r\n    }\r\n}\r\nNodeCompare.description = \"Compare A to B given the selected operator. If true, return value of True else return value of False.\"\r\nGraphEditor.registerCustomNode( \"logic/Compare\", NodeCompare );\r\n\r\n/*\r\n    Event nodes\r\n*/\r\n\r\nclass NodeKeyDown extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( null, \"bool\" );\r\n        this.addProperty( \"Key\", \"string\", \" \" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, !!this.editor?.keys[ this.properties[ 0 ].value ] );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"events/KeyDown\", NodeKeyDown );\r\n\r\n/*\r\n    Input nodes\r\n*/\r\n\r\nclass NodeString extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( null, \"string\" );\r\n        this.addProperty( null, \"string\", \"text\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, this.properties[ 0 ].value );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"inputs/String\", NodeString );\r\n\r\nclass NodeFloat extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( null, \"float\" );\r\n        this.addProperty( null, \"float\", 0.0 );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, this.properties[ 0 ].value );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"inputs/Float\", NodeFloat );\r\n\r\nclass NodeVector2 extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( \"Value\", \"vec2\" );\r\n        this.addProperty( \"Value\", \"vec2\", [ 0, 0 ] );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, this.properties[ 0 ].value );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"inputs/Vector2\", NodeVector2 );\r\n\r\nclass NodeVector3 extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( \"Value\", \"vec3\" );\r\n        this.addProperty( \"Value\", \"vec3\", [ 0, 0, 0 ] );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, this.properties[ 0 ].value );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"inputs/Vector3\", NodeVector3 );\r\n\r\nclass NodeVector4 extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addOutput( \"Value\", \"vec4\" );\r\n        this.addProperty( \"Value\", \"vec4\", [ 0, 0, 0, 0 ] );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        this.setOutput( 0, this.properties[ 0 ].value );\r\n    }\r\n}\r\n\r\nGraphEditor.registerCustomNode( \"inputs/Vector4\", NodeVector4 );\r\n\r\n/*\r\n    Variable nodes\r\n*/\r\n\r\nclass NodeSetVariable extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( \"Value\", \"any\" );\r\n        this.addOutput( null, \"any\" );\r\n        this.addProperty( \"Name\", \"string\", \"\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var varName = this.getInput( 0 );\r\n        if( varName == undefined )\r\n            return;\r\n        var varValue = this.getInput( 1 );\r\n        if( varValue == undefined )\r\n            return;\r\n        this.editor?.setVariable( varName, varValue );\r\n        this.setOutput( 0, varValue );\r\n    }\r\n}\r\n\r\nNodeSetVariable.title = \"Set Variable\";\r\nGraphEditor.registerCustomNode( \"variables/SetVariable\", NodeSetVariable );\r\n\r\nclass NodeGetVariable extends GraphNode\r\n{\r\n    onCreate() {\r\n        this.addOutput( null, \"any\" );\r\n        this.addProperty( \"Name\", \"string\", \"\" );\r\n    }\r\n\r\n    onExecute() {\r\n        var varName = this.getInput( 0 );\r\n        if( varName == undefined )\r\n            return;\r\n        var data = this.editor?.getVariable( varName );\r\n        if( data != undefined )\r\n            this.setOutput( 0, data );\r\n    }\r\n}\r\n\r\nNodeGetVariable.title = \"Get Variable\";\r\nGraphEditor.registerCustomNode( \"variables/GetVariable\", NodeGetVariable );\r\n\r\n/*\r\n    System nodes\r\n*/\r\n\r\nclass NodeConsoleLog extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( null, \"any\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var data = this.getInput( 0 );\r\n        if( data == undefined )\r\n            return;\r\n        console.log( data );\r\n    }\r\n}\r\n\r\nNodeConsoleLog.title = \"Console Log\";\r\nGraphEditor.registerCustomNode( \"system/ConsoleLog\", NodeConsoleLog );\r\n\r\nclass NodeMain extends GraphNode\r\n{\r\n    onCreate()\r\n    {\r\n        this.addInput( \"a\", \"float\" );\r\n        this.addInput( \"b\", \"bool\" );\r\n        this.addInput( \"Color\", \"vec4\" );\r\n    }\r\n\r\n    onExecute()\r\n    {\r\n        var data = this.getInput( 2 );\r\n        if( data == undefined )\r\n            return;\r\n        console.log( data );\r\n    };\r\n}\r\n\r\nNodeMain.blockDelete = true;\r\nGraphEditor.registerCustomNode( \"system/Main\", NodeMain );","// Timeline.ts @evallsg, @japopra\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'Timeline' );\r\n\r\nLX.registerIcon(\"TimelineLock\", '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path fill=\"none\" d=\"M7 11V7a4 4 0 0 1 9 0v4 M5,11h13 a2 2 0 0 1 2 2 v7 a2 2 0 0 1 -2 2 h-13 a2 2 0 0 1 -2 -2 v-7 a2 2 0 0 1 2 -2 M12 16 v2\"/></svg>' );\r\nLX.registerIcon(\"TimelineLockOpen\", '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path fill=\"none\" d=\"M14 11V7a4 4 0 0 1 9 0v2 M3,11h13 a2 2 0 0 1 2 2 v7 a2 2 0 0 1 -2 2 h-13 a2 2 0 0 1 -2 -2 v-7 a2 2 0 0 1 2 -2 M8 17 h3\"/></svg>' );\r\n\r\nconst Area = LX.Area;\r\nconst Panel = LX.Panel;\r\nconst Dialog = LX.Dialog;\r\nconst TreeEvent = LX.TreeEvent;\r\n\r\ntype Nullable<T> = T | null | undefined;\r\n\r\n/**\r\n * @class Timeline\r\n * @description Agnostic timeline, do not impose any timeline content. Renders to a canvas\r\n */\r\n\r\nexport abstract class Timeline\r\n{\r\n    static BACKGROUND_COLOR: string;\r\n    static TRACK_COLOR_PRIMARY: string;\r\n    static TRACK_COLOR_SECONDARY: string;\r\n    static TRACK_COLOR_TERCIARY: string;\r\n    static TRACK_COLOR_QUATERNARY: string;\r\n    static TRACK_SELECTED: string\r\n    static TRACK_SELECTED_LIGHT: string\r\n    static FONT: string;\r\n    static FONT_COLOR_PRIMARY: string;\r\n    static FONT_COLOR_TERTIARY: string;\r\n    static FONT_COLOR_QUATERNARY: string;\r\n    static KEYFRAME_COLOR: string;\r\n    static KEYFRAME_COLOR_HOVERED: string;\r\n    static KEYFRAME_COLOR_SELECTED: string;\r\n    static KEYFRAME_COLOR_LOCK: string;\r\n    static KEYFRAME_COLOR_EDITED: string;\r\n    static KEYFRAME_COLOR_INACTIVE: string;\r\n    static TIME_MARKER_COLOR: string\r\n    static TIME_MARKER_COLOR_TEXT: string\r\n    static BOX_SELECTION_COLOR: string\r\n\r\n    uniqueID: string;\r\n    timelineTitle: string;\r\n\r\n    animationClip: any;\r\n\r\n    duration: number = 1;\r\n    currentTime: number = 0; // seconds\r\n    visualTimeRange: [ number,number] = [0, 0]; // [ start time, end time ] - visible range of time. 0 <= time <= duration\r\n    visualOriginTime: number = 0; // time visible at pixel 0. -infinity < time < infinity\r\n    pixelsPerSecond: number = 300;\r\n    secondsPerPixel: number;\r\n\r\n    clickTime: number = 0; // real world time when mouse was pressed down. Used for discard\r\n    clickDiscardTimeout: number = 200; // ms\r\n    lastMouse: [ number,number] = [0, 0];\r\n    boxSelection: boolean = false;\r\n    boxSelectionStart: [ number, number] = [0, 0];\r\n    boxSelectionEnd: [ number, number] = [0, 0];\r\n\r\n    historyUndo: Array<any> = [];\r\n    historyRedo: Array<any> = [];\r\n    historySaveEnabler: boolean = true; // used in saveState\r\n    historyMaxSteps: number = 100; // used in saveState\r\n    clipboard: any = null;\r\n\r\n    grabbing: boolean = false;\r\n    grabTime: number = 0;\r\n    grabbingTimeBar: boolean = false;\r\n    grabbingScroll: boolean = false;\r\n    movingKeys: boolean = false;\r\n    timeBeforeMove: number = 0;\r\n\r\n    currentScroll: number = 0; //in percentage\r\n    currentScrollInPixels: number = 0; //in pixels\r\n    trackHeight: number = 32;\r\n    timeSeparators: number[] = [0.01, 0.1, 0.5, 1, 5];\r\n\r\n    playing: boolean = false;\r\n    loop: boolean = true;\r\n    active: boolean = true;\r\n    skipVisibility: boolean;\r\n    skipLock: boolean;\r\n    disableNewTracks: boolean;\r\n\r\n    optimizeThreshold: number = 0.01;\r\n\r\n    selectedTracks: any[] = []; // [ track, track] contains selected (highlighted ) tracks. That is, tracks with .isSelected == true. Elements in array are not ordered. Only visible tracks should be selected\r\n    selectedItems: any[] = []; // [ trackInfo, \"groupId\"], contains the visible items ( tracks or groups ) of the timeline\r\n    leftPanel: typeof Panel; // where tree will be placed\r\n    trackTreesPanel: any = null;\r\n    trackTreesComponent: any = null;\r\n    lastTrackTreesComponentOffset: any = 0; // this.trackTreesComponent.innerTree.domEl.offsetTop - canvas.offsetTop. Check draw()\r\n\r\n    mainArea: typeof Area;\r\n    root: HTMLBodyElement;\r\n    header: typeof Panel;\r\n    canvasArea: typeof Area; // parent of canvas\r\n    canvas: HTMLCanvasElement;\r\n    size: [ number, number] = [0.000001, 0.000001 ];\r\n    topMargin: number = 40;\r\n    header_offset: number = 48;\r\n\r\n    updateTheme: () => void;\r\n\r\n    onCreateBeforeTopBar: Nullable< ( headerPanel : typeof Panel ) => void > = null;\r\n    onCreateAfterTopBar: Nullable< ( headerPanel : typeof Panel ) => void > = null;\r\n    onCreateControlsButtons: Nullable< ( headerPanel : typeof Panel ) => void > = null;\r\n    onCreateSettingsButtons: Nullable< ( headerPanel : typeof Panel ) => void > = null;\r\n    onShowOptimizeMenu: Nullable< ( event: any ) => void > = null;\r\n    onShowConfiguration: Nullable< ( panel: typeof Panel ) => void > = null;\r\n    onMouse: Nullable< ( event: any, t: number ) => void > = null;\r\n    onDblClick: Nullable< ( event: any ) => void > = null;\r\n    onShowContextMenu: Nullable< ( event: any ) => void > = null;\r\n    onAddNewTrackButton: Nullable< () => void > = null; // overrides button \"add track\" behaviour\r\n    onAddNewTrack: Nullable< ( track: any, options: any ) => void > = null;\r\n    onTrackTreeEvent: Nullable< ( event: typeof TreeEvent ) => void > = null;\r\n    onBeforeDrawContent: Nullable< ( ctx: CanvasRenderingContext2D ) => void > = null;\r\n    onStateStop: Nullable< () => void > = null;\r\n    onStateChange: Nullable< ( s: boolean ) => void > = null;\r\n    onChangeLoopMode: Nullable< ( l: boolean ) => void > = null;\r\n    onSetDuration: Nullable< ( d: number ) => void > = null;\r\n    onSetTime: Nullable< ( t: number ) => void > = null;\r\n    onItemSelected: Nullable< ( selected: any[], itemsToAdd: Nullable< any[] >, itemsToRemove: Nullable< any[] >) => void > = null;\r\n    onSetTrackSelection: Nullable< ( track: object, oldValue: boolean ) => void > = null;\r\n    onSetTrackState: Nullable< ( track: object, oldValue: boolean ) => void > = null;\r\n    onSetTrackLock: Nullable< ( track: object, oldValue: boolean ) => void > = null;\r\n    onUpdateTrack: Nullable< ( tracks: number[] | string[] ) => void > = null;\r\n\r\n    configurationDialog: Nullable< typeof Dialog > = null;\r\n\r\n    abstract onMouseUp( event: any, t: number ): void;\r\n    abstract onMouseDown( event: any, t: number ): void;\r\n    abstract onMouseMove( event: any, t: number ): void;\r\n\r\n    abstract drawContent( ctx: CanvasRenderingContext2D ): void;\r\n    abstract deleteSelectedContent( skipCallback: boolean ): void;\r\n    abstract copySelectedContent(): void;\r\n    abstract pasteContent( time: number ): void;\r\n    abstract historyGenerateTrackStep( trackIdx: number ): any;\r\n    abstract historyApplyTrackStep( state: any, isUndo: boolean ): any;\r\n\r\n    /**\r\n     * @param {String} id = string unique id\r\n     * @param {Object} options = {skipLock, skipVisibility}\r\n     */\r\n    constructor( id : string, options: any = {} )\r\n    {\r\n        this.uniqueID = id ?? ( 'timeline' + Math.floor( Math.random()*0xffffffff ) );\r\n        this.timelineTitle = options.title ?? null;\r\n\r\n        // required before updateHeader\r\n        this.onCreateBeforeTopBar = options.onCreateBeforeTopBar;\r\n        this.onCreateAfterTopBar = options.onCreateAfterTopBar;\r\n        this.onCreateControlsButtons = options.onCreateControlsButtons;\r\n        this.onCreateSettingsButtons = options.onCreateSettingsButtons;\r\n        this.onShowOptimizeMenu = options.onShowOptimizeMenu;\r\n        this.onShowConfiguration = options.onShowConfiguration;\r\n\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.style.width = \"100%\";\r\n        this.canvas.style.height = \"100%\";\r\n\r\n        this.secondsPerPixel = 1 / this.pixelsPerSecond;\r\n        this.animationClip = this.instantiateAnimationClip();\r\n\r\n        this.loop = options.loop ?? true;\r\n        this.skipVisibility = options.skipVisibility ?? false;\r\n        this.skipLock = options.skipLock ?? false;\r\n        this.disableNewTracks = options.disableNewTracks ?? false;\r\n\r\n        // main area -- root\r\n        this.mainArea = new Area({className : 'lextimeline'} );\r\n        this.root = this.mainArea.root;\r\n        this.mainArea.split({ type: \"vertical\", sizes: [ this.header_offset, \"auto\"],  resize: false } );\r\n\r\n        // header\r\n        this.header = new Panel( { id: 'lextimelineheader'} );\r\n        this.mainArea.sections[ 0 ].attach( this.header );\r\n        this.updateHeader();\r\n\r\n        // content area\r\n        const contentArea = this.mainArea.sections[ 1 ];\r\n        contentArea.root.id = \"bottom-timeline-area\";\r\n        contentArea.split({ type: \"horizontal\", sizes: [\"15%\", \"85%\"] } );\r\n        let [ left, right ] = contentArea.sections;\r\n\r\n        right.attach( this.canvas );\r\n        this.canvasArea = right;\r\n        this.canvasArea.root.classList.add(\"lextimelinearea\");\r\n\r\n        this.leftPanel = left.addPanel( { className: 'lextimelinepanel', width: \"100%\", height: \"100%\" } );\r\n        this.updateLeftPanel();\r\n\r\n        if( this.uniqueID.length )\r\n        {\r\n            this.root.id = this.uniqueID;\r\n            this.canvas.id = this.uniqueID + '-canvas';\r\n        }\r\n\r\n        // Process mouse events\r\n        this.canvas.addEventListener( \"mousedown\", this.processMouse.bind( this ) );\r\n        this.canvas.addEventListener( \"mouseup\", this.processMouse.bind( this ) );\r\n        this.canvas.addEventListener( \"mousemove\", this.processMouse.bind( this ) );\r\n        this.canvas.addEventListener( \"wheel\", this.processMouse.bind( this ) );\r\n        this.canvas.addEventListener( \"dblclick\", this.processMouse.bind( this ) );\r\n        this.canvas.addEventListener( \"contextmenu\", this.processMouse.bind( this ) );\r\n\r\n        this.canvas.tabIndex = 1;\r\n        // Process keys events\r\n        this.canvasArea.root.addEventListener( \"keydown\", ( e: KeyboardEvent ) =>{ this.processKeys( e ); } ); // so this.processKeys can be overwritten by the user\r\n\r\n        this.canvasArea.onresize = (bounding : { width: number, height: number } ) =>\r\n        {\r\n            if( !( bounding.width && bounding.height ) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            this.resizeCanvas();\r\n        }\r\n        this.resize( this.size );\r\n\r\n        /**\r\n         * updates theme ( light - dark ) based on LX's current theme\r\n         */\r\n        function updateTheme( )\r\n        {\r\n            Timeline.BACKGROUND_COLOR = LX.getThemeColor(\"global-blur-background\");\r\n            Timeline.TRACK_COLOR_PRIMARY = LX.getThemeColor(\"global-color-primary\");\r\n            Timeline.TRACK_COLOR_SECONDARY = LX.getThemeColor(\"global-color-secondary\");\r\n            Timeline.TRACK_COLOR_TERCIARY = LX.getThemeColor(\"global-color-terciary\");\r\n            Timeline.TRACK_COLOR_QUATERNARY = LX.getThemeColor(\"global-color-quaternary\");\r\n            Timeline.FONT = LX.getThemeColor(\"global-font\");\r\n            Timeline.FONT_COLOR_PRIMARY = LX.getThemeColor(\"global-text-primary\");\r\n            Timeline.FONT_COLOR_TERTIARY = LX.getThemeColor(\"global-text-tertiary\");\r\n            Timeline.FONT_COLOR_QUATERNARY = LX.getThemeColor(\"global-text-quaternary\");\r\n            Timeline.KEYFRAME_COLOR = LX.getThemeColor(\"lxTimeline-keyframe\");\r\n            Timeline.KEYFRAME_COLOR_SELECTED = Timeline.KEYFRAME_COLOR_HOVERED = LX.getThemeColor(\"lxTimeline-keyframe-selected\");\r\n            Timeline.KEYFRAME_COLOR_LOCK = LX.getThemeColor(\"lxTimeline-keyframe-locked\");\r\n            Timeline.KEYFRAME_COLOR_EDITED = LX.getThemeColor(\"lxTimeline-keyframe-edited\");\r\n            Timeline.KEYFRAME_COLOR_INACTIVE = LX.getThemeColor(\"lxTimeline-keyframe-inactive\");\r\n        }\r\n\r\n        this.updateTheme = updateTheme.bind( this );\r\n        LX.addSignal( \"@on_new_color_scheme\", this.updateTheme );\r\n    }\r\n\r\n    // makes it ready to be deleted\r\n    clear()\r\n    {\r\n        if( this.header )\r\n        {\r\n            this.header.clear();\r\n        }\r\n\r\n        if( this.leftPanel )\r\n        {\r\n            this.leftPanel.clear();\r\n        }\r\n\r\n        if( this.updateTheme )\r\n        {\r\n            let signals = LX.signals[ \"@on_new_color_scheme\" ] ?? [];\r\n            for( let i = 0; i < signals.length; ++i )\r\n            {\r\n                if( signals[ i ] == this.updateTheme )\r\n                {\r\n                    signals.splice( i, 1 );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method updateHeader\r\n     */\r\n    updateHeader()\r\n    {\r\n        this.header.clear();\r\n\r\n        const header = this.header;\r\n        header.sameLine();\r\n\r\n        if( this.timelineTitle )\r\n        {\r\n            header.addTitle( this.timelineTitle, { style: { background: \"none\", fontSize: \"18px\", fontStyle: \"bold\", alignItems: \"center\" } } );\r\n        }\r\n\r\n        const buttonContainer = LX.makeContainer( [\"auto\", \"100%\"], \"flex flex-row gap-1\" );\r\n\r\n        header.queue( buttonContainer );\r\n\r\n        const playbtn = header.addButton(\"playBtn\", '', ( value: any, event: Event ) => {\r\n           this.changeState();\r\n        }, { buttonClass: \"accept\", title: \"Play\", hideName: true, icon: \"Play@solid\", swap: \"Pause@solid\" } );\r\n        playbtn.setState( this.playing, true );\r\n\r\n        header.addButton(\"stopBtn\", '', ( value: any, event: Event ) => {\r\n            this.setState( false, true ); // skip callback of set state\r\n            if( this.onStateStop )\r\n            {\r\n                this.onStateStop();\r\n            }\r\n        }, { buttonClass: \"accept\", title: \"Stop\", hideName: true, icon: \"Stop@solid\" } );\r\n\r\n        header.addButton(\"loopBtn\", '', ( value: any, event: Event ) => {\r\n            this.setLoopMode( !this.loop );\r\n        }, { selectable: true, selected: this.loop, title: 'Loop', hideName: true, icon: \"RefreshCw\" } );\r\n\r\n        if( this.onCreateControlsButtons )\r\n        {\r\n            this.onCreateControlsButtons( header );\r\n        }\r\n\r\n        header.clearQueue( buttonContainer );\r\n        header.addContent( \"header-buttons\", buttonContainer );\r\n\r\n        // time number inputs - duration, current time, etc\r\n\r\n        if( this.onCreateBeforeTopBar )\r\n        {\r\n            this.onCreateBeforeTopBar( header );\r\n        }\r\n\r\n        header.addNumber(\"Current Time\", this.currentTime, ( value: number, event: Event ) => {\r\n            this.setTime( value );\r\n        }, {\r\n            units: \"s\",\r\n            step: 0.01, min: 0, precision: 3,\r\n            skipSlider: true,\r\n            skipReset: true,\r\n            nameWidth: \"auto\"\r\n        } );\r\n\r\n        header.addNumber(\"Duration\", + this.duration.toFixed(3), ( value: number, event: Event ) => {\r\n            this.setDuration( value, false, false );\r\n        }, {\r\n            units: \"s\",\r\n            step: 0.01, min: 0,\r\n            skipReset: true,\r\n            nameWidth: \"auto\"\r\n        } );\r\n\r\n        if( this.onCreateAfterTopBar )\r\n        {\r\n            this.onCreateAfterTopBar( header );\r\n        }\r\n\r\n        // settings buttons - optimize, settings, etc\r\n\r\n        const buttonContainerEnd = LX.makeContainer( [\"auto\", \"100%\"], \"flex flex-row gap-1\" );\r\n        header.queue( buttonContainerEnd );\r\n\r\n        if( this.onCreateSettingsButtons )\r\n        {\r\n            this.onCreateSettingsButtons( header );\r\n        }\r\n\r\n        if( this.onShowOptimizeMenu )\r\n        {\r\n            header.addButton( null, \"\", ( value: any, event: Event ) => {\r\n                if( this.onShowOptimizeMenu )\r\n                {\r\n                    this.onShowOptimizeMenu( event );\r\n                }\r\n            }, { tooltip: true, title: \"Optimize\", icon:\"Filter\" } );\r\n        }\r\n\r\n        if( this.onShowConfiguration )\r\n        {\r\n            header.addButton( null, \"\", ( value: any, event: Event ) => {\r\n                if( this.configurationDialog )\r\n                {\r\n                    this.configurationDialog.close();\r\n                    this.configurationDialog = null;\r\n                    return;\r\n                }\r\n                this.configurationDialog = new Dialog(\"Configuration\", ( p: typeof Panel ) => {\r\n                    if( this.onShowConfiguration )\r\n                    {\r\n                        this.onShowConfiguration( p );\r\n                    }\r\n                }, {\r\n                    onBeforeClose: () => {\r\n                        this.configurationDialog.panel.clear(); // clear signals\r\n                        this.configurationDialog = null;\r\n                    }\r\n                } )\r\n            }, { title: \"Settings\", icon: \"Settings\", tooltip: true } )\r\n        }\r\n\r\n        header.clearQueue( buttonContainerEnd );\r\n        header.addContent( \"header-buttons-end\", buttonContainerEnd );\r\n\r\n        header.endLine( \"justify-between\" );\r\n    }\r\n\r\n    /**\r\n    * @method updateLeftPanel\r\n    *\r\n    */\r\n    updateLeftPanel()\r\n    {\r\n        this.leftPanel.clear();\r\n\r\n        const panel = this.leftPanel;\r\n\r\n        panel.sameLine();\r\n        let titleComponent = panel.addTitle( \"Tracks\", { style: { background: \"none\"}, className: \"fg-secondary text-lg px-4\"} );\r\n        let title = titleComponent.root;\r\n\r\n        if( !this.disableNewTracks )\r\n        {\r\n            panel.addButton(\"addTrackBtn\", '', ( value: any, event: Event ) => {\r\n                if( this.onAddNewTrackButton )\r\n                {\r\n                    this.onAddNewTrackButton();\r\n                }\r\n                else\r\n                {\r\n                    this.addNewTrack();\r\n                }\r\n            }, { hideName: true, title: \"Add Track\", icon: \"Plus\" } );\r\n        }\r\n        panel.endLine();\r\n\r\n        const styles = window.getComputedStyle( title );\r\n        const titleHeight = title.clientHeight + parseFloat( styles['marginTop'] ) + parseFloat( styles['marginBottom'] );\r\n\r\n        let p = new LX.Panel({height: \"calc(100% - \" + titleHeight + \"px )\"} );\r\n\r\n        let treeTracks: any[] = [];\r\n        if( this.animationClip && this.selectedItems.length )\r\n        {\r\n            treeTracks = this.generateSelectedItemsTreeData();\r\n        }\r\n\r\n        this.trackTreesComponent = p.addTree( null, treeTracks, { filter: false, rename: false, draggable: false, onevent: ( e: typeof TreeEvent ) => {\r\n            switch( e.type )\r\n            {\r\n                case LX.TreeEvent.NODE_SELECTED:\r\n                    if( !e.event.shiftKey )\r\n                    {\r\n                        this.deselectAllTracks( false ); // no need to update left panel\r\n                    }\r\n                    if( e.node.trackData )\r\n                    {\r\n                        const flag = e.event.shiftKey? !e.node.trackData.isSelected : true;\r\n                        this.setTrackSelection( e.node.trackData.trackIdx, flag, false, false ); // do callback, do not update left panel\r\n                    }\r\n                    break;\r\n                case LX.TreeEvent.NODE_VISIBILITY:\r\n                    if( e.node.trackData )\r\n                    {\r\n                        this.setTrackState( e.node.trackData.trackIdx, e.value, false, false ); // do not update left panel\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if( this.onTrackTreeEvent )\r\n            {\r\n                this.onTrackTreeEvent( e );\r\n            }\r\n        }} );\r\n\r\n        const that = this;\r\n        this.trackTreesComponent.innerTree._refresh = this.trackTreesComponent.innerTree.refresh;\r\n        this.trackTreesComponent.innerTree.refresh = function( newData: any, selectedId: Nullable< string > )\r\n        {\r\n            this._refresh( newData, selectedId );\r\n            that.setTrackHeight( that.trackHeight );\r\n        }\r\n\r\n        if( this.selectedTracks.length )\r\n        {\r\n            this._updateTrackTreeSelection(); // select visible tracks\r\n        }\r\n\r\n        // setting a name in the addTree function adds an undesired node\r\n        this.trackTreesComponent.name = \"tracksTrees\";\r\n        p.components[ this.trackTreesComponent.name ] = this.trackTreesComponent;\r\n\r\n        this.trackTreesPanel = p;\r\n        panel.attach( p.root );\r\n        p.root.addEventListener(\"scroll\", ( e: any ) => {\r\n            if( e.currentTarget.scrollHeight > e.currentTarget.clientHeight )\r\n            {\r\n                this.currentScroll = e.currentTarget.scrollTop / ( e.currentTarget.scrollHeight - e.currentTarget.clientHeight );\r\n                this.currentScrollInPixels = e.currentTarget.scrollTop;\r\n            }\r\n            else\r\n            {\r\n                this.currentScroll = 0;\r\n                this.currentScrollInPixels = 0;\r\n            }\r\n        } );\r\n\r\n        this.trackTreesPanel.root.scrollTop = this.currentScrollInPixels;\r\n        this.setTrackHeight( this.trackHeight );\r\n\r\n        if( this.leftPanel.parent.root.classList.contains(\"hidden\") || !this.root.parentElement )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.resizeCanvas();\r\n\r\n        this.setScroll( this.currentScroll ); // avoid scroll bugs\r\n\r\n    }\r\n\r\n    setTrackHeight( trackHeight: number )\r\n    {\r\n        // ul list has a \"gap\" of 0.25rem. Compute pixel count of 0.25 rem\r\n        const gapSize = parseFloat( getComputedStyle( document.documentElement ).fontSize ) * 0.25;\r\n\r\n        this.trackHeight = trackHeight = Math.max( gapSize, trackHeight );\r\n\r\n        if( !this.trackTreesComponent )\r\n        {\r\n            return;\r\n        }\r\n\r\n        trackHeight -= gapSize;\r\n        const tracks = this.trackTreesComponent.root.querySelector( \"ul\" ).children;\r\n        for( let i = 0; i < tracks.length; ++i )\r\n        {\r\n            tracks[ i ].style.height = trackHeight + \"px\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Object} options options for the new track\r\n     *  { id: string, active: bool, locked: bool, }\r\n     * @returns\r\n     */\r\n    addNewTrack( options: any = {}, skipCallback: boolean = false )\r\n    {\r\n        const trackInfo = this.instantiateTrack( options );\r\n        trackInfo.trackIdx = this.animationClip.tracks.length;\r\n        this.animationClip.tracks.push( trackInfo );\r\n\r\n        if( this.onAddNewTrack && !skipCallback )\r\n        {\r\n            this.onAddNewTrack( trackInfo, options );\r\n        }\r\n\r\n        return trackInfo.trackIdx;\r\n    }\r\n\r\n    /**\r\n     * Finds tracks ( wholy and partially ) inside the range minY maxY.\r\n     * ( Full ) Canvas local coordinates.\r\n     * @param {Number} minY pixels\r\n     * @param {Number} maxY pixels\r\n     * @returns array of trackDatas\r\n     */\r\n    getTracksInRange( minY: number , maxY: number )\r\n    {\r\n        let tracks: any = [];\r\n\r\n        // Manage negative selection\r\n        if( minY > maxY )\r\n        {\r\n            let aux = minY;\r\n            minY = maxY;\r\n            maxY = aux;\r\n        }\r\n\r\n        const elements = this.getVisibleItems();\r\n        if( elements.length < 1 )\r\n        {\r\n            return [];\r\n        }\r\n\r\n        const startY = minY - this.lastTrackTreesComponentOffset + this.currentScrollInPixels;\r\n        const endY = maxY - this.lastTrackTreesComponentOffset + this.currentScrollInPixels;\r\n\r\n        const startIdx = Math.max( 0, Math.floor( startY / this.trackHeight ) );\r\n        const endIdx = Math.min( elements.length - 1, Math.floor( endY / this.trackHeight ) ) + 1;\r\n\r\n        for( let i = startIdx; i < endIdx; ++i )\r\n        {\r\n            const e = elements[ i ];\r\n            if( e.treeData && e.treeData.trackData )\r\n            {\r\n                tracks.push( e.treeData.trackData );\r\n            }\r\n        }\r\n\r\n        return tracks;\r\n    }\r\n\r\n    /**\r\n     * @method setAnimationClip\r\n     * @param {*} animation\r\n     * @param {Boolean} needsToProcess\r\n     * @param {Object} processOptions\r\n     * [ KeyFrameTimeline ] - each track should contain an attribute \"dim\" to indicate the value dimension ( e.g. vector3 -> dim=3). Otherwise dimensions will be infered from track's values and times. Default is 1\r\n     */\r\n    setAnimationClip( animation: any, needsToProcess: boolean = true )\r\n    {\r\n        this.deselectAllElements();\r\n        this.deselectAllTracks( false ); // no need to update left panel yet\r\n\r\n        this.selectedItems = [];\r\n\r\n        this.clearState();\r\n\r\n        if( !animation || !animation.tracks || needsToProcess )\r\n        {\r\n            this.animationClip = this.instantiateAnimationClip( animation ); // generate default animationclip or process the user's one\r\n        }\r\n        else\r\n        {\r\n            this.animationClip = animation;\r\n        }\r\n\r\n        this.setDuration( this.animationClip.duration, true, true );\r\n\r\n        this.updateLeftPanel();\r\n\r\n        this.resize();\r\n\r\n        return this.animationClip;\r\n    }\r\n\r\n    drawTimeInfo( w: number, h: number = this.topMargin )\r\n    {\r\n        let ctx : any = this.canvas.getContext( \"2d\" );\r\n        ctx.font = \"11px \" + Timeline.FONT;//\"11px Calibri\";\r\n        ctx.textAlign = \"center\";\r\n\r\n        // Draw time markers\r\n        ctx.save();\r\n\r\n        // background of timeinfo\r\n        ctx.fillStyle = Timeline.BACKGROUND_COLOR;\r\n        ctx.fillRect( 0, 0, this.canvas.width, h );\r\n        ctx.strokeStyle = Timeline.FONT_COLOR_PRIMARY;\r\n\r\n        // set tick and sub tick times\r\n        let tickTime = 4;\r\n        if( this.pixelsPerSecond > 900 ) { tickTime = 1; }\r\n        else if( this.pixelsPerSecond > 100 ) { tickTime = 2; }\r\n        else if( this.pixelsPerSecond > 50 ) { tickTime = 3; }\r\n\r\n        let subtickTime = this.timeSeparators[ tickTime - 1 ];\r\n        tickTime = this.timeSeparators[ tickTime ];\r\n\r\n        const startTime = this.visualTimeRange[ 0 ];\r\n        const endTime = this.visualTimeRange[ 1 ];\r\n        // Transform times into pixel coords\r\n        let tickX = this.timeToX( startTime + tickTime ) - this.timeToX( startTime );\r\n        let subtickX = subtickTime * tickX / tickTime;\r\n\r\n        let startx = this.timeToX( Math.floor( startTime / tickTime ) * tickTime ); // floor because might need to draw previous subticks\r\n        startx += 0.0000001; // slight offset to avoid \"-0.0\"\r\n        let endx = this.timeToX( endTime ); // draw up to endTime\r\n\r\n        // Begin drawing\r\n        ctx.beginPath();\r\n        ctx.fillStyle = Timeline.FONT_COLOR_PRIMARY;\r\n        ctx.globalAlpha = 1;\r\n\r\n        for( let x = startx; x <= endx; x += tickX )\r\n        {\r\n            // Draw main line\r\n            ctx.moveTo( Math.round( x ) + 0.5, h * 0.4 + h * 0.3 );\r\n            ctx.lineTo( Math.round( x ) + 0.5, h * 0.95 );\r\n\r\n            // Draw following sub lines\r\n            let endsub = x + tickX - subtickX * 0.5;\r\n            for ( let subX = x; subX < endsub && subX < endx; subX += subtickX )\r\n            {\r\n                ctx.moveTo( Math.round( subX ) + 0.5, h * 0.4 + h * 0.45 );\r\n                ctx.lineTo( Math.round( subX ) + 0.5, h * 0.95 );\r\n            }\r\n\r\n            // Draw time number\r\n            let t = this.xToTime( x );\r\n            ctx.fillText( t.toFixed( tickTime < 1 ? 1 : 0 ), x, h * 0.6 );\r\n        }\r\n\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    drawTracksBackground( w: number, h: number )\r\n    {\r\n        let canvas = this.canvas;\r\n        let ctx: any = canvas.getContext( \"2d\" );\r\n        let duration = this.duration;\r\n        ctx.globalAlpha = 1;\r\n\r\n        // Content\r\n        const topMargin = this.topMargin;\r\n        const treeOffset = this.lastTrackTreesComponentOffset;\r\n        const line_height = this.trackHeight;\r\n\r\n        //fill track lines\r\n        w = w || canvas.width;\r\n        let max_tracks = Math.ceil( ( h - topMargin ) / line_height ) + 1;\r\n\r\n        ctx.save();\r\n        ctx.fillStyle = Timeline.TRACK_COLOR_SECONDARY;\r\n\r\n        const rectsOffset = this.currentScrollInPixels % line_height;\r\n        const blackOrWhite = 1 - Math.floor( this.currentScrollInPixels / line_height ) % 2;\r\n        for( let i = blackOrWhite; i <= max_tracks; i += 2 )\r\n        {\r\n            ctx.fillRect( 0, treeOffset - rectsOffset + i * line_height, w, line_height );\r\n        }\r\n\r\n        //bg lines\r\n        ctx.strokeStyle = Timeline.TRACK_COLOR_TERCIARY;\r\n        ctx.beginPath();\r\n\r\n        let pos = this.timeToX( 0 );\r\n        if( pos < 0 ) { pos = 0; }\r\n        ctx.lineWidth = 1;\r\n        ctx.moveTo( pos + 0.5, topMargin );\r\n        ctx.lineTo( pos + 0.5, canvas.height );\r\n        ctx.moveTo( Math.round( this.timeToX( duration ) ) + 0.5, topMargin );\r\n        ctx.lineTo( Math.round( this.timeToX( duration ) ) + 0.5, canvas.height );\r\n        ctx.stroke();\r\n\r\n        ctx.restore();\r\n    }\r\n\r\n    /**\r\n     * @method draw\r\n     */\r\n\r\n    draw()\r\n    {\r\n        let ctx: any = this.canvas.getContext( \"2d\" );\r\n        ctx.textBaseline = \"bottom\";\r\n        ctx.font = \"11px \" + Timeline.FONT;//\"11px Calibri\";\r\n        ctx.globalAlpha = 1;\r\n\r\n        const w = ctx.canvas.width;\r\n        const h = ctx.canvas.height;\r\n\r\n        const scrollableHeight = this.trackTreesComponent.root.scrollHeight;\r\n        // tree has gaps of 0.25rem (4px ) inbetween entries but not in the beginning nor ending. Move half gap upwards.\r\n        const treeOffset = this.lastTrackTreesComponentOffset = this.trackTreesComponent.innerTree.domEl.offsetTop - this.canvas.offsetTop - 2;\r\n\r\n        //zoom\r\n        let startTime = this.visualOriginTime; //seconds\r\n        startTime = Math.min( this.duration, Math.max( 0, startTime ) );\r\n        let endTime = this.visualOriginTime + w * this.secondsPerPixel; //seconds\r\n        endTime = Math.max( startTime, Math.min( this.duration, endTime ) );\r\n        this.visualTimeRange[ 0 ] = startTime;\r\n        this.visualTimeRange[ 1 ] = endTime;\r\n\r\n        // Background\r\n        ctx.globalAlpha = 1;\r\n        ctx.fillStyle = Timeline.TRACK_COLOR_SECONDARY;\r\n        ctx.clearRect( 0, 0, this.canvas.width, this.canvas.height );\r\n\r\n        this.drawTracksBackground( w, h );\r\n\r\n        if( this.onBeforeDrawContent )\r\n        {\r\n            this.onBeforeDrawContent( ctx );\r\n        }\r\n\r\n        if( this.animationClip )\r\n        {\r\n            ctx.translate( 0, treeOffset );\r\n            this.drawContent( ctx );\r\n            ctx.translate( 0, -treeOffset );\r\n        }\r\n\r\n        //scrollbar\r\n        if( ( h - this.topMargin ) < scrollableHeight )\r\n        {\r\n            ctx.fillStyle = \"#222\";\r\n            ctx.fillRect( w - 10, 0, 10, h );\r\n\r\n            ctx.fillStyle = this.grabbingScroll ? Timeline.FONT_COLOR_TERTIARY : Timeline.FONT_COLOR_QUATERNARY;\r\n\r\n            let scrollBarHeight = Math.max( 10, (h-this.topMargin )* (h-this.topMargin )/ this.trackTreesPanel.root.scrollHeight );\r\n            let scrollLoc = this.currentScroll * ( h - this.topMargin - scrollBarHeight ) + this.topMargin;\r\n            drawRoundRect( ctx, w - 10, scrollLoc, 10, scrollBarHeight, 5, true );\r\n        }\r\n\r\n        this.drawTimeInfo( w );\r\n\r\n        // Current time marker vertical line\r\n        let posx = Math.round( this.timeToX( this.currentTime ) );\r\n        let posy = this.topMargin * 0.4;\r\n\r\n        if( posx >= 0 )\r\n        {\r\n            ctx.strokeStyle = ctx.fillStyle = Timeline.TIME_MARKER_COLOR;\r\n            ctx.globalAlpha = 1;\r\n            ctx.beginPath();\r\n            ctx.moveTo( posx, posy * 0.6 ); ctx.lineTo( posx, this.canvas.height );//line\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n            ctx.shadowBlur = 8;\r\n            ctx.shadowColor = Timeline.TIME_MARKER_COLOR;\r\n            ctx.shadowOffsetX = 1;\r\n            ctx.shadowOffsetY = 1;\r\n\r\n            drawRoundRect( ctx, posx - 10, posy * 0.6, 20, posy, 5, true );\r\n            ctx.fill();\r\n            ctx.shadowBlur = 0;\r\n            ctx.shadowOffsetX = 0;\r\n            ctx.shadowOffsetY = 0;\r\n        }\r\n\r\n        // Current time seconds in text\r\n        ctx.font = \"11px \" + Timeline.FONT;//\"11px Calibri\";\r\n        ctx.textAlign = \"center\";\r\n        //ctx.textBaseline = \"middle\";\r\n        ctx.fillStyle = Timeline.TIME_MARKER_COLOR_TEXT;\r\n        ctx.fillText( ( Math.floor( this.currentTime * 10 ) * 0.1 ).toFixed( 1 ), posx, this.topMargin * 0.6 );\r\n\r\n        // Selections\r\n        ctx.strokeStyle = ctx.fillStyle = Timeline.FONT_COLOR_PRIMARY;\r\n        if( this.boxSelection )\r\n        {\r\n            ctx.globalAlpha = 0.15;\r\n            ctx.fillStyle = Timeline.BOX_SELECTION_COLOR;\r\n            ctx.strokeRect( this.boxSelectionStart[ 0 ], this.boxSelectionStart[ 1 ], this.boxSelectionEnd[ 0 ] - this.boxSelectionStart[ 0 ], this.boxSelectionEnd[ 1 ] - this.boxSelectionStart[ 1 ] );\r\n            ctx.fillRect( this.boxSelectionStart[ 0 ], this.boxSelectionStart[ 1 ], this.boxSelectionEnd[ 0 ] - this.boxSelectionStart[ 0 ], this.boxSelectionEnd[ 1 ] - this.boxSelectionStart[ 1 ] );\r\n            ctx.stroke();\r\n            ctx.globalAlpha = 1;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @method clearState\r\n     */\r\n\r\n    clearState()\r\n    {\r\n        this.historyUndo = [];\r\n        this.historyRedo = [];\r\n    }\r\n\r\n    /**\r\n     * @method setDuration\r\n     * @param {Number} t\r\n     * @param {Boolean} skipCallback\r\n     * @param {Boolean} updateHeader\r\n     */\r\n    setDuration( t: number, skipCallback: boolean = false, updateHeader: boolean = true )\r\n    {\r\n        let v = Math.max( 0, t );\r\n        this.duration = this.animationClip.duration = v;\r\n\r\n        if( updateHeader )\r\n        {\r\n            this.header.components[\"Duration\"].set( +this.duration.toFixed(2 ), true ); // skipcallback = true\r\n        }\r\n\r\n        if( this.onSetDuration && !skipCallback )\r\n        {\r\n            this.onSetDuration( this.duration );\r\n        }\r\n    }\r\n\r\n    setTime( time: number, skipCallback: boolean = false )\r\n    {\r\n        this.currentTime = Math.max( 0, Math.min( time, this.duration ) );\r\n        this.header.components[\"Current Time\"].set( +this.currentTime.toFixed( 2 ), true ); // skipcallback = true\r\n\r\n        if( this.onSetTime && !skipCallback )\r\n        {\r\n            this.onSetTime( this.currentTime );\r\n        }\r\n    }\r\n\r\n    // Converts distance in pixels to time\r\n    xToTime( x: number )\r\n    {\r\n        return x * this.secondsPerPixel + this.visualOriginTime;\r\n    }\r\n\r\n    // Converts time to disance in pixels\r\n    timeToX( t: number )\r\n    {\r\n        return ( t - this.visualOriginTime ) * this.pixelsPerSecond;\r\n    }\r\n\r\n    /**\r\n     * @method setScale\r\n     * @param {*} pixelsPerSecond >0.  totalVisiblePixels / totalVisibleSeconds.\r\n     */\r\n\r\n    setScale( pixelsPerSecond: number )\r\n    {\r\n        const xCurrentTime = this.timeToX( this.currentTime );\r\n        this.pixelsPerSecond = pixelsPerSecond;\r\n        this.pixelsPerSecond = Math.max( 0.00001, this.pixelsPerSecond );\r\n\r\n        this.secondsPerPixel = 1 / this.pixelsPerSecond;\r\n        this.visualOriginTime += this.currentTime - this.xToTime( xCurrentTime );\r\n    }\r\n\r\n    /**\r\n     * @method setScroll\r\n     * not delta from last state, but full scroll amount.\r\n     * @param {Number} scrollY either pixels or [0,1 ]\r\n     * @param {Boolean} normalized if true, scrollY is in range[0,1 ] being 1 fully scrolled. Otherwised scrollY represents pixels\r\n     * @returns\r\n     */\r\n\r\n    setScroll( scrollY: number, normalized: boolean = true )\r\n    {\r\n        if( !this.trackTreesPanel )\r\n        {\r\n            this.currentScroll = 0;\r\n            this.currentScrollInPixels = 0;\r\n            return;\r\n        }\r\n\r\n        const r = this.trackTreesPanel.root;\r\n        if( r.scrollHeight > r.clientHeight )\r\n        {\r\n            if( normalized )\r\n            {\r\n                this.currentScroll = scrollY;\r\n                this.currentScrollInPixels = scrollY * ( r.scrollHeight - r.clientHeight );\r\n            }\r\n            else\r\n            {\r\n                this.currentScroll = scrollY / ( r.scrollHeight - r.clientHeight );\r\n                this.currentScrollInPixels = scrollY;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.currentScroll = 0;\r\n            this.currentScrollInPixels = 0;\r\n        }\r\n\r\n        // automatically calls event.\r\n        this.trackTreesPanel.root.scrollTop = this.currentScrollInPixels;\r\n\r\n    }\r\n\r\n    /**\r\n     * @method processMouse\r\n     * @param {*} e\r\n     */\r\n\r\n    processMouse( e: any /*MouseEvent*/ )\r\n    {\r\n        if( !this.canvas )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let h = this.canvas.height;\r\n        let w = this.canvas.width;\r\n\r\n        // Process mouse\r\n        let x = e.offsetX;\r\n        let y = e.offsetY;\r\n        e.deltax = x - this.lastMouse[ 0 ];\r\n        e.deltay = y - this.lastMouse[ 1 ];\r\n        let localX = e.offsetX;\r\n        let localY = e.offsetY;\r\n\r\n        let timeX = this.timeToX( this.currentTime );\r\n        let isHoveringTimeBar = localY < this.topMargin &&\r\n                                localX > ( timeX - 6) && localX < ( timeX + 6);\r\n\r\n        const time = this.xToTime(x );\r\n\r\n        if( isHoveringTimeBar )\r\n        {\r\n            this.canvas.style.cursor = \"col-resize\";\r\n        }\r\n        else if( this.movingKeys )\r\n        {\r\n            this.canvas.style.cursor = \"grabbing\";\r\n        }\r\n        else if( e.shiftKey )\r\n        {\r\n            this.canvas.style.cursor = \"crosshair\";\r\n        }\r\n        else\r\n        {\r\n            this.canvas.style.cursor = \"default\";\r\n        }\r\n\r\n        if( e.type == \"wheel\" )\r\n        {\r\n            if( e.shiftKey )\r\n            {\r\n                if( e.wheelDelta )\r\n                {\r\n                    let mouseTime = this.xToTime( localX );\r\n                    this.setScale( this.pixelsPerSecond * ( e.wheelDelta < 0 ? 0.95 : 1.05) );\r\n                    this.visualOriginTime = mouseTime - localX * this.secondsPerPixel;\r\n                }\r\n\r\n            }\r\n            else if( ( h - this.topMargin ) < this.trackTreesComponent.root.scrollHeight )\r\n            {\r\n                this.trackTreesPanel.root.scrollTop += e.deltaY; // wheel deltaY\r\n            }\r\n\r\n            if( this.onMouse )\r\n            {\r\n                this.onMouse( e, time );\r\n            }\r\n            return;\r\n        }\r\n\r\n        const is_inside = x >= 0 && x <= this.size[ 0 ] &&\r\n                        y >= 0 && y <= this.size[ 1 ];\r\n\r\n        let track = this.getTracksInRange( localY, localY );\r\n        track = track.length ? track[ 0 ] : null;\r\n\r\n        e.track = track;\r\n        e.localX = localX;\r\n        e.localY = localY;\r\n\r\n        if( e.type == \"mouseup\" )\r\n        {\r\n            if( !this.active )\r\n            {\r\n                this.grabbing = false;\r\n                this.grabbingTimeBar = false;\r\n                this.grabbingScroll = false;\r\n                this.movingKeys = false;\r\n                this.timeBeforeMove = 0;\r\n                this.boxSelection = false;\r\n                return;\r\n            }\r\n\r\n            // this.canvas.style.cursor = \"default\";\r\n            const discard = this.movingKeys || ( LX.getTime() - this.clickTime ) > this.clickDiscardTimeout; // ms\r\n\r\n            e.discard = discard;\r\n\r\n            if( !this.grabbingScroll && !this.grabbingTimeBar && e.button == 0 && this.onMouseUp )\r\n            {\r\n                this.onMouseUp( e, time );\r\n            }\r\n\r\n            this.grabbing = false;\r\n            this.grabbingTimeBar = false;\r\n            this.grabbingScroll = false;\r\n            this.movingKeys = false;\r\n            this.timeBeforeMove = 0;\r\n            this.boxSelection = false; // after mouseup\r\n        }\r\n\r\n        if( e.type == \"mousedown\" )\r\n        {\r\n            window.getSelection()?.empty(); // if canvas DOM is selected, dragging does not work properly. Deselect it\r\n\r\n            // e.preventDefault();\r\n\r\n            this.clickTime = LX.getTime();\r\n\r\n            if( e.shiftKey && this.active )\r\n            {\r\n                this.boxSelection = true;\r\n                this.boxSelectionEnd[ 0 ] = this.boxSelectionStart[ 0 ] = localX;\r\n                this.boxSelectionEnd[ 1 ] = this.boxSelectionStart[ 1 ] = localY;\r\n                return; // Handled\r\n            }\r\n            else if( e.localY < this.topMargin )\r\n            {\r\n                this.grabbing = true;\r\n                this.grabbingTimeBar = true;\r\n                this.setTime( time );\r\n            }\r\n            else if( ( h - this.topMargin ) < this.trackTreesComponent.root.scrollHeight && x > w - 10 ) // grabbing scroll bar\r\n            {\r\n                this.grabbing = true;\r\n                this.grabbingScroll = true;\r\n            }\r\n            else // grabbing canvas\r\n            {\r\n                this.grabbing = true;\r\n                this.grabTime = time;\r\n                this.grabbingTimeBar = isHoveringTimeBar;\r\n                if( this.onMouseDown && this.active )\r\n                {\r\n                    this.onMouseDown( e, time );\r\n                }\r\n            }\r\n        }\r\n        else if( e.type == \"mousemove\" )\r\n        {\r\n            if( e.shiftKey && this.active && this.boxSelection )\r\n            {\r\n                this.boxSelectionEnd[ 0 ] = localX;\r\n                this.boxSelectionEnd[ 1 ] = localY;\r\n                return; // Handled\r\n            }\r\n            else if( this.grabbing && e.button !=2 && !this.movingKeys ) // e.buttons != 2 on mousemove needs to be plural\r\n            {\r\n                this.canvas.style.cursor = \"grabbing\";\r\n                if( this.grabbingTimeBar && this.active )\r\n                {\r\n                    this.setTime( time );\r\n                }\r\n                else if( this.grabbingScroll )\r\n                {\r\n                    // will automatically call scroll event\r\n                    if( y < this.topMargin )\r\n                    {\r\n                        this.trackTreesPanel.root.scrollTop = 0;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.trackTreesPanel.root.scrollTop += this.trackTreesPanel.root.scrollHeight * e.deltay / ( h - this.topMargin );\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    // Move timeline in X ( independent of current time )\r\n                    var old = this.xToTime( this.lastMouse[ 0 ] );\r\n                    var now = this.xToTime( e.offsetX );\r\n                    this.visualOriginTime += ( old - now );\r\n                    this.trackTreesPanel.root.scrollTop -= e.deltay; // will automatically call scroll event\r\n                }\r\n            }\r\n\r\n            if( this.onMouseMove )\r\n            {\r\n                this.onMouseMove( e, time );\r\n            }\r\n        }\r\n        else if( e.type == \"dblclick\" && this.onDblClick )\r\n        {\r\n            this.onDblClick( e );\r\n        }\r\n        else if( e.type == \"contextmenu\" && this.onShowContextMenu && this.active )\r\n        {\r\n            this.onShowContextMenu( e );\r\n        }\r\n\r\n        this.lastMouse[ 0 ] = x;\r\n        this.lastMouse[ 1 ] = y;\r\n\r\n        if( !is_inside && !this.grabbing && !( e.metaKey || e.altKey ) )\r\n        {\r\n            return true;\r\n        }\r\n\r\n        if( this.onMouse )\r\n        {\r\n            this.onMouse( e, time );\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * keydown\r\n     * @method processKeys\r\n     * @param {*} e\r\n     */\r\n    processKeys( e: KeyboardEvent )\r\n    {\r\n        switch( e.key )\r\n        {\r\n            case 'Delete':\r\n            case 'Backspace':\r\n                this.deleteSelectedContent( false );\r\n                break;\r\n            case 'c':\r\n            case 'C':\r\n                if( e.ctrlKey ) { this.copySelectedContent(); }\r\n                break;\r\n            case 'v':\r\n            case 'V':\r\n                if( e.ctrlKey ) { this.pasteContent( this.currentTime ); }\r\n                break;\r\n            case ' ':\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n                this.changeState();\r\n                break;\r\n\r\n            case \"Shift\":\r\n                this.canvas.style.cursor = \"crosshair\";\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method changeState\r\n     * @param {Boolean} skipCallback defaults false\r\n     * @description change play/pause state\r\n     **/\r\n    changeState( skipCallback = false )\r\n    {\r\n        this.setState( !this.playing, skipCallback );\r\n    }\r\n    /**\r\n     * @method setState\r\n     * @param {Boolean} state\r\n     * @param {Boolean} skipCallback defaults false\r\n     * @description change play/pause state\r\n     **/\r\n    setState( state: boolean, skipCallback: boolean = false )\r\n    {\r\n        this.playing = state;\r\n\r\n        this.header.components.playBtn.setState( this.playing, true );\r\n\r\n        if( this.onStateChange && !skipCallback )\r\n        {\r\n            this.onStateChange( this.playing );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method setLoopMode\r\n     * @param {Boolean} loopState\r\n     * @param {Boolean} skipCallback defaults false\r\n     * @description change loop mode of the timeline\r\n     */\r\n    setLoopMode( loopState: boolean, skipCallback: boolean = false )\r\n    {\r\n        this.loop = loopState;\r\n\r\n        if( this.loop )\r\n        {\r\n            this.header.components.loopBtn.root.children[ 0 ].classList.add(\"selected\");\r\n        }\r\n        else\r\n        {\r\n            this.header.components.loopBtn.root.children[ 0 ].classList.remove(\"selected\")\r\n        }\r\n\r\n        if( this.onChangeLoopMode && !skipCallback )\r\n        {\r\n            this.onChangeLoopMode( this.loop );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns the tree elements ( tracks and grouops ) shown in the timeline.\r\n     *  Each item has { treeData: { trackData: track } }, where track is the actual track information of the animationClip.\r\n     *  If not a track, trackData will be undefined\r\n     */\r\n    getVisibleItems()\r\n    {\r\n        return this.trackTreesComponent.innerTree.domEl.children[ 0 ].children; // children of 'ul'\r\n    }\r\n\r\n    /**\r\n     * [ trackIdx ]\r\n     * @param {Array} itemsName array of numbers identifying tracks\r\n     */\r\n    setSelectedItems( items: any[], skipCallback: boolean = false )\r\n    {\r\n        this.selectedItems = [];\r\n        this.changeSelectedItems( items, null, skipCallback );\r\n    }\r\n\r\n    /**\r\n     * @param {Array} itemsToAdd [ trackIdx ], array of numbers identifying tracks by their index\r\n     * @param {Array} itemsToRemove [ trackIdx ], array of numbers identifying tracks by their index\r\n     */\r\n    changeSelectedItems( itemsToAdd: Nullable< any[] > = null, itemsToRemove: Nullable< any[] > = null, skipCallback: boolean = false )\r\n    {\r\n        this.deselectAllElements();\r\n        this.deselectAllTracks( false ); // no need to update left panel. It is going to be rebuilt anyways\r\n\r\n        const tracks = this.animationClip.tracks;\r\n\r\n        if( itemsToRemove )\r\n        {\r\n            for( let i = 0; i < itemsToRemove.length; ++i )\r\n            {\r\n                const compareObj = itemsToRemove[ i ];\r\n                for( let s = 0; s < this.selectedItems.length; ++s )\r\n                {\r\n                    if( this.selectedItems[ s ] === compareObj )\r\n                    {\r\n                        this.selectedItems.splice( s, 1 );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if( itemsToAdd )\r\n        {\r\n            for( let i = 0; i < itemsToAdd.length; ++i )\r\n            {\r\n                const v = itemsToAdd[ i ];\r\n                if( tracks[ v ] )\r\n                {\r\n                    this.selectedItems.push( tracks[ v ] );\r\n                }\r\n            }\r\n        }\r\n\r\n        this.updateLeftPanel();\r\n\r\n        if( this.onItemSelected && !skipCallback )\r\n        {\r\n            this.onItemSelected( this.selectedItems, itemsToAdd, itemsToRemove );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * It will find the first occurrence of trackId in animationClip.tracks\r\n     * @param {String} trackId\r\n     * @returns\r\n     */\r\n    getTrack( trackId: string )\r\n    {\r\n        const tracks = this.animationClip.tracks;\r\n\r\n        for( let i = 0; i < tracks.length; ++i )\r\n        {\r\n            if( tracks[ i ].id == trackId )\r\n            {\r\n                return tracks[ i ];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @param {Boolean} updateTrackTree whether the track tree needs a refresh\r\n     * @returns\r\n     */\r\n    deselectAllTracks( updateTrackTree: boolean = true )\r\n    {\r\n        if( !this.animationClip )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const tracks = this.animationClip.tracks;\r\n        for( let i = 0; i < tracks.length; i++ )\r\n        {\r\n            tracks[ i ].isSelected = false;\r\n        }\r\n\r\n        this.selectedTracks.length = 0;\r\n\r\n        if( updateTrackTree )\r\n        {\r\n            this._updateTrackTreeSelection();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Int} trackIdx\r\n     * @param {Boolean} isSelected new \"selected\" state of the track\r\n     * @param {Boolean} skipCallback whether to call onSetTrackSelection\r\n     * @param {Boolean} updateTrackTree whether track tree panel needs a refresh\r\n     * @returns\r\n     */\r\n    setTrackSelection( trackIdx: number, isSelected: boolean, skipCallback: boolean = false, updateTrackTree: boolean = true )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        const oldValue = track.isSelected;\r\n        track.isSelected = isSelected;\r\n\r\n        const idx = this.selectedTracks.indexOf( track );\r\n        if( ( idx == -1 && !isSelected ) || ( idx > -1 && isSelected ) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( idx == -1 )\r\n        {\r\n            this.selectedTracks.push( track );\r\n        }\r\n        else\r\n        {\r\n            this.selectedTracks.splice( idx, 1 );\r\n        }\r\n\r\n        if( this.onSetTrackSelection && !skipCallback )\r\n        {\r\n            this.onSetTrackSelection( track, oldValue );\r\n        }\r\n\r\n        if( updateTrackTree )\r\n        {\r\n            this._updateTrackTreeSelection();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * updates trackTreesComponent's nodes, to match the selectedTracks\r\n     */\r\n    _updateTrackTreeSelection()\r\n    {\r\n        const data = this.trackTreesComponent.innerTree.data;\r\n        const selected = this.trackTreesComponent.innerTree.selected;\r\n        selected.length = 0;\r\n\r\n        const addToSelection = ( nodes: any[] ) =>\r\n        {\r\n            for( let i = 0; i < nodes.length; ++i )\r\n            {\r\n                if( nodes[ i ].trackData && nodes[ i ].trackData.isSelected )\r\n                {\r\n                    selected.push( nodes[ i ] );\r\n                }\r\n\r\n                if( nodes[ i ].children )\r\n                {\r\n                    addToSelection( nodes[ i ].children );\r\n                }\r\n            }\r\n        }\r\n\r\n        // update innerTree ( visible ) selected nodes\r\n        if( this.selectedTracks.length )\r\n        {\r\n            addToSelection( data );\r\n        }\r\n\r\n        this.trackTreesComponent.innerTree.refresh();\r\n    }\r\n\r\n    deselectAllElements()\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n    * @method setTrackState\r\n    * @param {Int} trackIdx\r\n    * @param {Boolean} isEnbaled\r\n    * @param {Boolean} skipCallback onSetTrackState\r\n    * @param {Boolean} updateTrackTree updates eye icon of the track, if it is visible in the timeline\r\n    */\r\n    setTrackState( trackIdx: number, isEnbaled: boolean = true, skipCallback: boolean = false, updateTrackTree: boolean = true )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        const oldState = track.active;\r\n        track.active = isEnbaled;\r\n\r\n        if( this.onSetTrackState && !skipCallback )\r\n        {\r\n            this.onSetTrackState( track, oldState );\r\n        }\r\n\r\n        if( updateTrackTree && !this.skipVisibility )\r\n        {\r\n            // TODO: a bit of an overkill. Maybe searching the node in the tree is less expensive\r\n            this.updateLeftPanel();\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Int} trackIdx\r\n     * @param {Boolean} isLocked\r\n     * @param {Boolean} skipCallback onSetTrackLock\r\n     * @param {Boolean} updateTrackTree updates lock icon of the track, if it is visible in the timeline\r\n     */\r\n    setTrackLock( trackIdx: number, isLocked: boolean = false, skipCallback: boolean = false, updateTrackTree: boolean = true )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n        const oldState = track.locked;\r\n        track.locked = isLocked;\r\n\r\n        if( this.onSetTrackLock && !skipCallback )\r\n        {\r\n            this.onSetTrackLock( track, oldState );\r\n        }\r\n\r\n        if( updateTrackTree && !this.skipLock )\r\n        {\r\n            // TODO: a bit of an overkill. Maybe searching the node in the tree is less expensive\r\n            this.updateLeftPanel();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Int} trackIdx index of track in the animation ( not local index )\r\n     * @param {Boolean} combineWithPrevious whether to create a new entry or unify changes into a single undo entry\r\n     */\r\n    saveState( trackIdx: number, combineWithPrevious: boolean = false )\r\n    {\r\n        if( !this.historySaveEnabler ) return;\r\n\r\n        const undoStep = this.historyGenerateTrackStep( trackIdx );\r\n        undoStep.trackIdx = trackIdx;\r\n\r\n        if( combineWithPrevious && this.historyUndo.length ) {\r\n            this.historyUndo[ this.historyUndo.length - 1 ].push( undoStep );\r\n        }\r\n        else\r\n        {\r\n            this.historyUndo.push( [ undoStep ] );\r\n        }\r\n\r\n        if( this.historyUndo.length > this.historyMaxSteps ) { this.historyUndo.shift(); } // remove first ( oldest ) element\r\n        this.historyRedo = [];\r\n    }\r\n\r\n    #undoRedo( isUndo = true )\r\n    {\r\n        let toBeShown = isUndo ? this.historyUndo : this.historyRedo;\r\n        let toBeStored = isUndo ? this.historyRedo : this.historyUndo;\r\n\r\n        if( !toBeShown.length ) return false;\r\n\r\n        this.deselectAllElements();\r\n\r\n        const combinedState = toBeShown.pop();\r\n        const combinedStateToStore: any = [];\r\n\r\n        for( let i = 0; i < combinedState.length; ++i )\r\n        {\r\n            const state = combinedState[ i ];\r\n            const trackIdx = state.trackIdx;\r\n\r\n            const stateToStore: any = this.historyApplyTrackStep( state, isUndo );\r\n            stateToStore.trackIdx = trackIdx;\r\n            combinedStateToStore.push( stateToStore );\r\n\r\n            // Update animation action interpolation info\r\n            if( this.onUpdateTrack )\r\n            {\r\n                this.onUpdateTrack( [ state.trackIdx ] );\r\n            }\r\n        }\r\n\r\n        toBeStored.push( combinedStateToStore );\r\n\r\n        return true;\r\n    }\r\n\r\n    undo() { return this.#undoRedo( true ); }\r\n    redo() { return this.#undoRedo( false ); }\r\n    // historyApplyTrackStep( state, isUndo ) MUST BE IMPLEMENTED BY CHILD CLASS\r\n    // historyGenerateTrackStep( trackIdx ) MUST BE IMPLEMENTED BY CHILD CLASS\r\n\r\n    /**\r\n     * @method resize\r\n     * @param {*} size\r\n     */\r\n    resize( size: Nullable< [ number, number ] > = null )\r\n    {\r\n        if( size )\r\n        {\r\n            this.size[ 0 ] = size[ 0 ];\r\n            this.size[ 1 ] = size[ 1 ];\r\n        }\r\n        else if( this.root.parentElement )\r\n        {\r\n            this.size[ 0 ] = this.root.parentElement.clientWidth;\r\n            this.size[ 1 ] = this.root.parentElement.clientHeight;\r\n        }\r\n\r\n        //this.content_area.setSize([ size[ 0 ], size[ 1 ] - this.header_offset] );\r\n        this.mainArea.sections[ 1 ].root.style.height = \"calc(100% - \"+ this.header_offset + \"px )\";\r\n\r\n        let w = this.size[ 0 ] - this.leftPanel.root.clientWidth - 8;\r\n        this.mainArea.sections[ 1 ]._update(); // update area's this.size attribute\r\n\r\n        this.resizeCanvas();\r\n    }\r\n\r\n    resizeCanvas()\r\n    {\r\n        this.canvas.width = this.canvasArea.root.clientWidth;\r\n        this.canvas.height = this.canvasArea.root.clientHeight;\r\n    }\r\n\r\n    /**\r\n    * @method hide\r\n    * Hide timeline area\r\n    */\r\n    hide()\r\n    {\r\n        this.mainArea.hide();\r\n    }\r\n\r\n    /**\r\n    * @method show\r\n    * Show timeline area if it is hidden\r\n    */\r\n    show()\r\n    {\r\n        this.mainArea.show();\r\n        this.resize();\r\n        this.updateLeftPanel();\r\n    }\r\n\r\n    // ----- BASE FUNCTIONS -----\r\n    /**\r\n        These functions might be overriden by child classes. Nonetheless, they must have the same attributes, at least.\r\n        Usually call a super.whateverFunction to generate its base form, and expand it with extra attributes\r\n    */\r\n\r\n    /**\r\n     * This functions uses the selectedItems and generates the data that will feed the LX.Tree Component.\r\n     * This function is used by updateLeftPanel. Some timelines might allow grouping of tracks. Such timelines may override this function\r\n     * WARNING: track entries MUST have an attribute of 'trackData' with the track info\r\n     * @returns lexgui tree data as expected for the creation of a LX.Tree\r\n     */\r\n    generateSelectedItemsTreeData(): any\r\n    {\r\n        const treeTracks: any[] = [];\r\n\r\n        for( let i = 0; i < this.selectedItems.length; i++ )\r\n        {\r\n            const track = this.selectedItems[ i ];\r\n            treeTracks.push({ trackData: track, id: track.id, skipVisibility: this.skipVisibility, visible: track.active, children: [], actions : this.skipLock ? null : [{\r\n                'name':'Lock edition',\r\n                'icon': ( track.locked ? 'TimelineLock' : 'TimelineLockOpen'),\r\n                'swap': ( track.locked ? 'TimelineLockOpen' : 'TimelineLock'),\r\n                'callback': ( node: any, swapValue: boolean, event: Event ) => {\r\n                    this.setTrackLock( node.trackData.trackIdx, !node.trackData.locked, false, false ); // do not update left panel\r\n                }\r\n            }] } );\r\n        }\r\n\r\n        return treeTracks;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Object} options set some values for the track instance ( groups and trackIdx not included )\r\n     * @returns\r\n     */\r\n    instantiateTrack( options: any = {}, clone: boolean = false )\r\n    {\r\n        return {\r\n            isTrack: true,\r\n            id: options.id ?? ( Math.floor( performance.now() ) + \"_\" + Math.floor( Math.random() * 0xffff ) ), //must be unique, at least inside a group\r\n            active: options.active ?? true,\r\n            locked: options.locked ?? false,\r\n            isSelected: false, // render and lexgui tree\r\n            trackIdx: -1,\r\n            data: options.data ?? null // user defined data\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generates an animationClip using either the parameters set in the animation argument or using default values\r\n     * @param {Object} options data with which to generate an animationClip\r\n     * @param {Boolean} clone whether to clone clips or make a shallow copy\r\n     * @returns\r\n     */\r\n    instantiateAnimationClip( options : any = {}, clone: boolean = false )\r\n    {\r\n        const animationClip: any = {\r\n            id: options.id ?? ( options.name ?? \"animationClip\"),\r\n            duration: options.duration ?? 0,\r\n            tracks: [],\r\n            data: options.data ?? null, // user defined data\r\n        };\r\n\r\n        return animationClip;\r\n    }\r\n    // ----- END OF BASE FUNCTIONS -----\r\n};\r\n\r\nTimeline.BACKGROUND_COLOR = LX.getThemeColor(\"global-blur-background\");\r\nTimeline.TRACK_COLOR_PRIMARY = LX.getThemeColor(\"global-color-primary\");\r\nTimeline.TRACK_COLOR_SECONDARY = LX.getThemeColor(\"global-color-secondary\");\r\nTimeline.TRACK_COLOR_TERCIARY = LX.getThemeColor(\"global-color-terciary\");\r\nTimeline.TRACK_COLOR_QUATERNARY = LX.getThemeColor(\"global-color-quaternary\");\r\nTimeline.TRACK_SELECTED = LX.getThemeColor(\"global-color-accent\");\r\nTimeline.TRACK_SELECTED_LIGHT = LX.getThemeColor(\"global-color-accent-light\");\r\nTimeline.FONT = LX.getThemeColor(\"global-font\");\r\nTimeline.FONT_COLOR_PRIMARY = LX.getThemeColor(\"global-text-primary\");\r\nTimeline.FONT_COLOR_TERTIARY = LX.getThemeColor(\"global-text-tertiary\");\r\nTimeline.FONT_COLOR_QUATERNARY = LX.getThemeColor(\"global-text-quaternary\");\r\nTimeline.TIME_MARKER_COLOR = LX.getThemeColor(\"global-color-accent\");\r\nTimeline.TIME_MARKER_COLOR_TEXT = \"#ffffff\";\r\n\r\nLX.setThemeColor(\"lxTimeline-keyframe\", \"light-dark(#2d69da,#2d69da )\");\r\nLX.setThemeColor(\"lxTimeline-keyframe-selected\", \"light-dark(#f5c700,#fafa14)\");\r\nLX.setThemeColor(\"lxTimeline-keyframe-hovered\", \"light-dark(#f5c700,#fafa14)\");\r\nLX.setThemeColor(\"lxTimeline-keyframe-locked\", \"light-dark(#c62e2e,#ff7d7d )\");\r\nLX.setThemeColor(\"lxTimeline-keyframe-edited\", \"light-dark(#00d000,#00d000 )\");\r\nLX.setThemeColor(\"lxTimeline-keyframe-inactive\", \"light-dark(#706b6b,#706b6b)\");\r\nTimeline.KEYFRAME_COLOR = LX.getThemeColor(\"lxTimeline-keyframe\");\r\nTimeline.KEYFRAME_COLOR_SELECTED = Timeline.KEYFRAME_COLOR_HOVERED = LX.getThemeColor(\"lxTimeline-keyframe-selected\");\r\nTimeline.KEYFRAME_COLOR_LOCK = LX.getThemeColor(\"lxTimeline-keyframe-locked\");\r\nTimeline.KEYFRAME_COLOR_EDITED = LX.getThemeColor(\"lxTimeline-keyframe-edited\");\r\nTimeline.KEYFRAME_COLOR_INACTIVE =LX.getThemeColor(\"lxTimeline-keyframe-inactive\");\r\nTimeline.BOX_SELECTION_COLOR = \"#AAA\";\r\nLX.Timeline = Timeline;\r\n\r\n/**\r\n * @class KeyFramesTimeline\r\n */\r\n\r\nexport class KeyFramesTimeline extends Timeline\r\n{\r\n    static ADDKEY_VALUESINARRAYS = 0x01; // addkeyframes as [ [ k0v0, k0v1...], [ k1v0, k1v1...] ] instead of [ k0v0,k0v1,k1v0,k1v1 ]\r\n\r\n    lastKeyFramesSelected: any[];\r\n    keyValuePerPixel: number;\r\n    defaultCurves: boolean;\r\n    defaultCurvesRange: [ number, number];\r\n\r\n    keyframeSize: number;\r\n    keyframeSizeHovered: number;\r\n\r\n    lastHovered: Nullable< [ number, number] >= null;\r\n    moveKeyMinTime: number = 0;\r\n\r\n    onContentMoved: Nullable< ( trackIdx: number, keyIdx: number ) => void > = null;\r\n    onOptimizeTracks: Nullable< ( trackIdx: number ) => void > = null;\r\n    onDeleteKeyFrames: Nullable< ( trackIdx: number, indices: number[] ) => void > = null;\r\n    onSelectKeyFrame: Nullable< ( selection: [ number,number,number][] ) => void > = null;\r\n    onDeselectKeyFrames: Nullable< ( lastSelected: any[] )=> void > = null;\r\n\r\n    /**\r\n     * @param {String} name unique string\r\n     * @param {Object} options = {animationClip, selectedItems, x, y, width, height, canvas, trackHeight}\r\n     */\r\n    constructor( name: string, options: any = {} )\r\n    {\r\n        super( name, options );\r\n\r\n        this.lastKeyFramesSelected = [];\r\n\r\n        // curves --- track.dim == 1\r\n        this.keyValuePerPixel = 1/this.trackHeight; // used onMouseMove, vertical move only for dim==1. Normalized value movement / pixels\r\n        this.defaultCurves = true; // whn a track with dim == 1 has no curves attribute, defaultCurves will be used instead. If true, track is rendered using curves\r\n        this.defaultCurvesRange = [0,1 ]; // whn a track with dim == 1 has no curves attribute, defaultCurves will be used instead. If true, track is rendered using curves\r\n\r\n        this.keyframeSize = this.trackHeight * 0.5; // height of keyframe\r\n        this.keyframeSizeHovered = this.trackHeight * 0.5 + 5;\r\n\r\n        if( options.onShowOptimizeMenu && typeof options.onShowOptimizeMenu == \"boolean\" )\r\n        {\r\n            this.onShowOptimizeMenu = ( e: any ): void =>\r\n            {\r\n                if( this.selectedItems.length == 0 )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                LX.addContextMenu(\"Optimize\", e, ( m: any ) =>\r\n                {\r\n                    this.selectedItems.forEach( item => {\r\n                        if( item.isTrack )\r\n                        {\r\n                            m.add( ( item.groupId ? item.groupId : \"\" ) + \"@\" + item.id, () => {\r\n                                this.optimizeTrack( item.trackIdx, false );\r\n                            } );\r\n                        }\r\n                        else\r\n                        {\r\n                            const tracks = this.animationClip.tracksPerGroup[ item ];\r\n                            for( let i = 0; i < tracks.length; ++i )\r\n                            {\r\n                                const t = tracks[ i ];\r\n                                m.add( ( t.groupId ? t.groupId : \"\" ) + \"@\" + t.id, () => {\r\n                                    this.optimizeTrack( t.trackIdx, false );\r\n                                } );\r\n                            }\r\n                        }\r\n                    } );\r\n                } );\r\n            }\r\n        }\r\n\r\n        this.onShowContextMenu = ( e: any ) =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let actions: any = [];\r\n            if( this.lastKeyFramesSelected && this.lastKeyFramesSelected.length )\r\n            {\r\n                actions.push(\r\n                    {\r\n                        title: \"Copy\",\r\n                        callback: () => {\r\n                            this.copySelectedContent();\r\n                        }\r\n                    }\r\n                );\r\n                actions.push(\r\n                    {\r\n                        title: \"Delete\",\r\n                        callback: () => {\r\n                            this.deleteSelectedContent();\r\n                        }\r\n                    }\r\n                );\r\n\r\n                if( this.lastKeyFramesSelected.length == 1 && this.clipboard && this.clipboard.value )\r\n                {\r\n                    actions.push(\r\n                        {\r\n                            title: \"Paste Value\",\r\n                            callback: () => {\r\n                                this.pasteContentValue();\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            else\r\n            {\r\n                actions.push(\r\n                    {\r\n                        title: \"Add Here\",\r\n                        callback: () => {\r\n                            if( !e.track ) return;\r\n                            const values: any = new Float32Array( e.track.dim );\r\n                            values.fill( 0 );\r\n                            this.addKeyFrames( e.track.trackIdx, values, [ this.xToTime( e.localX )] );\r\n                        }\r\n                    }\r\n                );\r\n                actions.push(\r\n                    {\r\n                        title: \"Add\",\r\n                        callback: () => {\r\n                            if( !e.track ) return;\r\n                            const values: any = new Float32Array( e.track.dim );\r\n                            values.fill( 0 );\r\n                            this.addKeyFrames( e.track.trackIdx, values, [ this.currentTime ] );\r\n                        }\r\n                    }\r\n                );\r\n\r\n            }\r\n\r\n            if( this.clipboard && this.clipboard.keyframes )\r\n            {\r\n                actions.push(\r\n                    {\r\n                        title: \"Paste Here\",\r\n                        callback: () => {\r\n                            this.pasteContent( this.xToTime( e.localX ) );\r\n                        }\r\n                    }\r\n                );\r\n                actions.push(\r\n                    {\r\n                        title: \"Paste\",\r\n                        callback: () => {\r\n                            this.pasteContent( this.currentTime );\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n\r\n            LX.addContextMenu(\"Options\", e, ( m: any ) => {\r\n                for( let i = 0; i < actions.length; i++ )  {\r\n                    m.add( actions[ i ].title,  actions[ i ].callback );\r\n                }\r\n            } );\r\n        } // end of onShowContextMenu\r\n\r\n        if( this.animationClip )\r\n        {\r\n            this.setAnimationClip( this.animationClip );\r\n        }\r\n    }\r\n\r\n    // OVERRIDE\r\n    generateSelectedItemsTreeData(): any\r\n    {\r\n        const treeTracks: any[] = [];\r\n        const tracksPerGroup = this.animationClip.tracksPerGroup;\r\n\r\n        for( let i = 0; i < this.selectedItems.length; i++ )\r\n        {\r\n            const item = this.selectedItems[ i ];\r\n            const isGroup = !item.isTrack;\r\n            const itemTracks = isGroup ? tracksPerGroup[ item ] : [ item ];\r\n            const nodes: any[] = [];\r\n\r\n            for( let j = 0; j < itemTracks.length; j++ )\r\n            {\r\n                const track = itemTracks[ j ];\r\n                nodes.push({'trackData': track, 'id': track.id, 'skipVisibility': this.skipVisibility, visible: track.active, 'children': [], actions : this.skipLock ? null : [{\r\n                    'name':'Lock edition',\r\n                    'icon': ( track.locked ? 'TimelineLock' : 'TimelineLockOpen'),\r\n                    'swap': ( track.locked ? 'TimelineLockOpen' : 'TimelineLock'),\r\n                    'callback': ( node: any, swapValue: boolean, event: Event ) => {\r\n                        this.setTrackLock( node.trackData.trackIdx, !node.trackData.locked, false, false ); // do not update left panel\r\n                    }\r\n                }] } );\r\n            }\r\n\r\n            if( isGroup )\r\n            {\r\n                const t = {\r\n                    'id': item,\r\n                    'skipVisibility': true,\r\n                    'children': nodes\r\n                };\r\n\r\n                treeTracks.push( t );\r\n            }\r\n            else\r\n            {\r\n                treeTracks.push( nodes[ 0 ] );\r\n            }\r\n        }\r\n\r\n        return treeTracks;\r\n    }\r\n\r\n    /**\r\n     * OVERRIDE\r\n     * @param {Object} options track information that wants to be set to the new track\r\n     *  id, dim, values, times, selected, edited, hovered\r\n     * @returns\r\n     */\r\n    instantiateTrack( options: any = {}, clone: boolean = false )\r\n    {\r\n        const track : any = super.instantiateTrack( options );\r\n        track.dim = Math.max( 1, options.dim ?? 1 ); // >= 1\r\n        track.groupId = null,\r\n        track.groupTrackIdx = -1, // track Idx inside group only if in group\r\n\r\n        track.values = new Float32Array( 0 );\r\n        track.times = new Float32Array( 0 );\r\n        track.selected = [];\r\n        track.edited = [];\r\n        track.hovered = [];\r\n\r\n        if( options.values && options.times )\r\n        {\r\n            track.values = clone ? options.values.slice() : options.values;\r\n            track.times = clone ? options.times.slice() : options.times;\r\n\r\n            const numFrames = track.times.length;\r\n            if( options.selected && options.selected.length == numFrames )\r\n            {\r\n                track.selected = clone ? options.selected.slice() : options.selected;\r\n            }\r\n            else\r\n            {\r\n                track.selected = ( new Array( numFrames ) ).fill( false );\r\n            }\r\n\r\n            if( options.edited && options.edited.length == numFrames )\r\n            {\r\n                track.edited = clone ? options.edited.slice() : options.edited;\r\n            }\r\n            else\r\n            {\r\n                track.edited = ( new Array( numFrames ) ).fill( false );\r\n            }\r\n\r\n            if( options.hovered && options.hovered.length == numFrames )\r\n            {\r\n                track.hovered = clone ? options.hovered.slice() : options.hovered;\r\n            }\r\n            else\r\n            {\r\n                track.hovered = ( new Array( numFrames ) ).fill( false );\r\n            }\r\n        }\r\n\r\n        track.curves = options.curves ?? this.defaultCurves; // only works if dim == 1\r\n        track.curvesRange = ( options.curvesRange ?? this.defaultCurvesRange ).slice();\r\n\r\n        return track;\r\n    }\r\n\r\n    /**\r\n     * Generates an animationClip using either the parameters set in the animation argument or using default values\r\n     * @param {Object} animation data with which to generate an animationClip\r\n     * @returns\r\n     */\r\n    instantiateAnimationClip( animation: Nullable< any >, clone: boolean = false )\r\n    {\r\n        const animationClip: any = super.instantiateAnimationClip( animation, clone );\r\n\r\n        animationClip.tracksPerGroup = {};\r\n\r\n        if( animation && animation.tracks )\r\n        {\r\n            const tracksPerGroup: any = {};\r\n            let duration = 0;\r\n            for( let i = 0; i < animation.tracks.length; ++i ) {\r\n\r\n                let track = animation.tracks[ i ];\r\n                let times = track.times ?? [];\r\n                let values = track.values ?? [];\r\n\r\n                let valueDim = track.dim;\r\n                if( !valueDim || valueDim < 0 ) {\r\n                    if( times.length && values.length ) { valueDim = Math.round( values.length/times.length ); }\r\n                    else\r\n                    { valueDim = 1; }\r\n                }\r\n\r\n                let baseName = track.id ?? track.name;\r\n                const [groupId, trackId] = baseName ? this._getValidTrackName(baseName ) : [ null, null];\r\n\r\n                const toInstantiate = Object.assign({}, track );\r\n                toInstantiate.id = trackId;\r\n                toInstantiate.dim = valueDim;\r\n                const trackInfo = this.instantiateTrack( toInstantiate, clone );\r\n\r\n                // manual group insertion\r\n                if( groupId )\r\n                {\r\n                    if( !tracksPerGroup[ groupId ] )\r\n                    {\r\n                        tracksPerGroup[ groupId ] = [ trackInfo ];\r\n                    }\r\n                    else\r\n                    {\r\n                        tracksPerGroup[ groupId ].push( trackInfo );\r\n                    }\r\n\r\n                    trackInfo.groupId = groupId;\r\n                    trackInfo.groupTrackIdx = tracksPerGroup[ groupId ].length - 1; // index of track in group\r\n                }\r\n\r\n                trackInfo.trackIdx = i; // index of track in the entire animation\r\n\r\n                animationClip.tracks.push( trackInfo );\r\n\r\n                if( trackInfo.times.length ) { duration = Math.max( duration, trackInfo.times[ trackInfo.times.length - 1 ] ); }\r\n            }\r\n\r\n            animationClip.tracksPerGroup = tracksPerGroup;\r\n            if( !animation || !animation.duration )\r\n            {\r\n                animationClip.duration = duration;\r\n            }\r\n\r\n            // overwrite trackspergroup\r\n            if( animation.tracksPerGroup )\r\n            {\r\n                // ungroup all tracks (just in case )\r\n                animationClip.tracks.forEach( ( v: any,i: number ) =>{ v.groupId = null; v.groupTrackIdx = -1; } );\r\n\r\n                animationClip.tracksPerGroup = {};\r\n                let tpg = animation.tracksPerGroup;\r\n                for( let groupId in tpg )\r\n                {\r\n                    const source = tpg[ groupId ];\r\n                    const target: any[] = [];\r\n                    for( let ti = 0; ti < source.length; ++ti )\r\n                    {\r\n                        const trackInfo = animationClip.tracks[ source[ ti ].trackIdx ]; // redo references\r\n                        target[ ti ] = trackInfo;\r\n                        trackInfo.groupId = groupId;\r\n                        trackInfo.groupTrackIdx = ti; // index of track in group\r\n                    }\r\n                    animationClip.tracksPerGroup[ groupId ] = target;\r\n                }\r\n            }\r\n        }\r\n\r\n        return animationClip;\r\n    }\r\n\r\n    // OVERRIDE\r\n    deselectAllElements()\r\n    {\r\n        this.deselectAllKeyFrames();\r\n        this.unHoverAll();\r\n    }\r\n\r\n    /**\r\n     * OVERRIDE\r\n     * @param {Array} itemsToAdd [ trackIdx, \"groupId\" ], array of strings and/or number identifying groups and/or tracks\r\n     * @param {Array} itemsToRemove [ trackIdx, \"groupId\" ], array of strings and/or number identifying groups and/or tracks\r\n     */\r\n    changeSelectedItems( itemsToAdd: Nullable<any[]> = null, itemsToRemove: Nullable<any[]> = null, skipCallback: boolean = false )\r\n    {\r\n        this.deselectAllElements();\r\n        this.deselectAllTracks( false ); // no need to update left panel. It is going to be rebuilt anyways\r\n\r\n        const tracks = this.animationClip.tracks;\r\n        const tracksPerGroup = this.animationClip.tracksPerGroup;\r\n\r\n        if( itemsToRemove )\r\n        {\r\n            for( let i = 0; i < itemsToRemove.length; ++i )\r\n            {\r\n                const isGroup: boolean = !!itemsToRemove[ i ].substr;\r\n                let compareObj = isGroup ? itemsToRemove[ i ] : tracks[ itemsToRemove[ i ]]; // trackData or groupId\r\n                for( let s = 0; s < this.selectedItems.length; ++s )\r\n                {\r\n                    if( this.selectedItems[ s ] === compareObj )\r\n                    {\r\n                        const size = isGroup ? tracksPerGroup[ compareObj ].length : 1;\r\n                        this.selectedItems.splice( s, size );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if( itemsToAdd )\r\n        {\r\n            for( let i = 0; i < itemsToAdd.length; ++i )\r\n            {\r\n                const v = itemsToAdd[ i ];\r\n                if( isNaN( v) ) // assuming it is a string\r\n                {\r\n                    if( tracksPerGroup[ v ] )\r\n                    {\r\n                        this.selectedItems.push( v );\r\n                    }\r\n                }\r\n                else if( tracks[ v ] )\r\n                {\r\n                    this.selectedItems.push( tracks[ v ] );\r\n                }\r\n            }\r\n        }\r\n\r\n        this.updateLeftPanel();\r\n\r\n        if( this.onItemSelected && !skipCallback )\r\n        {\r\n            this.onItemSelected( this.selectedItems, itemsToAdd, itemsToRemove );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {String} groupId unique identifier\r\n     * @param {Array} groupTracks [ \"trackID\", trackIdx ] array of strings and/or numbers of the existing tracks to include in this group. A track can only be part of 1 group\r\n     *  if groupTracks == null, groupId is removed from the list\r\n     */\r\n    setTracksGroup( groupId: string, groupTracks: Nullable< ( string | number )[] > = null )\r\n    {\r\n        const tracks = this.animationClip.tracks;\r\n        const tracksPerGroup = this.animationClip.tracksPerGroup;\r\n        const result: any = [];\r\n\r\n        let selectedItemsCounter = -1;\r\n\r\n        if( tracksPerGroup[ groupId ] )\r\n        {\r\n            // if group exists, ungroup tracks.\r\n            tracksPerGroup[ groupId ].forEach( ( t: any )=> {\r\n                t.groupId = null;\r\n                t.groupTrackIdx = -1;\r\n            } );\r\n\r\n            // modify groups cannot appear more than once\r\n            for( let i = 0; i < this.selectedItems.length; ++i ) {\r\n                if( this.selectedItems[ i ] === groupId ) {\r\n                    selectedItemsCounter = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if( !groupTracks )\r\n        {\r\n            delete tracksPerGroup.groupId;\r\n            // remove entry from selectedItems\r\n            if( selectedItemsCounter > -1 ) {\r\n                this.selectedItems.splice( selectedItemsCounter, 1 );\r\n            }\r\n            return;\r\n        }\r\n\r\n        // find tracks and group them\r\n        for ( let i = 0; i < groupTracks.length; ++i )\r\n        {\r\n            const v = groupTracks[ i ];\r\n            let track: any = null;\r\n            if( typeof v == \"string\" )\r\n            {\r\n                // v is an id  ( string)\r\n                for( let t = 0; t < tracks.length; ++t )\r\n                {\r\n                    if( tracks[ t ].id == v)\r\n                    {\r\n                        track = tracks[ t ];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else if( tracks[ v ] )\r\n            {\r\n                track = tracks[ v ];\r\n            }\r\n\r\n            if( track )\r\n            {\r\n                track.groupId = groupId;\r\n                track.groupTrackIdx = result.length;\r\n                result.push( track );\r\n            }\r\n        }\r\n\r\n        tracksPerGroup[ groupId ] = result;\r\n\r\n        // if group is currently visible\r\n        if( selectedItemsCounter > -1 )\r\n        {\r\n            this.updateLeftPanel();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {String} groupId\r\n     * @returns array of tracks or null\r\n     */\r\n    getTracksGroup( groupId: string ): any[] | null\r\n    {\r\n        return this.animationClip.tracksPerGroup[ groupId ] ?? null;\r\n    }\r\n\r\n    /**\r\n     * OVERRIDE\r\n     * @param {String} trackId\r\n     * @param {String} groupId optionl. If not set, it will find the first occurrence of trackId in animationClip.tracks\r\n     * @returns\r\n     */\r\n    getTrack( trackId: string, groupId: Nullable< string > = null )\r\n    {\r\n        let tracks = this.animationClip.tracks;\r\n        if( groupId )\r\n        {\r\n            tracks = this.animationClip.tracksPerGroup[ groupId ] ?? [];\r\n        }\r\n\r\n        for( let i = 0; i < tracks.length; ++i )\r\n        {\r\n            if( tracks[ i ].id == trackId )\r\n            {\r\n                return tracks[ i ];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Number} size pixels, height of keyframe\r\n     * @param {Number} sizeHovered optional, size in pixels when hovered\r\n     */\r\n    setKeyframeSize( size: number, sizeHovered: Nullable< number > = null )\r\n    {\r\n        this.keyframeSizeHovered = sizeHovered ?? size;\r\n        this.keyframeSize = size;\r\n    }\r\n\r\n    onMouseUp( e: any, time: number )\r\n    {\r\n        let track = e.track;\r\n        let localX = e.localX;\r\n        let discard = e.discard; // true when too much time has passed between Down and Up\r\n\r\n        if( e.shiftKey )\r\n        {\r\n            // Manual multiple selection\r\n            if( !discard && track )\r\n            {\r\n                const thresholdPixels = this.keyframeSize * 0.5; // radius of circle ( curves ) or rotated square (keyframes )\r\n                const keyFrameIdx = this.getCurrentKeyFrame( track, this.xToTime( localX ), this.secondsPerPixel * thresholdPixels );\r\n                if( keyFrameIdx > -1 ) {\r\n                    track.selected[ keyFrameIdx ] ?\r\n                        this.deselectKeyFrame( track.trackIdx, keyFrameIdx ) :\r\n                        this.processSelectionKeyFrame( track.trackIdx, keyFrameIdx, true );\r\n                }\r\n            }\r\n            // Box selection\r\n            else if( this.boxSelection )\r\n            {\r\n                let tracks = this.getTracksInRange( this.boxSelectionStart[ 1 ], this.boxSelectionEnd[ 1 ] );\r\n\r\n                for( let t of tracks )\r\n                {\r\n                    let keyFrameIndices = this.getKeyFramesInRange( t,\r\n                        this.xToTime( this.boxSelectionStart[ 0 ] ),\r\n                        this.xToTime( this.boxSelectionEnd[ 0 ] ),\r\n                        this.secondsPerPixel * 5 );\r\n\r\n                    if( keyFrameIndices )\r\n                    {\r\n                        for( let index = keyFrameIndices[ 0 ]; index <= keyFrameIndices[ 1 ]; ++index )\r\n                        {\r\n                            this.processSelectionKeyFrame( t.trackIdx, index, true );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if( !this.movingKeys && !discard ) // if not moving timeline and not adding keyframes through e.shiftkey (just a click )\r\n        {\r\n            if( this.lastKeyFramesSelected.length )\r\n            {\r\n                if( this.onDeselectKeyFrames )\r\n                {\r\n                    this.onDeselectKeyFrames( this.lastKeyFramesSelected );\r\n                }\r\n\r\n                this.deselectAllKeyFrames();\r\n            }\r\n\r\n            if( track )\r\n            {\r\n                const thresholdPixels = this.keyframeSize * 0.5; // radius of circle ( curves ) or rotated square (keyframes )\r\n                const keyFrameIndex = this.getCurrentKeyFrame( track, this.xToTime( localX ), this.secondsPerPixel * thresholdPixels );\r\n                if( keyFrameIndex > -1 )\r\n                {\r\n                    this.processSelectionKeyFrame( track.trackIdx, keyFrameIndex, false ); // Settings this as multiple so time is not being set\r\n                }\r\n            }\r\n        }\r\n\r\n        this.canvas.classList.remove( 'grabbing' );\r\n    }\r\n\r\n    onMouseDown( e: any, time: number )\r\n    {\r\n        // function not called if shift is pressed (boxselection )\r\n\r\n        let localX = e.localX;\r\n        let localY = e.localY;\r\n        let track = e.track;\r\n\r\n        if( ( e.ctrlKey || e.altKey ) && this.lastKeyFramesSelected.length ) // move keyframes\r\n        {\r\n            this.movingKeys = true;\r\n            this.canvas.style.cursor = \"grab\";\r\n            this.canvas.classList.add('grabbing');\r\n\r\n            // Set pre-move state\r\n            this.moveKeyMinTime = Infinity;\r\n            const tracks = this.animationClip.tracks;\r\n            let lastTrackIdx = -1;\r\n            for( let selectedKey of this.lastKeyFramesSelected ) // WARNING assumes lasKeyFramesSelected is sorted, so all keyframes of the same track are grouped\r\n            {\r\n                let [ trackIdx, keyIndex, keyTime ] = selectedKey;\r\n                const track = tracks[ trackIdx ];\r\n\r\n                selectedKey[ 2 ] = track.times[ keyIndex ]; // update original time just in case\r\n\r\n                if( lastTrackIdx != trackIdx )\r\n                {\r\n                    // save track states only once\r\n                    if( this.moveKeyMinTime < Infinity )\r\n                    {\r\n                        this.saveState( track.trackIdx, true );\r\n                    }\r\n                    else\r\n                    {\r\n                        this.saveState( track.trackIdx, false );\r\n                    }\r\n\r\n                    this.moveKeyMinTime = Math.min( this.moveKeyMinTime, selectedKey[ 2 ] );\r\n                    lastTrackIdx = trackIdx;\r\n                }\r\n            }\r\n\r\n            this.timeBeforeMove = this.xToTime( localX );\r\n\r\n            this.grabbing = false;\r\n            this.grabbingTimeBar = false;\r\n        }\r\n    }\r\n\r\n    onMouseMove( e: any, time: number )\r\n    {\r\n        // function not called if shift is pressed (boxselection )\r\n\r\n        let localX = e.localX;\r\n        let localY = e.localY;\r\n        let track = e.track;\r\n\r\n        if( this.movingKeys ) // move keyframes\r\n        {\r\n            let newTime = this.xToTime( localX );\r\n            let deltaTime = newTime - this.timeBeforeMove;\r\n\r\n            if( deltaTime + this.moveKeyMinTime < 0 )\r\n            {\r\n                deltaTime = -this.moveKeyMinTime;\r\n            }\r\n\r\n            this.timeBeforeMove = this.timeBeforeMove + deltaTime;\r\n\r\n            if( e.ctrlKey )\r\n            {\r\n                this.moveKeyMinTime += deltaTime;\r\n                const tracks = this.animationClip.tracks;\r\n                for( let i = 0; i < this.lastKeyFramesSelected.length; ++i )\r\n                {\r\n                    let idx = i;\r\n                    if( deltaTime > 0 ) {\r\n                        idx = this.lastKeyFramesSelected.length - 1 - i;\r\n                    }\r\n\r\n                    const [ trackIdx, keyIndex, originalKeyTime ] = this.lastKeyFramesSelected[ idx ];\r\n                    track = tracks[ trackIdx ];\r\n\r\n                    if( track && track.locked )\r\n                    {\r\n                        continue;\r\n                    }\r\n\r\n                    this.canvas.style.cursor = \"grabbing\";\r\n\r\n                    const times = this.animationClip.tracks[ track.trackIdx ].times;\r\n                    times[ keyIndex ] = Math.max( 0, times[ keyIndex ] + deltaTime );\r\n\r\n                    if( times[ keyIndex ] > this.duration )\r\n                    {\r\n                        this.setDuration( times[ keyIndex ] );\r\n                    }\r\n\r\n                    // sort keyframe\r\n                    let k = keyIndex;\r\n                    if( deltaTime > 0 )\r\n                    {\r\n                        for( ; k < times.length - 1; ++k )\r\n                        {\r\n                            if( times[ k ] < times[ k + 1 ] )\r\n                            {\r\n                                break;\r\n                            }\r\n\r\n                            this.swapKeyFrames( track, k + 1, k );\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        for( ; k > 0; --k )\r\n                        {\r\n                            if( times[ k - 1 ] < times[ k ] ) {\r\n                                break;\r\n                            }\r\n                            this.swapKeyFrames( track, k-1, k );\r\n                        }\r\n                    }\r\n                    this.lastKeyFramesSelected[ idx ][ 1 ] = k; // update keyframe index\r\n                    this.lastKeyFramesSelected[ idx ][ 2 ] = times[ k ]; // update keyframe time\r\n                }\r\n\r\n                if( this.onContentMoved )\r\n                {\r\n                    for( let i = 0; i < this.lastKeyFramesSelected.length; ++i )\r\n                    {\r\n                        const [ trackIdx, keyIndex, originalKeyTime ] = this.lastKeyFramesSelected[ i ];\r\n                        track = this.animationClip.tracks[ trackIdx ];\r\n                        if( track && track.locked )\r\n                        {\r\n                            continue;\r\n                        }\r\n\r\n                        this.onContentMoved( trackIdx, keyIndex );\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Track.dim == 1:  move keyframes vertically ( change values instead of time )\r\n            // RELIES ON SORTED ARRAY OF lastKeyFramesSelected\r\n            if( e.altKey && e.buttons & 0x01 )\r\n            {\r\n                const tracks = this.animationClip.tracks;\r\n                let lastTrackChanged = -1;\r\n                for( let i = 0; i < this.lastKeyFramesSelected.length; ++i )\r\n                {\r\n                    const [ trackIdx, keyIndex, originalKeyTime ] = this.lastKeyFramesSelected[ i ];\r\n                    track = tracks[ trackIdx ];\r\n                    if( track.locked || track.dim != 1 || !track.curves )\r\n                    {\r\n                        continue;\r\n                    }\r\n\r\n                    let value = track.values[ keyIndex ];\r\n                    let delta = e.deltay * this.keyValuePerPixel * ( track.curvesRange[ 1 ]-track.curvesRange[ 0 ] );\r\n                    track.values[ keyIndex ] = Math.max( track.curvesRange[ 0 ], Math.min( track.curvesRange[ 1 ], value - delta )); // invert delta because of screen y\r\n                    track.edited[ keyIndex ] = true;\r\n\r\n                    if( this.onUpdateTrack && track.trackIdx != lastTrackChanged && lastTrackChanged > -1 ) { // do it only once all keyframes of the same track have been modified\r\n                        this.onUpdateTrack( [ track.trackIdx ] );\r\n                    }\r\n                    lastTrackChanged = track.trackIdx;\r\n                }\r\n                if( this.onUpdateTrack && lastTrackChanged > -1 ) // do the last update, once the last track has been processed\r\n                {\r\n                    this.onUpdateTrack( [ track.trackIdx ] );\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        if( this.grabbing && e.button != 2 )\r\n        {\r\n\r\n        }\r\n        else if( track )\r\n        {\r\n            this.unHoverAll();\r\n            const thresholdPixels = this.keyframeSize * 0.5; // radius of circle ( curves ) or rotated square (keyframes )\r\n            let keyFrameIndex = this.getCurrentKeyFrame( track, this.xToTime( localX ), this.secondsPerPixel * thresholdPixels );\r\n\r\n            if( keyFrameIndex > -1 )\r\n            {\r\n                if( track && track.locked )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                this.lastHovered = [ track.trackIdx, keyFrameIndex ];\r\n                track.hovered[ keyFrameIndex ] = true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.unHoverAll();\r\n        }\r\n    }\r\n\r\n    drawContent( ctx: CanvasRenderingContext2D )\r\n    {\r\n        if( !this.animationClip )\r\n        {\r\n            return;\r\n        }\r\n\r\n        ctx.save();\r\n\r\n        const trackHeight = this.trackHeight;\r\n        const scrollY = - this.currentScrollInPixels;\r\n\r\n        // elements from \"ul\" should match the visible tracks ( and groups ) as if this.selectedItems was flattened\r\n        const visibleElements = this.getVisibleItems();\r\n\r\n        let offset = scrollY;\r\n\r\n        // compute track from which to start rendering ( avoid rendering unseen tracks )\r\n        let startElIdx = 0;\r\n        if( offset < -this.lastTrackTreesComponentOffset ) // offset 0 = ( 0 of canvas ) + track-Tree-Offset. This renders tracks under the time zone\r\n        {\r\n            startElIdx = Math.floor( -( offset + this.lastTrackTreesComponentOffset ) / this.trackHeight ); // how many tracks to skip\r\n            offset += startElIdx * this.trackHeight;\r\n        }\r\n\r\n        ctx.translate( 0, offset );\r\n\r\n        // compute track to end rendering ( avoid rendering unseen tracks )\r\n        let endElIdx = startElIdx + Math.ceil( ( ctx.canvas.height - this.lastTrackTreesComponentOffset - offset ) / this.trackHeight );\r\n        endElIdx = endElIdx > visibleElements.length ? visibleElements.length : endElIdx;\r\n\r\n        for( let t = startElIdx; t < endElIdx; t++ )\r\n        {\r\n            const track = visibleElements[ t ].treeData.trackData;\r\n            if( track )\r\n            {\r\n                if( track.dim == 1 && track.curves )\r\n                {\r\n                    this.drawTrackWithCurves( ctx, trackHeight, track );\r\n                }\r\n                else\r\n                {\r\n                    this.drawTrackWithKeyframes( ctx, trackHeight, track );\r\n                }\r\n            }\r\n\r\n            ctx.translate( 0, trackHeight );\r\n        }\r\n\r\n        ctx.restore();\r\n    };\r\n\r\n    /**\r\n     * @method drawTrackWithKeyframes\r\n     * @param {*} ctx\r\n     * ...\r\n     * @description helper function, you can call it from drawContent to render all the keyframes\r\n    */\r\n    drawTrackWithKeyframes( ctx: CanvasRenderingContext2D, trackHeight: number, track: any ) {\r\n\r\n        if( track.isSelected ) {\r\n            ctx.globalAlpha = 0.2;\r\n            ctx.fillStyle = Timeline.TRACK_SELECTED;\r\n            ctx.fillRect( 0, 0, ctx.canvas.width, trackHeight );\r\n        }\r\n\r\n        ctx.fillStyle = Timeline.KEYFRAME_COLOR;\r\n        ctx.globalAlpha = 1;\r\n\r\n        const keyframes = track.times;\r\n        const startTime = this.visualTimeRange[ 0 ];\r\n        const endTime = this.visualTimeRange[ 1 ] + 0.0000001;\r\n        const defaultPointSize = this.keyframeSize / Math.SQRT2; // pythagoras with equal sides h2 = c2 + c2 = 2 * c2\r\n        const hoverPointSize = this.keyframeSizeHovered / Math.SQRT2;\r\n\r\n        for( let j = 0; j < keyframes.length; ++j )\r\n        {\r\n            let time = keyframes[ j ];\r\n            if( time < startTime || time > endTime ) {\r\n                continue;\r\n            }\r\n\r\n            let keyframePosX = this.timeToX( time );\r\n            let size = defaultPointSize;\r\n\r\n            if( !this.active || track.active == false ) {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_INACTIVE;\r\n            }\r\n            else if( track.locked ) {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_LOCK;\r\n            }\r\n            else if( track.hovered[ j ] ) {\r\n                size = hoverPointSize;\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_HOVERED;\r\n            }\r\n            else if( track.selected[ j ] ) {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_SELECTED;\r\n            }\r\n            else if( track.edited[ j ] ) {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_EDITED;\r\n            }\r\n            else {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR;\r\n            }\r\n\r\n            ctx.save();\r\n            ctx.translate(keyframePosX, trackHeight * 0.5);\r\n            ctx.rotate(45 * Math.PI / 180 );\r\n            ctx.fillRect( -size*0.5, -size*0.5, size, size );\r\n            ctx.restore();\r\n        }\r\n\r\n        ctx.globalAlpha = 1;\r\n    }\r\n\r\n    drawTrackWithCurves ( ctx: CanvasRenderingContext2D, trackHeight: number, track: any ) {\r\n        if( track.isSelected ) {\r\n            ctx.globalAlpha = 0.2;\r\n            ctx.fillStyle = Timeline.TRACK_SELECTED_LIGHT;\r\n            ctx.fillRect( 0, 0, ctx.canvas.width, trackHeight );\r\n        }\r\n\r\n        ctx.globalAlpha = 1;\r\n        const keyframes = track.times;\r\n        const values = track.values;\r\n        const defaultPointSize = this.keyframeSize * 0.5; // radius\r\n        const hoverPointSize = this.keyframeSizeHovered * 0.5; // radius\r\n        const valueRange = track.curvesRange; //[ min, max ]\r\n        const displayRange = trackHeight - defaultPointSize * 2;\r\n        const startTime = this.visualTimeRange[ 0 ];\r\n        const endTime = this.visualTimeRange[ 1 ] + 0.0000001;\r\n        //draw lines\r\n        ctx.strokeStyle = KeyFramesTimeline.FONT_COLOR_PRIMARY;\r\n        ctx.beginPath();\r\n\r\n        if( keyframes.length > 1 ) {\r\n            let startPosX = this.timeToX( keyframes[ 0 ] );\r\n            let startValue = values[ 0 ];\r\n            startValue = LX.clamp( ( startValue - valueRange[ 0 ] ) / ( valueRange[ 1 ] - valueRange[ 0 ] ), 0,1 ) * (-displayRange ) + ( trackHeight - defaultPointSize ); // normalize and offset\r\n            ctx.moveTo( startPosX, startValue );\r\n\r\n            for( let j = 1; j < keyframes.length; ++j ) {\r\n\r\n                let time = keyframes[ j ];\r\n                let keyframePosX = this.timeToX( time );\r\n                let value = values[ j ];\r\n                value = LX.clamp( ( value - valueRange[ 0 ] ) / ( valueRange[ 1 ] - valueRange[ 0 ] ), 0,1 ) * (-displayRange ) + ( trackHeight - defaultPointSize ); // normalize and offset\r\n\r\n                if( time < startTime ) {\r\n                    ctx.moveTo( keyframePosX, value );\r\n                    continue;\r\n                }\r\n\r\n                if( time > endTime ) {\r\n                    let lastKeyframePosX = this.timeToX( keyframes[j-1 ] );\r\n                    let dt = keyframePosX - lastKeyframePosX;\r\n                    if( dt > 0 ) {\r\n                        let lastValue = values[j-1 ];\r\n                        lastValue = LX.clamp( ( lastValue - valueRange[ 0 ] ) / ( valueRange[ 1 ] - valueRange[ 0 ] ), 0,1 ) * (-displayRange ) + ( trackHeight - defaultPointSize ); // normalize and offset\r\n                        let f = ( this.timeToX( endTime ) - lastKeyframePosX ) / dt;\r\n                        ctx.lineTo( lastKeyframePosX + dt * f, lastValue * (1-f ) + value * f );\r\n                    }\r\n                    break; //end loop, but print line\r\n                }\r\n\r\n                //convert to timeline track range\r\n                ctx.lineTo( keyframePosX, value );\r\n            }\r\n            ctx.stroke();\r\n        }\r\n\r\n        //draw points\r\n        ctx.fillStyle = Timeline.KEYFRAME_COLOR;\r\n        for( let j = 0; j < keyframes.length; ++j )\r\n        {\r\n            let time = keyframes[ j ];\r\n            if( time < startTime || time > endTime )\r\n                continue;\r\n\r\n            let size = defaultPointSize;\r\n            let keyframePosX = this.timeToX( time );\r\n\r\n            if( !this.active || !track.active )\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_INACTIVE;\r\n            else if( track.locked )\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_LOCK;\r\n            else if( track.hovered[ j ] ) {\r\n                size = hoverPointSize;\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_HOVERED;\r\n            }\r\n            else if( track.selected[ j ] )\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_SELECTED;\r\n            else if( track.edited[ j ] )\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_EDITED;\r\n            else\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR\r\n\r\n            let value = values[ j ];\r\n            value = LX.clamp( ( value - valueRange[ 0 ] ) / ( valueRange[ 1 ] - valueRange[ 0 ] ), 0,1 ) *(-displayRange ) + ( trackHeight - defaultPointSize ); // normalize, clamp and offset\r\n\r\n            ctx.beginPath();\r\n            ctx.arc( keyframePosX, value, size, 0, Math.PI * 2 );\r\n            ctx.fill();\r\n            ctx.closePath();\r\n        }\r\n    }\r\n\r\n    _getValidTrackName( uglyName: string ) {\r\n\r\n        let groupId = null;\r\n        let trackId = null;\r\n        let trackNameInfo;\r\n        // Support other versions\r\n        if(uglyName.includes(\"[\")) {\r\n            const nameIndex = uglyName.indexOf('[');\r\n            trackNameInfo = uglyName.substring( nameIndex+1 ).split(\"].\");\r\n        }else {\r\n            trackNameInfo = uglyName.split(\".\");\r\n        }\r\n\r\n        if( trackNameInfo.length > 1 ) {\r\n            groupId = trackNameInfo[ 0 ];\r\n            trackId = trackNameInfo[ 1 ];\r\n        }\r\n        else\r\n        {\r\n            trackId = trackNameInfo[ 0 ];\r\n        }\r\n\r\n        return [groupId, trackId];\r\n    }\r\n\r\n    /**\r\n     * updates an existing track with new values and times.\r\n     * @param {Int} trackIdx index of track in the animationClip\r\n     * @param {*} newTrack object with two arrays: values and times. These will be set to the selected track\r\n     * @returns\r\n     */\r\n    updateTrack( trackIdx: number, newTrack: any ) {\r\n        if( !this.animationClip )\r\n            return false;\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        track.values = newTrack.values;\r\n        track.times = newTrack.times;\r\n\r\n        track.selected = newTrack.selected ?? ( new Array( track.times.length )).fill( false );\r\n        track.hovered = newTrack.hovered ?? ( new Array( track.times.length )).fill( false );\r\n        track.edited = newTrack.edited ?? ( new Array( track.times.length )).fill( false );\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * removes equivalent sequential keys either because of equal times or values\r\n     * ( 0,0,0,0,1,1,1,0,0,0,0,0,0,0 ) --> ( 0, 0,1,1,0, 0 )\r\n     * @param {Int} trackIdx index of track in the animation\r\n     * @param {Boolean} onlyEqualTime if true, removes only keyframes with equal times. Otherwise, values are ALSO compared through the class threshold\r\n     * @param {Boolean} skipCallback if false, triggers \"onOptimizeTracks\" after optimizing\r\n     */\r\n    optimizeTrack( trackIdx: number, onlyEqualTime: boolean = false, skipCallback: boolean = false )\r\n    {\r\n        if( !this.animationClip ) return;\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ],\r\n            times = track.times,\r\n            values = track.values,\r\n            stride = track.dim,\r\n            threshold = this.optimizeThreshold;\r\n\r\n        if( track.locked )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let cmpFunction = ( v: number, p: number, n: number, t: number ) => { return Math.abs( v - p ) >= t || Math.abs( v - n ) >= t };\r\n        let lastSavedIndex = 0;\r\n        const lastIndex = times.length - 1;\r\n\r\n        this.saveState( track.trackIdx );\r\n\r\n        for ( let i = 1; i < lastIndex; ++ i )\r\n        {\r\n            let keep = false;\r\n            const time = times[ i ];\r\n            const timePrev = times[ lastSavedIndex ];\r\n\r\n            // remove adjacent keyframes scheduled at the same time\r\n            if( time !== timePrev )\r\n            {\r\n                if( !onlyEqualTime )\r\n                {\r\n                    // remove unnecessary keyframes same as their neighbors\r\n                    const offset = i * stride,\r\n                        offsetP = lastSavedIndex * stride,\r\n                        offsetN = offset + stride;\r\n\r\n                    for ( let j = 0; j !== stride; ++ j ) {\r\n                        if( cmpFunction(\r\n                            values[ offset + j ],\r\n                            values[ offsetP + j ],\r\n                            values[ offsetN + j ],\r\n                            threshold ))\r\n                        {\r\n                            keep = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    keep = true;\r\n                }\r\n            }\r\n\r\n            // in-place compaction\r\n            if( keep )\r\n            {\r\n                ++lastSavedIndex;\r\n\r\n                if( i !== lastSavedIndex )\r\n                {\r\n                    times[ lastSavedIndex ] = times[ i ];\r\n                    const readOffset = i * stride,\r\n                        writeOffset = lastSavedIndex * stride;\r\n                    for ( let j = 0; j !== stride; ++ j )\r\n                    {\r\n                        values[ writeOffset + j ] = values[ readOffset + j ];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // add last frame. first and last keyframes should be always kept\r\n        if( times.length > 1 )\r\n        {\r\n            ++lastSavedIndex;\r\n\r\n            times[ lastSavedIndex ] = times[ times.length - 1 ];\r\n            const readOffset = values.length - stride,\r\n                writeOffset = lastSavedIndex * stride;\r\n            for ( let j = 0; j !== stride; ++j )\r\n            {\r\n                values[ writeOffset + j ] = values[ readOffset + j ];\r\n            }\r\n        }\r\n\r\n        // commit changes\r\n        if( lastSavedIndex < times.length - 1 )\r\n        {\r\n            track.times = times.slice( 0, lastSavedIndex + 1 );\r\n            track.values = values.slice( 0, ( lastSavedIndex + 1 ) * stride );\r\n            this.updateTrack( track.trackIdx, track ); // update control variables (hover, edited, selected )\r\n        }\r\n\r\n        if( this.onOptimizeTracks && !skipCallback )\r\n        {\r\n            this.onOptimizeTracks( trackIdx );\r\n        }\r\n    }\r\n\r\n    optimizeTracks( onlyEqualTime: boolean = false ) {\r\n\r\n        if( !this.animationClip ) return;\r\n\r\n        // save all states into a single entry\r\n        if( this.historySaveEnabler )\r\n        {\r\n            for( let i = 0; i < this.animationClip.tracks.length; ++i )\r\n            {\r\n                this.saveState( i, i != 0 );\r\n            }\r\n        }\r\n\r\n        // disable state saving\r\n        const oldStateEnabler = this.historySaveEnabler;\r\n        this.historySaveEnabler = false;\r\n\r\n        // optimize\r\n        for( let i = 0; i < this.animationClip.tracks.length; ++i ) {\r\n            const track = this.animationClip.tracks[ i ];\r\n            this.optimizeTrack( track.trackIdx, onlyEqualTime, true );\r\n        }\r\n\r\n        // restore old enabler status\r\n        this.historySaveEnabler = oldStateEnabler;\r\n\r\n        // callback\r\n        if( this.onOptimizeTracks )\r\n        {\r\n            this.onOptimizeTracks( -1 ); // signal as \"all tracks\"\r\n        }\r\n    }\r\n\r\n    /**\r\n     * saveState function uses this to generate a \"copy\" of the track.\r\n     * @param {Number} trackIdx\r\n     * @returns All necessary information to reconstruct the track state\r\n     */\r\n    historyGenerateTrackStep( trackIdx: number )\r\n    {\r\n        const trackInfo = this.animationClip.tracks[ trackIdx ];\r\n\r\n        const undoStep = {\r\n            trackIdx: trackIdx, // already done by saveState\r\n            t: trackInfo.times.slice(),\r\n            v: trackInfo.values.slice(),\r\n            edited: trackInfo.edited.slice( 0, trackInfo.times.length )\r\n        };\r\n\r\n        return undoStep;\r\n    }\r\n\r\n    /**\r\n     * It should swap the previous state with the incoming state of the track. It must return the previous state.\r\n     * historyGenerateTrackStep could be used to copy the previous state. However, as it is a swap, it suffices to just copy the references.\r\n     * @param {Object} state object with a trackIdx:Number and whatever information was saved in historyGenerateTrackStep\r\n     * @param {Boolean} isUndo\r\n     * @returns previous state object\r\n     */\r\n    historyApplyTrackStep( state: any, isUndo: boolean )\r\n    {\r\n        const track = this.animationClip.tracks[ state.trackIdx ];\r\n\r\n        const stateToReturn = {\r\n            trackIdx: state.trackIdx,\r\n            t: track.times,\r\n            v: track.values,\r\n            edited: track.edited\r\n        };\r\n\r\n        track.times = state.t;\r\n        track.values = state.v;\r\n        track.edited = state.edited;\r\n        if( track.selected.length != track.times.length ) { track.selected.length = track.times.length; }\r\n        if( track.hovered.length != track.times.length ) { track.hovered.length = track.times.length; }\r\n        track.selected.fill( false );\r\n        track.hovered.fill( false );\r\n\r\n        return stateToReturn;\r\n    }\r\n\r\n    /**\r\n    *\r\n    * @param {*} track\r\n    * @param {Number} srcIdx keyFrame index\r\n    * @param {Number} trgIdx keyFrame index\r\n    */\r\n    swapKeyFrames( track: any, srcIdx: number, trgIdx: number )\r\n    {\r\n        const times = track.times;\r\n        const values = track.values;\r\n\r\n        let tmp = times[ srcIdx ];\r\n        times[ srcIdx ] = times[ trgIdx ];\r\n        times[ trgIdx ] = tmp;\r\n\r\n        tmp = track.hovered[ srcIdx ];\r\n        track.hovered[ srcIdx ] = track.hovered[ trgIdx ];\r\n        track.hovered[ trgIdx ] = tmp;\r\n\r\n        tmp = track.edited[ srcIdx ];\r\n        track.edited[ srcIdx ] = track.edited[ trgIdx ];\r\n        track.edited[ trgIdx ] = tmp;\r\n\r\n        tmp = track.selected[ srcIdx ];\r\n        track.selected[ srcIdx ] = track.selected[ trgIdx ];\r\n        track.selected[ trgIdx ] = tmp;\r\n\r\n        let src = srcIdx * track.dim;\r\n        let end = src + track.dim;\r\n        let trg = trgIdx * track.dim;\r\n        for( ; src < end; ++src )\r\n        {\r\n            tmp = values[ src ];\r\n            values[ src ] = values[ trg ];\r\n            values[ trg ] = tmp;\r\n            ++trg;\r\n        }\r\n    }\r\n\r\n    copySelectedContent()\r\n    {\r\n        if( !this.lastKeyFramesSelected.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.clipboard = this.clipboard ?? {};\r\n        this.clipboard.keyframes = {}; // reset clipboard\r\n\r\n        // sort keyframes selected by track\r\n        let toCopy: any = {};\r\n        const tracks = this.animationClip.tracks;\r\n        for( let i = 0; i < this.lastKeyFramesSelected.length; i++ )\r\n        {\r\n            let [ trackIdx, keyIdx ] = this.lastKeyFramesSelected[ i ];\r\n            const track = tracks[ trackIdx ];\r\n\r\n            if( toCopy[ trackIdx ] )\r\n            {\r\n                toCopy[ trackIdx ].idxs.push(keyIdx );\r\n            }\r\n            else\r\n            {\r\n                toCopy[ trackIdx ] = { track: track, idxs : [ keyIdx ] };\r\n            }\r\n\r\n            if( i == 0 )\r\n            {\r\n                this.copyKeyFrameValue( track, keyIdx );\r\n            }\r\n        }\r\n\r\n        // for each track selected, copy its values\r\n        for( let trackIdx in toCopy )\r\n        {\r\n            this.copyKeyFrames( toCopy[ trackIdx ].track, toCopy[ trackIdx ].idxs );\r\n        }\r\n    }\r\n\r\n    // copies the current value of the keyframe. This value can be pasted across any track ( as long as they are of the same type )\r\n    copyKeyFrameValue( track: any, index: number )\r\n    {\r\n        // 1 element clipboard by now\r\n        const start = index * track.dim;\r\n        const values = this.animationClip.tracks[ track.trackIdx ].values.slice( start, start + track.dim );\r\n\r\n        this.clipboard = this.clipboard ?? {};\r\n        this.clipboard.value = {\r\n            type: track.type,\r\n            values: values\r\n        };\r\n    }\r\n\r\n    // each track will have its own entry of copied keyframes. When pasting, only the apropiate track's keyframes are pasted\r\n    copyKeyFrames( track: any, indices: number[] )\r\n    {\r\n\r\n        let trackIdx = track.trackIdx;\r\n        this.clipboard = this.clipboard ?? {};\r\n\r\n        indices.sort( ( a,b ) => a < b ? -1 : 1 ); // just in case\r\n\r\n        let obj: any = { track: track, values: [], times: [] };\r\n\r\n        for( let i = 0; i < indices.length; i++ )\r\n        {\r\n            let keyIdx = indices[ i ];\r\n            let start = keyIdx * track.dim;\r\n            let keyValues = track.values.slice( start, start + track.dim ); // copy values into a new array\r\n            obj.values.push(keyValues ); // save to clipboard\r\n            obj.times.push( track.times[ keyIdx ] ); // save to clipboard\r\n        };\r\n\r\n        this.clipboard.keyframes[ trackIdx ] = obj;\r\n    }\r\n\r\n    canPasteKeyFrame ()\r\n    {\r\n        return this.clipboard != null;\r\n    }\r\n\r\n    // raw paste of values\r\n    #paste( track: any, index: number, values: number[] )\r\n    {\r\n        const start = index * track.dim;\r\n        let j = 0;\r\n        for( let i = start; i < start + track.dim; ++i )\r\n        {\r\n            track.values[ i ] = values[ j ];\r\n            ++j;\r\n        }\r\n\r\n        track.edited[ index ] = true;\r\n    }\r\n\r\n    // paste value on selected content ( only one keyframe can be selected )\r\n    pasteContentValue()\r\n    {\r\n        if( !this.clipboard )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        // copy the value into the only selected keyframe\r\n        if( this.clipboard.value && this.lastKeyFramesSelected.length == 1 )\r\n        {\r\n\r\n            let [ trackIdx, keyIdx ] = this.lastKeyFramesSelected[ 0 ];\r\n            this.pasteKeyFrameValue( this.animationClip.tracks[ trackIdx ], keyIdx );\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // paste copied keyframes. New keyframes are created and overlapping ones are overwritten\r\n    pasteContent( time = this.currentTime )\r\n    {\r\n        if( !this.clipboard )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        // create new keyframes from the ones copied\r\n        if( this.clipboard.keyframes )\r\n        {\r\n            for( let trackIdx in this.clipboard.keyframes )\r\n            {\r\n                const clipboardItem = this.animationClip.tracks[ trackIdx ];\r\n\r\n                // ensure all tracks are visible\r\n                const idx = this.selectedItems.findIndex( ( item ) =>\r\n                    {\r\n                        if( item.isTrack ) { return ( item === clipboardItem ) }\r\n                        return item === clipboardItem.groupId;\r\n                    } );\r\n\r\n                if( idx == -1 )\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            this.pasteKeyFrames( time );\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    pasteKeyFrameValue( track: any, index: number )\r\n    {\r\n        if( track.locked || ( this.clipboard.value.type != track.type ) )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.saveState( track.trackIdx );\r\n\r\n        // Copy to current key\r\n        this.#paste( track, index, this.clipboard.value.values );\r\n\r\n        if( this.onUpdateTrack )\r\n        {\r\n            this.onUpdateTrack( [ track.trackIdx ] );\r\n        }\r\n    }\r\n\r\n    pasteKeyFrames( pasteTime: number = this.currentTime )\r\n    {\r\n        if( !this.clipboard.keyframes ) return false;\r\n\r\n        this.unHoverAll();\r\n        this.deselectAllKeyFrames();\r\n\r\n        let clipboardTracks = this.clipboard.keyframes;\r\n        let globalStart = Infinity;\r\n        for( let trackIdx in clipboardTracks ) {\r\n            if( globalStart > clipboardTracks[ trackIdx ].times[ 0 ] ) {\r\n                globalStart = clipboardTracks[ trackIdx ].times[ 0 ];\r\n            }\r\n        }\r\n\r\n        if( globalStart == Infinity ) return false;\r\n\r\n        // disable callback. It will be done once at the end\r\n        const onUpdateTrack = this.onUpdateTrack;\r\n        this.onUpdateTrack = null;\r\n\r\n        // disable history. It will be done with all changes combined into a single entry\r\n        const oldSaveEnabler = this.historySaveEnabler;\r\n        let trackCount: number = 0; // to detect when to create an entry or\r\n\r\n        for( let trackIdx in clipboardTracks )\r\n        {\r\n            const clipboardInfo = this.clipboard.keyframes[ trackIdx ];\r\n            const times = clipboardInfo.times;\r\n            const values = clipboardInfo.values;\r\n            const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n            if( track.locked )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            this.saveState( track.trackIdx, Boolean( trackCount++ ) );\r\n            this.historySaveEnabler = false;\r\n            this.addKeyFrames( track.trackIdx, values, times, -globalStart + pasteTime, KeyFramesTimeline.ADDKEY_VALUESINARRAYS  );\r\n            this.historySaveEnabler = oldSaveEnabler;\r\n        }\r\n\r\n        // do only one update\r\n        if( onUpdateTrack )\r\n        {\r\n            this.onUpdateTrack = onUpdateTrack;\r\n            this.onUpdateTrack( Object.keys( clipboardTracks ) );\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Int} trackIdx\r\n     * @param {Array} newValues array of values for each keyframe. It should be a flat array of size track.dim*numKeyframes. Check ADDKEY_VALUESINARRAYS flag\r\n     * @param {Array of numbers } newTimes must be ordered ascendently\r\n     * @param {Number} timeOffset\r\n     * @param {Int} flags\r\n     *      KeyFramesTimeline.ADDKEY_VALUESINARRAYS: if set, newValues is an array of arrays, one for each entry [ [1,2,3], [5,6,7] ]. Times is still a flat array of values [ 0, 0.2 ]\r\n\r\n     * @returns\r\n     */\r\n    addKeyFrames( trackIdx: number, newValues: any[], newTimes: number[], timeOffset: number = 0, flags: number = 0x00 )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n        if( !newTimes.length || track.locked ) return null;\r\n\r\n        const valueDim = track.dim;\r\n        const trackTimes = track.times;\r\n        const trackValues = track.values;\r\n        const times = new Float32Array( trackTimes.length + newTimes.length );\r\n        const values = new Float32Array( trackValues.length + newTimes.length * valueDim );\r\n\r\n        // let newIdx = this.getNearestKeyFrame( track, newTimes[ newTimes.length - 1 ], -1 );\r\n        this.saveState( trackIdx );\r\n\r\n        let newIdx = newTimes.length - 1;\r\n        let oldIdx = trackTimes.length - 1;\r\n        let resultIndices: number[] = [];\r\n\r\n        if( KeyFramesTimeline.ADDKEY_VALUESINARRAYS & flags )\r\n        {\r\n            for( let i: number = times.length - 1; i > -1; --i )\r\n            {\r\n                // copy new value in this place if needed\r\n                if( oldIdx<0 || ( newIdx>-1 && trackTimes[ oldIdx ] < ( newTimes[ newIdx ]+timeOffset )) ) {\r\n                    const vals : any = newValues[ newIdx ];\r\n                    for( let v = 0; v < valueDim; ++v )\r\n                    {\r\n                        values[ i * valueDim + v ] = vals[ v ];\r\n                    }\r\n                    times[ i ] = newTimes[ newIdx--] + timeOffset;\r\n                    // Add new entry into each control array\r\n                    track.hovered.splice( oldIdx+1, 0, false );\r\n                    track.selected.splice( oldIdx+1, 0, false );\r\n                    track.edited.splice( oldIdx+1, 0, true );\r\n\r\n                    resultIndices.push( i );\r\n                    continue;\r\n                }\r\n\r\n                // copy old values instead\r\n                for( let v = 0; v < valueDim; ++v )\r\n                {\r\n                    values[ i * valueDim + v ] = trackValues[ oldIdx * valueDim + v ];\r\n                }\r\n                times[ i ] = trackTimes[ oldIdx--];\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for( let i = times.length - 1; i > -1; --i )\r\n            {\r\n                // copy new value in this place if needed\r\n                if( oldIdx<0 || ( newIdx>-1 && trackTimes[ oldIdx ] < ( newTimes[ newIdx ] + timeOffset )) )\r\n                {\r\n                    // ----------- this is different from the 'if' -----------\r\n                    for( let v = 0; v < valueDim; ++v )\r\n                    {\r\n                        values[ i * valueDim + v ] = newValues[ newIdx * valueDim + v ];\r\n                    }\r\n                    times[ i ] = newTimes[ newIdx--] + timeOffset;\r\n                    // Add new entry into each control array\r\n                    track.hovered.splice( oldIdx+1, 0, false );\r\n                    track.selected.splice( oldIdx+1, 0, false );\r\n                    track.edited.splice( oldIdx+1, 0, true );\r\n\r\n                    resultIndices.push( i );\r\n                    continue;\r\n                }\r\n\r\n                // copy old values instead\r\n                for( let v = 0; v < valueDim; ++v )\r\n                {\r\n                    values[ i * valueDim + v ] = trackValues[ oldIdx * valueDim + v ];\r\n                }\r\n                times[ i ] = trackTimes[ oldIdx--];\r\n            }\r\n\r\n        }\r\n\r\n        // update track pointers\r\n        track.times = times;\r\n        track.values = values;\r\n\r\n        if( ( newTimes[ newTimes.length - 1 ] + timeOffset ) > this.duration )\r\n        {\r\n            this.setDuration( newTimes[ newTimes.length - 1 ] + timeOffset );\r\n        }\r\n\r\n        if( this.onUpdateTrack )\r\n        {\r\n            this.onUpdateTrack( [ trackIdx ] );\r\n        }\r\n\r\n        return resultIndices;\r\n    }\r\n\r\n    deleteSelectedContent( skipCallback = false )\r\n    {\r\n        //*********** WARNING: RELIES ON SORTED lastKeyFramesSelected ***********\r\n\r\n        if( !this.lastKeyFramesSelected.length ) return;\r\n\r\n        const tracks = this.animationClip.tracks;\r\n        const firstTrack = this.lastKeyFramesSelected[ 0 ][ 0 ];\r\n        let trackToRemove = firstTrack;\r\n        let toDelete: number[] = []; // indices to delete of the same track\r\n\r\n        const oldSaveEnabler = this.historySaveEnabler;\r\n\r\n        const numSelected = this.lastKeyFramesSelected.length;\r\n        for( let i = 0; i < numSelected; ++i )\r\n        {\r\n            const [ trackIdx, frameIdx ] = this.lastKeyFramesSelected[ i ];\r\n\r\n            if( tracks[ trackIdx ].locked )\r\n            {\r\n                tracks[ trackIdx ].selected[ frameIdx ] = false; // unselect\r\n                continue;\r\n            }\r\n\r\n            if( trackToRemove != trackIdx )\r\n            {\r\n                this.saveState( trackToRemove, trackToRemove != firstTrack );\r\n\r\n                this.historySaveEnabler = false;\r\n                this.deleteKeyFrames( trackToRemove, toDelete, skipCallback );\r\n                this.historySaveEnabler = oldSaveEnabler;\r\n\r\n                trackToRemove = trackIdx;\r\n                toDelete.length = 0;\r\n            }\r\n\r\n            toDelete.push( frameIdx );\r\n        }\r\n\r\n        this.saveState( trackToRemove, trackToRemove != firstTrack );\r\n        this.historySaveEnabler = false;\r\n        this.deleteKeyFrames( trackToRemove, toDelete, skipCallback );\r\n        this.historySaveEnabler = oldSaveEnabler;\r\n\r\n        this.lastKeyFramesSelected = [];\r\n    }\r\n\r\n    // for typed arrays. Does not update lastSelectedKeyframes\r\n    deleteKeyFrames( trackIdx: number, indices: number[], skipCallback: boolean = false )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n        if( !indices.length || track.locked )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.saveState( trackIdx );\r\n\r\n        const oldNumFrames = track.times.length;\r\n        const newNumFrames = track.times.length - indices.length;\r\n        const newTimes = track.times.slice( 0, newNumFrames );\r\n        const newValues = track.values.slice( 0, newNumFrames * track.dim );\r\n\r\n        let resultIdx = indices[ 0 ];\r\n        let resultValIdx = indices[ 0 ] * track.dim;\r\n\r\n        for( let i = 0; i < indices.length; ++i )\r\n        {\r\n            track.edited.splice(resultIdx, 1 );\r\n            track.selected.splice(resultIdx, 1 );\r\n            track.hovered.splice(resultIdx, 1 );\r\n\r\n            const idx = indices[ i ];\r\n            const endIdx = ( i < ( indices.length - 1 )) ? indices[ i+1 ] : oldNumFrames;\r\n            const endValIdx = endIdx * track.dim;\r\n            for( let v = ( idx+1 )*track.dim; v < endValIdx; ++v )\r\n            {\r\n                newValues[resultValIdx++] = track.values[ v ];\r\n            }\r\n            for( let f = idx+1; f < endIdx; ++f )\r\n            {\r\n                newTimes[resultIdx++] = track.times[ f ];\r\n            }\r\n        }\r\n\r\n        track.times = newTimes;\r\n        track.values = newValues;\r\n\r\n        // Update animation action interpolation info\r\n        if( this.onDeleteKeyFrames && !skipCallback )\r\n            this.onDeleteKeyFrames( trackIdx, indices );\r\n\r\n        if( ( newTimes[ newTimes.length - 1 ] ) > this.duration )\r\n        {\r\n            this.setDuration( newTimes[ newTimes.length - 1 ] );\r\n        }\r\n\r\n        // if( this.onUpdateTrack )\r\n        //     this.onUpdateTrack( [ trackIdx ] );\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Binary search. Relies on track.times being a sorted array\r\n     * @param {Object} track\r\n     * @param {Number} time\r\n     * @param {Number} mode on of the possible values\r\n     *  - -1 = nearest frame with t[ f ] <= time\r\n     *  - 0 = nearest frame\r\n     *  - 1 = nearest frame with t[ f ] >= time\r\n     * @returns a zero/positive value if successful. On failure returnes -1 meaning either there are no frames ( 0 ), no frame-time is lower ( -1 ) or no frame-time is higher (1 )\r\n     */\r\n    getNearestKeyFrame( track: any, time: number, mode: number = 0 )\r\n    {\r\n        if( !track || !track.times || !track.times.length )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        //binary search\r\n        const times = track.times;\r\n        let min = 0, max = times.length - 1;\r\n\r\n        // edge cases\r\n        if( times[ min] > time )\r\n        {\r\n            return mode == -1 ? -1 : 0;\r\n        }\r\n        if( times[ max ] < time )\r\n        {\r\n            return mode == 1 ? -1 : max;\r\n        }\r\n\r\n        // time is between first and last frame\r\n        let half = Math.floor( ( min + max ) / 2 );\r\n        while ( min < half && half < max )\r\n        {\r\n            if( time < times[half] ) { max = half; }\r\n            else { min = half; }\r\n            half = Math.floor( ( min + max ) / 2 );\r\n        }\r\n\r\n        if( mode == 0 ) {\r\n            return Math.abs( time - times[ min] ) < Math.abs( time - times[ max ] ) ? min : max;\r\n        }\r\n        else if( mode == -1 ) {\r\n            return times[ max ] == time ? max : min;\r\n        }\r\n        return times[ min] == time ? min : max;\r\n    }\r\n\r\n    /**\r\n     * get the nearest keyframe to \"time\" given a maximum threshold.\r\n     * @param {Object} track\r\n     * @param {Number} time\r\n     * @param {Number} threshold must be positive value\r\n     * @returns returns a postive/zero value if there is a frame inside the threshold range. Otherwise, -1\r\n     */\r\n    getCurrentKeyFrame( track: any, time: number, threshold: number = 0.0 )\r\n    {\r\n        if( !track || !track.times.length )\r\n            return -1;\r\n\r\n        let frame = this.getNearestKeyFrame( track, time );\r\n        if( frame > -1 )\r\n        {\r\n            frame = Math.abs( track.times[ frame ] - time ) > threshold ? -1 : frame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    /**\r\n     * Returns the interval of frames between minTime and maxTime (both included )\r\n     * @param {Object} track\r\n     * @param {Number} minTime\r\n     * @param {Number} maxTime\r\n     * @param {Number} threshold must be positive value\r\n     * @returns an array with two values [ minFrame, maxFrame ]. Otherwise null\r\n     */\r\n    getKeyFramesInRange( track: any, minTime: number, maxTime: number, threshold: number = 0.0 )\r\n    {\r\n        if( !track || !track.times.length ) return null;\r\n\r\n        // Manage negative selection\r\n        if( minTime > maxTime )\r\n        {\r\n            let aux = minTime;\r\n            minTime = maxTime;\r\n            maxTime = aux;\r\n        }\r\n\r\n        const minFrame = this.getNearestKeyFrame( track, minTime - threshold, 1 );\r\n        const maxFrame = this.getNearestKeyFrame( track, maxTime + threshold, -1 );\r\n\r\n        if( maxFrame == -1 || minFrame == -1 ) return null;\r\n\r\n        return [ minFrame, maxFrame ];\r\n    }\r\n\r\n    unHoverAll()\r\n    {\r\n        if( this.lastHovered )\r\n        {\r\n            this.animationClip.tracks[ this.lastHovered[ 0 ] ].hovered[ this.lastHovered[ 1 ] ] = false;\r\n        }\r\n\r\n        let h = this.lastHovered;\r\n        this.lastHovered = null;\r\n        return h;\r\n    }\r\n\r\n    deselectAllKeyFrames()\r\n    {\r\n        for( let [ trackIdx, keyIndex ] of this.lastKeyFramesSelected )\r\n        {\r\n            this.animationClip.tracks[ trackIdx ].selected[ keyIndex ] = false;\r\n        }\r\n\r\n        // Something has been deselected\r\n        const deselected = this.lastKeyFramesSelected.length > 0;\r\n        this.lastKeyFramesSelected.length = 0;\r\n        return deselected;\r\n    }\r\n\r\n    isKeyFrameSelected( track: any, index: number )\r\n    {\r\n        return track.selected[ index ];\r\n    }\r\n\r\n    /**\r\n     * @param {Int} trackIdx track index of animation clip\r\n     * @param {Int} frameIdx frame ( index ) to select inside the track\r\n     * @param {Boolean} skipCallback\r\n     * @returns\r\n     */\r\n    selectKeyFrame( trackIdx: number, frameIdx: number, skipCallback: boolean = false )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        if( track.locked || !track.active || track.selected[ frameIdx ] )\r\n            return null;\r\n\r\n        // [ track idx, keyframe, keyframe time ]\r\n        const selection = [ track.trackIdx, frameIdx, track.times[ frameIdx ]];\r\n\r\n        // sort lastkeyframeselected ascending order ( track and frame )\r\n        let i = 0;\r\n        for( ; i < this.lastKeyFramesSelected.length; ++i )  {\r\n            let s = this.lastKeyFramesSelected[ i ];\r\n            if( s[ 0 ] > trackIdx || ( s[ 0 ] == trackIdx && s[ 1 ] > frameIdx )) {\r\n                break;\r\n            }\r\n        }\r\n        this.lastKeyFramesSelected.splice( i, 0, selection );\r\n        track.selected[ frameIdx ] = true;\r\n\r\n        if( this.onSelectKeyFrame && !skipCallback )\r\n        {\r\n            this.onSelectKeyFrame( selection );\r\n        }\r\n\r\n        return selection;\r\n    }\r\n\r\n    deselectKeyFrame( trackIdx: number, frameIdx: number )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        if( track.locked || !track.active || !track.selected[ frameIdx ] )\r\n            return false;\r\n\r\n        track.selected[ frameIdx ] = false;\r\n\r\n        for( let i = 0; i < this.lastKeyFramesSelected.length; ++i )\r\n        {\r\n            const sk = this.lastKeyFramesSelected[ i ];\r\n            if( sk[ 0 ] === trackIdx && sk[ 1 ] === frameIdx )\r\n            {\r\n                this.lastKeyFramesSelected.splice( i, 1 );\r\n                break;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getNumKeyFramesSelected()\r\n    {\r\n        return this.lastKeyFramesSelected.length;\r\n    }\r\n\r\n    /**\r\n     * helper function to process a selection with multiple keyframes. Sets the time of the timeline to the first selected keyframe\r\n     * @param {Number} trackIdx\r\n     * @param {Number} keyFrameIndex\r\n     * @param {Boolean} multipleSelection whether to append to selection or reset it and make this keyframe the only current selection\r\n     * @returns\r\n     */\r\n    processSelectionKeyFrame( trackIdx: number, keyFrameIndex: number, multipleSelection: boolean = false )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        if( track.locked )\r\n            return;\r\n\r\n        if( !multipleSelection )\r\n        {\r\n            this.deselectAllKeyFrames();\r\n        }\r\n\r\n        this.selectKeyFrame( trackIdx, keyFrameIndex );\r\n\r\n        if( !multipleSelection )\r\n        {\r\n            this.setTime( track.times[ keyFrameIndex ] );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @method clearTrack\r\n     */\r\n    clearTrack( trackIdx: number )\r\n    {\r\n        const track =  this.animationClip.tracks[ trackIdx ];\r\n\r\n        this.unHoverAll();\r\n        this.deselectAllKeyFrames();\r\n\r\n        if( track.locked )\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.saveState( track.trackIdx );\r\n\r\n        track.times = track.times.slice( 0, 0 );\r\n        track.values = track.values.slice( 0, 0 );\r\n        track.edited.length = 0;\r\n        track.hovered.length = 0;\r\n        track.selected.length = 0;\r\n\r\n        return trackIdx;\r\n    }\r\n}\r\n\r\nLX.KeyFramesTimeline = KeyFramesTimeline;\r\n/**\r\n * @class ClipsTimeline\r\n */\r\n\r\nexport class ClipsTimeline extends Timeline\r\n{\r\n    static CLONEREASON_COPY = 1;\r\n    static CLONEREASON_PASTE = 2;\r\n    static CLONEREASON_HISTORY = 3;\r\n    static CLONEREASON_TRACKCLONE = 4;\r\n\r\n    lastClipsSelected: any = [];\r\n    lastTrackClipsMove: number = 0; // vertical movement of clips, onMouseMove onMousedown\r\n    dragClipMode: Nullable< string > = \"\";\r\n    lastHovered: Nullable< [ number, number] > = null;\r\n\r\n    onSelectClip: Nullable< ( clip: Nullable<any>) => void > = null;\r\n    onContentMoved: Nullable< ( clip: Nullable<any>, delta: number ) => void > = null;\r\n    onDeleteSelectedClips: Nullable< ( selected: any[] ) => void > = null;\r\n    onDeleteClip: Nullable< ( trackIdx: number, clipIdx: number, clip: any ) => void > = null;\r\n\r\n    /**\r\n     * @param {String} name\r\n     * @param {Object} options = {animationClip, selectedItems, x, y, width, height, canvas, trackHeight}\r\n     */\r\n    constructor( name: string, options: any = {} )\r\n    {\r\n        super( name, options );\r\n\r\n        this.lastClipsSelected = [];\r\n        this.lastTrackClipsMove = 0; // vertical movement of clips, onMouseMove onMousedown\r\n        this.dragClipMode = \"\";\r\n\r\n        this.setAnimationClip( this.animationClip );\r\n\r\n        this.onDblClick = ( e: any ) => {\r\n            const track = e.track;\r\n            const localX = e.localX;\r\n\r\n            if( track ) {\r\n                const clipIdx = this.getClipOnTime( track, this.xToTime( localX ), 0.001 );\r\n                this.selectClip( track.trackIdx, clipIdx ); // deselect and try to select clip in localX, if any\r\n            }\r\n        }\r\n\r\n        this.onShowContextMenu = ( e: any ) => {\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let actions: any[] = [];\r\n            if( this.lastClipsSelected.length )\r\n            {\r\n                actions.push(\r\n                    {\r\n                        title: \"Copy\",\r\n                        callback: () => { this.copySelectedContent();}\r\n                    }\r\n                )\r\n                actions.push(\r\n                    {\r\n                        title: \"Delete\",\r\n                        callback: () => {\r\n                            this.deleteSelectedContent();\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n            else\r\n            {\r\n                if( this.clipboard )\r\n                {\r\n                    actions.push(\r\n                        {\r\n                            title: \"Paste\",\r\n                            callback: () => {\r\n                                this.pasteContent();\r\n                            }\r\n                        }\r\n                    );\r\n                    actions.push(\r\n                        {\r\n                            title: \"Paste Here\",\r\n                            callback: () => {\r\n                                this.pasteContent( this.xToTime( e.localX ) );\r\n                            }\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n\r\n            LX.addContextMenu(\"Options\", e, ( m: any ) => {\r\n                for( let i = 0; i < actions.length; i++ )  {\r\n                    m.add( actions[ i ].title,  actions[ i ].callback )\r\n                }\r\n            } );\r\n\r\n        } // end of onShowContextMenu\r\n    }\r\n\r\n    /**\r\n     * Generates an animationClip using either the parameters set in the animation argument or using default values\r\n     * @param {Object} animation data with which to generate an animationClip\r\n     * @returns\r\n     */\r\n    instantiateAnimationClip( animation: any, clone: boolean = false )\r\n    {\r\n        const animationClip = super.instantiateAnimationClip( animation );\r\n\r\n        if( animation && animation.tracks )\r\n        {\r\n            for( let i = 0; i < animation.tracks.length; ++i )\r\n            {\r\n                const trackInfo: any = this.instantiateTrack( animation.tracks[ i ], clone );\r\n                trackInfo.trackIdx = animationClip.tracks.length;\r\n                animationClip.tracks.push( trackInfo );\r\n            }\r\n        }\r\n\r\n        return animationClip;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Object} options set some values for the track instance ( groups and trackIdx not included )\r\n     * @returns\r\n    */\r\n    instantiateTrack( options: any = {}, clone: boolean = false )\r\n    {\r\n        const track: any = super.instantiateTrack( options );\r\n\r\n        track.trackIdx = this.animationClip.tracks.length;\r\n\r\n        track.selected = [];\r\n        track.edited = [];\r\n        track.hovered = [];\r\n\r\n        if( options.clips )\r\n        {\r\n            track.clips = clone ? this.cloneClips( options.clips, 0, ClipsTimeline.CLONEREASON_TRACKCLONE ) : options.clips;\r\n        }\r\n        else\r\n        {\r\n            track.clips = [];\r\n        }\r\n\r\n        const numClips = track.clips.length;\r\n\r\n        if( options.selected && options.selected.length == numClips )\r\n        {\r\n            track.selected = clone ? options.selected.slice() : options.selected;\r\n        }\r\n        else\r\n        {\r\n            track.selected = ( new Array( numClips )).fill( false );\r\n        }\r\n\r\n        if( options.edited && options.edited.length == numClips )\r\n        {\r\n            track.edited = clone ? options.edited.slice() : options.edited;\r\n        }\r\n        else\r\n        {\r\n            track.edited = ( new Array( numClips )).fill( false );\r\n        }\r\n\r\n        if( options.hovered && options.hovered.length == numClips )\r\n        {\r\n            track.hovered = clone ? options.hovered.slice() : options.hovered;\r\n        }\r\n        else\r\n        {\r\n            track.hovered = ( new Array( numClips )).fill( false );\r\n        }\r\n\r\n        // sanity check. Also done in addClip\r\n        for( let i = 0; i < track.clips.length; ++i ) {\r\n            track.clips[ i ].active = track.clips[ i ].active ?? true;\r\n        }\r\n        return track;\r\n    }\r\n\r\n    // provides an base example of a proper clip\r\n    instantiateClip( options: any = {} )\r\n    {\r\n        return {\r\n            id: options.id ?? ( options.name ?? \"clip\"),\r\n\r\n            start: options.start ?? 0,\r\n            duration: options.duration ?? 1,\r\n            fadein: options.fadein ?? undefined,\r\n            fadeout: options.fadeout ?? undefined,\r\n\r\n            clipColor: options.clipColor ?? LX.getThemeColor(\"global-color-accent\"),\r\n            fadeColor: options.fadeColor ?? null,\r\n            active: options.active ?? true,\r\n            trackIdx: -1, // filled by addClip\r\n        }\r\n\r\n    }\r\n    // use default updateleftpanel\r\n    // generateSelectedItemsTreeData() {}\r\n\r\n    addNewTrack( options: any = {}, updateLeftPanel: boolean = true, skipCallback: boolean = false )\r\n    {\r\n        const trackInfo = this.instantiateTrack( options ?? {} );\r\n        trackInfo.trackIdx = this.animationClip.tracks.length;\r\n        this.animationClip.tracks.push( trackInfo );\r\n\r\n        if( this.onAddNewTrack && !skipCallback )\r\n        {\r\n            this.onAddNewTrack( trackInfo, options );\r\n        }\r\n\r\n        this.selectedItems.push( trackInfo );\r\n        if( updateLeftPanel )\r\n        {\r\n            this.updateLeftPanel();\r\n        }\r\n\r\n        return trackInfo.trackIdx;\r\n    }\r\n\r\n    // OVERRIDE ITEM SELECTION - ClipsTimeline will not offer any selection. Alltracks are visible\r\n    setAnimationClip( animation: any, needsToProcess: boolean = true  )\r\n    {\r\n        super.setAnimationClip( animation, needsToProcess );\r\n        this.changeSelectedItems();\r\n        return this.animationClip;\r\n    }\r\n\r\n    // OVERRIDE\r\n    deselectAllElements()\r\n    {\r\n        this.deselectAllClips();\r\n        this.unHoverAll();\r\n    }\r\n\r\n    /**\r\n     * OVERRIDE ITEM SELECTION.\r\n     * CLIPS WILL OFFER NO SELECTION. All tracks are visible\r\n     */\r\n    changeSelectedItems()\r\n    {\r\n        this.deselectAllElements();\r\n        this.deselectAllTracks( false ); // no need to update left\r\n\r\n        this.selectedItems = this.animationClip.tracks.slice();\r\n\r\n        this.updateLeftPanel();\r\n    }\r\n\r\n    unHoverAll()\r\n    {\r\n        if( this.lastHovered )\r\n        {\r\n            this.animationClip.tracks[ this.lastHovered[ 0 ] ].hovered[ this.lastHovered[ 1 ] ] = false;\r\n        }\r\n\r\n        let h = this.lastHovered;\r\n        this.lastHovered = null;\r\n        return h;\r\n    }\r\n\r\n    onMouseUp( e: any )\r\n    {\r\n        let track = e.track;\r\n        let localX = e.localX;\r\n        let discard = e.discard; // true when too much time has passed between Down and Up\r\n\r\n        if( e.shiftKey )\r\n        {\r\n            // Manual Multiple selection\r\n            if( !discard ) {\r\n                if( track ) {\r\n                    let clipIndex = this.getClipOnTime( track, this.xToTime( localX ), this.secondsPerPixel * 5 );\r\n                    if( clipIndex > -1 ) {\r\n                        track.selected[ clipIndex ] ?\r\n                            this.deselectClip( track.trackIdx, clipIndex ) :\r\n                            this.selectClip( track.trackIdx, clipIndex, false );\r\n                    }\r\n                }\r\n            }\r\n            // Box selection\r\n            else if( this.boxSelection )\r\n            {\r\n                let tracks = this.getTracksInRange( this.boxSelectionStart[ 1 ], this.boxSelectionEnd[ 1 ] );\r\n\r\n                for( let t of tracks ) {\r\n                    let clipsIndices = this.getClipsInRange( t,\r\n                        this.xToTime( this.boxSelectionStart[ 0 ] ),\r\n                        this.xToTime( this.boxSelectionEnd[ 0 ] ),\r\n                        0.000001 );\r\n\r\n                    if( clipsIndices ) {\r\n                        for( let index of clipsIndices )\r\n                            this.selectClip( t.trackIdx, index, false );\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        else\r\n        {\r\n            let boundingBox = this.canvas.getBoundingClientRect()\r\n            if( e.y < boundingBox.top || e.y > boundingBox.bottom )\r\n                return;\r\n\r\n            // Check exact track clip\r\n            if( !discard && track )\r\n            {\r\n                if( e.button != 2 )\r\n                {\r\n                    const clipIdx = this.getClipOnTime( track, this.xToTime( localX ), 0.001 );\r\n                    this.selectClip( track.trackIdx, clipIdx );\r\n                }\r\n            }\r\n        }\r\n\r\n        this.movingKeys = false;\r\n    }\r\n\r\n    onMouseDown( e: any, time: number )\r\n    {\r\n        // function not called if shift is pressed (boxselection )\r\n        let localX = e.localX;\r\n        let localY = e.localY;\r\n        let track = e.track;\r\n\r\n        if( e.button > 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        if( e.ctrlKey && track ) // move clips\r\n        {\r\n            let x = e.offsetX;\r\n            // clip selection is done on MouseUP\r\n            const selectedClips = this.lastClipsSelected;\r\n\r\n            this.canvas.style.cursor = \"grab\";\r\n            let curTrackIdx = -1;\r\n\r\n            this.lastTrackClipsMove = Math.floor( ( e.localY - this.topMargin + this.trackTreesPanel.root.scrollTop ) / this.trackHeight );\r\n\r\n            for( let i = 0; i < selectedClips.length; i++ )\r\n            {\r\n                let [ trackIndex, clipIndex ] = selectedClips[ i ];\r\n                const clip = this.animationClip.tracks[ trackIndex ].clips[ clipIndex ];\r\n\r\n                let endingX = this.timeToX( clip.start + clip.duration );\r\n\r\n                if( Math.abs( endingX - x ) < 5 ) {\r\n                    this.dragClipMode = \"duration\";\r\n                    this.canvas.style.cursor = \"column-resize\";\r\n                }\r\n                else {\r\n                    this.dragClipMode = \"move\";\r\n                }\r\n\r\n                //*********** WARNING: RELIES ON SORTED lastClipsSelected ***********\r\n                if( curTrackIdx != trackIndex )\r\n                {\r\n                    this.saveState( trackIndex, curTrackIdx != -1 );\r\n                    curTrackIdx = trackIndex;\r\n                }\r\n            }\r\n\r\n            this.movingKeys = true;\r\n        }\r\n        else if( !track || track && this.getClipOnTime( track, time, 0.001 ) == -1 ) // clicked on empty space\r\n        {\r\n            if( this.lastClipsSelected.length )\r\n            {\r\n                this.deselectAllClips();\r\n\r\n                if( this.onSelectClip )\r\n                {\r\n                    this.onSelectClip( null );\r\n                }\r\n            }\r\n        }\r\n        else if( track && ( this.dragClipMode == \"duration\" || this.dragClipMode == \"fadein\" || this.dragClipMode == \"fadeout\" )) // clicked while mouse was over fadeIn, fadeOut, duration\r\n        {\r\n            const clipIdx = this.getClipOnTime( track, this.xToTime( localX ), 0.001 );\r\n            this.selectClip( track.trackIdx, clipIdx ); // select current clip if any ( deselect others )\r\n            if( this.lastClipsSelected.length )\r\n            {\r\n                this.saveState( track.trackIdx );\r\n            }\r\n            this.movingKeys = true;\r\n        }\r\n    }\r\n\r\n    onMouseMove( e: any, time: number )\r\n    {\r\n        // function not called if shift is pressed (boxselection )\r\n\r\n        if( this.grabbingTimeBar || this.grabbingScroll )\r\n        {\r\n            return;\r\n        }\r\n        else if( this.grabbing && e.buttons != 2 )\r\n        {\r\n            this.unHoverAll();\r\n\r\n            let delta = time - this.grabTime;\r\n            this.grabTime = time;\r\n            if( time < 0 && delta > 0 ) { delta = 0; }\r\n\r\n            if( this.dragClipMode != \"move\" && this.lastClipsSelected.length == 1 ) // change fade and duration of clips\r\n            {\r\n                const track = this.animationClip.tracks[ this.lastClipsSelected[ 0 ][ 0 ]];\r\n                let clip = track.clips[ this.lastClipsSelected[ 0 ][ 1 ]];\r\n                if( this.dragClipMode == \"fadein\" )\r\n                {\r\n                    clip.fadein = Math.min( Math.max( clip.fadein + delta, clip.start ), clip.fadeout ?? ( clip.start+clip.duration ) );\r\n                }\r\n                else if( this.dragClipMode == \"fadeout\" )\r\n                {\r\n                    clip.fadeout = Math.max( Math.min( clip.fadeout + delta, clip.start+clip.duration ), clip.fadein ?? clip.start );\r\n                }\r\n                else if( this.dragClipMode == \"duration\" )\r\n                {\r\n                    let duration = Math.max( 0, clip.duration + delta );\r\n                    if( this.lastClipsSelected[ 0 ][ 1 ] < track.clips.length - 1 ) // max next clip's start\r\n                    {\r\n                        duration = Math.min( track.clips[ this.lastClipsSelected[ 0 ][ 1 ] + 1 ].start - clip.start - 0.0001, duration );\r\n                    }\r\n                    clip.duration = duration;\r\n                    if( clip.fadeout != undefined ) clip.fadeout = Math.max( Math.min( ( clip.fadeout ?? ( clip.start+clip.duration )) + delta, clip.start+clip.duration ), clip.start );\r\n                    if( clip.fadein != undefined ) clip.fadein = Math.max( Math.min( ( clip.fadein ?? ( clip.start+clip.duration )), ( clip.fadeout ?? ( clip.start+clip.duration ))), clip.start );\r\n                    if( this.duration < clip.start + clip.duration ) this.setDuration( clip.start + clip.duration );\r\n                }\r\n\r\n                if( this.onContentMoved ) { // content changed\r\n                    this.onContentMoved( clip, 0 );\r\n                }\r\n            }\r\n            else if( this.dragClipMode == \"move\" && this.lastClipsSelected.length ) // move clips\r\n            {\r\n                //*********** WARNING: RELIES ON SORTED lastClipsSelected ***********\r\n\r\n                const treeOffset = this.lastTrackTreesComponentOffset;\r\n                let newTrackClipsMove = Math.floor( ( e.localY - treeOffset ) / this.trackHeight );\r\n\r\n                // move clips vertically\r\n                if( e.altKey )\r\n                {\r\n                    let deltaTracks = newTrackClipsMove - this.lastTrackClipsMove;\r\n\r\n                    if( this.lastClipsSelected[ 0 ][ 0 ] + deltaTracks < 0 )\r\n                    {\r\n                        deltaTracks = -this.lastClipsSelected[ 0 ][ 0 ];\r\n                    }\r\n\r\n                    // if no movement of tracks, do not check\r\n                    if( deltaTracks != 0 )\r\n                    {\r\n                        // check if ALL selected clips can move track\r\n                        for( let i = 0; i < this.lastClipsSelected.length; ++i )\r\n                        {\r\n                            const track = this.animationClip.tracks[ this.lastClipsSelected[ i ][ 0 ] ];\r\n                            const newTrack = this.animationClip.tracks[ this.lastClipsSelected[ i ][ 0 ] + deltaTracks ];\r\n                            const clip = track.clips[ this.lastClipsSelected[ i ][ 1 ] ];\r\n\r\n                            const clipsInRange = this.getClipsInRange( newTrack, clip.start, clip.start+clip.duration, 0.0001 )\r\n                            if( !clipsInRange )\r\n                            {\r\n                                continue;\r\n                            }\r\n\r\n                            for( let c = 0; c < clipsInRange.length; ++c )\r\n                            {\r\n                                if( !newTrack.selected[ clipsInRange[ c ]] )\r\n                                {\r\n                                    // at least one clip cannot move, abort\r\n                                    c = clipsInRange.length;\r\n                                    i = this.lastClipsSelected.length;\r\n                                    deltaTracks = 0;\r\n                                    newTrackClipsMove = this.lastTrackClipsMove;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // if movement was not canceled\r\n                        if( deltaTracks != 0 ) {\r\n                            let oldStateEnabler = this.historySaveEnabler;\r\n                            this.historySaveEnabler = false;\r\n\r\n                            const selectedClips = this.lastClipsSelected;\r\n                            this.lastClipsSelected = []; // avoid delete and addclips index reassignment loop ( not necessary because of order of operations in for )\r\n\r\n                            for( let i = selectedClips[ selectedClips.length - 1 ][ 0 ] + deltaTracks - this.animationClip.tracks.length + 1; i > 0; --i ) {\r\n                                this.addNewTrack( null, i == 1 );\r\n                                if( i == 1 ) {\r\n                                    this.updateLeftPanel();\r\n                                }\r\n                            }\r\n\r\n                            // selected clips MUST be ordered ( ascendently )\r\n                            let startSel = deltaTracks > 0 ? selectedClips.length - 1 : 0;\r\n                            let endSel = startSel;\r\n                            let currTrack = selectedClips[ startSel][ 0 ];\r\n\r\n                            // i <= length; to update last track. Otherwise a check outside of for would be needed\r\n                            for( let i = 1; i <= selectedClips.length; ++i )\r\n                            {\r\n\r\n                                let idx = deltaTracks > 0 ? ( selectedClips.length -1 - i ) : i;\r\n                                if( i == selectedClips.length || selectedClips[ idx ][ 0 ] != currTrack )\r\n                                {\r\n\r\n                                    const newTrackIdx = currTrack + deltaTracks;\r\n                                    const newTrack = this.animationClip.tracks[ newTrackIdx ];\r\n                                    const track = this.animationClip.tracks[ currTrack ];\r\n\r\n                                    // save track state if necessary\r\n                                    const undoState = this.historyUndo[ this.historyUndo.length - 1 ];\r\n                                    let state = 0;\r\n                                    for( ; state < undoState.length; ++state )\r\n                                    {\r\n                                        if( newTrackIdx == undoState[ state ].trackIdx ) { break; }\r\n                                    }\r\n\r\n                                    if( state == undoState.length )\r\n                                    {\r\n                                        this.historySaveEnabler = true;\r\n                                        this.saveState( newTrackIdx, true );\r\n                                        this.historySaveEnabler = false;\r\n                                    }\r\n\r\n                                    // add clips of a track, from first to last\r\n                                    for( let c = startSel; c <= endSel; ++c )\r\n                                    {\r\n                                        let newClipIdx = this.addClip( track.clips[ selectedClips[ c ][ 1 ] ], newTrackIdx, 0 );\r\n                                        selectedClips[ c ][ 0 ] = newClipIdx; // temporarily store new clip index in trackIndex (HACK START )\r\n                                        newTrack.selected[ newClipIdx ] = true;\r\n                                    }\r\n\r\n                                    // delete clips of a track, from last to first\r\n                                    for( let c = endSel; c >=startSel ; --c )\r\n                                    {\r\n                                        this.#delete( currTrack, selectedClips[ c ][ 1 ] );\r\n                                        selectedClips[ c ][ 1 ] = selectedClips[ c ][ 0 ]; // put new clip index (HACK )\r\n                                        selectedClips[ c ][ 0 ] = newTrackIdx; // put new track index (HACK FIX )\r\n                                    }\r\n\r\n                                    currTrack = i < selectedClips.length ? selectedClips[ idx ][ 0 ] : -1;\r\n                                    startSel = idx;\r\n                                    endSel = idx;\r\n                                    continue;\r\n                                }\r\n\r\n                                deltaTracks > 0 ? startSel = idx : endSel = idx;\r\n                            }\r\n\r\n                            this.lastClipsSelected = selectedClips;\r\n                            this.historySaveEnabler = oldStateEnabler;\r\n                        }\r\n                    }\r\n                }\r\n                this.lastTrackClipsMove = newTrackClipsMove;\r\n\r\n                // move clips horizontally\r\n\r\n                let leastDelta = delta;\r\n                let moveAccepted = true;\r\n\r\n                // find if all clips can move and/or how much they can move\r\n                for( let i = 0; i < this.lastClipsSelected.length; ++i )\r\n                {\r\n                    let trackIdx = this.lastClipsSelected[ i ][ 0 ];\r\n                    let clipIdx = this.lastClipsSelected[ i ][ 1 ];\r\n                    const track = this.animationClip.tracks[ trackIdx ];\r\n                    const trackClips = track.clips;\r\n                    const clip = track.clips[ clipIdx ];\r\n\r\n                    if( delta >= 0 )\r\n                    {\r\n                        if( trackClips.length - 1 == clipIdx ) { continue; } // all alowed\r\n                        if( !track.selected[ clipIdx+1 ] ) { // if next is selected, force AllOrNothing and let next clip manage the leastDelta\r\n                            if( trackClips[ clipIdx + 1 ].start >= ( clip.start+clip.duration+delta ) ) { continue; } //has not reached next clip. Enough space. All allowed\r\n                            const nextClip = trackClips[ clipIdx + 1 ];\r\n                            leastDelta = Math.max( 0, Math.min( leastDelta,  nextClip.start - clip.start - clip.duration ) );\r\n                        }\r\n                    }\r\n                    else if( delta < 0 ) {\r\n                        if( clipIdx > 0 && ( trackClips[ clipIdx - 1 ].start + trackClips[ clipIdx - 1 ].duration ) <= ( clip.start+delta ) ) { continue; } // has not reached previous clip. Enough space\r\n                        if( clipIdx > 0 ) {\r\n                            const prevClip = trackClips[ clipIdx - 1 ];\r\n                            leastDelta = Math.min( 0, Math.max( leastDelta,  prevClip.start + prevClip.duration - clip.start ) ); // delta is a negative value, that is why the leastDelta is the max\r\n                        }\r\n                        if( clip.start + delta < 0 ) {\r\n                            leastDelta = Math.max( leastDelta, -clip.start );\r\n                            moveAccepted = false; // force it to be a leastDelta move only. No jumps\r\n                        }\r\n                    }\r\n\r\n                    if( !moveAccepted ) continue;\r\n                    let clipsInRange = this.getClipsInRange( track, clip.start + delta, clip.start + clip.duration + delta, 0.01 );\r\n                    if( clipsInRange && ( clipsInRange[ 0 ] != clipIdx || clipsInRange[ clipsInRange.length - 1 ] != clipIdx ))\r\n                    {\r\n                        for( let c = 0; c < clipsInRange.length; ++c )\r\n                        {\r\n                            if( !track.selected[ clipsInRange[ c ]] ) { moveAccepted = false; break; }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // if moveAccepted -> use full delta\r\n                // if !moveAccepted -> use leastDelta\r\n                if( moveAccepted ) { leastDelta = delta; }\r\n                this.grabTime = time - delta + leastDelta;\r\n\r\n                //*********** WARNING: RELIES ON SORTED lastClipsSelected ***********\r\n                // move all selected clips using the computed delta.\r\n                for( let i = 0; i < this.lastClipsSelected.length; ++i )\r\n                {\r\n                    const lcs = this.lastClipsSelected[ delta > 0 ? ( this.lastClipsSelected.length - 1 - i ) : i]; //delta > 0, move last-to-first; delta < 0, move first-to-last\r\n                    const track = this.animationClip.tracks[lcs[ 0 ]];\r\n                    const trackClips = track.clips;\r\n                    let clipIdx = lcs[ 1 ];\r\n                    const clip = track.clips[ clipIdx ];\r\n                    clip.start += leastDelta;\r\n                    if( clip.fadein != undefined ) { clip.fadein += leastDelta; }\r\n                    if( clip.fadeout != undefined ) { clip.fadeout += leastDelta; }\r\n\r\n                    // prepare swap\r\n                    const editedFlag = track.edited[ clipIdx ];\r\n                    const selectedFlag = track.selected[ clipIdx ];\r\n                    const hoveredFlag = track.hovered[ clipIdx ];\r\n\r\n                    // move other clips\r\n                    if( delta > 0 )\r\n                    {\r\n                        while( clipIdx < trackClips.length - 1 )\r\n                        {\r\n                            if( trackClips[ clipIdx+1 ].start >= clip.start ) {\r\n                                break;\r\n                            }\r\n                            trackClips[ clipIdx ] = trackClips[ clipIdx+1 ];\r\n                            track.selected[ clipIdx ] = track.selected[ clipIdx+1 ];\r\n                            track.edited[ clipIdx ] = track.edited[ clipIdx+1 ];\r\n                            track.hovered[ clipIdx ] = track.hovered[ clipIdx+1 ];\r\n                            clipIdx++;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        while( clipIdx > 0 )\r\n                        {\r\n                            if( trackClips[ clipIdx-1 ].start <= clip.start )\r\n                            {\r\n                                break;\r\n                            }\r\n\r\n                            trackClips[ clipIdx ] = trackClips[ clipIdx-1 ];\r\n                            track.selected[ clipIdx ] = track.selected[ clipIdx-1 ];\r\n                            track.edited[ clipIdx ] = track.edited[ clipIdx-1 ];\r\n                            track.hovered[ clipIdx ] = track.hovered[ clipIdx-1 ];\r\n                            clipIdx--;\r\n                        }\r\n                    }\r\n                    // commit swap\r\n                    trackClips[ clipIdx ] = clip;\r\n                    track.edited[ clipIdx ] = editedFlag;\r\n                    track.selected[ clipIdx ] = selectedFlag;\r\n                    track.hovered[ clipIdx ] = hoveredFlag;\r\n\r\n                    // update selected clip index\r\n                    lcs[ 1 ] = clipIdx;\r\n\r\n                    if( clip.start + clip.duration > this.duration )\r\n                    {\r\n                        this.setDuration( clip.start + clip.duration );\r\n                    }\r\n\r\n                    if( this.onContentMoved )\r\n                    {\r\n                        this.onContentMoved( clip, leastDelta );\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n        else if( e.track && e.buttons == 0 ) // mouse not dragging, just hovering\r\n        {\r\n            this.unHoverAll();\r\n            let clips = this.getClipsInRange( e.track, time, time, 0.00001 );\r\n            if( !e.track.locked && clips )\r\n            {\r\n                this.lastHovered = [ e.track.trackIdx, clips[ 0 ] ];\r\n                e.track.hovered[ clips[ 0 ] ] = true;\r\n\r\n                let clip = e.track.clips[ clips[ 0 ] ];\r\n                if( !clip )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if( Math.abs( e.localX - this.timeToX( clip.start + clip.duration )) < 8 ) // duration\r\n                {\r\n                    this.canvas.style.cursor = \"col-resize\";\r\n                    this.dragClipMode = \"duration\";\r\n                }\r\n                else if( clip.fadein != undefined && Math.abs( e.localX - this.timeToX( clip.fadein )) < 8 ) // fadein\r\n                {\r\n                    this.canvas.style.cursor = \"e-resize\";\r\n                    this.dragClipMode = \"fadein\";\r\n                }\r\n                else if( clip.fadeout != undefined && Math.abs( e.localX - this.timeToX( clip.fadeout )) < 8 ) // fadeout\r\n                {\r\n                    this.canvas.style.cursor = \"e-resize\";\r\n                    this.dragClipMode = \"fadeout\";\r\n                }\r\n                else\r\n                {\r\n                    this.dragClipMode = \"\";\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.unHoverAll();\r\n        }\r\n    }\r\n\r\n    drawContent( ctx: CanvasRenderingContext2D )\r\n    {\r\n        if( !this.animationClip ) return;\r\n\r\n        const tracks = this.animationClip.tracks;\r\n        const trackHeight = this.trackHeight;\r\n        const scrollY = - this.currentScrollInPixels;\r\n\r\n        ctx.save();\r\n\r\n        for( let i = 0; i < tracks.length; i++ )\r\n        {\r\n            let track = tracks[ i ];\r\n            this.drawTrackWithBoxes( ctx, i * trackHeight + scrollY, trackHeight, track );\r\n        }\r\n\r\n        ctx.restore();\r\n    }\r\n\r\n    /**\r\n     * @method drawTrackWithBoxes\r\n     * @param {*} ctx\r\n     */\r\n    drawTrackWithBoxes( ctx: CanvasRenderingContext2D, y: number, trackHeight: number, track: any )\r\n    {\r\n        // Fill track background if it's selected\r\n        ctx.globalAlpha = 0.2;\r\n        ctx.fillStyle = Timeline.TRACK_SELECTED_LIGHT;\r\n        if( track.isSelected )\r\n        {\r\n            ctx.fillRect( 0, y, ctx.canvas.width, trackHeight );\r\n        }\r\n\r\n        const clips = track.clips;\r\n\r\n        // set clip box size\r\n        const offset = ( trackHeight * 0.4 ) * 0.5;\r\n        trackHeight *= 0.6;\r\n\r\n        let selectedClipArea: any = null;\r\n\r\n        ctx.font = Math.floor( trackHeight * 0.8 ) + \"px\" + Timeline.FONT;\r\n        ctx.textAlign = \"left\";\r\n        ctx.textBaseline = \"middle\";\r\n\r\n        for( var j = 0; j < clips.length; ++j )\r\n        {\r\n            selectedClipArea = null;\r\n            const clip = clips[ j ];\r\n            //let selected = track.selected[ j ];\r\n            var x = Math.floor( this.timeToX( clip.start ) ) + 0.5;\r\n            var x2 = Math.floor( this.timeToX( clip.start + clip.duration ) ) + 0.5;\r\n            var w = x2-x;\r\n\r\n            if( x2 < 0 || x > this.canvas.width )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            // Overwrite clip color state depending on its state\r\n            ctx.globalAlpha = 1;\r\n            ctx.fillStyle = clip.clipColor || ( track.hovered[ j ] ? Timeline.KEYFRAME_COLOR_HOVERED : ( track.selected[ j ] ? Timeline.TRACK_SELECTED : Timeline.KEYFRAME_COLOR ));\r\n            if( !this.active || !track.active || !clip.active ) {\r\n                ctx.fillStyle = Timeline.KEYFRAME_COLOR_INACTIVE;\r\n            }\r\n\r\n            // Draw clip background\r\n            drawRoundRect( ctx, x, y + offset, w, trackHeight, 5, true );\r\n\r\n            if( this.active && track.active && clip.active )\r\n            {\r\n                ctx.fillStyle = clip.fadeColor ?? \"#0004\";\r\n\r\n                if( clip.fadein != undefined ) {\r\n                    const fadeinX = this.pixelsPerSecond * ( clip.fadein - clip.start );\r\n                    drawRoundRect( ctx, x, y + offset, fadeinX, trackHeight, { tl: 5, bl: 5, tr:0, br:0 }, true );\r\n                }\r\n                if( clip.fadeout != undefined ) {\r\n                    const fadeoutX = this.pixelsPerSecond * ( clip.start + clip.duration - ( clip.fadeout ));\r\n                    drawRoundRect( ctx, x + w - fadeoutX, y + offset, fadeoutX, trackHeight, { tl: 0, bl: 0, tr:5, br:5}, true );\r\n                }\r\n            }\r\n\r\n            ctx.fillStyle = Timeline.TRACK_COLOR_PRIMARY;\r\n\r\n            if( track.selected[ j ] || track.hovered[ j ] )\r\n            {\r\n                ctx.strokeStyle = ctx.shadowColor = clip.clipColor || Timeline.TRACK_SELECTED;\r\n                ctx.shadowBlur = 10;\r\n                ctx.shadowOffsetX = 1.5;\r\n                ctx.shadowOffsetY = 1.5;\r\n\r\n                selectedClipArea = [ x - 1, y + offset -1, x2 - x + 2, trackHeight + 2 ];\r\n                drawRoundRect( ctx, selectedClipArea[ 0 ], selectedClipArea[ 1 ], selectedClipArea[ 2 ], selectedClipArea[3], 5, false, true );\r\n\r\n                ctx.shadowBlur = 0;\r\n                ctx.shadowOffsetX = 0;\r\n                ctx.shadowOffsetY = 0;\r\n\r\n                ctx.font = \"bold\" + Math.floor( trackHeight ) + \"px \" + Timeline.FONT;\r\n                ctx.fillStyle = Timeline.FONT_COLOR_PRIMARY;\r\n            }\r\n\r\n            let text = clip.id ?? \"\"; //clip.id.replaceAll(\"_\", \" \").replaceAll(\"-\", \" \");\r\n            const textInfo = ctx.measureText( text );\r\n\r\n            let textWidth = textInfo.width;\r\n            if( textWidth > w && textWidth > 0 )\r\n            {\r\n                let amount = Math.floor( w * text.length / textWidth );\r\n                text = text.substr( 0, amount );\r\n                textWidth = w;\r\n            }\r\n\r\n            ctx.fillText( text, x + ( w - textWidth )*0.5,  y + offset + trackHeight * 0.5);\r\n\r\n            ctx.fillStyle = track.hovered[ j ] ? \"white\" : \"#f5f5f5\"//track.hovered[ j ] ? \"white\" : Timeline.FONT_COLOR_QUATERNARY;\r\n            ctx.strokeStyle = \"rgba(125,125,125,0.4)\";\r\n\r\n            // Draw resize bounding\r\n            drawRoundRect( ctx, x + w - 8 , y + offset , 8, trackHeight, { tl: 4, bl: 4, tr: 4, br: 4 }, true, true );\r\n        }\r\n\r\n        ctx.font = \"12px\" + Timeline.FONT;\r\n    }\r\n\r\n    /**\r\n     * @method optimizeTrack\r\n     */\r\n    optimizeTrack( trackIdx: number )\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * @method optimizeTracks\r\n     */\r\n    optimizeTracks()\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n    *\r\n    * @param {Object} clip  clip to be added\r\n    * @param {Int} trackIdx ( optional ) track where to put the clip. -1 will find the first free slot. ***WARNING*** Must call getClipsInRange, before calling this function with a valid trackdIdx\r\n    * @param {Number} offsetTime ( optional ) offset time of current time\r\n    * @param {Number} searchStartTrackIdx ( optional ) if trackIdx is set to -1, this idx will be used as the starting point to find a valid track\r\n    * @returns  a zero/positive value if successful. Otherwise, -1\r\n    */\r\n    addClip( clip: any, trackIdx: number = -1, offsetTime: number = 0, searchStartTrackIdx: number = 0 )\r\n    {\r\n        if( !this.animationClip ) { return -1; }\r\n\r\n        this.deselectAllElements(); // TODO: consider adjusting values of hovered and selected instead of deselecting everything\r\n\r\n        // Update clip information\r\n        let newStart = clip.start + offsetTime;\r\n        if( clip.fadein != undefined ) clip.fadein += ( newStart - clip.start );\r\n        if( clip.fadeout != undefined ) clip.fadeout += ( newStart - clip.start );\r\n        clip.start = newStart;\r\n\r\n        // sanity check\r\n        clip.active = clip.active ?? true;\r\n\r\n        // find appropriate track\r\n        if( trackIdx >= this.animationClip.tracks.length ) // new track ad the end\r\n        {\r\n            trackIdx = this.addNewTrack();\r\n        }\r\n        else if( trackIdx < 0 ) // find first free track slot\r\n        {\r\n            for( let i = searchStartTrackIdx; i < this.animationClip.tracks.length; i++ )\r\n            {\r\n                let clipInCurrentSlot = this.animationClip.tracks[ i ].clips.find( ( t: any ) => {\r\n                    return LX.compareThresholdRange( newStart, clip.start + clip.duration, t.start, t.start+t.duration );\r\n                } );\r\n\r\n                if( !clipInCurrentSlot )\r\n                {\r\n                    trackIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if( trackIdx < 0 )\r\n            {\r\n                trackIdx = this.addNewTrack();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            // check specific track slot\r\n            // commented to avoid double checks with \"addclips\" fn\r\n            // let clipsInRange = this.getClipsInRange( this.animationClip.tracks[ trackIdx ], clip.start, clip.start+clip.duration, 0.0001 );\r\n            // if( clipsInRange ) {\r\n            //     return -1;\r\n            // }\r\n        }\r\n\r\n        clip.trackIdx = trackIdx;\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n        // Find new index\r\n        let newIdx = track.clips.findIndex( ( t: any ) => t.start > newStart );\r\n\r\n        // Add as last index\r\n        if( newIdx < 0 )\r\n        {\r\n            newIdx = track.clips.length;\r\n        }\r\n\r\n        //Save track state before add the new clip\r\n        this.saveState( trackIdx );\r\n\r\n        // Add clip\r\n        track.clips.splice( newIdx, 0, clip ); //insert clip into newIdx ( or push at the end )\r\n\r\n        // Reset this clip's properties\r\n        track.hovered.splice( newIdx, 0, false );\r\n        track.selected.splice( newIdx, 0, false );\r\n        track.edited.splice( newIdx, 0, false );\r\n\r\n        if( !this.animationClip || ( clip.start + clip.duration ) > this.duration )\r\n        {\r\n            this.setDuration( clip.start + clip.duration );\r\n        }\r\n\r\n        // Update animation action interpolation info\r\n        if( this.onUpdateTrack )\r\n        {\r\n            this.onUpdateTrack( [ trackIdx ] );\r\n        }\r\n\r\n        return newIdx;\r\n    }\r\n\r\n    /**\r\n     *  Add an array of clips to the timeline in the first suitable tracks. It tries to put clips in the same track if possible. All clips will be in adjacent tracks to each other\r\n     * @param {Object[] } clips\r\n     * @param {Number} offsetTime\r\n     * @param {Int} searchStartTrackIdx\r\n     * @returns\r\n     */\r\n    addClips( clips: any[], offsetTime: number = 0, searchStartTrackIdx: number = 0 )\r\n    {\r\n        if( !this.animationClip || !clips.length ) return false;\r\n\r\n        let clipTrackIdxs = new Int16Array( clips.length );\r\n        let baseTrackIdx = searchStartTrackIdx -1; // every time the algorithm fails, it increments the starting track Idx\r\n        let currTrackIdx = -1;\r\n        const tracks = this.animationClip.tracks;\r\n        const lastTrackLength = tracks.length;\r\n        let c = 0;\r\n        for( ; c < clips.length; ++c )\r\n        {\r\n            const clip = clips[ c ];\r\n            const clipStart = clip.start + offsetTime;\r\n            const clipEnd = clipStart + clip.duration;\r\n\r\n            if( c == 0 ) { // last search failed, move one track down and check again\r\n                ++baseTrackIdx;\r\n                currTrackIdx = baseTrackIdx;\r\n\r\n                while ( currTrackIdx >= tracks.length ) { this.addNewTrack( null, false ); }\r\n                let clipsInCurrentSlot = tracks[baseTrackIdx ].clips.find( ( t: any ) => { return LX.compareThresholdRange( clipStart, clipEnd, t.start, t.start+t.duration ); } );\r\n\r\n                // reset search\r\n                if( clipsInCurrentSlot )\r\n                {\r\n                    c = -1;\r\n                    continue;\r\n                }\r\n\r\n                // success\r\n                clipTrackIdxs[ c ] = baseTrackIdx;\r\n            }\r\n            else\r\n            {\r\n                // check if it fits in current track\r\n                let clipsInCurrentSlot = tracks[ currTrackIdx ].clips.find( ( t: any ) => { return LX.compareThresholdRange( clipStart, clipEnd, t.start, t.start+t.duration ); } );\r\n\r\n                // check no previous added clips are in the way\r\n                for( let i = c-1; i > -1; --i )\r\n                {\r\n                    if( clipTrackIdxs[ i ] != currTrackIdx || clipsInCurrentSlot ) { break; }\r\n                    clipsInCurrentSlot = LX.compareThresholdRange( clipStart, clipEnd, clips[ i ].start + offsetTime, clips[ i ].start + offsetTime + clips[ i ].duration );\r\n                }\r\n\r\n                // check if it fits in the next track\r\n                if( clipsInCurrentSlot )\r\n                {\r\n                    ++currTrackIdx;\r\n                    if( currTrackIdx >= tracks.length ) { this.addNewTrack( null, false ); }\r\n                    clipsInCurrentSlot = tracks[ currTrackIdx ].clips.find( ( t:any ) => { return LX.compareThresholdRange( clipStart, clipEnd, t.start, t.start+t.duration ); } );\r\n                }\r\n\r\n                // reset search\r\n                if( clipsInCurrentSlot )\r\n                {\r\n                    c = -1;\r\n                    continue;\r\n                }\r\n\r\n                // success\r\n                clipTrackIdxs[ c ] = currTrackIdx;\r\n            }\r\n        }\r\n\r\n        // avoid updating panel on each new track. Instead just once at the end\r\n        if( lastTrackLength != tracks.length )\r\n        {\r\n            this.updateLeftPanel();\r\n        }\r\n\r\n        // save state for all to-be-modified tracks. Do it once for all tracks\r\n        for( let i = baseTrackIdx; i <= currTrackIdx; ++i )\r\n        {\r\n            this.saveState( i, i != baseTrackIdx );\r\n        }\r\n\r\n        // disable history saving\r\n        let oldStateEnabler = this.historySaveEnabler;\r\n        this.historySaveEnabler = false;\r\n\r\n        for( c = 0; c < clips.length; ++c )\r\n        {\r\n            this.addClip( clips[ c ], clipTrackIdxs[ c ], offsetTime );\r\n        }\r\n\r\n        // recover old state of enabler\r\n        this.historySaveEnabler = oldStateEnabler;\r\n\r\n        return true;\r\n    }\r\n\r\n    deleteSelectedContent( skipCallback: boolean = false )\r\n    {\r\n        //*********** WARNING: RELIES ON SORTED lastClipsSelected ***********\r\n        if( !this.lastClipsSelected.length )\r\n        {\r\n            return;\r\n        }\r\n\r\n        // delete selected clips from last to first. lastClipsSelected is sorted\r\n        const selected = this.lastClipsSelected;\r\n        this.lastClipsSelected = []; // so this.#delete does not check clipsselected on each loop ( all will be destroyed )\r\n        let prevTrack = -1;\r\n        for( let i = selected.length - 1; i > -1; --i )\r\n        {\r\n            let s = selected[ i ];\r\n            if( s[ 0 ] != prevTrack )\r\n            {\r\n                this.saveState( s[ 0 ], prevTrack != -1 );\r\n                prevTrack = s[ 0 ];\r\n            }\r\n\r\n           this.#delete( s[ 0 ], s[ 1 ] );\r\n        }\r\n\r\n        if( this.onDeleteSelectedClips && !skipCallback )\r\n        {\r\n            this.onDeleteSelectedClips( selected );\r\n        }\r\n\r\n    }\r\n\r\n    /** Delete clip from the timeline\r\n     * @param {Number} trackIdx\r\n     * @param {Number} clipIdx clip to be deleted\r\n    */\r\n    deleteClip( trackIdx: number, clipIdx: number, skipCallback: boolean = false )\r\n    {\r\n        this.saveState( trackIdx );\r\n        const clip = this.#delete( trackIdx, clipIdx );\r\n\r\n        if( this.onDeleteClip && !skipCallback )\r\n        {\r\n            this.onDeleteClip( trackIdx, clipIdx, clip );\r\n        }\r\n    }\r\n\r\n    #delete( trackIdx: number, clipIdx: number )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n\r\n        // remove from selected clips\r\n        for( let i = 0; i < this.lastClipsSelected.length; i++ )\r\n        {\r\n            const [ selectedTrackIdx, selectedClipIdx ] = this.lastClipsSelected[ i ];\r\n            if( selectedTrackIdx == trackIdx )\r\n            {\r\n                if( selectedClipIdx == clipIdx ) { // remove self\r\n                    this.lastClipsSelected.splice( i--,1 );\r\n                }else if( selectedClipIdx > clipIdx ) { // move upper clips to the left\r\n                    this.lastClipsSelected[ i ][ 1 ]--;\r\n                }\r\n            }\r\n            else if( trackIdx < selectedTrackIdx )\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if( this.lastHovered && this.lastHovered[ 0 ] == trackIdx )\r\n        {\r\n            if( this.lastHovered[ 1 ] == clipIdx ) { this.unHoverAll(); }\r\n            else if( this.lastHovered[ 1 ] > clipIdx ) { this.lastHovered[ 1 ]--; }\r\n        }\r\n\r\n        const clip = track[ clipIdx ];\r\n        track.hovered.splice( clipIdx,1 );\r\n        track.selected.splice( clipIdx,1 );\r\n        track.edited.splice( clipIdx,1 );\r\n        track.clips.splice( clipIdx, 1 );\r\n        return clip;\r\n    }\r\n\r\n    /**\r\n     * User defined. Used when copying and pasting\r\n     * @param {Array of clips } clipsToClone array of original clips. Do not modify clips in this array\r\n     * @param {Number} timeOffset Value of time that should be added ( or subtracted ) from the timing attributes\r\n     * @param {Int} reason Flag to signal the reason of the clone\r\n     * @returns {Array of clips }\r\n     */\r\n    cloneClips( clipsToClone: any[], timeOffset: number, reason: number = 0 )\r\n    {\r\n        let clipsToReturn = JSON.parse(JSON.stringify( clipsToClone ))\r\n        for( let i = 0; i < clipsToReturn.length; ++i )\r\n        {\r\n            let clip = clipsToReturn[ i ];\r\n            clip.start += timeOffset;\r\n            if( clip.fadein == null || clip.fadein == undefined ) { clip.fadein = undefined; }\r\n            else { clip.fadein += timeOffset; }\r\n\r\n            if( clip.fadeout == null || clip.fadeout == undefined ) { clip.fadeout = undefined; }\r\n            else { clip.fadeout += timeOffset; }\r\n        }\r\n\r\n        return clipsToReturn;\r\n    }\r\n\r\n    /**\r\n     * Overwrite the \"cloneClips\" function to provide a custom cloning of clips. Otherwise, JSON serialization is used\r\n     */\r\n    copySelectedContent()\r\n    {\r\n        if( this.lastClipsSelected.length == 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        let clipsToCopy: any = [];\r\n        const lastClipsSelected = this.lastClipsSelected;\r\n        const tracks = this.animationClip.tracks;\r\n        let globalStart = Infinity;\r\n        for( let i = 0; i < lastClipsSelected.length; ++i )\r\n        {\r\n            let clip: any = tracks[ lastClipsSelected[ i ][ 0 ] ].clips[ lastClipsSelected[ i ][ 1 ] ];\r\n            clipsToCopy.push( clip );\r\n            if( globalStart > clip.start ) { globalStart = clip.start; }\r\n        }\r\n\r\n        globalStart = Math.max( 0, globalStart );\r\n        this.clipboard = this.cloneClips( clipsToCopy, -globalStart, ClipsTimeline.CLONEREASON_COPY );\r\n    }\r\n\r\n    pasteContent( time: number = this.currentTime )\r\n    {\r\n        this.deselectAllClips();\r\n\r\n        if( !this.clipboard )\r\n        {\r\n            return;\r\n        }\r\n\r\n        time = Math.max( 0, time );\r\n\r\n        let clipsToAdd = this.cloneClips( this.clipboard, time, ClipsTimeline.CLONEREASON_PASTE );\r\n        this.addClips( clipsToAdd, 0 );\r\n    }\r\n\r\n    /**\r\n     * @method clearTrack\r\n     */\r\n\r\n    clearTrack( trackIdx: number )\r\n    {\r\n        if( !this.animationClip )\r\n        {\r\n            this.animationClip = { tracks: [] };\r\n            return;\r\n        }\r\n\r\n        this.saveState( trackIdx );\r\n\r\n        if( this.animationClip.tracks[ trackIdx ].locked ) {\r\n            return;\r\n        }\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        track.selected = [];\r\n        track.edited = [];\r\n        track.hovered = [];\r\n        track.clips = [];\r\n\r\n        // remove from selected clips\r\n        for( let i = 0; i < this.lastClipsSelected.length; i++ )\r\n        {\r\n            const [ selectedTrackIdx, selectedClipIdx ] = this.lastClipsSelected[ i ];\r\n            if( selectedTrackIdx == trackIdx )\r\n            {\r\n                this.lastClipsSelected.splice( i--,1 );\r\n            }\r\n            else if( trackIdx < selectedTrackIdx )\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if( this.lastHovered && this.lastHovered[ 0 ] == trackIdx ) { this.unHoverAll(); }\r\n\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * saveState function uses this to generate a \"copy\" of the track.\r\n     * @param {Number} trackIdx\r\n     * @returns All necessary information to reconstruct the track state\r\n     */\r\n    historyGenerateTrackStep( trackIdx: number )\r\n    {\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        const clips = this.cloneClips( track.clips, 0, ClipsTimeline.CLONEREASON_HISTORY );\r\n\r\n        // sanity check in case cloneClips misses this\r\n        for( let i = 0; i < clips.length; ++i )\r\n        {\r\n            clips[ i ].trackIdx = trackIdx;\r\n        }\r\n\r\n        const undoStep = {\r\n            trackIdx: trackIdx, // already done by saveState\r\n            clips: clips,\r\n            edited: track.edited.slice( 0, track.clips.length )\r\n        };\r\n\r\n        return undoStep;\r\n    }\r\n\r\n    /**\r\n     * It should swap the previous state with the incoming state of the track. It must return the previous state.\r\n     * historyGenerateTrackStep could be used to copy the previous state. However, as it is a swap, it suffices to just copy the references.\r\n     * @param {Object} state object with a trackIdx:Number and whatever information was saved in historyGenerateTrackStep\r\n     * @param {Boolean} isUndo\r\n     * @returns previous state object\r\n     */\r\n    historyApplyTrackStep( state: any, isUndo: boolean )\r\n    {\r\n        const track = this.animationClip.tracks[ state.trackIdx ];\r\n\r\n        const stateToReturn = {\r\n            trackIdx: state.trackIdx, // already done by saveState\r\n            clips: track.clips,\r\n            edited: track.edited\r\n        };\r\n\r\n        track.clips = state.clips;\r\n        track.edited = state.edited;\r\n        if( track.selected.length < track.clips.length ) { track.selected.length = track.clips.length; }\r\n        if( track.hovered.length < track.clips.length ) { track.hovered.length = track.clips.length; }\r\n        track.selected.fill( false );\r\n        track.hovered.fill( false );\r\n\r\n        // sanity check. Also done in addClip\r\n        for( let i = 0; i < track.clips.length; ++i )\r\n        {\r\n            track.clips[ i ].active = track.clips[ i ].active ?? true;\r\n        }\r\n\r\n        return stateToReturn;\r\n    }\r\n\r\n    getClipOnTime( track: any, time: number, threshold: number )\r\n    {\r\n        if( !track || !track.clips.length )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        // Avoid iterating through all timestamps\r\n        if( ( time + threshold ) < track.clips[ 0 ].start )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        for( let i = 0; i < track.clips.length; ++i )\r\n        {\r\n            let t = track.clips[ i ];\r\n            if( t.start + t.duration >= ( time - threshold ) && t.start <= ( time + threshold ) )\r\n            {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    };\r\n\r\n    deselectAllClips()\r\n    {\r\n        for( let [ trackIdx, clipIdx ] of this.lastClipsSelected )\r\n        {\r\n            this.animationClip.tracks[ trackIdx ].selected[ clipIdx ]= false;\r\n        }\r\n\r\n        // Something has been deselected\r\n        const deselected = this.lastClipsSelected.length > 0;\r\n        this.lastClipsSelected.length = 0;\r\n        return deselected;\r\n    }\r\n\r\n    selectAll( skipCallback = false )\r\n    {\r\n        this.deselectAllClips();\r\n\r\n        for( let trackIdx = 0; trackIdx < this.animationClip.tracks.length; trackIdx++ )\r\n        {\r\n            for( let clipIdx = 0; clipIdx < this.animationClip.tracks[ trackIdx ].clips.length; clipIdx++ )\r\n            {\r\n                this.animationClip.tracks[ trackIdx ].selected[ clipIdx ] = true;\r\n                this.lastClipsSelected.push( [ trackIdx, clipIdx ] ); // already sorted\r\n            }\r\n        }\r\n\r\n        if( this.onSelectClip && !skipCallback )\r\n        {\r\n            this.onSelectClip( null );\r\n        }\r\n    }\r\n\r\n    selectClip( trackIdx: number, clipIndex: number, deselect: boolean = true, skipCallback: boolean = false )\r\n    {\r\n        if( deselect )\r\n        {\r\n            this.deselectAllClips();\r\n        }\r\n\r\n        if( clipIndex < 0 )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        if( track.selected[ clipIndex ] )\r\n        {\r\n            return clipIndex;\r\n        }\r\n\r\n        // Select if not handled\r\n\r\n        // push selection sorted by track index and clip index\r\n        let i = 0;\r\n        for( ; i < this.lastClipsSelected.length; ++i )\r\n        {\r\n            let t = this.lastClipsSelected[ i ];\r\n            if( t[ 0 ] < track.trackIdx ) { continue; }\r\n            if( t[ 0 ] > track.trackIdx || t[ 1 ] > clipIndex ) { break;}\r\n        }\r\n        this.lastClipsSelected.splice( i,0, [ track.trackIdx, clipIndex, track.clips[ clipIndex ] ] ); //\r\n        track.selected[ clipIndex ] = true;\r\n\r\n        if( !skipCallback && this.onSelectClip )\r\n        {\r\n            this.onSelectClip( track.clips[ clipIndex ] );\r\n            // Event handled\r\n        }\r\n        return clipIndex;\r\n    }\r\n\r\n    deselectClip( trackIdx: number, clipIndex: number )\r\n    {\r\n        if( clipIndex == -1 )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        const track = this.animationClip.tracks[ trackIdx ];\r\n        if( !track.selected[ clipIndex ] )\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        track.selected[ clipIndex ] = false;\r\n\r\n        // deselect\r\n        for( let i = 0; i < this.lastClipsSelected.length; ++i )\r\n        {\r\n            let t = this.lastClipsSelected[ i ];\r\n            if( t[ 0 ] == trackIdx && t[ 1 ] == clipIndex )\r\n            {\r\n                this.lastClipsSelected.splice( i, 1 );\r\n                break;\r\n            }\r\n        }\r\n\r\n        return clipIndex;\r\n    }\r\n\r\n    getClipsInRange( track: any, minTime: number, maxTime: number, threshold: number = 0 )\r\n    {\r\n        if( !track || !track.clips.length )\r\n        return null;\r\n\r\n        // Manage negative selection\r\n        if( minTime > maxTime ) {\r\n            let aux = minTime;\r\n            minTime = maxTime;\r\n            maxTime = aux;\r\n        }\r\n\r\n        minTime -= threshold;\r\n        maxTime += threshold;\r\n\r\n        // Avoid iterating through all timestamps\r\n        minTime -= threshold;\r\n        maxTime += threshold;\r\n\r\n        const clips = track.clips;\r\n        if( maxTime < clips[ 0 ].start || minTime > ( clips[ clips.length - 1 ].start + clips[ clips.length - 1 ].duration ) )\r\n        {\r\n            return null;\r\n        }\r\n\r\n        let indices: number[] = [];\r\n\r\n        for( let i = 0; i < clips.length; ++i )\r\n        {\r\n            const c = clips[ i ];\r\n            if( c.start+c.duration < minTime ) { continue; }\r\n            if( c.start > maxTime ) { break; }\r\n            indices.push( i );\r\n        }\r\n\r\n        return indices.length ? indices : null;\r\n    }\r\n\r\n    validateDuration( t: number )\r\n    {\r\n        for( let i = 0; i < this.animationClip.tracks.length; i++ )\r\n        {\r\n            const track = this.animationClip.tracks[ i ];\r\n            if( track.clips.length )\r\n            {\r\n                const clip = track.clips[ track.clips.length - 1 ]; // assuming they are ordered ascendently\r\n                t = Math.max( t, clip.start + clip.duration );\r\n            }\r\n        }\r\n\r\n        return t;\r\n    }\r\n\r\n    setDuration( t: number, skipCallback: boolean = false, updateHeader: boolean = true )\r\n    {\r\n        const oldT = t;\r\n        const newT = this.validateDuration( t );\r\n        super.setDuration( newT, skipCallback, oldT != newT || updateHeader );\r\n    }\r\n}\r\n\r\nLX.ClipsTimeline = ClipsTimeline;\r\n\r\n/**\r\n * Draws a rounded rectangle using the current state of the canvas.\r\n * If you omit the last three params, it will draw a rectangle\r\n * outline with a 5 pixel border radius\r\n * @param {Number} x The top left x coordinate\r\n * @param {Number} y The top left y coordinate\r\n * @param {Number} width The width of the rectangle\r\n * @param {Number} height The height of the rectangle\r\n * @param {Number} [radius = 5] The corner radius; It can also be an object\r\n *                 to specify different radii for corners\r\n * @param {Number} [radius.tl = 0] Top left\r\n * @param {Number} [radius.tr = 0] Top right\r\n * @param {Number} [radius.br = 0] Bottom right\r\n * @param {Number} [radius.bl = 0] Bottom left\r\n * @param {Boolean} [ fill = false ] Whether to fill the rectangle.\r\n * @param {Boolean} [ stroke = true ] Whether to stroke the rectangle.\r\n */\r\n\r\nfunction drawRoundRect( ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, radius: any = 5, fill: boolean = false, stroke: boolean = false )\r\n{\r\n    if( typeof radius === 'number')\r\n    {\r\n        radius = { tl: radius, tr: radius, br: radius, bl: radius };\r\n    }\r\n    else\r\n    {\r\n        var defaultRadius: any = { tl: 0, tr: 0, br: 0, bl: 0 };\r\n        for ( var side in defaultRadius )\r\n        {\r\n            radius[ side ] = radius[ side ] ?? defaultRadius[ side ];\r\n        }\r\n    }\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + radius.tl, y );\r\n    ctx.lineTo(x + width - radius.tr, y );\r\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr );\r\n    ctx.lineTo(x + width, y + height - radius.br );\r\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height );\r\n    ctx.lineTo(x + radius.bl, y + height );\r\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl );\r\n    ctx.lineTo(x, y + radius.tl );\r\n    ctx.quadraticCurveTo(x, y, x + radius.tl, y );\r\n    ctx.closePath();\r\n\r\n    if( fill )\r\n    {\r\n        ctx.fill();\r\n    }\r\n\r\n    if( stroke )\r\n    {\r\n        ctx.stroke();\r\n    }\r\n}","// VideoEditor.ts @evallsg\r\n\r\nimport { LX } from '../core/Namespace';\r\n\r\nif( !LX )\r\n{\r\n    throw( \"Missing LX namespace!\" );\r\n}\r\n\r\nLX.extensions.push( 'VideoEditor' );\r\n\r\nconst g = ( globalThis as any );\r\nconst vec2 = LX.vec2;\r\nconst Area = LX.Area;\r\nconst Panel = LX.Panel;\r\n\r\n/**\r\n * @class TimeBar\r\n */\r\n\r\nexport class TimeBar\r\n{\r\n    static TIMEBAR_PLAY       = 1;\r\n    static TIMEBAR_TRIM       = 2;\r\n\r\n    static BACKGROUND_COLOR = LX.getThemeColor(\"global-branch-darker\");\r\n    static COLOR = LX.getThemeColor(\"global-button-color\");\r\n    static ACTIVE_COLOR = \"#668ee4\";\r\n\r\n    type: number = TimeBar.TIMEBAR_PLAY;\r\n    duration: number = 1.0;\r\n    canvas: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D | null;\r\n\r\n    markerWidth: number = 8;\r\n    markerHeight: number;\r\n    offset: number;\r\n    lineWidth: number;\r\n    lineHeight: number;\r\n    position: typeof vec2;\r\n    startX: number;\r\n    endX: number;\r\n    currentX: number;\r\n    hovering: string | undefined;\r\n    dragging: string | undefined;\r\n\r\n    onChangeCurrent: any;\r\n    onChangeStart: any;\r\n    onChangeEnd: any;\r\n    onDraw: any;\r\n    onMouse: any;\r\n\r\n    constructor( area: typeof Area, type?: number, options: any = {} )\r\n    {\r\n        this.type = type ?? TimeBar.TIMEBAR_PLAY;\r\n        this.duration = options.duration ?? this.duration;\r\n\r\n        // Create canvas\r\n        this.canvas = document.createElement( 'canvas' );\r\n        this.canvas.width = area.size[ 0 ];\r\n        this.canvas.height = area.size[ 1 ];\r\n        area.attach( this.canvas );\r\n\r\n        this.ctx = this.canvas.getContext( \"2d\" );\r\n\r\n        this.markerWidth = options.markerWidth ?? this.markerWidth;\r\n        this.markerHeight = options.markerHeight ?? ( this.canvas.height * 0.5 );\r\n        this.offset = options.offset || ( this.markerWidth*0.5 + 5 );\r\n\r\n        // dimensions of line (not canvas)\r\n        this.lineWidth = this.canvas.width - this.offset * 2;\r\n        this.lineHeight = options.barHeight ?? 5;\r\n\r\n        this.position = new vec2( this.offset, this.canvas.height * 0.5 - this.lineHeight * 0.5);\r\n        this.startX = this.position.x;\r\n        this.endX = this.position.x + this.lineWidth;\r\n        this.currentX = this.startX;\r\n\r\n        this._draw();\r\n\r\n        this.updateTheme();\r\n        LX.addSignal( \"@on_new_color_scheme\", () => {\r\n            // Retrieve again the color using LX.getThemeColor, which checks the applied theme\r\n            this.updateTheme();\r\n        } )\r\n\r\n        this.canvas.onmousedown = ( e: MouseEvent ) => this.onMouseDown( e );\r\n        this.canvas.onmousemove = ( e: MouseEvent ) => this.onMouseMove( e );\r\n        this.canvas.onmouseup = ( e: MouseEvent ) => this.onMouseUp( e );\r\n    }\r\n\r\n    updateTheme()\r\n    {\r\n        TimeBar.BACKGROUND_COLOR = LX.getThemeColor(\"global-color-secondary\");\r\n        TimeBar.COLOR = LX.getThemeColor(\"global-color-quaternary\");\r\n        TimeBar.ACTIVE_COLOR = \"#668ee4\";\r\n    }\r\n    \r\n    setDuration( duration: number )\r\n    {\r\n        this.duration = duration;\r\n    }\r\n\r\n    xToTime( x: number )\r\n    {\r\n        return ( ( x - this.offset ) / ( this.lineWidth ) ) *  this.duration;\r\n    }\r\n\r\n    timeToX( time: number )\r\n    {\r\n        return ( time / this.duration ) * ( this.lineWidth ) + this.offset;\r\n    }\r\n\r\n    setCurrentTime( time: number )\r\n    {\r\n        this.currentX = this.timeToX( time );\r\n        this.onSetCurrentValue( this.currentX );\r\n    }\r\n\r\n    setStartTime( time: number )\r\n    {\r\n        this.startX = this.timeToX( time );\r\n        this.onSetStartValue( this.startX )\r\n    }\r\n\r\n    setEndTime( time: number )\r\n    {\r\n        this.endX = this.timeToX( time );\r\n        this.onSetEndValue( this.endX );\r\n    }\r\n\r\n    onSetCurrentValue( x : number )\r\n    {\r\n        this.update( x );\r\n\r\n        const t = this.xToTime( x );\r\n        if( this.onChangeCurrent )\r\n        {\r\n            this.onChangeCurrent( t );\r\n        }\r\n    }\r\n\r\n    onSetStartValue( x: number )\r\n    {\r\n        this.update( x );\r\n        \r\n        const t = this.xToTime( x );\r\n        if( this.onChangeStart )\r\n        {\r\n            this.onChangeStart( t );\r\n        }\r\n    }\r\n\r\n    onSetEndValue( x: number )\r\n    {\r\n        this.update( x );\r\n        \r\n        const t = this.xToTime( x );\r\n        if( this.onChangeEnd )\r\n        {\r\n            this.onChangeEnd( t );\r\n        }\r\n    }\r\n\r\n    _draw()\r\n    {\r\n        const ctx = this.ctx;\r\n        if( !ctx ) return;\r\n\r\n        ctx.save();\r\n        ctx.fillStyle = TimeBar.BACKGROUND_COLOR;\r\n        ctx.clearRect( 0, 0, this.canvas.width, this.canvas.height );\r\n        ctx.fillRect( 0, 0, this.canvas.width, this.canvas.height );\r\n\r\n        // Draw background timeline\r\n        ctx.fillStyle = TimeBar.COLOR;\r\n        ctx.fillRect( this.position.x, this.position.y, this.lineWidth, this.lineHeight );\r\n\r\n        // Draw background trimed timeline\r\n        ctx.fillStyle = TimeBar.ACTIVE_COLOR;\r\n        ctx.fillRect( this.startX, this.position.y, this.endX - this.startX, this.lineHeight );\r\n\r\n        ctx.restore();\r\n\r\n        // Min-Max time markers\r\n        this._drawTrimMarker( 'start', this.startX, { color: null, fillColor: TimeBar.ACTIVE_COLOR || '#5f88c9'});\r\n        this._drawTrimMarker( 'end', this.endX, { color: null, fillColor: TimeBar.ACTIVE_COLOR || '#5f88c9'});\r\n        this._drawTimeMarker( 'current', this.currentX, { color: '#e5e5e5', fillColor: TimeBar.ACTIVE_COLOR || '#5f88c9', width: this.markerWidth });\r\n        \r\n        if( this.onDraw )\r\n        {\r\n            this.onDraw();\r\n        }\r\n    }\r\n\r\n    _drawTrimMarker( name: string, x: number, options: any = {} )\r\n    {\r\n        const w = this.markerWidth;\r\n        const h = this.markerHeight;\r\n        const y = this.canvas.height * 0.5 - h * 0.5;\r\n        const ctx = this.ctx;\r\n        if( !ctx ) return;\r\n\r\n        // Shadow\r\n        if( this.hovering == name )\r\n        {\r\n            ctx.shadowColor = \"white\";\r\n            ctx.shadowBlur = 2;\r\n        }\r\n\r\n        ctx.globalAlpha = 1;\r\n        ctx.fillStyle = ctx.strokeStyle = options.fillColor || '#111' // \"#FFF\";\r\n\r\n        ctx.beginPath();\r\n        ctx.roundRect( x - w * 0.5, y, w, h, 2 );\r\n        ctx.fill();\r\n        ctx.fillStyle = ctx.strokeStyle = options.fillColor || '#111' // \"#FFF\";\r\n\r\n        ctx.strokeStyle = \"white\";\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo( x, y + 4);\r\n        ctx.lineTo( x, y + h - 4 );\r\n        ctx.stroke();\r\n        ctx.shadowBlur = 0;\r\n    }\r\n\r\n    _drawTimeMarker( name: string, x: number, options: any = {} )\r\n    {\r\n        let y = this.offset;\r\n        const w = options.width ? options.width : ( this.dragging == name ? 6 : 4 );\r\n        const h = this.canvas.height - this.offset * 2;\r\n\r\n        let ctx = this.ctx;\r\n        if( !ctx ) return;\r\n\r\n        ctx.globalAlpha = 1;\r\n        ctx.fillStyle = ctx.strokeStyle = options.fillColor || '#111' // \"#FFF\";\r\n\r\n        // Shadow\r\n        if( this.hovering == name )\r\n        {\r\n            ctx.shadowColor = \"white\";\r\n            ctx.shadowBlur = 2;\r\n        }\r\n\r\n        // Current time line\r\n        ctx.fillStyle = ctx.strokeStyle = \"white\";\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x, y + h * 0.5);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.fillStyle = ctx.strokeStyle = options.fillColor || '#111' // \"#FFF\";\r\n\r\n        y -= this.offset + 8;\r\n        // Current time ball grab\r\n        ctx.fillStyle = options.fillColor || '#e5e5e5';\r\n        ctx.beginPath();\r\n        ctx.roundRect( x - w * 0.5, y + this.offset, w, w, 5 );\r\n\r\n        ctx.fill();\r\n        ctx.shadowBlur = 0;\r\n    }\r\n\r\n    update( x: number )\r\n    {\r\n        this.currentX = Math.min( Math.max( this.startX, x ), this.endX );\r\n        this._draw();\r\n    }\r\n\r\n    onMouseDown( e: MouseEvent )\r\n    {\r\n        if( this.onMouse )\r\n        {\r\n            this.onMouse( e );\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        if( !this.canvas || e.target != this.canvas || e.cancelBubble )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const canvas = this.canvas;\r\n\r\n        // Process mouse\r\n        const x = e.offsetX;\r\n        const y = e.offsetY;\r\n\r\n        // Check if some marker is clicked\r\n        const threshold = this.markerWidth;\r\n\r\n        // grab trim markers only from the bottom\r\n        if( Math.abs( this.startX - x ) < threshold && this.position.y < y )\r\n        {\r\n            this.dragging = 'start';\r\n            canvas.style.cursor = \"grabbing\";\r\n        }\r\n        else if( Math.abs( this.endX - x ) < threshold && this.position.y < y )\r\n        {\r\n            this.dragging = 'end';\r\n            canvas.style.cursor = \"grabbing\";\r\n        }\r\n        else\r\n        {\r\n            this.dragging = 'current';\r\n            canvas.style.cursor = \"grabbing\";\r\n\r\n            if( x < this.startX )\r\n            {\r\n                this.currentX = this.startX;\r\n            }\r\n            else if( x > this.endX )\r\n            {\r\n                this.currentX = this.endX;\r\n            }\r\n            else\r\n            {\r\n                this.currentX = x;\r\n            }\r\n\r\n            this.onSetCurrentValue( this.currentX );\r\n        }\r\n\r\n        this._draw();\r\n    }\r\n\r\n    onMouseUp( e: MouseEvent )\r\n    {\r\n        if( this.onMouse )\r\n        {\r\n            this.onMouse( e );\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        delete this.dragging;\r\n        delete this.hovering;\r\n\r\n        if( !this.canvas || e.cancelBubble )\r\n        {\r\n            return;\r\n        }\r\n\r\n        const canvas = this.canvas;\r\n        canvas.style.cursor = \"default\";\r\n    }\r\n\r\n    onMouseMove( e: MouseEvent )\r\n    {\r\n        if( this.onMouse )\r\n        {\r\n            this.onMouse( e );\r\n        }\r\n        \r\n        if( !this.canvas || e.cancelBubble )\r\n        {\r\n            return;\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        const canvas = this.canvas;\r\n\r\n        // Process mouse\r\n        const x = e.target == canvas ? e.offsetX : e.clientX - canvas.offsetLeft;\r\n        const y = e.target == canvas ? e.offsetY : e.clientY - canvas.offsetTop;\r\n\r\n        if( this.dragging )\r\n        {\r\n            switch( this.dragging )\r\n            {\r\n                case 'start':\r\n                    this.startX = Math.max( this.position.x, Math.min( this.endX, x ) );\r\n                    this.currentX = this.startX;\r\n                    this.onSetStartValue( this.startX );\r\n                    break;\r\n                case 'end':\r\n                    this.endX = Math.max( this.startX, Math.min( this.position.x + this.lineWidth, x ) );\r\n                    this.currentX = this.endX;\r\n                    this.onSetEndValue( this.endX );\r\n                    break;\r\n                default:\r\n                    this.currentX = Math.max( this.startX, Math.min( this.endX, x ) );\r\n                    break;\r\n            }\r\n\r\n            this.onSetCurrentValue( this.currentX );\r\n        }\r\n        else\r\n        {\r\n            const threshold = this.markerWidth * 0.5;\r\n\r\n            if( Math.abs( this.startX - x ) < threshold )\r\n            {\r\n                this.hovering = 'start';\r\n                canvas.style.cursor = \"grab\";\r\n            }\r\n            else if( Math.abs( this.endX - x ) < threshold )\r\n            {\r\n                this.hovering = 'end';\r\n                canvas.style.cursor = \"grab\";\r\n            }\r\n            else if( Math.abs( this.currentX - x ) < threshold )\r\n            {\r\n                this.hovering = 'current';\r\n                canvas.style.cursor = \"grab\";\r\n            }\r\n            else\r\n            {\r\n                delete this.hovering;\r\n                canvas.style.cursor = \"default\";\r\n            }\r\n        }\r\n\r\n        this._draw();\r\n    }\r\n\r\n    resize( size: number[] )\r\n    {\r\n        this.canvas.width = Math.max( 0, size[ 0 ] );\r\n        this.canvas.height = Math.max( 0, size[ 1 ] );\r\n\r\n        let newWidth = size[ 0 ] - this.offset * 2;\r\n        newWidth = newWidth < 0.00001 ? 0.00001 : newWidth; // actual width of the line = canvas.width - offsetleft - offsetRight\r\n        const startRatio = ( this.startX - this.offset ) / this.lineWidth;\r\n        const currentRatio = ( this.currentX - this.offset ) / this.lineWidth;\r\n        const endRatio = ( this.endX - this.offset ) / this.lineWidth;\r\n\r\n        this.lineWidth = newWidth;\r\n        this.startX = Math.min( Math.max( newWidth * startRatio, 0 ), newWidth ) + this.offset;\r\n        this.currentX = Math.min(Math.max( newWidth * currentRatio, 0 ), newWidth) + this.offset;\r\n        this.endX = Math.min( Math.max( newWidth * endRatio, 0  ), newWidth) + this.offset;\r\n\r\n        this._draw();\r\n    }\r\n}\r\n\r\nLX.TimeBar = TimeBar;\r\n\r\n/**\r\n * @class VideoEditor\r\n */\r\n\r\nexport class VideoEditor\r\n{\r\n    static CROP_HANDLE_L: number = 0x01;\r\n    static CROP_HANDLE_R: number = 0x02;\r\n    static CROP_HANDLE_T: number = 0x04;\r\n    static CROP_HANDLE_B: number = 0x08;\r\n    static CROP_HANDLE_TL: number = VideoEditor.CROP_HANDLE_L | VideoEditor.CROP_HANDLE_T;\r\n    static CROP_HANDLE_BL: number = VideoEditor.CROP_HANDLE_L | VideoEditor.CROP_HANDLE_B;\r\n    static CROP_HANDLE_TR: number = VideoEditor.CROP_HANDLE_R | VideoEditor.CROP_HANDLE_T;\r\n    static CROP_HANDLE_BR: number = VideoEditor.CROP_HANDLE_R | VideoEditor.CROP_HANDLE_B;\r\n    \r\n    options: any = {};\r\n    playing: boolean = false;\r\n    videoReady: boolean = false;\r\n    controls: boolean = true;\r\n    startTimeString: string = \"0:0\";\r\n    endTimeString: string = \"0:0\";\r\n    speed: number = 1.0;\r\n    currentTime: number = 0.0;\r\n    startTime: number = 0.0;\r\n    endTime: number = 0.0;\r\n    requestId: any;\r\n    video: HTMLVideoElement;\r\n    loop: boolean = false;\r\n    isDragging: boolean = false;\r\n    isResizing: any = null; // holds the HTMLElement of the crop handle, if resizing\r\n    crop: boolean = false;\r\n    dragOffsetX: number = 0.0;\r\n    dragOffsetY: number = 0.0;\r\n    currentTimeString: string = \"\";\r\n\r\n    timebar: TimeBar;\r\n    mainArea: typeof Area;\r\n    cropArea: any; // HTMLElement with normCoord attribute;\r\n    controlsArea: typeof Area;\r\n    controlsPanelLeft: typeof Panel;\r\n    controlsPanelRight: typeof Panel;\r\n    controlsCurrentPanel: typeof Panel;\r\n\r\n    onChangeCurrent: any;\r\n    onChangeStart: any;\r\n    onChangeEnd: any;\r\n    onKeyUp: any;\r\n    onSetTime: any;\r\n    onVideoLoaded: any;\r\n    onCropArea: any;\r\n    onResize: any;\r\n    onChangeSpeed: any;\r\n\r\n    _updateTime: boolean = true;\r\n    _onCropMouseUp: (e: MouseEvent ) => void;\r\n    _onCropMouseMove: (e: MouseEvent ) => void;\r\n    resize: () => void;\r\n\r\n    constructor( area: typeof Area, options: any = {} )\r\n    {\r\n        this.options = options ?? {};\r\n        this.speed = options.speed ?? this.speed\r\n        this.mainArea = area;\r\n\r\n        let videoArea = null;\r\n        let controlsArea = null;\r\n\r\n        if( options.controlsArea )\r\n        {\r\n            videoArea = area;\r\n            controlsArea = options.controlsArea;\r\n        }\r\n        else\r\n        {\r\n            [ videoArea, controlsArea ] = area.split( { type: 'vertical', sizes: [\"85%\", null], minimizable: false, resize: false } );\r\n        }\r\n\r\n        controlsArea.root.classList.add('lexconstrolsarea');\r\n\r\n        this.cropArea = document.createElement(\"div\");\r\n        this.cropArea.id = \"cropArea\";\r\n        this.cropArea.className = \"resize-area hidden\";\r\n        this.cropArea.normCoords = { x: 0, y:0, w: 1, h: 1 };\r\n        \r\n        const flags = 0x0f;\r\n        this.setCropAreaHandles( flags );\r\n\r\n        this.crop = options.crop;\r\n        this.dragOffsetX = 0;\r\n        this.dragOffsetY = 0;\r\n        // Create video element and load it\r\n        let video = this.video = options.video ?? document.createElement( 'video' );\r\n        this.loop = options.loop ?? this.loop;\r\n\r\n        if( options.src )\r\n        {\r\n            this.video.src = options.src;\r\n            this.loadVideo( options );\r\n        }\r\n\r\n        if( options.videoArea )\r\n        {\r\n            options.videoArea.root.classList.add( \"lexvideoeditor\" );\r\n            options.videoArea.attach( this.cropArea );\r\n            videoArea.attach( options.videoArea );\r\n        }\r\n        else\r\n        {\r\n            videoArea.attach( video );\r\n            videoArea.attach( this.cropArea );\r\n            videoArea.root.classList.add(\"lexvideoeditor\");\r\n        }\r\n\r\n        this.controlsArea = controlsArea;\r\n        // Create playing timeline area and attach panels\r\n        let [ topArea, bottomArea ] = controlsArea.split({ type: 'vertical', sizes:[\"50%\", null], minimizable: false, resize: false });\r\n        bottomArea.setSize( [ bottomArea.size[ 0 ], 40 ] );\r\n        let [ leftArea, controlsRight ] = bottomArea.split({ type: 'horizontal', sizes:[\"92%\", null], minimizable: false, resize: false });\r\n        let [ controlsLeft, timeBarArea ] = leftArea.split({ type: 'horizontal', sizes:[\"10%\", null], minimizable: false, resize: false });\r\n\r\n        topArea.root.classList.add('lexbar');\r\n        bottomArea.root.classList.add('lexbar');\r\n        this.controlsCurrentPanel = new LX.Panel( { className: 'lexcontrolspanel lextime' } );\r\n        this.controlsCurrentPanel.refresh = () =>\r\n        {\r\n            this.controlsCurrentPanel.clear();\r\n            this.controlsCurrentPanel.addLabel( this.currentTimeString, { float: \"center\" } );\r\n        }\r\n        topArea.root.classList.add('lexflexarea')\r\n        topArea.attach( this.controlsCurrentPanel );\r\n        this.controlsCurrentPanel.refresh();\r\n\r\n        const style = getComputedStyle( bottomArea.root );\r\n        let padding = Number( style.getPropertyValue( 'padding' ).replace( \"px\", \"\" ) );\r\n        this.timebar = new TimeBar( timeBarArea, TimeBar.TIMEBAR_TRIM, { offset: padding } );\r\n\r\n        // Create controls panel (play/pause button and start time)\r\n        this.controlsPanelLeft = new LX.Panel({className: 'lexcontrolspanel'});\r\n        this.controlsPanelLeft.refresh = () => {\r\n            this.controlsPanelLeft.clear();\r\n            this.controlsPanelLeft.sameLine();\r\n            let playbtn = this.controlsPanelLeft.addButton('Play', \"\", (v: boolean ) => {\r\n                this.playing = v;\r\n                if( this.playing )\r\n                {\r\n                    if( this.video.currentTime + 0.000001 >= this.endTime) {\r\n                        this.video.currentTime = this.startTime;\r\n                    }\r\n                    this.video.play()\r\n                }\r\n                else\r\n                {\r\n                    this.video.pause();\r\n                }\r\n            }, { width: '40px', icon: 'Play@solid', swap: 'Pause@solid', hideName: true, className: \"justify-center\"});\r\n            playbtn.setState( this.playing, true );\r\n\r\n            this.controlsPanelLeft.addButton('', '', ( v: any, e: MouseEvent ) =>\r\n            {                \r\n                const panel = new LX.Panel();\r\n                panel.addRange(\"Speed\", this.speed, ( v: number ) => {\r\n                    this.speed = v;\r\n                    this.video.playbackRate = v;\r\n                    if( this.onChangeSpeed )\r\n                    {\r\n                        this.onChangeSpeed( v );\r\n                    }\r\n                }, {min: 0, max: 2.5, step: 0.01, hideName: true});\r\n                          \r\n                new LX.Popover( e.target, [ panel ], { align: \"start\", side: \"top\", sideOffset: 12 } );\r\n              \r\n            }, { width: '40px', title: 'speed', icon: \"Timer@solid\", className: \"justify-center\" } );\r\n            \r\n            this.controlsPanelLeft.addButton('', 'Loop', (v: boolean ) =>\r\n            {\r\n                this.loop = v;\r\n            }, { width: '40px', title: 'loop', icon: ( 'Repeat@solid'), className: `justify-center`, selectable: true, selected: this.loop });\r\n\r\n            this.controlsPanelLeft.addLabel( this.startTimeString, {width: \"100px\"});\r\n            this.controlsPanelLeft.endLine();\r\n\r\n            let availableWidth = leftArea.root.clientWidth - controlsLeft.root.clientWidth;\r\n            this.timebar.resize([availableWidth, timeBarArea.root.clientHeight]);\r\n        }\r\n\r\n        this.controlsPanelLeft.refresh();\r\n        controlsLeft.root.style.minWidth = 'fit-content';\r\n       // controlsLeft.root.classList.add();\r\n        controlsLeft.attach( this.controlsPanelLeft);\r\n\r\n        // Create right controls panel (ens time)\r\n        this.controlsPanelRight = new LX.Panel({className: 'lexcontrolspanel'});\r\n        this.controlsPanelRight.refresh = () => {\r\n            this.controlsPanelRight.clear();\r\n            this.controlsPanelRight.addLabel( this.endTimeString, { width: 100 });\r\n        }\r\n        this.controlsPanelRight.refresh();\r\n        controlsRight.root.style.minWidth = 'fit-content';\r\n        controlsRight.attach( this.controlsPanelRight);\r\n\r\n        this.timebar.onChangeCurrent = this._setCurrentTime.bind(this);\r\n        this.timebar.onChangeStart = this._setStartTime.bind(this);\r\n        this.timebar.onChangeEnd = this._setEndTime.bind(this);\r\n\r\n        this.resize = () =>{\r\n            bottomArea.setSize([this.controlsArea.root.clientWidth, 40]);\r\n            let availableWidth = this.controlsArea.root.clientWidth - controlsLeft.root.clientWidth - controlsRight.root.clientWidth;\r\n            this.timebar.resize([availableWidth, timeBarArea.root.clientHeight]);\r\n            this.moveCropArea( this.cropArea.normCoords.x, this.cropArea.normCoords.y, true );\r\n            this.resizeCropArea( this.cropArea.normCoords.w, this.cropArea.normCoords.h, true );\r\n            \r\n            if(this.onResize) {\r\n                this.onResize([videoArea.root.clientWidth, videoArea.root.clientHeight]);\r\n            }\r\n        }\r\n        area.onresize = this.resize.bind(this);\r\n        window.addEventListener('resize', area.onresize );\r\n\r\n        this.onKeyUp = ( e: KeyboardEvent ) =>\r\n        {\r\n            if( this.controls && e.key == \" \" )\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                this.playing = !this.playing;\r\n                if( this.playing )\r\n                {\r\n                    if( this.video.currentTime + 0.000001 >= this.endTime)\r\n                    {\r\n                        this.video.currentTime = this.startTime;\r\n                    }\r\n                    this.video.play();\r\n                }\r\n                else\r\n                {\r\n                    this.video.pause();\r\n                }\r\n\r\n                this.controlsPanelLeft.refresh();\r\n            }\r\n        }\r\n\r\n        window.addEventListener( \"keyup\", this.onKeyUp );\r\n\r\n        const parent = controlsArea.parentElement ? controlsArea.parentElement : controlsArea.root.parentElement;\r\n\r\n        // Add canvas event listeneres\r\n        parent.addEventListener( \"mousedown\", ( e: MouseEvent ) => {\r\n            // if( this.controls) {\r\n            //     this.timebar.onMouseDown(e);\r\n            // }\r\n        });\r\n\r\n        this._onCropMouseUp = (event : MouseEvent) => {\r\n            // if(this.controls) {\r\n            //     this.timebar.onMouseUp(event);\r\n            // }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if( ( this.isDragging || this.isResizing ) && this.onCropArea ) {\r\n                this.onCropArea( this.getCroppedArea() );\r\n            }\r\n            this.isDragging = false;\r\n            this.isResizing = false;\r\n\r\n            document.removeEventListener( \"mouseup\", this._onCropMouseUp ); // self destroy. Added during mouseDown on cropArea and handles\r\n            document.removeEventListener( \"mousemove\", this._onCropMouseMove ); // self destroy. Added during mouseDown on cropArea and handles\r\n        };\r\n\r\n        this._onCropMouseMove = (event : MouseEvent) => {\r\n            // if(this.controls) {\r\n            //     this.timebar.onMouseMove(event);\r\n            // }\r\n            window.getSelection()?.removeAllRanges();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            \r\n            if( this.isResizing )\r\n            {\r\n                const rectCrop = this.cropArea.getBoundingClientRect();\r\n                const rectVideo = this.video.getBoundingClientRect();\r\n                const mov = this.isResizing.movement;\r\n\r\n                let x = rectCrop.left, y = rectCrop.top, w = rectCrop.width, h = rectCrop.height;\r\n\r\n                if( mov & VideoEditor.CROP_HANDLE_L )\r\n                {\r\n                    let mouseX = Math.min( rectCrop.right - 4, Math.max( rectVideo.left, event.clientX ) ); // -4 because of border\r\n                    w = rectCrop.left + rectCrop.width - mouseX;\r\n                    x = mouseX;\r\n                    if( mouseX < rectCrop.left ) {\r\n                        this.moveCropArea( x, y, false );\r\n                        this.resizeCropArea( w, h, false );\r\n                    }\r\n                    else\r\n                    {\r\n                        this.resizeCropArea( w, h, false );\r\n                        this.moveCropArea( x, y, false );\r\n                    }\r\n                }\r\n\r\n                if( mov & VideoEditor.CROP_HANDLE_R )\r\n                {\r\n                    w = event.clientX - rectCrop.left;\r\n                    this.resizeCropArea( w, h, false );\r\n                }\r\n\r\n                if( mov & VideoEditor.CROP_HANDLE_T )\r\n                {\r\n                    const mouseY = Math.min( rectCrop.bottom - 4, Math.max( rectVideo.top, event.clientY ) ); \r\n                    h = rectCrop.top + rectCrop.height - mouseY;\r\n                    y = mouseY\r\n\r\n                    if( mouseY < rectCrop.top )\r\n                    {\r\n                        this.moveCropArea( x, y, false );\r\n                        this.resizeCropArea( w, h, false );\r\n                    }\r\n                    else\r\n                    {\r\n                        this.resizeCropArea( w, h, false );\r\n                        this.moveCropArea( x, y, false );\r\n                    }\r\n\r\n                }\r\n\r\n                if( mov & VideoEditor.CROP_HANDLE_B )\r\n                {\r\n                    h = event.clientY - rectCrop.top;\r\n                    this.resizeCropArea( w, h, false );\r\n                }\r\n\r\n            }\r\n            \r\n            if( this.isDragging )\r\n            {\r\n                this.moveCropArea( event.clientX - this.dragOffsetX, event.clientY - this.dragOffsetY, false );\r\n            }\r\n        };\r\n\r\n        this.cropArea.addEventListener( \"mousedown\", ( e: MouseEvent ) =>\r\n        {\r\n            if( e.target === this.cropArea )\r\n            {\r\n                const rect = this.cropArea.getBoundingClientRect();\r\n                this.isDragging = true;\r\n\r\n                this.dragOffsetX = e.clientX - rect.left;\r\n                this.dragOffsetY = e.clientY - rect.top;\r\n\r\n                document.addEventListener( \"mouseup\", this._onCropMouseUp );\r\n                document.addEventListener( \"mousemove\", this._onCropMouseMove );\r\n            }\r\n        });\r\n\r\n        this.onChangeStart = null;\r\n        this.onChangeEnd = null;\r\n    }\r\n\r\n    setCropAreaHandles( flags : number )\r\n    {\r\n        // remove existing resizer handles\r\n        const resizers = this.cropArea.getElementsByClassName(\"resize-handle\");\r\n        for( let i = resizers.length -1 ; i > -1; --i )\r\n        {\r\n            resizers[ i ].remove();\r\n        }\r\n\r\n        const buildResizer = ( className: string, movement: number ) => {\r\n            const handle: any = document.createElement(\"div\");\r\n            handle.className = \" resize-handle \" + className;\r\n            handle.movement = movement;\r\n            if( this.options.handleStyle )\r\n            {\r\n                Object.assign( handle.style, this.options.handleStyle );\r\n            }\r\n            this.cropArea.append(handle);\r\n            handle.addEventListener( \"mousedown\", ( e: MouseEvent ) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                this.isResizing = handle;\r\n\r\n                document.addEventListener( \"mouseup\", this._onCropMouseUp );\r\n                document.addEventListener( \"mousemove\", this._onCropMouseMove );\r\n            });\r\n        }\r\n\r\n        if( flags & VideoEditor.CROP_HANDLE_L ) { buildResizer( \"l\", VideoEditor.CROP_HANDLE_L ); }\r\n        if( flags & VideoEditor.CROP_HANDLE_R ) { buildResizer( \"r\", VideoEditor.CROP_HANDLE_R ); }\r\n        if( flags & VideoEditor.CROP_HANDLE_T ) { buildResizer( \"t\", VideoEditor.CROP_HANDLE_T ); }\r\n        if( flags & VideoEditor.CROP_HANDLE_B ) { buildResizer( \"b\", VideoEditor.CROP_HANDLE_B ); }\r\n        if( ( flags & VideoEditor.CROP_HANDLE_TL ) == VideoEditor.CROP_HANDLE_TL ) { buildResizer( \"tl\", VideoEditor.CROP_HANDLE_TL ); }\r\n        if( ( flags & VideoEditor.CROP_HANDLE_BL ) == VideoEditor.CROP_HANDLE_BL ) { buildResizer( \"bl\", VideoEditor.CROP_HANDLE_BL ); }\r\n        if( ( flags & VideoEditor.CROP_HANDLE_TR ) == VideoEditor.CROP_HANDLE_TR ) { buildResizer( \"tr\", VideoEditor.CROP_HANDLE_TR ); }\r\n        if( ( flags & VideoEditor.CROP_HANDLE_BR ) == VideoEditor.CROP_HANDLE_BR ) { buildResizer( \"br\", VideoEditor.CROP_HANDLE_BR ); }\r\n    }   \r\n\r\n    resizeCropArea( sx: number, sy: number, isNormalized: boolean = true ) {\r\n        \r\n        const rectVideo = this.video.getBoundingClientRect();\r\n\r\n        if( !isNormalized )\r\n        {\r\n            sx = (rectVideo.width) ? ( sx / rectVideo.width ) : 1;\r\n            sy = (rectVideo.height) ? ( sy / rectVideo.height ) : 1;            \r\n        }\r\n\r\n        sx = Math.min( 1 - this.cropArea.normCoords.x, Math.max( 0, sx ) );\r\n        sy = Math.min( 1 - this.cropArea.normCoords.y, Math.max( 0, sy ) );\r\n\r\n        this.cropArea.normCoords.w = sx;\r\n        this.cropArea.normCoords.h = sy;\r\n       \r\n        const widthPx = rectVideo.width * sx;\r\n        const heightPx = rectVideo.height * sy;\r\n        const xPx = rectVideo.width * this.cropArea.normCoords.x + rectVideo.left;\r\n        const yPx = rectVideo.height * this.cropArea.normCoords.y + rectVideo.top;\r\n        \r\n        if( !this.cropArea.classList.contains(\"hidden\") )\r\n        {\r\n            const nodes = this.cropArea.parentElement.childNodes;\r\n            for( let i = 0; i < nodes.length; i++ )\r\n            {\r\n                if( nodes[ i ] != this.cropArea )\r\n                {\r\n                    const rectEl = nodes[ i ].getBoundingClientRect();\r\n                    nodes[ i ].style.webkitMask = `linear-gradient(#000 0 0) ${xPx - rectEl.left}px ${yPx - rectEl.top}px / ${widthPx}px ${heightPx}px, linear-gradient(rgba(0, 0, 0, 0.3) 0 0)`;\r\n                    nodes[ i ].style.webkitMaskRepeat = 'no-repeat';\r\n                }\r\n            }\r\n        }\r\n        \r\n        this.cropArea.style.width = widthPx + \"px\";\r\n        this.cropArea.style.height = heightPx + \"px\";\r\n    }\r\n\r\n    // screen pixel (event.clientX) or video normalized (0 is top left of video, 1 bot right)\r\n    moveCropArea( x: number, y: number, isNormalized: boolean = true )\r\n    {\r\n        const rectVideo = this.video.getBoundingClientRect();\r\n\r\n        if( !isNormalized ) {\r\n            x = (rectVideo.width) ? ( (x - rectVideo.left) / rectVideo.width ) : 0;\r\n            y = (rectVideo.height) ? ( (y - rectVideo.top) / rectVideo.height ) : 0;            \r\n        }\r\n\r\n        x = Math.max( 0, Math.min( 1 - this.cropArea.normCoords.w, x ) );\r\n        y = Math.max( 0, Math.min( 1 - this.cropArea.normCoords.h, y ) );\r\n\r\n        this.cropArea.normCoords.x = x;\r\n        this.cropArea.normCoords.y = y;\r\n       \r\n        const xPx = rectVideo.width * x + rectVideo.left;\r\n        const yPx = rectVideo.height * y + rectVideo.top;\r\n        const widthPx = rectVideo.width * this.cropArea.normCoords.w;\r\n        const heightPx = rectVideo.height * this.cropArea.normCoords.h;\r\n\r\n        if( !this.cropArea.classList.contains(\"hidden\") )\r\n        {\r\n            const nodes = this.cropArea.parentElement.childNodes;\r\n            for( let i = 0; i < nodes.length; i++ )\r\n            {\r\n                if( nodes[ i ] != this.cropArea )\r\n                {\r\n                    const rectEl = nodes[ i ].getBoundingClientRect();\r\n                    nodes[ i ].style.webkitMask = `linear-gradient(#000 0 0) ${xPx - rectEl.left}px ${yPx - rectEl.top}px / ${widthPx}px ${heightPx}px, linear-gradient(rgba(0, 0, 0, 0.3) 0 0)`;\r\n                    nodes[ i ].style.webkitMaskRepeat = 'no-repeat';\r\n                }\r\n            }\r\n        }\r\n\r\n        const rectParent = this.cropArea.parentElement.getBoundingClientRect();\r\n        this.cropArea.style.left = xPx - rectParent.left + \"px\";\r\n        this.cropArea.style.top = yPx - rectParent.top + \"px\";\r\n    }\r\n\r\n    async loadVideo( options: any = {} )\r\n    {\r\n        this.videoReady = false;\r\n\r\n        while( this.video.duration === Infinity || isNaN( this.video.duration ) || !this.timebar )\r\n        {\r\n            await new Promise(r => setTimeout(r, 1000));\r\n            this.video.currentTime = 10000000 * Math.random();\r\n        }\r\n\r\n        this.video.currentTime = 0.01; // BUG: some videos will not play unless this line is present\r\n\r\n        // Duration can change if the video is dynamic (stream). This function is to ensure to load all buffer data\r\n        const forceLoadChunks =  () => {\r\n            const state = this.videoReady;\r\n            if( this.video.readyState > 3 ) {\r\n                this.videoReady = true;\r\n            }\r\n            if( !state ) {\r\n                this.video.currentTime = this.video.duration;\r\n            }\r\n        }\r\n\r\n        this.video.addEventListener( \"canplaythrough\", forceLoadChunks, { passive: true } );\r\n\r\n        this.video.ondurationchange = ( v ) => {\r\n            if( this.video.duration != this.endTime )\r\n            {\r\n                this.video.currentTime = this.startTime;\r\n                console.log(\"duration changed from\", this.endTime, \" to \", this.video.duration );\r\n                this.endTime = this.video.duration;\r\n                this.timebar.setDuration( this.endTime );\r\n                this.timebar.setEndTime( this.endTime );\r\n            }\r\n            this.video.currentTime = this.startTime;\r\n            this.timebar.setCurrentTime( this.video.currentTime );\r\n\r\n        }\r\n\r\n        this.timebar.startX = this.timebar.position.x;\r\n        this.timebar.endX = this.timebar.position.x + this.timebar.lineWidth;\r\n        this.startTime = 0;\r\n        this.endTime = this.video.duration;\r\n        this.timebar.setDuration( this.endTime );\r\n        this.timebar.setEndTime( this.video.duration );\r\n        this.timebar.setStartTime( this.startTime );\r\n        this.timebar.setCurrentTime( this.startTime );\r\n        //this.timebar.setStartValue( this.timebar.startX);\r\n        //this.timebar.currentX = this._timeToX( this.video.currentTime);\r\n        //this.timebar.setCurrentValue( this.timebar.currentX);\r\n        //this.timebar.update( this.timebar.currentX );\r\n\r\n        // only have one update on flight\r\n        if( !this.requestId )\r\n        {\r\n            this._update();\r\n        }\r\n\r\n        this.controls = options.controls ?? true;\r\n\r\n        if( !this.controls )\r\n        {\r\n            this.hideControls();\r\n        }\r\n\r\n        this.cropArea.style.height = this.video.clientHeight + \"px\";\r\n        this.cropArea.style.width = this.video.clientWidth + \"px\";\r\n        this.moveCropArea( 0, 0, true );\r\n        this.resizeCropArea( 1, 1, true );\r\n\r\n        if( this.crop )\r\n        {\r\n            this.showCropArea();\r\n        }\r\n        else\r\n        {\r\n            this.hideCropArea();\r\n        }\r\n\r\n        window.addEventListener( \"keyup\", this.onKeyUp );\r\n\r\n        if( this.onVideoLoaded )\r\n        {\r\n            this.onVideoLoaded( this.video );\r\n        }\r\n    }\r\n\r\n    _update()\r\n    {\r\n        // if( this.onDraw ) {\r\n        //     this.onDraw();\r\n        // }\r\n        if( this.playing )\r\n        {\r\n            if( this.video.currentTime + 0.000001 >= this.endTime )\r\n            {\r\n                this.video.pause();\r\n\r\n                if( !this.loop )\r\n                {\r\n                    this.playing = false;\r\n                    this.controlsPanelLeft.refresh();\r\n                }\r\n                else\r\n                {\r\n                    this.video.currentTime = this.startTime;\r\n                    this.video.play();\r\n                }\r\n            }\r\n\r\n            this._updateTime = false;\r\n            this.timebar.setCurrentTime( this.video.currentTime );\r\n            this._updateTime = true;\r\n        }\r\n\r\n        this.requestId = requestAnimationFrame( this._update.bind(this) );\r\n    }\r\n\r\n    timeToString( t: number )\r\n    {\r\n        let mzminutes = Math.floor( t / 60 );\r\n        let mzseconds = Math.floor( t - ( mzminutes * 60 ) );\r\n        let mzmiliseconds = Math.floor( ( t - mzseconds ) * 100 );\r\n\r\n        let mzmilisecondsStr: string = mzmiliseconds < 10 ? ( '0' + mzmiliseconds ) : mzmiliseconds.toString();\r\n        let mzsecondsStr: string = mzseconds < 10 ? ( '0' + mzseconds ) : mzseconds.toString();\r\n        let mzminutesStr: string = mzminutes < 10 ? ( '0' + mzminutes ) : mzminutes.toString();\r\n        return `${ mzminutesStr }:${ mzsecondsStr }.${ mzmilisecondsStr }`;\r\n    }\r\n\r\n    _setCurrentTime( t: number )\r\n    {\r\n        if( this.video.currentTime != t && this._updateTime )\r\n        {\r\n            this.video.currentTime = t;\r\n        }\r\n        \r\n        this.currentTimeString = this.timeToString( t );\r\n        this.controlsCurrentPanel.refresh();\r\n\r\n        if( this.onSetTime )\r\n        {\r\n            this.onSetTime( t );\r\n        }\r\n\r\n        if( this.onChangeCurrent )\r\n        {\r\n            this.onChangeCurrent( t );\r\n        }\r\n    }\r\n\r\n    _setStartTime( t: number )\r\n    {\r\n        this.startTime = this.video.currentTime = t;\r\n\r\n        this.startTimeString =  this.timeToString( t );\r\n        this.controlsPanelLeft.refresh();\r\n\r\n        if( this.onSetTime )\r\n        {\r\n            this.onSetTime( t );\r\n        }\r\n\r\n        if( this.onChangeStart )\r\n        {\r\n            this.onChangeStart ( t );\r\n        }\r\n    }\r\n\r\n    _setEndTime( t: number )\r\n    {\r\n        this.endTime = this.video.currentTime = t;\r\n\r\n        this.endTimeString = this.timeToString( t )\r\n        this.controlsPanelRight.refresh();\r\n\r\n        if( this.onSetTime )\r\n        {\r\n            this.onSetTime( t );\r\n        }\r\n\r\n        if( this.onChangeEnd )\r\n        {\r\n            this.onChangeEnd( t );\r\n        }\r\n    }\r\n\r\n    getStartTime()\r\n    {\r\n        return this.startTime;\r\n    }\r\n\r\n    getEndTime()\r\n    {\r\n        return this.endTime;\r\n    }\r\n\r\n    getTrimedTimes()\r\n    {\r\n        return { start: this.startTime, end: this.endTime };\r\n    }\r\n\r\n    getCroppedArea()\r\n    {\r\n        return this.cropArea.getBoundingClientRect();\r\n    }\r\n\r\n    showCropArea()\r\n    {\r\n        this.cropArea.classList.remove( \"hidden\" );\r\n\r\n        const nodes = this.cropArea.parentElement?.childNodes ?? [];\r\n        const rect = this.cropArea.getBoundingClientRect();\r\n        for( let i = 0; i < nodes.length; i++ )\r\n        {\r\n            const node: any = nodes[ i ];\r\n            if( node == this.cropArea ) continue;\r\n            const rectEl = node.getBoundingClientRect();\r\n            node.style.webkitMask = `linear-gradient(#000 0 0) ${ rect.left - rectEl.left }px ${ rect.top - rectEl.top }px / ${ rect.width }px ${ rect.height }px, linear-gradient(rgba(0, 0, 0, 0.3) 0 0)`;\r\n            node.style.webkitMaskRepeat = 'no-repeat';\r\n        }\r\n    }\r\n\r\n    hideCropArea()\r\n    {\r\n        this.cropArea.classList.add(\"hidden\");\r\n\r\n        const nodes = this.cropArea.parentElement?.childNodes ?? [];\r\n        for( let i = 0; i < nodes.length; i++ )\r\n        {\r\n            const node: any = nodes[ i ];\r\n            if( node == this.cropArea ) continue;\r\n            node.style.webkitMask = \"\";\r\n            node.style.webkitMaskRepeat = 'no-repeat';\r\n        }\r\n    }\r\n\r\n    showControls()\r\n    {\r\n        this.controls = true;\r\n        this.controlsArea.show();\r\n    }\r\n\r\n    hideControls()\r\n    {\r\n        this.controls = false;\r\n        this.controlsArea.hide();\r\n    }\r\n\r\n    stopUpdates()\r\n    {\r\n        if( this.requestId )\r\n        {\r\n            cancelAnimationFrame( this.requestId );\r\n            this.requestId = null;\r\n        }\r\n    }\r\n\r\n    unbind()\r\n    {\r\n        this.stopUpdates();\r\n\r\n        this.video.pause();\r\n        this.playing = false;\r\n        this.controlsPanelLeft.refresh();\r\n        this.video.src = \"\";\r\n\r\n        window.removeEventListener( \"keyup\", this.onKeyUp );\r\n        document.removeEventListener(\"mouseup\", this._onCropMouseUp );\r\n        document.removeEventListener(\"mousemove\", this._onCropMouseMove );\r\n\r\n    }\r\n}\r\n\r\nLX.VideoEditor = VideoEditor;"],"names":["g","ComponentType","BaseComponent","IEvent","vec2","Panel","Area","Dialog","PocketDialog"],"mappings":"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"}