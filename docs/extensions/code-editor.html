<script type="text/javascript">

    MAKE_HEADER( "Code Editor.", "h1", "code-editor" );

    MAKE_PARAGRAPH( `Provides an embedded editing tool with syntax highlighting, line numbers, and editing conveniences like autocomplete and undo/redo.` );
    MAKE_LINE_BREAK();

    {
        const area = new LX.Area( { skipAppend: true, height: "500px" } );
        content.appendChild( area.root );
        let editor = new LX.CodeEditor( area, {
            files: [ "../data/js_sample.js" ]
        } );
        area.root.className += " border rounded-lg shadow-lg bg-secondary overflow-hidden";
    }

    MAKE_HEADER("Quick Usage", "h2");
    MAKE_PARAGRAPH( `The Code Editor component supports the following language highlightings:` );
    MAKE_CODE_BULLET_LIST( [
        "Plain text",
        "HTML, CSS, JavaScript",
        "C, C++",
        "CMake",
        "WGSL, GLSL",
        "JSON",
        "XML",
        "Rust",
        "Python",
        "Batch",
        "Markdown"
    ] );

    MAKE_HEADER( "Creating the editor", "h3", "init" );

    MAKE_PARAGRAPH( `The Editor has to be appended to an existing area. It means that it can be created anywhere in the document window (e.g. dialogs, panels, areas, etc.), since to create an area it's as easy as instancing a new
    one. The following lines instantiate the DOM element for the editor:` );
    MAKE_CODE( `@let@ @[var]editor@ = @new@ @[cls]LX@.@[cls]CodeEditor@( @[var]area@, @[var]options@ );` );

    MAKE_HEADER( "Opening files and new tabs", "h3", "using-tabs" );
    MAKE_PARAGRAPH( `To load existing files you must use ${INLINE_CODE("CodeEditor.loadFile( filename, options )")}. This will open a new tab with the code in it using as options:` );
    MAKE_CODE_BULLET_LIST( [
        ["language", "String", "Override the language highlighting for the new loaded file"]
    ] );

    MAKE_PARAGRAPH( `Tab Events:` );
    MAKE_CODE_BULLET_LIST( [
        ["Double click to tab space", "Adds new empty tab"],
        ["Middle click to tab", "Closes tab"]
    ] );

    MAKE_HEADER("API Reference", "h2");
    MAKE_CLASS_CONSTRUCTOR( "class LX.CodeEditor", [
        ["area", "LX.Area"],
        ["options", "Object"]
    ] );
    MAKE_LINE_BREAK();
    MAKE_PARAGRAPH(`Where ${ INLINE_CODE( "area" ) } is the area to be attached to, and ${ INLINE_CODE( "options" ) } can include the following:`);
    MAKE_LINE_BREAK();

    {
        const area = new LX.Area( { skipAppend: true, height: "auto", className: "mb-6" } );
        const panel = area.addPanel();
        content.appendChild( area.root );
        panel.addTable( null, {
            head: [ "Option", "Type", "Description", "Default" ],
            body: [
                ["name", "String", "If defined, name of the default code tab", "—"],
                ["highlight", "String", "Default highlighting", `"Plain Text"`],
                ["allowAddScripts", "Boolean", "Enables/Disables adding new tabs on dbl-click tab space; doesn't add the 'New tab' tab", "true"],
                ["skipInfo", "Boolean", "Show or hide the editor info panel at the bottom (Line, Column, Change Hightlighting, etc.)", "false"],
                ["fileExplorer", "Boolean", "Create a file explorer for the editor", "false"],
                ["disableEdition", "Boolean", "Disables the edition of code (To make code snippets)", "false"],
                ["autocomplete", "Boolean", "Toggle using autocomplete tool", "true"],
                ["onsave", "Function", "Code to call when pressing <code class='inline'>Ctrl+S</code> in the editor", "—"],
                ["onrun", "Function", "Code to call when pressing <code class='inline'>Ctrl+Enter</code> in the editor", "—"],
            ].map( v => {
                return [ INLINE_CODE( v[ 0 ], "table" ), INLINE_CODE( v[ 1 ], "table desc" ), v[ 2 ], v[ 3 ] != "—" ? INLINE_CODE( v[ 3 ], "table desc" ) : v[ 3 ] ];
            } )
        }, {});
    }

    MAKE_LINE_BREAK();
    MAKE_LINE_BREAK();

</script>