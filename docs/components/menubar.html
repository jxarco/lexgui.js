<script type="module">
    import { LX } from 'lexgui';

    MAKE_HEADER( "Menubar.", "h1", "menubar" );
    MAKE_PARAGRAPH( `A visually persistent menu common in desktop applications that provides quick access to a consistent set of commands.` );
    MAKE_LINE_BREAK();

    {
        const area = new LX.Area( { skipAppend: true, height: "200px" } );
        content.appendChild( area.root );

        const menubar = area.addMenubar( [
            { name: "Scene", submenu: [
                { name: "New Scene" },
                { name: "Open Scene", icon: "FolderOpen", kbd: "S" },
                { name: "Open Recent", icon: "File",  submenu: [
                    { name: "hello.scene" },
                    { name: "goodbye.scene" }
                ] }
            ] },
            { name: "Project", submenu: [
                { name: "Project Settings", disabled: true },
                null,
                { name: "Export", submenu: [
                    { name: "DAE", icon: "Frame", kbd: "D" },
                    { name: "GLTF", kbd:  "G" }
                ] },
                { name: "Export", icon: "Download" }
            ] },
            { name: "Editor", submenu: [
                { name: "Autosave", checked: true, icon: "Save" },
                { name: "Settings",  icon: "Settings2" },
            ] },
            { name: "Account", submenu: [
                { name: "Login", icon: "User" },
            ] },
            { name: "Help", submenu: [
                { name: "Search Help", icon: "Search", kbd:  "F1" },
                { name: "Support LexGUI", icon: "Heart" },
            ] },
        ], { sticky: false });

        menubar.addButtons( [
            {
                title: "Play",
                icon: "Play@solid",
                swap: "Stop@solid"
            },
            {
                title: "Pause",
                icon: "Pause@solid",
                disabled: true
            }
        ]);
        area.root.className += " border rounded-lg shadow-lg bg-secondary overflow-hidden";
        area.sections[ 1 ].root.className += " bg-none";
    }

    MAKE_HEADER("Quick Usage", "h2");
    MAKE_CODE( `area.@[mtd]addMenubar@( [
    { name: @"Scene"@, submenu: [
        { name: @"New Scene"@ },
        { name: @"Open Scene"@, icon: @"FolderOpen"@, kbd: @"S"@ },
        { name: @"Open Recent"@, icon: @"File"@,  submenu: [
            { name: @"hello.scene"@ },
            { name: @"goodbye.scene"@ }
        ] }
    ] },
    { name: @"Editor"@, submenu: [
        { name: @"Autosave"@, checked: @true@, icon: @"Save"@ },
        { name: @"Settings"@, icon: @"Settings2"@ },
    ] },
    { name: @"Help"@, submenu: [
        { name: @"Search Help"@, icon: @"Search"@, kbd: @"F1"@ },
        { name: @"Support LexGUI"@, icon: @"Heart"@ },
    ] },
]);` );

    MAKE_PARAGRAPH( `To specify each of the menu entries, you should pass an <em>Array</em> filled with every entry, which can contain the following options:` );
    MAKE_CODE_BULLET_LIST( [
        ["name", "String", "Name of the entry"],
        ["callback", "Function", "To be called when interacting with the entry"],
        ["icon", "String", "LX.ICONS name"],
        ["kbd", "String", "For key shortcuts"],
        ["checked", "Boolean", "for <em>checkbox</em> entry types"]
    ] );

    MAKE_PARAGRAPH( `The Menubar creation can be configured too, where the following ${INLINE_CODE("options")} are available when calling ${INLINE_CODE("Area.addMenubar(items, options)")}:` );
    MAKE_CODE_BULLET_LIST( [
        ["float", "String", "Justify main entries to left (default), center, right"]
    ] );
    MAKE_CODE( `area.@[mtd]addMenubar@( [
    @[com]// Fill entries...@
], { float: @"center"@ });` );

    MAKE_HEADER( "Menubar Buttons", "h3", "menubar-buttons" );

    MAKE_PARAGRAPH( `You can add a group of buttons to your menubar using ${INLINE_CODE("Menubar.addButtons(callback, options)")}:` );
    MAKE_CODE( `menubar.@[mtd]addButtons@( [
    {
        title: @"Play"@,
        icon: @"Play"@,
        callback: (domEl) => { }
    },
    {
        title: @"Pause"@,
        icon: @"Pause"@,
        disabled: @true@,
        callback: (domEl) => { }
    },
    {
        icon: @"Search"@,
        callback: (domEl) => { }
    }
]);` );

    MAKE_HEADER( "Menubar Icons and Logos", "h3", "menubar-icons" );

    MAKE_PARAGRAPH( `You can also add an icon and/or a logo button to your menubar using ${INLINE_CODE("Menubar.setButtonIcon(title, src, callback, options)")}:` );
    MAKE_CODE( `menubar.@[mtd]setButtonIcon@(@"Github"@, @"Github"@, () => { 
    window.@[mtd]open@(@"https://github.com/jxarco/lexgui.js/"@) 
});` );

    MAKE_PARAGRAPH( `and ${INLINE_CODE("Menubar.setButtonImage(title, src, callback, options)")}:` );
    MAKE_CODE( `menubar.@[mtd]setButtonImage@(@"LexGUI"@, @"path/image.png"@, @null@, { float: @"left"@ });` );

    MAKE_HEADER("API Reference", "h2");
    MAKE_CLASS_CONSTRUCTOR("LX.Menubar", [ [ "options", "Object = {}" ] ]);
    MAKE_LINE_BREAK();
    MAKE_PARAGRAPH( `The possible ${INLINE_CODE(`options`)} are the following:` );
    MAKE_CODE_BULLET_LIST( [
        ["float", "String", "Align menubar content to a specific side"],
        ["sticky", "Boolean", "Fix menubar at the top [true]"]
    ] );

    MAKE_HEADER( "Properties", "h3", "properties" );

    {
        const area = new LX.Area( { skipAppend: true, height: "auto", className: "mb-6" } );
        const panel = area.addPanel();
        content.appendChild( area.root );

        panel.addTable( null, {
            head: [ "Name", "Type", "Description", "Default" ],
            body: [
                [".icons", "Array", "List of the sidebar items with the data: name, DOM element and callback", "—"],
                [".items", "Object", "Map containing the icons for each entry", "—"],
                [".root", "HTMLElement", "Container element of the menubar", "—"],
                [".shorts", "Object", "Map containing the shortcuts for each entry", "—"]    
            ].map( v => {
                return [ INLINE_CODE( v[ 0 ], "table" ), INLINE_CODE( v[ 1 ], "table desc" ), v[ 2 ], v[ 3 ] != "—" ? INLINE_CODE( v[ 3 ], "table desc" ) : v[ 3 ] ];
            } )
        }, {});
    }
    
    MAKE_HEADER( "Methods", "h3", "methods" );

    MAKE_CLASS_METHOD( ".add", `Creates a Menubar entry/subentry using the path.`, [
        ["callback", "Function"],
        ["options", "Object"],
    ] );

    MAKE_CLASS_METHOD( ".addButtons", `Creates a button section inside the menubar.`, [
        ["buttons", "Array"],
        ["options", "Object"],
    ] );

    MAKE_CLASS_METHOD( ".getButton", `Creates a button section inside the menubar.`, [
        ["name", "String"]
    ] );

    MAKE_CLASS_METHOD( ".getItem", `Creates a button section inside the menubar.`, [
        ["path", "String"]
    ] );

    MAKE_CLASS_METHOD( ".getSubitem", `Recursive method to find subentries of a menu entry.`, [
        ["item", "Object"],
        ["tokens", "Array"],
    ] );

    MAKE_CLASS_METHOD( ".setButtonIcon", `Creates a main button icon inside the menubar.`, [
        ["name", "String"],
        ["icon", "String"],
        ["callback", "Function"],
        ["options", "Object"]
    ] );

    MAKE_CLASS_METHOD( ".setButtonImage", `Creates a main button image icon inside the menubar.`, [
        ["name", "String"],
        ["src", "String"],
        ["callback", "Function"],
        ["options", "Object"]
    ] );

    MAKE_LINE_BREAK();
    MAKE_LINE_BREAK();

</script>