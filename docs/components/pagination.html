<script type="module">
    import { LX } from 'lexgui';

    const content = document.getElementById('content');
    const componentName = "Pagination";

    docMaker.header(componentName + ".", "h1", componentName.toLowerCase());
    docMaker.paragraph( `Pagination with page navigation, next and previous links.`, false, "fg-tertiary");

    {
        window.__addInteractiveCodeExample( content, componentName, panel => {
            const area = new LX.Area( { className: "flex flex-col p-8 items-center gap-4", skipAppend: true } );
            panel.attach( area );

            const container = LX.makeContainer( ["75%", "auto"], 
                "flex flex-row gap-3 items-center justify-center rounded-xl p-4 bg-primary text-base font-medium fg-tertiary", "", area );

            const paginator = new LX.Pagination({
                page: 1,
                pages: 20,
                maxButtons: 4,
                useEllipsis: true,
                alwaysShowEdges: false,
                allowChangeItemsPerPage: true,
                onChange: (page) => {
                    console.log('User selected page:', page);
                }
            });
            container.appendChild( paginator.root );
        });
    }

    docMaker.header("API Reference", "h2");
    docMaker.classCtor( "class LX.Pagination", [
        ["options", "Object"]
    ] );
    docMaker.lineBreak();
    docMaker.paragraph(`Where ${ docMaker.iCode( "options" ) } can include the following:`);
    docMaker.lineBreak();

    {
        const area = new LX.Area( { skipAppend: true, height: "auto", className: "mb-6" } );
        const panel = area.addPanel();
        content.appendChild( area.root );
        panel.addTable( null, {
            head: [ "Option", "Type", "Description", "Default" ],
            body: [
                ["allowChangeItemsPerPage", `Boolean`, `Allows to change ${ docMaker.iCode( "itemsPerPage" ) } parameter in a Selector`, `false`],
                ["alwaysShowEdges", `Boolean`, `Forces first and last page buttons to always be visible`, `true`],
                ["className", `String`, `Extra root class name`, `3`],
                ["maxButtons", `Number`, `Maximum number of pagination buttons displayed at once`, `3`],
                ["page", `Number`, `Initial current page number`, `1`],
                ["pages", `Number`, `Total number of available pages`, `1`],
                ["useEllipsis", `Boolean`, `Enables ellipsis indicators when page ranges are truncated`, `—`],
            ].map( v => {
                return [ docMaker.iCode( v[ 0 ], "table" ), docMaker.iCode( v[ 1 ], "table desc" ), v[ 2 ], v[ 3 ] != "—" ? docMaker.iCode( v[ 3 ], "table desc" ) : v[ 3 ] ];
            } )
        }, {});
    }

    docMaker.header( "Methods", "h3", "methods" );

    docMaker.classMethod( ".next", `Advances to the next page if available.`, [] );
    docMaker.classMethod( ".previous", `Moves to the previous page if available.`, [] );
    docMaker.classMethod( ".refresh", `Rebuilds the pagination UI based on the current page and settings.`, [] );
    docMaker.classMethod( ".setPage", `Sets the current page number.`, [
        [ "n", "Number" ]
    ] );
    docMaker.classMethod( ".setPages", `Sets the total number of available pages.`, [
        [ "n", "Number" ]
    ] );

    docMaker.lineBreak();
    docMaker.lineBreak();

</script>