<script type="module">

    const content = document.querySelector( '.lexdocs-content' );
    const componentName = "Tour";

    docMaker.header(componentName + ".", "h1", componentName.toLowerCase());
    docMaker.paragraph( `A dynamic popup component that guides users step-by-step through the interface of an application. It highlights key features, explains functionality,
     and improves onboarding by providing contextual instructions and tips directly within the app.`, false, "text-muted-foreground");

    {
        window.__addInteractiveCodeExample( content, componentName, panel => {

            const area = new LX.Area( { className: "flex flex-col p-12 gap-1", skipAppend: true, height: "auto" } );
            panel.attach( area );

            const p = area.addPanel();
            const button = p.addButton( null, "Start Tour", ( v, event ) => exampleTour.begin(),
                { width: "20%", buttonClass: "outline", className: "place-self-center" } );

            const exampleTour = new LX.Tour( [
                {
                    title: "Welcome to LexGUI.js",
                    content: "This is a guided tour to help you get familiar with the main components of LexGUI.js.",
                    reference: area.root,
                    side: "top",
                    align: "center"
                },

                {
                    title: "Another Example Step",
                    content: "This step highlights a button component within the interface.",
                    reference: button.root,
                    side: "bottom",
                    align: "center"
                },
                {
                    title: "Final Step",
                    content: "This is the last step of the tour. Thank you for taking the tour!",
                    reference: panel.root,
                    side: "top",
                    align: "end"
                }
            ], { offset: 8, radius: 12, horizontalOffset: 12, verticalOffset: 4 });
        });
    }

    docMaker.header("Usage", "h2");

    docMaker.paragraph( `To create a guided tour in LexGUI.js, instantiate a new ${ docMaker.iCode( "LX.Tour" ) } with an array of step definitions and optional configuration settings. Each step is an object describing a UI element to highlight,
     along with a title, descriptive content, the preferred side for the tooltip relative to the element and its alignment. Use the ${ docMaker.iCode( "reference" ) } field to bind the step to a DOM element or component,
      ${ docMaker.iCode( "side" ) } to specify the tooltip placement ("top", "bottom", "left" or "right") and ${ docMaker.iCode( "align" ) } to specify the tooltip alignment ("start", "center" or "end").` );

    docMaker.paragraph( `Once ready, just call ${ docMaker.iCode( "Tour.begin()" ) } to start the tour!` );

    docMaker.header("API Reference", "h2");
     docMaker.classCtor( "class LX.Tour", [
        ["steps", "Array"],
        ["options", "Object"]
    ] );
    docMaker.lineBreak();
    docMaker.paragraph(`Where ${ docMaker.iCode( "steps" ) } is the array of steps, and ${ docMaker.iCode( "options" ) } can include the following:`);
    docMaker.lineBreak();

    {
        const area = new LX.Area( { skipAppend: true, height: "auto", className: "mb-6" } );
        const panel = area.addPanel();
        content.appendChild( area.root );
        panel.addTable( null, {
            head: [ "Option", "Type", "Description", "Default" ],
            body: [
                ["offset", "Number", "Margin of the highlighted area around the element", "8"],
                ["radius", "Number", "Border radius of the highlighted area", "12"],
                ["horizontalOffset", "Number", "Horizontal margin of the highlighted area (replaces offset value)", "—"],
                ["verticalOffset", "Number", "Vertical margin of the highlighted area (replaces offset value)", "—"]
            ].map( v => {
                return [ docMaker.iCode( v[ 0 ], "table" ), docMaker.iCode( v[ 1 ], "table desc" ), v[ 2 ], v[ 3 ] != "—" ? docMaker.iCode( v[ 3 ], "table desc" ) : v[ 3 ] ];
            } )
        }, {});
    }

    docMaker.header( "Methods", "h3", "methods" );
    docMaker.classMethod( ".begin", `Starts the tour from the first step.`, [] );
    docMaker.classMethod( ".stop", `Stops and clears the tour.`, [] );

    

</script>