<script type="module">

    const content = document.querySelector( '.lexdocs-content' );
    const componentName = "Code Snippet";

    docMaker.header(componentName + ".", "h1", componentName.toLowerCase());
    docMaker.paragraph(`The Code Snippet helper wraps a read-only instance of the CodeEditor to render syntax-highlighted, annotated code samples. It supports diff-style added/removed line marking,
     optional window chrome, custom naming/tabs, and toggling gutters (line numbers).`, false, "text-muted-foreground");

    {
        window.code = `class Test {
    constructor() {
        this.foo = 1;
        this.foo = 2;
    }
    getFoo() {
        return this.foo;
    }
}`;

        window.__addInteractiveCodeExample( content, componentName, panel => {
            const area = new LX.Area( { className: "flex flex-col p-8 gap-1 items-center", skipAppend: true, height: "auto" } );
            panel.attach( area );

            const snippet = LX.makeCodeSnippet(code, ["780px", "auto"], {
                tabName: "script.js",
                language: "JavaScript",
                linesAdded: [4, [6, 8]],
                linesRemoved: [3],
                lineNumbers: true,
                windowMode: true
            });

            area.attach( snippet );
        });
    }

    docMaker.header("API Reference", "h2");
    docMaker.classCtor("function LX.makeCodeSnippet", [ [ "code", "String" ], [ "size", "Array" ], [ "options", "Object = {}" ] ]);
    docMaker.lineBreak();
    docMaker.paragraph(`Where ${ docMaker.iCode( "code" ) } is the source code to display, ${ docMaker.iCode( "size" ) } is the size of the snippet container ([width, height]), and ${ docMaker.iCode( "options" ) } can include the following:`)

    docMaker.codeBulletList([
        ["language", "String", "Language name for syntax highlighting. Defaults to plain text."],
        ["windowMode", "Boolean", "If true, prepends faux window control buttons (red/yellow/green) to mimic a native window title bar."],
        ["lineNumbers", "Boolean", "Controls display of the gutter. `false` hides line numbers; defaults to `true`."],
        // ["firstLine", "Number", "TODO: reserved for specifying the starting line number offset."],
        ["linesAdded", "Array", "Line numbers or ranges to mark as added. Supports individual numbers or `[start, end]` ranges."],
        ["linesRemoved", "Array", "Line numbers or ranges to mark as removed"],
        ["tabName", "String", "Name shown in the editor tab header."],
        ["className", "String", "Extra CSS class to apply to the snippet container for customization."],
    ]);

</script>