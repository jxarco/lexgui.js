<script type="module">
    import { LX } from 'lexgui';

    const content = document.getElementById('content');
    const componentName = "Popover";

    docMaker.header(componentName + ".", "h1", componentName.toLowerCase());
    docMaker.paragraph( `Displays rich content in a portal, triggered by another elements, such as buttons.` );

    {
        window.__addInteractiveCodeExample( content, componentName, panel => {
            const area = new LX.Area( { className: "flex flex-col p-12 gap-1", skipAppend: true, height: "auto" } );
            panel.attach( area );

            const popoverArea = new LX.Area( { className: "p-4", skipAppend: true } );
            const popoverPanel = popoverArea.addPanel();
            const formData = { username: "", password: { icon: "Key", value: "", type: "password" } };
            popoverPanel.addForm("Test form", formData, (value, event) => {
                console.log(value);
            }, { primaryActionName: "Login", secondaryActionName: "Sign Up" });

            const p = area.addPanel();
            p.addButton( null, "Open Popover", ( v, event ) => { new LX.Popover( event.target, [ popoverArea ], { side: "bottom" } ) }, { width: "20%", buttonClass: "contrast", className: "place-self-center" } );
        });
    }

    docMaker.note( `${ docMaker.iCode( "onPopover()" ) } is called on any passed component that defines it.`, false, "Tip", "Info" );

    docMaker.header("API Reference", "h2");
    docMaker.classCtor( "class LX.Popover", [
        ["trigger", "HTMLElement"],
        ["content", "HTMLElement|Array"],
        ["options", "Object"]
    ] );
    docMaker.lineBreak();
    docMaker.paragraph(`Where ${ docMaker.iCode( "trigger" ) } is the HTML element used to relocate; ${ docMaker.iCode( "content" ) } is the element or array of elements contained inside the Popover,
    and ${ docMaker.iCode( "options" ) } can include the following:`);
    docMaker.lineBreak();

    {
        const area = new LX.Area( { skipAppend: true, height: "auto", className: "mb-6" } );
        const panel = area.addPanel();
        content.appendChild( area.root );
        panel.addTable( null, {
            head: [ "Option", "Type", "Description", "Default" ],
            body: [
                ["align", `<span class='cursor-pointer' title='"start" | "center" | "end"'>Enum</span>`, `Determines the alignment within the trigger element`, `"left"`],
                ["alignOffset", `Number`, `Number of pixels for the side margin`, `0`],
                ["avoidCollisions", `Boolean`, `Relocate to avoid browser window collisions`, `true`],
                ["side", `<span class='cursor-pointer' title='"left" | "right" | "top" | "bottom"'>Enum</span>`, `Determines the side of the popover`, `"left"`],
                ["sideOffset", `Number`, `Number of pixels for the alignment margin`, `0`],
                ["reference", `HTMLElement`, `Secondary element used for relocating`, `—`],
            ].map( v => {
                return [ docMaker.iCode( v[ 0 ], "table" ), docMaker.iCode( v[ 1 ], "table desc" ), v[ 2 ], v[ 3 ] != "—" ? docMaker.iCode( v[ 3 ], "table desc" ) : v[ 3 ] ];
            } )
        }, {});
    }

    docMaker.header( "Methods", "h3", "methods" );

    docMaker.classMethod( ".destroy", `Closes the Popover, removes it from the DOM, and restores any modal lock state. Also removes the global event listeners for outside click and focus.`, [
    ] );

    docMaker.lineBreak();
    docMaker.lineBreak();

</script>